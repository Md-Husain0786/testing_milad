/*!
 * ApexCharts v3.40.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(Ye,Gt){typeof exports=="object"&&typeof module<"u"?module.exports=Gt():typeof define=="function"&&define.amd?define(Gt):(Ye=typeof globalThis<"u"?globalThis:Ye||self).ApexCharts=Gt()})(this,function(){"use strict";function Ye(qt,h){var d=Object.keys(qt);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(qt);h&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(qt,C).enumerable})),d.push.apply(d,y)}return d}function Gt(qt){for(var h=1;h<arguments.length;h++){var d=arguments[h]!=null?arguments[h]:{};h%2?Ye(Object(d),!0).forEach(function(y){ue(qt,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qt,Object.getOwnPropertyDescriptors(d)):Ye(Object(d)).forEach(function(y){Object.defineProperty(qt,y,Object.getOwnPropertyDescriptor(d,y))})}return qt}function Tt(qt){return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Tt(qt)}function Qt(qt,h){if(!(qt instanceof h))throw new TypeError("Cannot call a class as a function")}function Oe(qt,h){for(var d=0;d<h.length;d++){var y=h[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(qt,y.key,y)}}function $t(qt,h,d){return h&&Oe(qt.prototype,h),d&&Oe(qt,d),qt}function ue(qt,h,d){return h in qt?Object.defineProperty(qt,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):qt[h]=d,qt}function Jt(qt,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");qt.prototype=Object.create(h&&h.prototype,{constructor:{value:qt,writable:!0,configurable:!0}}),h&&bt(qt,h)}function Vt(qt){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},Vt(qt)}function bt(qt,h){return bt=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d},bt(qt,h)}function ft(qt,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(qt)}function _t(qt){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,y=Vt(qt);if(h){var C=Vt(this).constructor;d=Reflect.construct(y,arguments,C)}else d=y.apply(this,arguments);return ft(this,d)}}function vt(qt,h){return function(d){if(Array.isArray(d))return d}(qt)||function(d,y){var C=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(C!=null){var M,O,N=[],V=!0,q=!1;try{for(C=C.call(d);!(V=(M=C.next()).done)&&(N.push(M.value),!y||N.length!==y);V=!0);}catch(K){q=!0,O=K}finally{try{V||C.return==null||C.return()}finally{if(q)throw O}}return N}}(qt,h)||kt(qt,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pt(qt){return function(h){if(Array.isArray(h))return wt(h)}(qt)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(qt)||kt(qt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kt(qt,h){if(qt){if(typeof qt=="string")return wt(qt,h);var d=Object.prototype.toString.call(qt).slice(8,-1);return d==="Object"&&qt.constructor&&(d=qt.constructor.name),d==="Map"||d==="Set"?Array.from(qt):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?wt(qt,h):void 0}}function wt(qt,h){(h==null||h>qt.length)&&(h=qt.length);for(var d=0,y=new Array(h);d<h;d++)y[d]=qt[d];return y}var ct=function(){function qt(){Qt(this,qt)}return $t(qt,[{key:"shadeRGBColor",value:function(h,d){var y=d.split(","),C=h<0?0:255,M=h<0?-1*h:h,O=parseInt(y[0].slice(4),10),N=parseInt(y[1],10),V=parseInt(y[2],10);return"rgb("+(Math.round((C-O)*M)+O)+","+(Math.round((C-N)*M)+N)+","+(Math.round((C-V)*M)+V)+")"}},{key:"shadeHexColor",value:function(h,d){var y=parseInt(d.slice(1),16),C=h<0?0:255,M=h<0?-1*h:h,O=y>>16,N=y>>8&255,V=255&y;return"#"+(16777216+65536*(Math.round((C-O)*M)+O)+256*(Math.round((C-N)*M)+N)+(Math.round((C-V)*M)+V)).toString(16).slice(1)}},{key:"shadeColor",value:function(h,d){return qt.isColorHex(d)?this.shadeHexColor(h,d):this.shadeRGBColor(h,d)}}],[{key:"bind",value:function(h,d){return function(){return h.apply(d,arguments)}}},{key:"isObject",value:function(h){return h&&Tt(h)==="object"&&!Array.isArray(h)&&h!=null}},{key:"is",value:function(h,d){return Object.prototype.toString.call(d)==="[object "+h+"]"}},{key:"listToArray",value:function(h){var d,y=[];for(d=0;d<h.length;d++)y[d]=h[d];return y}},{key:"extend",value:function(h,d){var y=this;typeof Object.assign!="function"&&(Object.assign=function(M){if(M==null)throw new TypeError("Cannot convert undefined or null to object");for(var O=Object(M),N=1;N<arguments.length;N++){var V=arguments[N];if(V!=null)for(var q in V)V.hasOwnProperty(q)&&(O[q]=V[q])}return O});var C=Object.assign({},h);return this.isObject(h)&&this.isObject(d)&&Object.keys(d).forEach(function(M){y.isObject(d[M])&&M in h?C[M]=y.extend(h[M],d[M]):Object.assign(C,ue({},M,d[M]))}),C}},{key:"extendArray",value:function(h,d){var y=[];return h.map(function(C){y.push(qt.extend(d,C))}),h=y}},{key:"monthMod",value:function(h){return h%12}},{key:"clone",value:function(h){if(qt.is("Array",h)){for(var d=[],y=0;y<h.length;y++)d[y]=this.clone(h[y]);return d}if(qt.is("Null",h))return null;if(qt.is("Date",h))return h;if(Tt(h)==="object"){var C={};for(var M in h)h.hasOwnProperty(M)&&(C[M]=this.clone(h[M]));return C}return h}},{key:"log10",value:function(h){return Math.log(h)/Math.LN10}},{key:"roundToBase10",value:function(h){return Math.pow(10,Math.floor(Math.log10(h)))}},{key:"roundToBase",value:function(h,d){return Math.pow(d,Math.floor(Math.log(h)/Math.log(d)))}},{key:"parseNumber",value:function(h){return h===null?h:parseFloat(h)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(h){var d=String(h).split(/[eE]/);if(d.length===1)return d[0];var y="",C=h<0?"-":"",M=d[0].replace(".",""),O=Number(d[1])+1;if(O<0){for(y=C+"0.";O++;)y+="0";return y+M.replace(/^-/,"")}for(O-=M.length;O--;)y+="0";return M+y}},{key:"getDimensions",value:function(h){var d=getComputedStyle(h,null),y=h.clientHeight,C=h.clientWidth;return y-=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),[C-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),y]}},{key:"getBoundingClientRect",value:function(h){var d=h.getBoundingClientRect();return{top:d.top,right:d.right,bottom:d.bottom,left:d.left,width:h.clientWidth,height:h.clientHeight,x:d.left,y:d.top}}},{key:"getLargestStringFromArr",value:function(h){return h.reduce(function(d,y){return Array.isArray(y)&&(y=y.reduce(function(C,M){return C.length>M.length?C:M})),d.length>y.length?d:y},0)}},{key:"hexToRgba",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;h.substring(0,1)!=="#"&&(h="#999999");var y=h.replace("#","");y=y.match(new RegExp("(.{"+y.length/3+"})","g"));for(var C=0;C<y.length;C++)y[C]=parseInt(y[C].length===1?y[C]+y[C]:y[C],16);return d!==void 0&&y.push(d),"rgba("+y.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(h){return parseFloat(h.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(h){return(h=h.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&h.length===4?"#"+("0"+parseInt(h[1],10).toString(16)).slice(-2)+("0"+parseInt(h[2],10).toString(16)).slice(-2)+("0"+parseInt(h[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(h){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(h)}},{key:"getPolygonPos",value:function(h,d){for(var y=[],C=2*Math.PI/d,M=0;M<d;M++){var O={};O.x=h*Math.sin(M*C),O.y=-h*Math.cos(M*C),y.push(O)}return y}},{key:"polarToCartesian",value:function(h,d,y,C){var M=(C-90)*Math.PI/180;return{x:h+y*Math.cos(M),y:d+y*Math.sin(M)}}},{key:"escapeString",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",y=h.toString().slice();return y=y.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,d)}},{key:"negToZero",value:function(h){return h<0?0:h}},{key:"moveIndexInArray",value:function(h,d,y){if(y>=h.length)for(var C=y-h.length+1;C--;)h.push(void 0);return h.splice(y,0,h.splice(d,1)[0]),h}},{key:"extractNumber",value:function(h){return parseFloat(h.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(h,d){for(;(h=h.parentElement)&&!h.classList.contains(d););return h}},{key:"setELstyles",value:function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h.style.key=d[y])}},{key:"isNumber",value:function(h){return!isNaN(h)&&parseFloat(Number(h))===h&&!isNaN(parseInt(h,10))}},{key:"isFloat",value:function(h){return Number(h)===h&&h%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var h=window.navigator.userAgent,d=h.indexOf("MSIE ");if(d>0)return parseInt(h.substring(d+5,h.indexOf(".",d)),10);if(h.indexOf("Trident/")>0){var y=h.indexOf("rv:");return parseInt(h.substring(y+3,h.indexOf(".",y)),10)}var C=h.indexOf("Edge/");return C>0&&parseInt(h.substring(C+5,h.indexOf(".",C)),10)}}]),qt}(),ie=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.setEasingFunctions()}return $t(qt,[{key:"setEasingFunctions",value:function(){var h;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":h="-";break;case"easein":h="<";break;case"easeout":h=">";break;case"easeinout":default:h="<>";break;case"swing":h=function(d){var y=1.70158;return(d-=1)*d*((y+1)*d+y)+1};break;case"bounce":h=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};break;case"elastic":h=function(d){return d===!!d?d:Math.pow(2,-10*d)*Math.sin((d-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=h}}},{key:"animateLine",value:function(h,d,y,C){h.attr(d).animate(C).attr(y)}},{key:"animateMarker",value:function(h,d,y,C,M,O){d||(d=0),h.attr({r:d,width:d,height:d}).animate(C,M).attr({r:y,width:y.width,height:y.height}).afterAll(function(){O()})}},{key:"animateCircle",value:function(h,d,y,C,M){h.attr({r:d.r,cx:d.cx,cy:d.cy}).animate(C,M).attr({r:y.r,cx:y.cx,cy:y.cy})}},{key:"animateRect",value:function(h,d,y,C,M){h.attr(d).animate(C).attr(y).afterAll(function(){return M()})}},{key:"animatePathsGradually",value:function(h){var d=h.el,y=h.realIndex,C=h.j,M=h.fill,O=h.pathFrom,N=h.pathTo,V=h.speed,q=h.delay,K=this.w,J=0;K.config.chart.animations.animateGradually.enabled&&(J=K.config.chart.animations.animateGradually.delay),K.config.chart.animations.dynamicAnimation.enabled&&K.globals.dataChanged&&K.config.chart.type!=="bar"&&(J=0),this.morphSVG(d,y,C,K.config.chart.type!=="line"||K.globals.comboCharts?M:"stroke",O,N,V,q*J)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(h){h.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(h){var d=this.w;d.globals.animationEnded||(d.globals.animationEnded=!0,this.showDelayedElements(),typeof d.config.chart.events.animationEnd=="function"&&d.config.chart.events.animationEnd(this.ctx,{el:h,w:d}))}},{key:"morphSVG",value:function(h,d,y,C,M,O,N,V){var q=this,K=this.w;M||(M=h.attr("pathFrom")),O||(O=h.attr("pathTo"));var J=function(it){return K.config.chart.type==="radar"&&(N=1),"M 0 ".concat(K.globals.gridHeight)};(!M||M.indexOf("undefined")>-1||M.indexOf("NaN")>-1)&&(M=J()),(!O||O.indexOf("undefined")>-1||O.indexOf("NaN")>-1)&&(O=J()),K.globals.shouldAnimate||(N=1),h.plot(M).animate(1,K.globals.easing,V).plot(M).animate(N,K.globals.easing,V).plot(O).afterAll(function(){ct.isNumber(y)?y===K.globals.series[K.globals.maxValsInArrayIndex].length-2&&K.globals.shouldAnimate&&q.animationCompleted(h):C!=="none"&&K.globals.shouldAnimate&&(!K.globals.comboCharts&&d===K.globals.series.length-1||K.globals.comboCharts)&&q.animationCompleted(h),q.showDelayedElements()})}}]),qt}(),It=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"getDefaultFilter",value:function(h,d){var y=this.w;h.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),y.config.states.normal.filter!=="none"?this.applyFilter(h,d,y.config.states.normal.filter.type,y.config.states.normal.filter.value):y.config.chart.dropShadow.enabled&&this.dropShadow(h,y.config.chart.dropShadow,d)}},{key:"addNormalFilter",value:function(h,d){var y=this.w;y.config.chart.dropShadow.enabled&&!h.node.classList.contains("apexcharts-marker")&&this.dropShadow(h,y.config.chart.dropShadow,d)}},{key:"addLightenFilter",value:function(h,d,y){var C=this,M=this.w,O=y.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(N){var V=M.config.chart.dropShadow;(V.enabled?C.addShadow(N,d,V):N).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:O}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"addDarkenFilter",value:function(h,d,y){var C=this,M=this.w,O=y.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(N){var V=M.config.chart.dropShadow;(V.enabled?C.addShadow(N,d,V):N).componentTransfer({rgb:{type:"linear",slope:O}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"applyFilter",value:function(h,d,y){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(y){case"none":this.addNormalFilter(h,d);break;case"lighten":this.addLightenFilter(h,d,{intensity:C});break;case"darken":this.addDarkenFilter(h,d,{intensity:C})}}},{key:"addShadow",value:function(h,d,y){var C=y.blur,M=y.top,O=y.left,N=y.color,V=y.opacity,q=h.flood(Array.isArray(N)?N[d]:N,V).composite(h.sourceAlpha,"in").offset(O,M).gaussianBlur(C).merge(h.source);return h.blend(h.source,q)}},{key:"dropShadow",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=d.top,M=d.left,O=d.blur,N=d.color,V=d.opacity,q=d.noUserSpaceOnUse,K=this.w;return h.unfilter(!0),ct.isIE()&&K.config.chart.type==="radialBar"||(N=Array.isArray(N)?N[y]:N,h.filter(function(J){var it=null;it=ct.isSafari()||ct.isFirefox()||ct.isIE()?J.flood(N,V).composite(J.sourceAlpha,"in").offset(M,C).gaussianBlur(O):J.flood(N,V).composite(J.sourceAlpha,"in").offset(M,C).gaussianBlur(O).merge(J.source),J.blend(J.source,it)}),q||h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)),h}},{key:"setSelectionFilter",value:function(h,d,y){var C=this.w;if(C.globals.selectedDataPoints[d]!==void 0&&C.globals.selectedDataPoints[d].indexOf(y)>-1){h.node.setAttribute("selected",!0);var M=C.config.states.active.filter;M!=="none"&&this.applyFilter(h,d,M.type,M.value)}}},{key:"_scaleFilterSize",value:function(h){(function(d){for(var y in d)d.hasOwnProperty(y)&&h.setAttribute(y,d[y])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),qt}(),Wt=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"roundPathCorners",value:function(h,d){function y(Ie,on,un){var Bn=on.x-Ie.x,jn=on.y-Ie.y,ai=Math.sqrt(Bn*Bn+jn*jn);return C(Ie,on,Math.min(1,un/ai))}function C(Ie,on,un){return{x:Ie.x+(on.x-Ie.x)*un,y:Ie.y+(on.y-Ie.y)*un}}function M(Ie,on){Ie.length>2&&(Ie[Ie.length-2]=on.x,Ie[Ie.length-1]=on.y)}function O(Ie){return{x:parseFloat(Ie[Ie.length-2]),y:parseFloat(Ie[Ie.length-1])}}h.indexOf("NaN")>-1&&(h="");var N=h.split(/[,\s]/).reduce(function(Ie,on){var un=on.match("([a-zA-Z])(.+)");return un?(Ie.push(un[1]),Ie.push(un[2])):Ie.push(on),Ie},[]).reduce(function(Ie,on){return parseFloat(on)==on&&Ie.length?Ie[Ie.length-1].push(on):Ie.push([on]),Ie},[]),V=[];if(N.length>1){var q=O(N[0]),K=null;N[N.length-1][0]=="Z"&&N[0].length>2&&(K=["L",q.x,q.y],N[N.length-1]=K),V.push(N[0]);for(var J=1;J<N.length;J++){var it=V[V.length-1],pt=N[J],Et=pt==K?N[1]:N[J+1];if(Et&&it&&it.length>2&&pt[0]=="L"&&Et.length>2&&Et[0]=="L"){var Nt,ee,he=O(it),Ae=O(pt),W=O(Et);Nt=y(Ae,he,d),ee=y(Ae,W,d),M(pt,Nt),pt.origPoint=Ae,V.push(pt);var rt=C(Nt,Ae,.5),Ot=C(Ae,ee,.5),ce=["C",rt.x,rt.y,Ot.x,Ot.y,ee.x,ee.y];ce.origPoint=Ae,V.push(ce)}else V.push(pt)}if(K){var xe=O(V[V.length-1]);V.push(["Z"]),M(V[0],xe)}}else V=N;return V.reduce(function(Ie,on){return Ie+on.join(" ")+" "},"")}},{key:"drawLine",value:function(h,d,y,C){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,N=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,V=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:h,y1:d,x2:y,y2:C,stroke:M,"stroke-dasharray":O,"stroke-width":N,"stroke-linecap":V})}},{key:"drawRect",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",N=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,V=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,q=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,K=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,J=this.w.globals.dom.Paper.rect();return J.attr({x:h,y:d,width:y>0?y:0,height:C>0?C:0,rx:M,ry:M,opacity:N,"stroke-width":V!==null?V:0,stroke:q!==null?q:"none","stroke-dasharray":K}),J.node.setAttribute("fill",O),J}},{key:"drawPolygon",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(h).attr({fill:C,stroke:d,"stroke-width":y})}},{key:"drawCircle",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;h<0&&(h=0);var y=this.w.globals.dom.Paper.circle(2*h);return d!==null&&y.attr(d),y}},{key:"drawPath",value:function(h){var d=h.d,y=d===void 0?"":d,C=h.stroke,M=C===void 0?"#a8a8a8":C,O=h.strokeWidth,N=O===void 0?1:O,V=h.fill,q=h.fillOpacity,K=q===void 0?1:q,J=h.strokeOpacity,it=J===void 0?1:J,pt=h.classes,Et=h.strokeLinecap,Nt=Et===void 0?null:Et,ee=h.strokeDashArray,he=ee===void 0?0:ee,Ae=this.w;return Nt===null&&(Nt=Ae.config.stroke.lineCap),(y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y="M 0 ".concat(Ae.globals.gridHeight)),Ae.globals.dom.Paper.path(y).attr({fill:V,"fill-opacity":K,stroke:M,"stroke-opacity":it,"stroke-linecap":Nt,"stroke-width":N,"stroke-dasharray":he,class:pt})}},{key:"group",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=this.w.globals.dom.Paper.group();return h!==null&&d.attr(h),d}},{key:"move",value:function(h,d){var y=["M",h,d].join(" ");return y}},{key:"line",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=null;return y===null?C=[" L",h,d].join(" "):y==="H"?C=[" H",h].join(" "):y==="V"&&(C=[" V",d].join(" ")),C}},{key:"curve",value:function(h,d,y,C,M,O){var N=["C",h,d,y,C,M,O].join(" ");return N}},{key:"quadraticCurve",value:function(h,d,y,C){return["Q",h,d,y,C].join(" ")}},{key:"arc",value:function(h,d,y,C,M,O,N){var V="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(V="a");var q=[V,h,d,y,C,M,O,N].join(" ");return q}},{key:"renderPaths",value:function(h){var d,y=h.j,C=h.realIndex,M=h.pathFrom,O=h.pathTo,N=h.stroke,V=h.strokeWidth,q=h.strokeLinecap,K=h.fill,J=h.animationDelay,it=h.initialSpeed,pt=h.dataChangeSpeed,Et=h.className,Nt=h.shouldClipToGrid,ee=Nt===void 0||Nt,he=h.bindEventsOnPaths,Ae=he===void 0||he,W=h.drawShadow,rt=W===void 0||W,Ot=this.w,ce=new It(this.ctx),xe=new ie(this.ctx),Ie=this.w.config.chart.animations.enabled,on=Ie&&this.w.config.chart.animations.dynamicAnimation.enabled,un=!!(Ie&&!Ot.globals.resized||on&&Ot.globals.dataChanged&&Ot.globals.shouldAnimate);un?d=M:(d=O,Ot.globals.animationEnded=!0);var Bn=Ot.config.stroke.dashArray,jn=0;jn=Array.isArray(Bn)?Bn[C]:Ot.config.stroke.dashArray;var ai=this.drawPath({d,stroke:N,strokeWidth:V,fill:K,fillOpacity:1,classes:Et,strokeLinecap:q,strokeDashArray:jn});if(ai.attr("index",C),ee&&ai.attr({"clip-path":"url(#gridRectMask".concat(Ot.globals.cuid,")")}),Ot.config.states.normal.filter.type!=="none")ce.getDefaultFilter(ai,C);else if(Ot.config.chart.dropShadow.enabled&&rt&&(!Ot.config.chart.dropShadow.enabledOnSeries||Ot.config.chart.dropShadow.enabledOnSeries&&Ot.config.chart.dropShadow.enabledOnSeries.indexOf(C)!==-1)){var ci=Ot.config.chart.dropShadow;ce.dropShadow(ai,ci,C)}Ae&&(ai.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ai)),ai.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ai)),ai.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ai))),ai.attr({pathTo:O,pathFrom:M});var vr={el:ai,j:y,realIndex:C,pathFrom:M,pathTo:O,fill:K,strokeWidth:V,delay:J};return!Ie||Ot.globals.resized||Ot.globals.dataChanged?!Ot.globals.resized&&Ot.globals.dataChanged||xe.showDelayedElements():xe.animatePathsGradually(Gt(Gt({},vr),{},{speed:it})),Ot.globals.dataChanged&&on&&un&&xe.animatePathsGradually(Gt(Gt({},vr),{},{speed:pt})),ai}},{key:"drawPattern",value:function(h,d,y){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(d,y,function(O){h==="horizontalLines"?O.line(0,0,y,0).stroke({color:C,width:M+1}):h==="verticalLines"?O.line(0,0,0,d).stroke({color:C,width:M+1}):h==="slantedLines"?O.line(0,0,d,y).stroke({color:C,width:M}):h==="squares"?O.rect(d,y).fill("none").stroke({color:C,width:M}):h==="circles"&&O.circle(d).fill("none").stroke({color:C,width:M})})}},{key:"drawGradient",value:function(h,d,y,C,M){var O,N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,V=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,q=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,K=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,J=this.w;d.length<9&&d.indexOf("#")===0&&(d=ct.hexToRgba(d,C)),y.length<9&&y.indexOf("#")===0&&(y=ct.hexToRgba(y,M));var it=0,pt=1,Et=1,Nt=null;V!==null&&(it=V[0]!==void 0?V[0]/100:0,pt=V[1]!==void 0?V[1]/100:1,Et=V[2]!==void 0?V[2]/100:1,Nt=V[3]!==void 0?V[3]/100:null);var ee=!(J.config.chart.type!=="donut"&&J.config.chart.type!=="pie"&&J.config.chart.type!=="polarArea"&&J.config.chart.type!=="bubble");if(O=q===null||q.length===0?J.globals.dom.Paper.gradient(ee?"radial":"linear",function(W){W.at(it,d,C),W.at(pt,y,M),W.at(Et,y,M),Nt!==null&&W.at(Nt,d,C)}):J.globals.dom.Paper.gradient(ee?"radial":"linear",function(W){(Array.isArray(q[K])?q[K]:q).forEach(function(rt){W.at(rt.offset/100,rt.color,rt.opacity)})}),ee){var he=J.globals.gridWidth/2,Ae=J.globals.gridHeight/2;J.config.chart.type!=="bubble"?O.attr({gradientUnits:"userSpaceOnUse",cx:he,cy:Ae,r:N}):O.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else h==="vertical"?O.from(0,0).to(0,1):h==="diagonal"?O.from(0,0).to(1,1):h==="horizontal"?O.from(0,1).to(1,1):h==="diagonal2"&&O.from(1,0).to(0,1);return O}},{key:"getTextBasedOnMaxWidth",value:function(h){var d=h.text,y=h.maxWidth,C=h.fontSize,M=h.fontFamily,O=this.getTextRects(d,C,M),N=O.width/d.length,V=Math.floor(y/N);return y<O.width?d.slice(0,V-3)+"...":d}},{key:"drawText",value:function(h){var d=this,y=h.x,C=h.y,M=h.text,O=h.textAnchor,N=h.fontSize,V=h.fontFamily,q=h.fontWeight,K=h.foreColor,J=h.opacity,it=h.maxWidth,pt=h.cssClass,Et=pt===void 0?"":pt,Nt=h.isPlainText,ee=Nt===void 0||Nt,he=this.w;M===void 0&&(M="");var Ae=M;O||(O="start"),K&&K.length||(K=he.config.chart.foreColor),V=V||he.config.chart.fontFamily,q=q||"regular";var W,rt={maxWidth:it,fontSize:N=N||"11px",fontFamily:V};return Array.isArray(M)?W=he.globals.dom.Paper.text(function(Ot){for(var ce=0;ce<M.length;ce++)Ae=M[ce],it&&(Ae=d.getTextBasedOnMaxWidth(Gt({text:M[ce]},rt))),ce===0?Ot.tspan(Ae):Ot.tspan(Ae).newLine()}):(it&&(Ae=this.getTextBasedOnMaxWidth(Gt({text:M},rt))),W=ee?he.globals.dom.Paper.plain(M):he.globals.dom.Paper.text(function(Ot){return Ot.tspan(Ae)})),W.attr({x:y,y:C,"text-anchor":O,"dominant-baseline":"auto","font-size":N,"font-family":V,"font-weight":q,fill:K,class:"apexcharts-text "+Et}),W.node.style.fontFamily=V,W.node.style.opacity=J,W}},{key:"drawMarker",value:function(h,d,y){h=h||0;var C=y.pSize||0,M=null;if(y.shape==="square"||y.shape==="rect"){var O=y.pRadius===void 0?C/2:y.pRadius;d!==null&&C||(C=0,O=0);var N=1.2*C+O,V=this.drawRect(N,N,N,N,O);V.attr({x:h-N/2,y:d-N/2,cx:h,cy:d,class:y.class?y.class:"",fill:y.pointFillColor,"fill-opacity":y.pointFillOpacity?y.pointFillOpacity:1,stroke:y.pointStrokeColor,"stroke-width":y.pointStrokeWidth?y.pointStrokeWidth:0,"stroke-opacity":y.pointStrokeOpacity?y.pointStrokeOpacity:1}),M=V}else y.shape!=="circle"&&y.shape||(ct.isNumber(d)||(C=0,d=0),M=this.drawCircle(C,{cx:h,cy:d,class:y.class?y.class:"",stroke:y.pointStrokeColor,fill:y.pointFillColor,"fill-opacity":y.pointFillOpacity?y.pointFillOpacity:1,"stroke-width":y.pointStrokeWidth?y.pointStrokeWidth:0,"stroke-opacity":y.pointStrokeOpacity?y.pointStrokeOpacity:1}));return M}},{key:"pathMouseEnter",value:function(h,d){var y=this.w,C=new It(this.ctx),M=parseInt(h.node.getAttribute("index"),10),O=parseInt(h.node.getAttribute("j"),10);if(typeof y.config.chart.events.dataPointMouseEnter=="function"&&y.config.chart.events.dataPointMouseEnter(d,this.ctx,{seriesIndex:M,dataPointIndex:O,w:y}),this.ctx.events.fireEvent("dataPointMouseEnter",[d,this.ctx,{seriesIndex:M,dataPointIndex:O,w:y}]),(y.config.states.active.filter.type==="none"||h.node.getAttribute("selected")!=="true")&&y.config.states.hover.filter.type!=="none"&&!y.globals.isTouchDevice){var N=y.config.states.hover.filter;C.applyFilter(h,M,N.type,N.value)}}},{key:"pathMouseLeave",value:function(h,d){var y=this.w,C=new It(this.ctx),M=parseInt(h.node.getAttribute("index"),10),O=parseInt(h.node.getAttribute("j"),10);typeof y.config.chart.events.dataPointMouseLeave=="function"&&y.config.chart.events.dataPointMouseLeave(d,this.ctx,{seriesIndex:M,dataPointIndex:O,w:y}),this.ctx.events.fireEvent("dataPointMouseLeave",[d,this.ctx,{seriesIndex:M,dataPointIndex:O,w:y}]),y.config.states.active.filter.type!=="none"&&h.node.getAttribute("selected")==="true"||y.config.states.hover.filter.type!=="none"&&C.getDefaultFilter(h,M)}},{key:"pathMouseDown",value:function(h,d){var y=this.w,C=new It(this.ctx),M=parseInt(h.node.getAttribute("index"),10),O=parseInt(h.node.getAttribute("j"),10),N="false";if(h.node.getAttribute("selected")==="true"){if(h.node.setAttribute("selected","false"),y.globals.selectedDataPoints[M].indexOf(O)>-1){var V=y.globals.selectedDataPoints[M].indexOf(O);y.globals.selectedDataPoints[M].splice(V,1)}}else{if(!y.config.states.active.allowMultipleDataPointsSelection&&y.globals.selectedDataPoints.length>0){y.globals.selectedDataPoints=[];var q=y.globals.dom.Paper.select(".apexcharts-series path").members,K=y.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,J=function(Et){Array.prototype.forEach.call(Et,function(Nt){Nt.node.setAttribute("selected","false"),C.getDefaultFilter(Nt,M)})};J(q),J(K)}h.node.setAttribute("selected","true"),N="true",y.globals.selectedDataPoints[M]===void 0&&(y.globals.selectedDataPoints[M]=[]),y.globals.selectedDataPoints[M].push(O)}if(N==="true"){var it=y.config.states.active.filter;if(it!=="none")C.applyFilter(h,M,it.type,it.value);else if(y.config.states.hover.filter!=="none"&&!y.globals.isTouchDevice){var pt=y.config.states.hover.filter;C.applyFilter(h,M,pt.type,pt.value)}}else y.config.states.active.filter.type!=="none"&&(y.config.states.hover.filter.type==="none"||y.globals.isTouchDevice?C.getDefaultFilter(h,M):(pt=y.config.states.hover.filter,C.applyFilter(h,M,pt.type,pt.value)));typeof y.config.chart.events.dataPointSelection=="function"&&y.config.chart.events.dataPointSelection(d,this.ctx,{selectedDataPoints:y.globals.selectedDataPoints,seriesIndex:M,dataPointIndex:O,w:y}),d&&this.ctx.events.fireEvent("dataPointSelection",[d,this.ctx,{selectedDataPoints:y.globals.selectedDataPoints,seriesIndex:M,dataPointIndex:O,w:y}])}},{key:"rotateAroundCenter",value:function(h){var d={};return h&&typeof h.getBBox=="function"&&(d=h.getBBox()),{x:d.x+d.width/2,y:d.y+d.height/2}}},{key:"getTextRects",value:function(h,d,y,C){var M=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],O=this.w,N=this.drawText({x:-200,y:-200,text:h,textAnchor:"start",fontSize:d,fontFamily:y,foreColor:"#fff",opacity:0});C&&N.attr("transform",C),O.globals.dom.Paper.add(N);var V=N.bbox();return M||(V=N.node.getBoundingClientRect()),N.remove(),{width:V.width,height:V.height}}},{key:"placeTextWithEllipsis",value:function(h,d,y){if(typeof h.getComputedTextLength=="function"&&(h.textContent=d,d.length>0&&h.getComputedTextLength()>=y/1.1)){for(var C=d.length-3;C>0;C-=3)if(h.getSubStringLength(0,C)<=y/1.1)return void(h.textContent=d.substring(0,C)+"...");h.textContent="."}}}],[{key:"setAttrs",value:function(h,d){for(var y in d)d.hasOwnProperty(y)&&h.setAttribute(y,d[y])}}]),qt}(),te=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"getStackedSeriesTotals",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=this.w,y=[];if(d.globals.series.length===0)return y;for(var C=0;C<d.globals.series[d.globals.maxValsInArrayIndex].length;C++){for(var M=0,O=0;O<d.globals.series.length;O++)d.globals.series[O][C]!==void 0&&h.indexOf(O)===-1&&(M+=d.globals.series[O][C]);y.push(M)}return y}},{key:"getSeriesTotalByIndex",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return h===null?this.w.config.series.reduce(function(d,y){return d+y},0):this.w.globals.series[h].reduce(function(d,y){return d+y},0)}},{key:"isSeriesNull",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(h===null?this.w.config.series.filter(function(d){return d!==null}):this.w.config.series[h].data.filter(function(d){return d!==null})).length===0}},{key:"seriesHaveSameValues",value:function(h){return this.w.globals.series[h].every(function(d,y,C){return d===C[0]})}},{key:"getCategoryLabels",value:function(h){var d=this.w,y=h.slice();return d.config.xaxis.convertedCatToNumeric&&(y=h.map(function(C,M){return d.config.xaxis.labels.formatter(C-d.globals.minX+1)})),y}},{key:"getLargestSeries",value:function(){var h=this.w;h.globals.maxValsInArrayIndex=h.globals.series.map(function(d){return d.length}).indexOf(Math.max.apply(Math,h.globals.series.map(function(d){return d.length})))}},{key:"getLargestMarkerSize",value:function(){var h=this.w,d=0;return h.globals.markers.size.forEach(function(y){d=Math.max(d,y)}),h.config.markers.discrete&&h.config.markers.discrete.length&&h.config.markers.discrete.forEach(function(y){d=Math.max(d,y.size)}),d>0&&(d+=h.config.markers.hover.sizeOffset+1),h.globals.markers.largestSize=d,d}},{key:"getSeriesTotals",value:function(){var h=this.w;h.globals.seriesTotals=h.globals.series.map(function(d,y){var C=0;if(Array.isArray(d))for(var M=0;M<d.length;M++)C+=d[M];else C+=d;return C})}},{key:"getSeriesTotalsXRange",value:function(h,d){var y=this.w;return y.globals.series.map(function(C,M){for(var O=0,N=0;N<C.length;N++)y.globals.seriesX[M][N]>h&&y.globals.seriesX[M][N]<d&&(O+=C[N]);return O})}},{key:"getPercentSeries",value:function(){var h=this.w;h.globals.seriesPercent=h.globals.series.map(function(d,y){var C=[];if(Array.isArray(d))for(var M=0;M<d.length;M++){var O=h.globals.stackedSeriesTotals[M],N=0;O&&(N=100*d[M]/O),C.push(N)}else{var V=100*d/h.globals.seriesTotals.reduce(function(q,K){return q+K},0);C.push(V)}return C})}},{key:"getCalculatedRatios",value:function(){var h,d,y,C,M=this.w.globals,O=[],N=0,V=[],q=.1,K=0;if(M.yRange=[],M.isMultipleYAxis)for(var J=0;J<M.minYArr.length;J++)M.yRange.push(Math.abs(M.minYArr[J]-M.maxYArr[J])),V.push(0);else M.yRange.push(Math.abs(M.minY-M.maxY));M.xRange=Math.abs(M.maxX-M.minX),M.zRange=Math.abs(M.maxZ-M.minZ);for(var it=0;it<M.yRange.length;it++)O.push(M.yRange[it]/M.gridHeight);if(d=M.xRange/M.gridWidth,y=Math.abs(M.initialMaxX-M.initialMinX)/M.gridWidth,h=M.yRange/M.gridWidth,C=M.xRange/M.gridHeight,(N=M.zRange/M.gridHeight*16)||(N=1),M.minY!==Number.MIN_VALUE&&Math.abs(M.minY)!==0&&(M.hasNegs=!0),M.isMultipleYAxis){V=[];for(var pt=0;pt<O.length;pt++)V.push(-M.minYArr[pt]/O[pt])}else V.push(-M.minY/O[0]),M.minY!==Number.MIN_VALUE&&Math.abs(M.minY)!==0&&(q=-M.minY/h,K=M.minX/d);return{yRatio:O,invertedYRatio:h,zRatio:N,xRatio:d,initialXRatio:y,invertedXRatio:C,baseLineInvertedY:q,baseLineY:V,baseLineX:K}}},{key:"getLogSeries",value:function(h){var d=this,y=this.w;return y.globals.seriesLog=h.map(function(C,M){return y.config.yaxis[M]&&y.config.yaxis[M].logarithmic?C.map(function(O){return O===null?null:d.getLogVal(y.config.yaxis[M].logBase,O,M)}):C}),y.globals.invalidLogScale?h:y.globals.seriesLog}},{key:"getBaseLog",value:function(h,d){return Math.log(d)/Math.log(h)}},{key:"getLogVal",value:function(h,d,y){if(d===0)return 0;var C=this.w,M=C.globals.minYArr[y]===0?-1:this.getBaseLog(h,C.globals.minYArr[y]),O=(C.globals.maxYArr[y]===0?0:this.getBaseLog(h,C.globals.maxYArr[y]))-M;return d<1?d/O:(this.getBaseLog(h,d)-M)/O}},{key:"getLogYRatios",value:function(h){var d=this,y=this.w,C=this.w.globals;return C.yLogRatio=h.slice(),C.logYRange=C.yRange.map(function(M,O){if(y.config.yaxis[O]&&d.w.config.yaxis[O].logarithmic){var N,V=-Number.MAX_VALUE,q=Number.MIN_VALUE;return C.seriesLog.forEach(function(K,J){K.forEach(function(it){y.config.yaxis[J]&&y.config.yaxis[J].logarithmic&&(V=Math.max(it,V),q=Math.min(it,q))})}),N=Math.pow(C.yRange[O],Math.abs(q-V)/C.yRange[O]),C.yLogRatio[O]=N/C.gridHeight,N}}),C.invalidLogScale?h.slice():C.yLogRatio}}],[{key:"checkComboSeries",value:function(h){var d=!1,y=0,C=0;return h.length&&h[0].type!==void 0&&h.forEach(function(M){M.type!=="bar"&&M.type!=="column"&&M.type!=="candlestick"&&M.type!=="boxPlot"||y++,M.type!==void 0&&C++}),C>0&&(d=!0),{comboBarCount:y,comboCharts:d}}},{key:"extendArrayProps",value:function(h,d,y){return d.yaxis&&(d=h.extendYAxis(d,y)),d.annotations&&(d.annotations.yaxis&&(d=h.extendYAxisAnnotations(d)),d.annotations.xaxis&&(d=h.extendXAxisAnnotations(d)),d.annotations.points&&(d=h.extendPointAnnotations(d))),d}}]),qt}(),fe=function(){function qt(h){Qt(this,qt),this.w=h.w,this.annoCtx=h}return $t(qt,[{key:"setOrientations",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.w;if(h.label.orientation==="vertical"){var C=d!==null?d:0,M=y.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(C,"']"));if(M!==null){var O=M.getBoundingClientRect();M.setAttribute("x",parseFloat(M.getAttribute("x"))-O.height+4),h.label.position==="top"?M.setAttribute("y",parseFloat(M.getAttribute("y"))+O.width):M.setAttribute("y",parseFloat(M.getAttribute("y"))-O.width);var N=this.annoCtx.graphics.rotateAroundCenter(M),V=N.x,q=N.y;M.setAttribute("transform","rotate(-90 ".concat(V," ").concat(q,")"))}}}},{key:"addBackgroundToAnno",value:function(h,d){var y=this.w;if(!h||d.label.text===void 0||d.label.text!==void 0&&!String(d.label.text).trim())return null;var C=y.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),M=h.getBoundingClientRect(),O=d.label.style.padding.left,N=d.label.style.padding.right,V=d.label.style.padding.top,q=d.label.style.padding.bottom;d.label.orientation==="vertical"&&(V=d.label.style.padding.left,q=d.label.style.padding.right,O=d.label.style.padding.top,N=d.label.style.padding.bottom);var K=M.left-C.left-O,J=M.top-C.top-V,it=this.annoCtx.graphics.drawRect(K-y.globals.barPadForNumericAxis,J,M.width+O+N,M.height+V+q,d.label.borderRadius,d.label.style.background,1,d.label.borderWidth,d.label.borderColor,0);return d.id&&it.node.classList.add(d.id),it}},{key:"annotationsBackground",value:function(){var h=this,d=this.w,y=function(C,M,O){var N=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(O,"-annotations .apexcharts-").concat(O,"-annotation-label[rel='").concat(M,"']"));if(N){var V=N.parentNode,q=h.addBackgroundToAnno(N,C);q&&(V.insertBefore(q.node,N),C.label.mouseEnter&&q.node.addEventListener("mouseenter",C.label.mouseEnter.bind(h,C)),C.label.mouseLeave&&q.node.addEventListener("mouseleave",C.label.mouseLeave.bind(h,C)),C.label.click&&q.node.addEventListener("click",C.label.click.bind(h,C)))}};d.config.annotations.xaxis.map(function(C,M){y(C,M,"xaxis")}),d.config.annotations.yaxis.map(function(C,M){y(C,M,"yaxis")}),d.config.annotations.points.map(function(C,M){y(C,M,"point")})}},{key:"getY1Y2",value:function(h,d){var y,C=h==="y1"?d.y:d.y2,M=this.w;if(this.annoCtx.invertAxis){var O=M.globals.labels.indexOf(C);M.config.xaxis.convertedCatToNumeric&&(O=M.globals.categoryLabels.indexOf(C));var N=M.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(O+1)+")");N&&(y=parseFloat(N.getAttribute("y")))}else{var V;M.config.yaxis[d.yAxisIndex].logarithmic?V=(C=new te(this.annoCtx.ctx).getLogVal(C,d.yAxisIndex))/M.globals.yLogRatio[d.yAxisIndex]:V=(C-M.globals.minYArr[d.yAxisIndex])/(M.globals.yRange[d.yAxisIndex]/M.globals.gridHeight),y=M.globals.gridHeight-V,!d.marker||d.y!==void 0&&d.y!==null||(y=0),M.config.yaxis[d.yAxisIndex]&&M.config.yaxis[d.yAxisIndex].reversed&&(y=V)}return typeof C=="string"&&C.indexOf("px")>-1&&(y=parseFloat(C)),y}},{key:"getX1X2",value:function(h,d){var y=this.w,C=this.annoCtx.invertAxis?y.globals.minY:y.globals.minX,M=this.annoCtx.invertAxis?y.globals.maxY:y.globals.maxX,O=this.annoCtx.invertAxis?y.globals.yRange[0]:y.globals.xRange,N=(d.x-C)/(O/y.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(N=(M-d.x)/(O/y.globals.gridWidth)),y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||y.globals.dataFormatXNumeric||(N=this.getStringX(d.x));var V=(d.x2-C)/(O/y.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(V=(M-d.x2)/(O/y.globals.gridWidth)),y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||y.globals.dataFormatXNumeric||(V=this.getStringX(d.x2)),d.x!==void 0&&d.x!==null||!d.marker||(N=y.globals.gridWidth),h==="x1"&&typeof d.x=="string"&&d.x.indexOf("px")>-1&&(N=parseFloat(d.x)),h==="x2"&&typeof d.x2=="string"&&d.x2.indexOf("px")>-1&&(V=parseFloat(d.x2)),h==="x1"?N:V}},{key:"getStringX",value:function(h){var d=this.w,y=h;d.config.xaxis.convertedCatToNumeric&&d.globals.categoryLabels.length&&(h=d.globals.categoryLabels.indexOf(h)+1);var C=d.globals.labels.indexOf(h),M=d.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(C+1)+")");return M&&(y=parseFloat(M.getAttribute("x"))),y}}]),qt}(),Me=function(){function qt(h){Qt(this,qt),this.w=h.w,this.annoCtx=h,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new fe(this.annoCtx)}return $t(qt,[{key:"addXaxisAnnotation",value:function(h,d,y){var C,M=this.w,O=this.helpers.getX1X2("x1",h),N=h.label.text,V=h.strokeDashArray;if(ct.isNumber(O)){if(h.x2===null||h.x2===void 0){var q=this.annoCtx.graphics.drawLine(O+h.offsetX,0+h.offsetY,O+h.offsetX,M.globals.gridHeight+h.offsetY,h.borderColor,V,h.borderWidth);d.appendChild(q.node),h.id&&q.node.classList.add(h.id)}else{if((C=this.helpers.getX1X2("x2",h))<O){var K=O;O=C,C=K}var J=this.annoCtx.graphics.drawRect(O+h.offsetX,0+h.offsetY,C-O,M.globals.gridHeight+h.offsetY,0,h.fillColor,h.opacity,1,h.borderColor,V);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(M.globals.cuid,")")),d.appendChild(J.node),h.id&&J.node.classList.add(h.id)}var it=this.annoCtx.graphics.getTextRects(N,parseFloat(h.label.style.fontSize)),pt=h.label.position==="top"?4:h.label.position==="center"?M.globals.gridHeight/2+(h.label.orientation==="vertical"?it.width/2:0):M.globals.gridHeight,Et=this.annoCtx.graphics.drawText({x:O+h.label.offsetX,y:pt+h.label.offsetY-(h.label.orientation==="vertical"?h.label.position==="top"?it.width/2-12:-it.width/2:0),text:N,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});Et.attr({rel:y}),d.appendChild(Et.node),this.annoCtx.helpers.setOrientations(h,y)}}},{key:"drawXAxisAnnotations",value:function(){var h=this,d=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return d.config.annotations.xaxis.map(function(C,M){h.addXaxisAnnotation(C,y.node,M)}),y}}]),qt}(),ve=function(){function qt(h){Qt(this,qt),this.w=h.w,this.annoCtx=h,this.helpers=new fe(this.annoCtx)}return $t(qt,[{key:"addYaxisAnnotation",value:function(h,d,y){var C,M=this.w,O=h.strokeDashArray,N=this.helpers.getY1Y2("y1",h),V=h.label.text;if(h.y2===null||h.y2===void 0){var q=this.annoCtx.graphics.drawLine(0+h.offsetX,N+h.offsetY,this._getYAxisAnnotationWidth(h),N+h.offsetY,h.borderColor,O,h.borderWidth);d.appendChild(q.node),h.id&&q.node.classList.add(h.id)}else{if((C=this.helpers.getY1Y2("y2",h))>N){var K=N;N=C,C=K}var J=this.annoCtx.graphics.drawRect(0+h.offsetX,C+h.offsetY,this._getYAxisAnnotationWidth(h),N-C,0,h.fillColor,h.opacity,1,h.borderColor,O);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(M.globals.cuid,")")),d.appendChild(J.node),h.id&&J.node.classList.add(h.id)}var it=h.label.position==="right"?M.globals.gridWidth:h.label.position==="center"?M.globals.gridWidth/2:0,pt=this.annoCtx.graphics.drawText({x:it+h.label.offsetX,y:(C??N)+h.label.offsetY-3,text:V,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});pt.attr({rel:y}),d.appendChild(pt.node)}},{key:"_getYAxisAnnotationWidth",value:function(h){var d=this.w;return d.globals.gridWidth,(h.width.indexOf("%")>-1?d.globals.gridWidth*parseInt(h.width,10)/100:parseInt(h.width,10))+h.offsetX}},{key:"drawYAxisAnnotations",value:function(){var h=this,d=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return d.config.annotations.yaxis.map(function(C,M){h.addYaxisAnnotation(C,y.node,M)}),y}}]),qt}(),le=function(){function qt(h){Qt(this,qt),this.w=h.w,this.annoCtx=h,this.helpers=new fe(this.annoCtx)}return $t(qt,[{key:"addPointAnnotation",value:function(h,d,y){this.w;var C=this.helpers.getX1X2("x1",h),M=this.helpers.getY1Y2("y1",h);if(ct.isNumber(C)){var O={pSize:h.marker.size,pointStrokeWidth:h.marker.strokeWidth,pointFillColor:h.marker.fillColor,pointStrokeColor:h.marker.strokeColor,shape:h.marker.shape,pRadius:h.marker.radius,class:"apexcharts-point-annotation-marker ".concat(h.marker.cssClass," ").concat(h.id?h.id:"")},N=this.annoCtx.graphics.drawMarker(C+h.marker.offsetX,M+h.marker.offsetY,O);d.appendChild(N.node);var V=h.label.text?h.label.text:"",q=this.annoCtx.graphics.drawText({x:C+h.label.offsetX,y:M+h.label.offsetY-h.marker.size-parseFloat(h.label.style.fontSize)/1.6,text:V,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});if(q.attr({rel:y}),d.appendChild(q.node),h.customSVG.SVG){var K=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+h.customSVG.cssClass});K.attr({transform:"translate(".concat(C+h.customSVG.offsetX,", ").concat(M+h.customSVG.offsetY,")")}),K.node.innerHTML=h.customSVG.SVG,d.appendChild(K.node)}if(h.image.path){var J=h.image.width?h.image.width:20,it=h.image.height?h.image.height:20;N=this.annoCtx.addImage({x:C+h.image.offsetX-J/2,y:M+h.image.offsetY-it/2,width:J,height:it,path:h.image.path,appendTo:".apexcharts-point-annotations"})}h.mouseEnter&&N.node.addEventListener("mouseenter",h.mouseEnter.bind(this,h)),h.mouseLeave&&N.node.addEventListener("mouseleave",h.mouseLeave.bind(this,h)),h.click&&N.node.addEventListener("click",h.click.bind(this,h))}}},{key:"drawPointAnnotations",value:function(){var h=this,d=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return d.config.annotations.points.map(function(C,M){h.addPointAnnotation(C,y.node,M)}),y}}]),qt}(),Xt={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Kt=function(){function qt(){Qt(this,qt),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return $t(qt,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Xt],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(h){return new Date(h).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(h){return h}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(h){return h+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(d,y){return d+y},0)/h.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(h){return h}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(h){return h}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(d,y){return d+y},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(h){return h!==null?h:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(h){return h?h+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),qt}(),ne=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.graphics=new Wt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new fe(this),this.xAxisAnnotations=new Me(this),this.yAxisAnnotations=new ve(this),this.pointsAnnotations=new le(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return $t(qt,[{key:"drawAxesAnnotations",value:function(){var h=this.w;if(h.globals.axisCharts){for(var d=this.yAxisAnnotations.drawYAxisAnnotations(),y=this.xAxisAnnotations.drawXAxisAnnotations(),C=this.pointsAnnotations.drawPointAnnotations(),M=h.config.chart.animations.enabled,O=[d,y,C],N=[y.node,d.node,C.node],V=0;V<3;V++)h.globals.dom.elGraphical.add(O[V]),!M||h.globals.resized||h.globals.dataChanged||h.config.chart.type!=="scatter"&&h.config.chart.type!=="bubble"&&h.globals.dataPoints>1&&N[V].classList.add("apexcharts-element-hidden"),h.globals.delayedElements.push({el:N[V],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var h=this;this.w.config.annotations.images.map(function(d,y){h.addImage(d,y)})}},{key:"drawTextAnnos",value:function(){var h=this;this.w.config.annotations.texts.map(function(d,y){h.addText(d,y)})}},{key:"addXaxisAnnotation",value:function(h,d,y){this.xAxisAnnotations.addXaxisAnnotation(h,d,y)}},{key:"addYaxisAnnotation",value:function(h,d,y){this.yAxisAnnotations.addYaxisAnnotation(h,d,y)}},{key:"addPointAnnotation",value:function(h,d,y){this.pointsAnnotations.addPointAnnotation(h,d,y)}},{key:"addText",value:function(h,d){var y=h.x,C=h.y,M=h.text,O=h.textAnchor,N=h.foreColor,V=h.fontSize,q=h.fontFamily,K=h.fontWeight,J=h.cssClass,it=h.backgroundColor,pt=h.borderWidth,Et=h.strokeDashArray,Nt=h.borderRadius,ee=h.borderColor,he=h.appendTo,Ae=he===void 0?".apexcharts-annotations":he,W=h.paddingLeft,rt=W===void 0?4:W,Ot=h.paddingRight,ce=Ot===void 0?4:Ot,xe=h.paddingBottom,Ie=xe===void 0?2:xe,on=h.paddingTop,un=on===void 0?2:on,Bn=this.w,jn=this.graphics.drawText({x:y,y:C,text:M,textAnchor:O||"start",fontSize:V||"12px",fontWeight:K||"regular",fontFamily:q||Bn.config.chart.fontFamily,foreColor:N||Bn.config.chart.foreColor,cssClass:J}),ai=Bn.globals.dom.baseEl.querySelector(Ae);ai&&ai.appendChild(jn.node);var ci=jn.bbox();if(M){var vr=this.graphics.drawRect(ci.x-rt,ci.y-un,ci.width+rt+ce,ci.height+Ie+un,Nt,it||"transparent",1,pt,ee,Et);ai.insertBefore(vr.node,jn.node)}}},{key:"addImage",value:function(h,d){var y=this.w,C=h.path,M=h.x,O=M===void 0?0:M,N=h.y,V=N===void 0?0:N,q=h.width,K=q===void 0?20:q,J=h.height,it=J===void 0?20:J,pt=h.appendTo,Et=pt===void 0?".apexcharts-annotations":pt,Nt=y.globals.dom.Paper.image(C);Nt.size(K,it).move(O,V);var ee=y.globals.dom.baseEl.querySelector(Et);return ee&&ee.appendChild(Nt.node),Nt}},{key:"addXaxisAnnotationExternal",value:function(h,d,y){return this.addAnnotationExternal({params:h,pushToMemory:d,context:y,type:"xaxis",contextMethod:y.addXaxisAnnotation}),y}},{key:"addYaxisAnnotationExternal",value:function(h,d,y){return this.addAnnotationExternal({params:h,pushToMemory:d,context:y,type:"yaxis",contextMethod:y.addYaxisAnnotation}),y}},{key:"addPointAnnotationExternal",value:function(h,d,y){return this.invertAxis===void 0&&(this.invertAxis=y.w.globals.isBarHorizontal),this.addAnnotationExternal({params:h,pushToMemory:d,context:y,type:"point",contextMethod:y.addPointAnnotation}),y}},{key:"addAnnotationExternal",value:function(h){var d=h.params,y=h.pushToMemory,C=h.context,M=h.type,O=h.contextMethod,N=C,V=N.w,q=V.globals.dom.baseEl.querySelector(".apexcharts-".concat(M,"-annotations")),K=q.childNodes.length+1,J=new Kt,it=Object.assign({},M==="xaxis"?J.xAxisAnnotation:M==="yaxis"?J.yAxisAnnotation:J.pointAnnotation),pt=ct.extend(it,d);switch(M){case"xaxis":this.addXaxisAnnotation(pt,q,K);break;case"yaxis":this.addYaxisAnnotation(pt,q,K);break;case"point":this.addPointAnnotation(pt,q,K)}var Et=V.globals.dom.baseEl.querySelector(".apexcharts-".concat(M,"-annotations .apexcharts-").concat(M,"-annotation-label[rel='").concat(K,"']")),Nt=this.helpers.addBackgroundToAnno(Et,pt);return Nt&&q.insertBefore(Nt.node,Et),y&&V.globals.memory.methodsToExec.push({context:N,id:pt.id?pt.id:ct.randomId(),method:O,label:"addAnnotation",params:d}),C}},{key:"clearAnnotations",value:function(h){var d=h.w,y=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");d.globals.memory.methodsToExec.map(function(C,M){C.label!=="addText"&&C.label!=="addAnnotation"||d.globals.memory.methodsToExec.splice(M,1)}),y=ct.listToArray(y),Array.prototype.forEach.call(y,function(C){for(;C.firstChild;)C.removeChild(C.firstChild)})}},{key:"removeAnnotation",value:function(h,d){var y=h.w,C=y.globals.dom.baseEl.querySelectorAll(".".concat(d));C&&(y.globals.memory.methodsToExec.map(function(M,O){M.id===d&&y.globals.memory.methodsToExec.splice(O,1)}),Array.prototype.forEach.call(C,function(M){M.parentElement.removeChild(M)}))}}]),qt}(),De=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return $t(qt,[{key:"isValidDate",value:function(h){return!isNaN(this.parseDate(h))}},{key:"getTimeStamp",value:function(h){return Date.parse(h)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toISOString().substr(0,25)).getTime():new Date(h).getTime():h}},{key:"getDate",value:function(h){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toUTCString()):new Date(h)}},{key:"parseDate",value:function(h){var d=Date.parse(h);if(!isNaN(d))return this.getTimeStamp(h);var y=Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "));return y=this.getTimeStamp(y)}},{key:"parseDateWithTimezone",value:function(h){return Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(h,d){var y=this.w.globals.locale,C=this.w.config.xaxis.labels.datetimeUTC,M=["\0"].concat(Pt(y.months)),O=[""].concat(Pt(y.shortMonths)),N=[""].concat(Pt(y.days)),V=[""].concat(Pt(y.shortDays));function q(Ie,on){var un=Ie+"";for(on=on||2;un.length<on;)un="0"+un;return un}var K=C?h.getUTCFullYear():h.getFullYear();d=(d=(d=d.replace(/(^|[^\\])yyyy+/g,"$1"+K)).replace(/(^|[^\\])yy/g,"$1"+K.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+K);var J=(C?h.getUTCMonth():h.getMonth())+1;d=(d=(d=(d=d.replace(/(^|[^\\])MMMM+/g,"$1"+M[0])).replace(/(^|[^\\])MMM/g,"$1"+O[0])).replace(/(^|[^\\])MM/g,"$1"+q(J))).replace(/(^|[^\\])M/g,"$1"+J);var it=C?h.getUTCDate():h.getDate();d=(d=(d=(d=d.replace(/(^|[^\\])dddd+/g,"$1"+N[0])).replace(/(^|[^\\])ddd/g,"$1"+V[0])).replace(/(^|[^\\])dd/g,"$1"+q(it))).replace(/(^|[^\\])d/g,"$1"+it);var pt=C?h.getUTCHours():h.getHours(),Et=pt>12?pt-12:pt===0?12:pt;d=(d=(d=(d=d.replace(/(^|[^\\])HH+/g,"$1"+q(pt))).replace(/(^|[^\\])H/g,"$1"+pt)).replace(/(^|[^\\])hh+/g,"$1"+q(Et))).replace(/(^|[^\\])h/g,"$1"+Et);var Nt=C?h.getUTCMinutes():h.getMinutes();d=(d=d.replace(/(^|[^\\])mm+/g,"$1"+q(Nt))).replace(/(^|[^\\])m/g,"$1"+Nt);var ee=C?h.getUTCSeconds():h.getSeconds();d=(d=d.replace(/(^|[^\\])ss+/g,"$1"+q(ee))).replace(/(^|[^\\])s/g,"$1"+ee);var he=C?h.getUTCMilliseconds():h.getMilliseconds();d=d.replace(/(^|[^\\])fff+/g,"$1"+q(he,3)),he=Math.round(he/10),d=d.replace(/(^|[^\\])ff/g,"$1"+q(he)),he=Math.round(he/10);var Ae=pt<12?"AM":"PM";d=(d=(d=d.replace(/(^|[^\\])f/g,"$1"+he)).replace(/(^|[^\\])TT+/g,"$1"+Ae)).replace(/(^|[^\\])T/g,"$1"+Ae.charAt(0));var W=Ae.toLowerCase();d=(d=d.replace(/(^|[^\\])tt+/g,"$1"+W)).replace(/(^|[^\\])t/g,"$1"+W.charAt(0));var rt=-h.getTimezoneOffset(),Ot=C||!rt?"Z":rt>0?"+":"-";if(!C){var ce=(rt=Math.abs(rt))%60;Ot+=q(Math.floor(rt/60))+":"+q(ce)}d=d.replace(/(^|[^\\])K/g,"$1"+Ot);var xe=(C?h.getUTCDay():h.getDay())+1;return d=(d=(d=(d=(d=d.replace(new RegExp(N[0],"g"),N[xe])).replace(new RegExp(V[0],"g"),V[xe])).replace(new RegExp(M[0],"g"),M[J])).replace(new RegExp(O[0],"g"),O[J])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(h,d,y){var C=this.w;C.config.xaxis.min!==void 0&&(h=C.config.xaxis.min),C.config.xaxis.max!==void 0&&(d=C.config.xaxis.max);var M=this.getDate(h),O=this.getDate(d),N=this.formatDate(M,"yyyy MM dd HH mm ss fff").split(" "),V=this.formatDate(O,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(N[6],10),maxMillisecond:parseInt(V[6],10),minSecond:parseInt(N[5],10),maxSecond:parseInt(V[5],10),minMinute:parseInt(N[4],10),maxMinute:parseInt(V[4],10),minHour:parseInt(N[3],10),maxHour:parseInt(V[3],10),minDate:parseInt(N[2],10),maxDate:parseInt(V[2],10),minMonth:parseInt(N[1],10)-1,maxMonth:parseInt(V[1],10)-1,minYear:parseInt(N[0],10),maxYear:parseInt(V[0],10)}}},{key:"isLeapYear",value:function(h){return h%4==0&&h%100!=0||h%400==0}},{key:"calculcateLastDaysOfMonth",value:function(h,d,y){return this.determineDaysOfMonths(h,d)-y}},{key:"determineDaysOfYear",value:function(h){var d=365;return this.isLeapYear(h)&&(d=366),d}},{key:"determineRemainingDaysOfYear",value:function(h,d,y){var C=this.daysCntOfYear[d]+y;return d>1&&this.isLeapYear()&&C++,C}},{key:"determineDaysOfMonths",value:function(h,d){var y=30;switch(h=ct.monthMod(h),!0){case this.months30.indexOf(h)>-1:h===2&&(y=this.isLeapYear(d)?29:28);break;case this.months31.indexOf(h)>-1:default:y=31}return y}}]),qt}(),me=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.tooltipKeyFormat="dd MMM"}return $t(qt,[{key:"xLabelFormat",value:function(h,d,y,C){var M=this.w;if(M.config.xaxis.type==="datetime"&&M.config.xaxis.labels.formatter===void 0&&M.config.tooltip.x.formatter===void 0){var O=new De(this.ctx);return O.formatDate(O.getDate(d),M.config.tooltip.x.format)}return h(d,y,C)}},{key:"defaultGeneralFormatter",value:function(h){return Array.isArray(h)?h.map(function(d){return d}):h}},{key:"defaultYFormatter",value:function(h,d,y){var C=this.w;return ct.isNumber(h)&&(h=C.globals.yValueDecimal!==0?h.toFixed(d.decimalsInFloat!==void 0?d.decimalsInFloat:C.globals.yValueDecimal):C.globals.maxYArr[y]-C.globals.minYArr[y]<5?h.toFixed(1):h.toFixed(0)),h}},{key:"setLabelFormatters",value:function(){var h=this,d=this.w;return d.globals.xaxisTooltipFormatter=function(y){return h.defaultGeneralFormatter(y)},d.globals.ttKeyFormatter=function(y){return h.defaultGeneralFormatter(y)},d.globals.ttZFormatter=function(y){return y},d.globals.legendFormatter=function(y){return h.defaultGeneralFormatter(y)},d.config.xaxis.labels.formatter!==void 0?d.globals.xLabelFormatter=d.config.xaxis.labels.formatter:d.globals.xLabelFormatter=function(y){if(ct.isNumber(y)){if(!d.config.xaxis.convertedCatToNumeric&&d.config.xaxis.type==="numeric"){if(ct.isNumber(d.config.xaxis.decimalsInFloat))return y.toFixed(d.config.xaxis.decimalsInFloat);var C=d.globals.maxX-d.globals.minX;return C>0&&C<100?y.toFixed(1):y.toFixed(0)}return d.globals.isBarHorizontal&&d.globals.maxY-d.globals.minYArr<4?y.toFixed(1):y.toFixed(0)}return y},typeof d.config.tooltip.x.formatter=="function"?d.globals.ttKeyFormatter=d.config.tooltip.x.formatter:d.globals.ttKeyFormatter=d.globals.xLabelFormatter,typeof d.config.xaxis.tooltip.formatter=="function"&&(d.globals.xaxisTooltipFormatter=d.config.xaxis.tooltip.formatter),(Array.isArray(d.config.tooltip.y)||d.config.tooltip.y.formatter!==void 0)&&(d.globals.ttVal=d.config.tooltip.y),d.config.tooltip.z.formatter!==void 0&&(d.globals.ttZFormatter=d.config.tooltip.z.formatter),d.config.legend.formatter!==void 0&&(d.globals.legendFormatter=d.config.legend.formatter),d.config.yaxis.forEach(function(y,C){y.labels.formatter!==void 0?d.globals.yLabelFormatters[C]=y.labels.formatter:d.globals.yLabelFormatters[C]=function(M){return d.globals.xyCharts?Array.isArray(M)?M.map(function(O){return h.defaultYFormatter(O,y,C)}):h.defaultYFormatter(M,y,C):M}}),d.globals}},{key:"heatmapLabelFormatters",value:function(){var h=this.w;if(h.config.chart.type==="heatmap"){h.globals.yAxisScale[0].result=h.globals.seriesNames.slice();var d=h.globals.seriesNames.reduce(function(y,C){return y.length>C.length?y:C},0);h.globals.yAxisScale[0].niceMax=d,h.globals.yAxisScale[0].niceMin=d}}}]),qt}(),Ne=function(qt){var h,d=qt.isTimeline,y=qt.ctx,C=qt.seriesIndex,M=qt.dataPointIndex,O=qt.y1,N=qt.y2,V=qt.w,q=V.globals.seriesRangeStart[C][M],K=V.globals.seriesRangeEnd[C][M],J=V.globals.labels[M],it=V.config.series[C].name?V.config.series[C].name:"",pt=V.globals.ttKeyFormatter,Et=V.config.tooltip.y.title.formatter,Nt={w:V,seriesIndex:C,dataPointIndex:M,start:q,end:K};typeof Et=="function"&&(it=Et(it,Nt)),(h=V.config.series[C].data[M])!==null&&h!==void 0&&h.x&&(J=V.config.series[C].data[M].x),d||V.config.xaxis.type==="datetime"&&(J=new me(y).xLabelFormat(V.globals.ttKeyFormatter,J,J,{i:void 0,dateFormatter:new De(y).formatDate,w:V})),typeof pt=="function"&&(J=pt(J,Nt)),Number.isFinite(O)&&Number.isFinite(N)&&(q=O,K=N);var ee="",he="",Ae=V.globals.colors[C];if(V.config.tooltip.x.formatter===void 0)if(V.config.xaxis.type==="datetime"){var W=new De(y);ee=W.formatDate(W.getDate(q),V.config.tooltip.x.format),he=W.formatDate(W.getDate(K),V.config.tooltip.x.format)}else ee=q,he=K;else ee=V.config.tooltip.x.formatter(q),he=V.config.tooltip.x.formatter(K);return{start:q,end:K,startVal:ee,endVal:he,ylabel:J,color:Ae,seriesName:it}},Fn=function(qt){var h=qt.color,d=qt.seriesName,y=qt.ylabel,C=qt.start,M=qt.end,O=qt.seriesIndex,N=qt.dataPointIndex,V=qt.ctx.tooltip.tooltipLabels.getFormatters(O);C=V.yLbFormatter(C),M=V.yLbFormatter(M);var q=V.yLbFormatter(qt.w.globals.series[O][N]),K=`<span class="value start-value">
  `.concat(C,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(M,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+h+'">'+(d||"")+'</span></div><div> <span class="category">'+y+": </span> "+(qt.w.globals.comboCharts?qt.w.config.series[O].type==="rangeArea"||qt.w.config.series[O].type==="rangeBar"?K:"<span>".concat(q,"</span>"):K)+" </div></div>"},dn=function(){function qt(h){Qt(this,qt),this.opts=h}return $t(qt,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(h){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,ct.extend(h,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var h=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){var y=d.seriesIndex,C=d.dataPointIndex,M=d.w;return h._getBoxTooltip(M,y,C,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var h=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){var y=d.seriesIndex,C=d.dataPointIndex,M=d.w;return h._getBoxTooltip(M,y,C,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(h,d){d.ctx;var y=d.seriesIndex,C=d.dataPointIndex,M=d.w,O=function(){var N=M.globals.seriesRangeStart[y][C];return M.globals.seriesRangeEnd[y][C]-N};return M.globals.comboCharts?M.config.series[y].type==="rangeBar"||M.config.series[y].type==="rangeArea"?O():h:O()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(h){return h.w.config.plotOptions&&h.w.config.plotOptions.bar&&h.w.config.plotOptions.bar.horizontal?function(d){var y=Ne(Gt(Gt({},d),{},{isTimeline:!0})),C=y.color,M=y.seriesName,O=y.ylabel,N=y.startVal,V=y.endVal;return Fn(Gt(Gt({},d),{},{color:C,seriesName:M,ylabel:O,start:N,end:V}))}(h):function(d){var y=Ne(d),C=y.color,M=y.seriesName,O=y.ylabel,N=y.start,V=y.end;return Fn(Gt(Gt({},d),{},{color:C,seriesName:M,ylabel:O,start:N,end:V}))}(h)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(h){var d,y;return(d=h.plotOptions.bar)!==null&&d!==void 0&&d.barHeight||(h.plotOptions.bar.barHeight=2),(y=h.plotOptions.bar)!==null&&y!==void 0&&y.columnWidth||(h.plotOptions.bar.columnWidth=2),h}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(h){return function(d){var y=Ne(d),C=y.color,M=y.seriesName,O=y.ylabel,N=y.start,V=y.end;return Fn(Gt(Gt({},d),{},{color:C,seriesName:M,ylabel:O,start:N,end:V}))}(h)}}}}},{key:"brush",value:function(h){return ct.extend(h,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(h){h.dataLabels=h.dataLabels||{},h.dataLabels.formatter=h.dataLabels.formatter||void 0;var d=h.dataLabels.formatter;return h.yaxis.forEach(function(y,C){h.yaxis[C].min=0,h.yaxis[C].max=100}),h.chart.type==="bar"&&(h.dataLabels.formatter=d||function(y){return typeof y=="number"&&y?y.toFixed(0)+"%":y}),h}},{key:"stackedBars",value:function(){var h=this.bar();return Gt(Gt({},h),{},{plotOptions:Gt(Gt({},h.plotOptions),{},{bar:Gt(Gt({},h.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(h){return h.xaxis.convertedCatToNumeric=!0,h}},{key:"convertCatToNumericXaxis",value:function(h,d,y){h.xaxis.type="numeric",h.xaxis.labels=h.xaxis.labels||{},h.xaxis.labels.formatter=h.xaxis.labels.formatter||function(O){return ct.isNumber(O)?Math.floor(O):O};var C=h.xaxis.labels.formatter,M=h.xaxis.categories&&h.xaxis.categories.length?h.xaxis.categories:h.labels;return y&&y.length&&(M=y.map(function(O){return Array.isArray(O)?O:String(O)})),M&&M.length&&(h.xaxis.labels.formatter=function(O){return ct.isNumber(O)?C(M[Math.floor(O)-1]):C(O)}),h.xaxis.categories=[],h.labels=[],h.xaxis.tickAmount=h.xaxis.tickAmount||"dataPoints",h}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(h){return h},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(h,d,y,C,M){var O=h.globals.seriesCandleO[d][y],N=h.globals.seriesCandleH[d][y],V=h.globals.seriesCandleM[d][y],q=h.globals.seriesCandleL[d][y],K=h.globals.seriesCandleC[d][y];return h.config.series[d].type&&h.config.series[d].type!==M?`<div class="apexcharts-custom-tooltip">
          `.concat(h.config.series[d].name?h.config.series[d].name:"series-"+(d+1),": <strong>").concat(h.globals.series[d][y],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(h.config.chart.type,'">')+"<div>".concat(C[0],': <span class="value">')+O+"</span></div>"+"<div>".concat(C[1],': <span class="value">')+N+"</span></div>"+(V?"<div>".concat(C[2],': <span class="value">')+V+"</span></div>":"")+"<div>".concat(C[3],': <span class="value">')+q+"</span></div>"+"<div>".concat(C[4],': <span class="value">')+K+"</span></div></div>"}}]),qt}(),gn=function(){function qt(h){Qt(this,qt),this.opts=h}return $t(qt,[{key:"init",value:function(h){var d=h.responsiveOverride,y=this.opts,C=new Kt,M=new dn(y);this.chartType=y.chart.type,y=this.extendYAxis(y),y=this.extendAnnotations(y);var O=C.init(),N={};if(y&&Tt(y)==="object"){var V,q,K,J,it,pt,Et={};Et=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(y.chart.type)!==-1?M[y.chart.type]():M.line(),y.chart.stacked&&y.chart.type==="bar"&&(Et=M.stackedBars()),(V=y.chart.brush)!==null&&V!==void 0&&V.enabled&&(Et=M.brush(Et)),y.chart.stacked&&y.chart.stackType==="100%"&&(y=M.stacked100(y)),(q=y.plotOptions)!==null&&q!==void 0&&(K=q.bar)!==null&&K!==void 0&&K.isDumbbell&&(y=M.dumbbell(y)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(y),y.xaxis=y.xaxis||window.Apex.xaxis||{},d||(y.xaxis.convertedCatToNumeric=!1),((J=(y=this.checkForCatToNumericXAxis(this.chartType,Et,y)).chart.sparkline)!==null&&J!==void 0&&J.enabled||(it=window.Apex.chart)!==null&&it!==void 0&&(pt=it.sparkline)!==null&&pt!==void 0&&pt.enabled)&&(Et=M.sparkline(Et)),N=ct.extend(O,Et)}var Nt=ct.extend(N,window.Apex);return O=ct.extend(Nt,y),O=this.handleUserInputErrors(O)}},{key:"checkForCatToNumericXAxis",value:function(h,d,y){var C,M,O=new dn(y),N=(h==="bar"||h==="boxPlot")&&((C=y.plotOptions)===null||C===void 0||(M=C.bar)===null||M===void 0?void 0:M.horizontal),V=h==="pie"||h==="polarArea"||h==="donut"||h==="radar"||h==="radialBar"||h==="heatmap",q=y.xaxis.type!=="datetime"&&y.xaxis.type!=="numeric",K=y.xaxis.tickPlacement?y.xaxis.tickPlacement:d.xaxis&&d.xaxis.tickPlacement;return N||V||!q||K==="between"||(y=O.convertCatToNumeric(y)),y}},{key:"extendYAxis",value:function(h,d){var y=new Kt;(h.yaxis===void 0||!h.yaxis||Array.isArray(h.yaxis)&&h.yaxis.length===0)&&(h.yaxis={}),h.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(h.yaxis=ct.extend(h.yaxis,window.Apex.yaxis)),h.yaxis.constructor!==Array?h.yaxis=[ct.extend(y.yAxis,h.yaxis)]:h.yaxis=ct.extendArray(h.yaxis,y.yAxis);var C=!1;h.yaxis.forEach(function(O){O.logarithmic&&(C=!0)});var M=h.series;return d&&!M&&(M=d.config.series),C&&M.length!==h.yaxis.length&&M.length&&(h.yaxis=M.map(function(O,N){if(O.name||(M[N].name="series-".concat(N+1)),h.yaxis[N])return h.yaxis[N].seriesName=M[N].name,h.yaxis[N];var V=ct.extend(y.yAxis,h.yaxis[0]);return V.show=!1,V})),C&&M.length>1&&M.length!==h.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),h}},{key:"extendAnnotations",value:function(h){return h.annotations===void 0&&(h.annotations={},h.annotations.yaxis=[],h.annotations.xaxis=[],h.annotations.points=[]),h=this.extendYAxisAnnotations(h),h=this.extendXAxisAnnotations(h),h=this.extendPointAnnotations(h)}},{key:"extendYAxisAnnotations",value:function(h){var d=new Kt;return h.annotations.yaxis=ct.extendArray(h.annotations.yaxis!==void 0?h.annotations.yaxis:[],d.yAxisAnnotation),h}},{key:"extendXAxisAnnotations",value:function(h){var d=new Kt;return h.annotations.xaxis=ct.extendArray(h.annotations.xaxis!==void 0?h.annotations.xaxis:[],d.xAxisAnnotation),h}},{key:"extendPointAnnotations",value:function(h){var d=new Kt;return h.annotations.points=ct.extendArray(h.annotations.points!==void 0?h.annotations.points:[],d.pointAnnotation),h}},{key:"checkForDarkTheme",value:function(h){h.theme&&h.theme.mode==="dark"&&(h.tooltip||(h.tooltip={}),h.tooltip.theme!=="light"&&(h.tooltip.theme="dark"),h.chart.foreColor||(h.chart.foreColor="#f6f7f8"),h.chart.background||(h.chart.background="#424242"),h.theme.palette||(h.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(h){var d=h;if(d.tooltip.shared&&d.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(d.chart.type==="bar"&&d.plotOptions.bar.horizontal){if(d.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");d.yaxis[0].reversed&&(d.yaxis[0].opposite=!0),d.xaxis.tooltip.enabled=!1,d.yaxis[0].tooltip.enabled=!1,d.chart.zoom.enabled=!1}return d.chart.type!=="bar"&&d.chart.type!=="rangeBar"||d.tooltip.shared&&d.xaxis.crosshairs.width==="barWidth"&&d.series.length>1&&(d.xaxis.crosshairs.width="tickWidth"),d.chart.type!=="candlestick"&&d.chart.type!=="boxPlot"||d.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(d.chart.type," chart is not supported.")),d.yaxis[0].reversed=!1),d}}]),qt}(),jt=function(){function qt(){Qt(this,qt)}return $t(qt,[{key:"initGlobalVars",value:function(h){h.series=[],h.seriesCandleO=[],h.seriesCandleH=[],h.seriesCandleM=[],h.seriesCandleL=[],h.seriesCandleC=[],h.seriesRangeStart=[],h.seriesRangeEnd=[],h.seriesRange=[],h.seriesPercent=[],h.seriesGoals=[],h.seriesX=[],h.seriesZ=[],h.seriesNames=[],h.seriesTotals=[],h.seriesLog=[],h.seriesColors=[],h.stackedSeriesTotals=[],h.seriesXvalues=[],h.seriesYvalues=[],h.labels=[],h.hasXaxisGroups=!1,h.groups=[],h.hasSeriesGroups=!1,h.seriesGroups=[],h.categoryLabels=[],h.timescaleLabels=[],h.noLabelsProvided=!1,h.resizeTimer=null,h.selectionResizeTimer=null,h.delayedElements=[],h.pointsArray=[],h.dataLabelsRects=[],h.isXNumeric=!1,h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1,h.isDataXYZ=!1,h.isMultiLineX=!1,h.isMultipleYAxis=!1,h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE,h.minYArr=[],h.maxYArr=[],h.maxX=-Number.MAX_VALUE,h.minX=Number.MAX_VALUE,h.initialMaxX=-Number.MAX_VALUE,h.initialMinX=Number.MAX_VALUE,h.maxDate=0,h.minDate=Number.MAX_VALUE,h.minZ=Number.MAX_VALUE,h.maxZ=-Number.MAX_VALUE,h.minXDiff=Number.MAX_VALUE,h.yAxisScale=[],h.xAxisScale=null,h.xAxisTicksPositions=[],h.yLabelsCoords=[],h.yTitleCoords=[],h.barPadForNumericAxis=0,h.padHorizontal=0,h.xRange=0,h.yRange=[],h.zRange=0,h.dataPoints=0,h.xTickAmount=0}},{key:"globalVars",value:function(h){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:h.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:h.chart.toolbar.autoSelected==="zoom"&&h.chart.toolbar.tools.zoom&&h.chart.zoom.enabled,panEnabled:h.chart.toolbar.autoSelected==="pan"&&h.chart.toolbar.tools.pan,selectionEnabled:h.chart.toolbar.autoSelected==="selection"&&h.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(h){var d=this.globalVars(h);return this.initGlobalVars(d),d.initialConfig=ct.extend({},h),d.initialSeries=ct.clone(h.series),d.lastXAxis=ct.clone(d.initialConfig.xaxis),d.lastYAxis=ct.clone(d.initialConfig.yaxis),d}}]),qt}(),Fe=function(){function qt(h){Qt(this,qt),this.opts=h}return $t(qt,[{key:"init",value:function(){var h=new gn(this.opts).init({responsiveOverride:!1});return{config:h,globals:new jt().init(h)}}}]),qt}(),ht=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.opts=null,this.seriesIndex=0}return $t(qt,[{key:"clippedImgArea",value:function(h){var d=this.w,y=d.config,C=parseInt(d.globals.gridWidth,10),M=parseInt(d.globals.gridHeight,10),O=C>M?C:M,N=h.image,V=0,q=0;h.width===void 0&&h.height===void 0?y.fill.image.width!==void 0&&y.fill.image.height!==void 0?(V=y.fill.image.width+1,q=y.fill.image.height):(V=O+1,q=O):(V=h.width,q=h.height);var K=document.createElementNS(d.globals.SVGNS,"pattern");Wt.setAttrs(K,{id:h.patternID,patternUnits:h.patternUnits?h.patternUnits:"userSpaceOnUse",width:V+"px",height:q+"px"});var J=document.createElementNS(d.globals.SVGNS,"image");K.appendChild(J),J.setAttributeNS(window.SVG.xlink,"href",N),Wt.setAttrs(J,{x:0,y:0,preserveAspectRatio:"none",width:V+"px",height:q+"px"}),J.style.opacity=h.opacity,d.globals.dom.elDefs.node.appendChild(K)}},{key:"getSeriesIndex",value:function(h){var d=this.w;return(d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")&&d.config.plotOptions.bar.distributed||d.config.chart.type==="heatmap"||d.config.chart.type==="treemap"?this.seriesIndex=h.seriesNumber:this.seriesIndex=h.seriesNumber%d.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(h){var d=this.w;this.opts=h;var y,C,M,O=this.w.config;this.seriesIndex=this.getSeriesIndex(h);var N=this.getFillColors()[this.seriesIndex];d.globals.seriesColors[this.seriesIndex]!==void 0&&(N=d.globals.seriesColors[this.seriesIndex]),typeof N=="function"&&(N=N({seriesIndex:this.seriesIndex,dataPointIndex:h.dataPointIndex,value:h.value,w:d}));var V=h.fillType?h.fillType:this.getFillType(this.seriesIndex),q=Array.isArray(O.fill.opacity)?O.fill.opacity[this.seriesIndex]:O.fill.opacity;h.color&&(N=h.color);var K=N;if(N.indexOf("rgb")===-1?N.length<9&&(K=ct.hexToRgba(N,q)):N.indexOf("rgba")>-1&&(q=ct.getOpacityFromRGBA(N)),h.opacity&&(q=h.opacity),V==="pattern"&&(C=this.handlePatternFill({fillConfig:h.fillConfig,patternFill:C,fillColor:N,fillOpacity:q,defaultColor:K})),V==="gradient"&&(M=this.handleGradientFill({fillConfig:h.fillConfig,fillColor:N,fillOpacity:q,i:this.seriesIndex})),V==="image"){var J=O.fill.image.src,it=h.patternID?h.patternID:"";this.clippedImgArea({opacity:q,image:Array.isArray(J)?h.seriesNumber<J.length?J[h.seriesNumber]:J[0]:J,width:h.width?h.width:void 0,height:h.height?h.height:void 0,patternUnits:h.patternUnits,patternID:"pattern".concat(d.globals.cuid).concat(h.seriesNumber+1).concat(it)}),y="url(#pattern".concat(d.globals.cuid).concat(h.seriesNumber+1).concat(it,")")}else y=V==="gradient"?M:V==="pattern"?C:K;return h.solid&&(y=K),y}},{key:"getFillType",value:function(h){var d=this.w;return Array.isArray(d.config.fill.type)?d.config.fill.type[h]:d.config.fill.type}},{key:"getFillColors",value:function(){var h=this.w,d=h.config,y=this.opts,C=[];return h.globals.comboCharts?h.config.series[this.seriesIndex].type==="line"?Array.isArray(h.globals.stroke.colors)?C=h.globals.stroke.colors:C.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?C=h.globals.fill.colors:C.push(h.globals.fill.colors):d.chart.type==="line"?Array.isArray(h.globals.stroke.colors)?C=h.globals.stroke.colors:C.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?C=h.globals.fill.colors:C.push(h.globals.fill.colors),y.fillColors!==void 0&&(C=[],Array.isArray(y.fillColors)?C=y.fillColors.slice():C.push(y.fillColors)),C}},{key:"handlePatternFill",value:function(h){var d=h.fillConfig,y=h.patternFill,C=h.fillColor,M=h.fillOpacity,O=h.defaultColor,N=this.w.config.fill;d&&(N=d);var V=this.opts,q=new Wt(this.ctx),K=Array.isArray(N.pattern.strokeWidth)?N.pattern.strokeWidth[this.seriesIndex]:N.pattern.strokeWidth,J=C;return Array.isArray(N.pattern.style)?y=N.pattern.style[V.seriesNumber]!==void 0?q.drawPattern(N.pattern.style[V.seriesNumber],N.pattern.width,N.pattern.height,J,K,M):O:y=q.drawPattern(N.pattern.style,N.pattern.width,N.pattern.height,J,K,M),y}},{key:"handleGradientFill",value:function(h){var d=h.fillColor,y=h.fillOpacity,C=h.fillConfig,M=h.i,O=this.w.config.fill;C&&(O=Gt(Gt({},O),C));var N,V=this.opts,q=new Wt(this.ctx),K=new ct,J=O.gradient.type,it=d,pt=O.gradient.opacityFrom===void 0?y:Array.isArray(O.gradient.opacityFrom)?O.gradient.opacityFrom[M]:O.gradient.opacityFrom;it.indexOf("rgba")>-1&&(pt=ct.getOpacityFromRGBA(it));var Et=O.gradient.opacityTo===void 0?y:Array.isArray(O.gradient.opacityTo)?O.gradient.opacityTo[M]:O.gradient.opacityTo;if(O.gradient.gradientToColors===void 0||O.gradient.gradientToColors.length===0)N=O.gradient.shade==="dark"?K.shadeColor(-1*parseFloat(O.gradient.shadeIntensity),d.indexOf("rgb")>-1?ct.rgb2hex(d):d):K.shadeColor(parseFloat(O.gradient.shadeIntensity),d.indexOf("rgb")>-1?ct.rgb2hex(d):d);else if(O.gradient.gradientToColors[V.seriesNumber]){var Nt=O.gradient.gradientToColors[V.seriesNumber];N=Nt,Nt.indexOf("rgba")>-1&&(Et=ct.getOpacityFromRGBA(Nt))}else N=d;if(O.gradient.gradientFrom&&(it=O.gradient.gradientFrom),O.gradient.gradientTo&&(N=O.gradient.gradientTo),O.gradient.inverseColors){var ee=it;it=N,N=ee}return it.indexOf("rgb")>-1&&(it=ct.rgb2hex(it)),N.indexOf("rgb")>-1&&(N=ct.rgb2hex(N)),q.drawGradient(J,it,N,pt,Et,V.size,O.gradient.stops,O.gradient.colorStops,M)}}]),qt}(),lt=function(){function qt(h,d){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"setGlobalMarkerSize",value:function(){var h=this.w;if(h.globals.markers.size=Array.isArray(h.config.markers.size)?h.config.markers.size:[h.config.markers.size],h.globals.markers.size.length>0){if(h.globals.markers.size.length<h.globals.series.length+1)for(var d=0;d<=h.globals.series.length;d++)h.globals.markers.size[d]===void 0&&h.globals.markers.size.push(h.globals.markers.size[0])}else h.globals.markers.size=h.config.series.map(function(y){return h.config.markers.size})}},{key:"plotChartMarkers",value:function(h,d,y,C){var M,O=arguments.length>4&&arguments[4]!==void 0&&arguments[4],N=this.w,V=d,q=h,K=null,J=new Wt(this.ctx),it=N.config.markers.discrete&&N.config.markers.discrete.length;if((N.globals.markers.size[d]>0||O||it)&&(K=J.group({class:O||it?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(N.globals.cuid,")")),Array.isArray(q.x))for(var pt=0;pt<q.x.length;pt++){var Et=y;y===1&&pt===0&&(Et=0),y===1&&pt===1&&(Et=1);var Nt="apexcharts-marker";if(N.config.chart.type!=="line"&&N.config.chart.type!=="area"||N.globals.comboCharts||N.config.tooltip.intersect||(Nt+=" no-pointer-events"),(Array.isArray(N.config.markers.size)?N.globals.markers.size[d]>0:N.config.markers.size>0)||O||it){ct.isNumber(q.y[pt])?Nt+=" w".concat(ct.randomId()):Nt="apexcharts-nullpoint";var ee=this.getMarkerConfig({cssClass:Nt,seriesIndex:d,dataPointIndex:Et});N.config.series[V].data[Et]&&(N.config.series[V].data[Et].fillColor&&(ee.pointFillColor=N.config.series[V].data[Et].fillColor),N.config.series[V].data[Et].strokeColor&&(ee.pointStrokeColor=N.config.series[V].data[Et].strokeColor)),C&&(ee.pSize=C),(q.x[pt]<0||q.x[pt]>N.globals.gridWidth||q.y[pt]<0||q.y[pt]>N.globals.gridHeight)&&(ee.pSize=0),(M=J.drawMarker(q.x[pt],q.y[pt],ee)).attr("rel",Et),M.attr("j",Et),M.attr("index",d),M.node.setAttribute("default-marker-size",ee.pSize),new It(this.ctx).setSelectionFilter(M,d,Et),this.addEvents(M),K&&K.add(M)}else N.globals.pointsArray[d]===void 0&&(N.globals.pointsArray[d]=[]),N.globals.pointsArray[d].push([q.x[pt],q.y[pt]])}return K}},{key:"getMarkerConfig",value:function(h){var d=h.cssClass,y=h.seriesIndex,C=h.dataPointIndex,M=C===void 0?null:C,O=h.finishRadius,N=O===void 0?null:O,V=this.w,q=this.getMarkerStyle(y),K=V.globals.markers.size[y],J=V.config.markers;return M!==null&&J.discrete.length&&J.discrete.map(function(it){it.seriesIndex===y&&it.dataPointIndex===M&&(q.pointStrokeColor=it.strokeColor,q.pointFillColor=it.fillColor,K=it.size,q.pointShape=it.shape)}),{pSize:N===null?K:N,pRadius:J.radius,width:Array.isArray(J.width)?J.width[y]:J.width,height:Array.isArray(J.height)?J.height[y]:J.height,pointStrokeWidth:Array.isArray(J.strokeWidth)?J.strokeWidth[y]:J.strokeWidth,pointStrokeColor:q.pointStrokeColor,pointFillColor:q.pointFillColor,shape:q.pointShape||(Array.isArray(J.shape)?J.shape[y]:J.shape),class:d,pointStrokeOpacity:Array.isArray(J.strokeOpacity)?J.strokeOpacity[y]:J.strokeOpacity,pointStrokeDashArray:Array.isArray(J.strokeDashArray)?J.strokeDashArray[y]:J.strokeDashArray,pointFillOpacity:Array.isArray(J.fillOpacity)?J.fillOpacity[y]:J.fillOpacity,seriesIndex:y}}},{key:"addEvents",value:function(h){var d=this.w,y=new Wt(this.ctx);h.node.addEventListener("mouseenter",y.pathMouseEnter.bind(this.ctx,h)),h.node.addEventListener("mouseleave",y.pathMouseLeave.bind(this.ctx,h)),h.node.addEventListener("mousedown",y.pathMouseDown.bind(this.ctx,h)),h.node.addEventListener("click",d.config.markers.onClick),h.node.addEventListener("dblclick",d.config.markers.onDblClick),h.node.addEventListener("touchstart",y.pathMouseDown.bind(this.ctx,h),{passive:!0})}},{key:"getMarkerStyle",value:function(h){var d=this.w,y=d.globals.markers.colors,C=d.config.markers.strokeColor||d.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(C)?C[h]:C,pointFillColor:Array.isArray(y)?y[h]:y}}}]),qt}(),an=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return $t(qt,[{key:"draw",value:function(h,d,y){var C=this.w,M=new Wt(this.ctx),O=y.realIndex,N=y.pointsPos,V=y.zRatio,q=y.elParent,K=M.group({class:"apexcharts-series-markers apexcharts-series-".concat(C.config.chart.type)});if(K.attr("clip-path","url(#gridRectMarkerMask".concat(C.globals.cuid,")")),Array.isArray(N.x))for(var J=0;J<N.x.length;J++){var it=d+1,pt=!0;d===0&&J===0&&(it=0),d===0&&J===1&&(it=1);var Et=0,Nt=C.globals.markers.size[O];if(V!==1/0){var ee=C.config.plotOptions.bubble;Nt=C.globals.seriesZ[O][it],ee.zScaling&&(Nt/=V),ee.minBubbleRadius&&Nt<ee.minBubbleRadius&&(Nt=ee.minBubbleRadius),ee.maxBubbleRadius&&Nt>ee.maxBubbleRadius&&(Nt=ee.maxBubbleRadius)}C.config.chart.animations.enabled||(Et=Nt);var he=N.x[J],Ae=N.y[J];if(Et=Et||0,Ae!==null&&C.globals.series[O][it]!==void 0||(pt=!1),pt){var W=this.drawPoint(he,Ae,Et,Nt,O,it,d);K.add(W)}q.add(K)}}},{key:"drawPoint",value:function(h,d,y,C,M,O,N){var V=this.w,q=M,K=new ie(this.ctx),J=new It(this.ctx),it=new ht(this.ctx),pt=new lt(this.ctx),Et=new Wt(this.ctx),Nt=pt.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:q,dataPointIndex:O,finishRadius:V.config.chart.type==="bubble"||V.globals.comboCharts&&V.config.series[M]&&V.config.series[M].type==="bubble"?C:null});C=Nt.pSize;var ee,he=it.fillPath({seriesNumber:M,dataPointIndex:O,color:Nt.pointFillColor,patternUnits:"objectBoundingBox",value:V.globals.series[M][N]});if(Nt.shape==="circle"?ee=Et.drawCircle(y):Nt.shape!=="square"&&Nt.shape!=="rect"||(ee=Et.drawRect(0,0,Nt.width-Nt.pointStrokeWidth/2,Nt.height-Nt.pointStrokeWidth/2,Nt.pRadius)),V.config.series[q].data[O]&&V.config.series[q].data[O].fillColor&&(he=V.config.series[q].data[O].fillColor),ee.attr({x:h-Nt.width/2-Nt.pointStrokeWidth/2,y:d-Nt.height/2-Nt.pointStrokeWidth/2,cx:h,cy:d,fill:he,"fill-opacity":Nt.pointFillOpacity,stroke:Nt.pointStrokeColor,r:C,"stroke-width":Nt.pointStrokeWidth,"stroke-dasharray":Nt.pointStrokeDashArray,"stroke-opacity":Nt.pointStrokeOpacity}),V.config.chart.dropShadow.enabled){var Ae=V.config.chart.dropShadow;J.dropShadow(ee,Ae,M)}if(!this.initialAnim||V.globals.dataChanged||V.globals.resized)V.globals.animationEnded=!0;else{var W=V.config.chart.animations.speed;K.animateMarker(ee,0,Nt.shape==="circle"?C:{width:Nt.width,height:Nt.height},W,V.globals.easing,function(){window.setTimeout(function(){K.animationCompleted(ee)},100)})}if(V.globals.dataChanged&&Nt.shape==="circle")if(this.dynamicAnim){var rt,Ot,ce,xe,Ie=V.config.chart.animations.dynamicAnimation.speed;(xe=V.globals.previousPaths[M]&&V.globals.previousPaths[M][N])!=null&&(rt=xe.x,Ot=xe.y,ce=xe.r!==void 0?xe.r:C);for(var on=0;on<V.globals.collapsedSeries.length;on++)V.globals.collapsedSeries[on].index===M&&(Ie=1,C=0);h===0&&d===0&&(C=0),K.animateCircle(ee,{cx:rt,cy:Ot,r:ce},{cx:h,cy:d,r:C},Ie,V.globals.easing)}else ee.attr({r:C});return ee.attr({rel:O,j:O,index:M,"default-marker-size":C}),J.setSelectionFilter(ee,M,O),pt.addEvents(ee),ee.node.classList.add("apexcharts-marker"),ee}},{key:"centerTextInBubble",value:function(h){var d=this.w;return{y:h+=parseInt(d.config.dataLabels.style.fontSize,10)/4}}}]),qt}(),en=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"dataLabelsCorrection",value:function(h,d,y,C,M,O,N){var V=this.w,q=!1,K=new Wt(this.ctx).getTextRects(y,N),J=K.width,it=K.height;d<0&&(d=0),d>V.globals.gridHeight+it&&(d=V.globals.gridHeight+it/2),V.globals.dataLabelsRects[C]===void 0&&(V.globals.dataLabelsRects[C]=[]),V.globals.dataLabelsRects[C].push({x:h,y:d,width:J,height:it});var pt=V.globals.dataLabelsRects[C].length-2,Et=V.globals.lastDrawnDataLabelsIndexes[C]!==void 0?V.globals.lastDrawnDataLabelsIndexes[C][V.globals.lastDrawnDataLabelsIndexes[C].length-1]:0;if(V.globals.dataLabelsRects[C][pt]!==void 0){var Nt=V.globals.dataLabelsRects[C][Et];(h>Nt.x+Nt.width+2||d>Nt.y+Nt.height+2||h+J<Nt.x)&&(q=!0)}return(M===0||O)&&(q=!0),{x:h,y:d,textRects:K,drawnextLabel:q}}},{key:"drawDataLabel",value:function(h){var d=this,y=h.type,C=h.pos,M=h.i,O=h.j,N=h.isRangeStart,V=h.strokeWidth,q=V===void 0?2:V,K=this.w,J=new Wt(this.ctx),it=K.config.dataLabels,pt=0,Et=0,Nt=O,ee=null;if(!it.enabled||!Array.isArray(C.x))return ee;ee=J.group({class:"apexcharts-data-labels"});for(var he=0;he<C.x.length;he++)if(pt=C.x[he]+it.offsetX,Et=C.y[he]+it.offsetY+q,!isNaN(pt)){O===1&&he===0&&(Nt=0),O===1&&he===1&&(Nt=1);var Ae=K.globals.series[M][Nt];y==="rangeArea"&&(Ae=N?K.globals.seriesRangeStart[M][Nt]:K.globals.seriesRangeEnd[M][Nt]);var W="",rt=function(Ot){return K.config.dataLabels.formatter(Ot,{ctx:d.ctx,seriesIndex:M,dataPointIndex:Nt,w:K})};K.config.chart.type==="bubble"?(W=rt(Ae=K.globals.seriesZ[M][Nt]),Et=C.y[he],Et=new an(this.ctx).centerTextInBubble(Et,M,Nt).y):Ae!==void 0&&(W=rt(Ae)),this.plotDataLabelsText({x:pt,y:Et,text:W,i:M,j:Nt,parent:ee,offsetCorrection:!0,dataLabelsConfig:K.config.dataLabels})}return ee}},{key:"plotDataLabelsText",value:function(h){var d=this.w,y=new Wt(this.ctx),C=h.x,M=h.y,O=h.i,N=h.j,V=h.text,q=h.textAnchor,K=h.fontSize,J=h.parent,it=h.dataLabelsConfig,pt=h.color,Et=h.alwaysDrawDataLabel,Nt=h.offsetCorrection;if(!(Array.isArray(d.config.dataLabels.enabledOnSeries)&&d.config.dataLabels.enabledOnSeries.indexOf(O)<0)){var ee={x:C,y:M,drawnextLabel:!0,textRects:null};Nt&&(ee=this.dataLabelsCorrection(C,M,V,O,N,Et,parseInt(it.style.fontSize,10))),d.globals.zoomed||(C=ee.x,M=ee.y),ee.textRects&&(C<-10-ee.textRects.width||C>d.globals.gridWidth+ee.textRects.width+10)&&(V="");var he=d.globals.dataLabels.style.colors[O];((d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")&&d.config.plotOptions.bar.distributed||d.config.dataLabels.distributed)&&(he=d.globals.dataLabels.style.colors[N]),typeof he=="function"&&(he=he({series:d.globals.series,seriesIndex:O,dataPointIndex:N,w:d})),pt&&(he=pt);var Ae=it.offsetX,W=it.offsetY;if(d.config.chart.type!=="bar"&&d.config.chart.type!=="rangeBar"||(Ae=0,W=0),ee.drawnextLabel){var rt=y.drawText({width:100,height:parseInt(it.style.fontSize,10),x:C+Ae,y:M+W,foreColor:he,textAnchor:q||it.textAnchor,text:V,fontSize:K||it.style.fontSize,fontFamily:it.style.fontFamily,fontWeight:it.style.fontWeight||"normal"});if(rt.attr({class:"apexcharts-datalabel",cx:C,cy:M}),it.dropShadow.enabled){var Ot=it.dropShadow;new It(this.ctx).dropShadow(rt,Ot)}J.add(rt),d.globals.lastDrawnDataLabelsIndexes[O]===void 0&&(d.globals.lastDrawnDataLabelsIndexes[O]=[]),d.globals.lastDrawnDataLabelsIndexes[O].push(N)}}}},{key:"addBackgroundToDataLabel",value:function(h,d){var y=this.w,C=y.config.dataLabels.background,M=C.padding,O=C.padding/2,N=d.width,V=d.height,q=new Wt(this.ctx).drawRect(d.x-M,d.y-O/2,N+2*M,V+O,C.borderRadius,y.config.chart.background==="transparent"?"#fff":y.config.chart.background,C.opacity,C.borderWidth,C.borderColor);return C.dropShadow.enabled&&new It(this.ctx).dropShadow(q,C.dropShadow),q}},{key:"dataLabelsBackground",value:function(){var h=this.w;if(h.config.chart.type!=="bubble")for(var d=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),y=0;y<d.length;y++){var C=d[y],M=C.getBBox(),O=null;if(M.width&&M.height&&(O=this.addBackgroundToDataLabel(C,M)),O){C.parentNode.insertBefore(O.node,C);var N=C.getAttribute("fill");h.config.chart.animations.enabled&&!h.globals.resized&&!h.globals.dataChanged?O.animate().attr({fill:N}):O.attr({fill:N}),C.setAttribute("fill",h.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var h=this.w,d=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),y=h.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),C=0;C<d.length;C++)y&&y.insertBefore(d[C],y.nextSibling)}}]),qt}(),je=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.legendInactiveClass="legend-mouseover-inactive"}return $t(qt,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(h){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ct.escapeString(h),"']"))}},{key:"isSeriesHidden",value:function(h){var d=this.getSeriesByName(h),y=parseInt(d.getAttribute("data:realIndex"),10);return{isHidden:d.classList.contains("apexcharts-series-collapsed"),realIndex:y}}},{key:"addCollapsedClassToSeries",value:function(h,d){var y=this.w;function C(M){for(var O=0;O<M.length;O++)M[O].index===d&&h.node.classList.add("apexcharts-series-collapsed")}C(y.globals.collapsedSeries),C(y.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(h){var d=this.isSeriesHidden(h);return this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,d.isHidden),d.isHidden}},{key:"showSeries",value:function(h){var d=this.isSeriesHidden(h);d.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!0)}},{key:"hideSeries",value:function(h){var d=this.isSeriesHidden(h);d.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!1)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=this.w,M=ct.clone(C.globals.initialSeries);C.globals.previousPaths=[],y?(C.globals.collapsedSeries=[],C.globals.ancillaryCollapsedSeries=[],C.globals.collapsedSeriesIndices=[],C.globals.ancillaryCollapsedSeriesIndices=[]):M=this.emptyCollapsedSeries(M),C.config.series=M,h&&(d&&(C.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(M,C.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(h){for(var d=this.w,y=0;y<h.length;y++)d.globals.collapsedSeriesIndices.indexOf(y)>-1&&(h[y].data=[]);return h}},{key:"toggleSeriesOnHover",value:function(h,d){var y=this.w;d||(d=h.target);var C=y.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(h.type==="mousemove"){var M=parseInt(d.getAttribute("rel"),10)-1,O=null,N=null;y.globals.axisCharts||y.config.chart.type==="radialBar"?y.globals.axisCharts?(O=y.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(M,"']")),N=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(M,"']"))):O=y.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(M+1,"']")):O=y.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(M+1,"'] path"));for(var V=0;V<C.length;V++)C[V].classList.add(this.legendInactiveClass);O!==null&&(y.globals.axisCharts||O.parentNode.classList.remove(this.legendInactiveClass),O.classList.remove(this.legendInactiveClass),N!==null&&N.classList.remove(this.legendInactiveClass))}else if(h.type==="mouseout")for(var q=0;q<C.length;q++)C[q].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(h,d){var y=this,C=this.w,M=C.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),O=function(V){for(var q=0;q<M.length;q++)M[q].classList[V](y.legendInactiveClass)};if(h.type==="mousemove"){var N=parseInt(d.getAttribute("rel"),10)-1;O("add"),function(V){for(var q=0;q<M.length;q++){var K=parseInt(M[q].getAttribute("val"),10);K>=V.from&&K<=V.to&&M[q].classList.remove(y.legendInactiveClass)}}(C.config.plotOptions.heatmap.colorScale.ranges[N])}else h.type==="mouseout"&&O("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=this.w,C=0;if(y.config.series.length>1){for(var M=y.config.series.map(function(N,V){return N.data&&N.data.length>0&&y.globals.collapsedSeriesIndices.indexOf(V)===-1&&(!y.globals.comboCharts||d.length===0||d.length&&d.indexOf(y.config.series[V].type)>-1)?V:-1}),O=h==="asc"?0:M.length-1;h==="asc"?O<M.length:O>=0;h==="asc"?O++:O--)if(M[O]!==-1){C=M[O];break}}return C}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(h,d){return h.type==="bar"||h.type==="column"?d:-1}).filter(function(h){return h!==-1}):this.w.config.series.map(function(h,d){return d})}},{key:"getPreviousPaths",value:function(){var h=this.w;function d(O,N,V){for(var q=O[N].childNodes,K={type:V,paths:[],realIndex:O[N].getAttribute("data:realIndex")},J=0;J<q.length;J++)if(q[J].hasAttribute("pathTo")){var it=q[J].getAttribute("pathTo");K.paths.push({d:it})}h.globals.previousPaths.push(K)}h.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(O){for(var N,V=(N=O,h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(N,"-series .apexcharts-series"))),q=0;q<V.length;q++)d(V,q,O)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var y=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series"));if(y.length>0)for(var C=function(O){for(var N=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(O,"'] rect")),V=[],q=function(J){var it=function(Et){return N[J].getAttribute(Et)},pt={x:parseFloat(it("x")),y:parseFloat(it("y")),width:parseFloat(it("width")),height:parseFloat(it("height"))};V.push({rect:pt,color:N[J].getAttribute("color")})},K=0;K<N.length;K++)q(K);h.globals.previousPaths.push(V)},M=0;M<y.length;M++)C(M);h.globals.axisCharts||(h.globals.previousPaths=h.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(h){var d=this.w,y=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series"));if(y.length>0)for(var C=0;C<y.length;C++){for(var M=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series[data\\:realIndex='").concat(C,"'] circle")),O=[],N=0;N<M.length;N++)O.push({x:M[N].getAttribute("cx"),y:M[N].getAttribute("cy"),r:M[N].getAttribute("r")});d.globals.previousPaths.push(O)}}},{key:"clearPreviousPaths",value:function(){var h=this.w;h.globals.previousPaths=[],h.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var h=this.w,d=h.config.noData,y=new Wt(this.ctx),C=h.globals.svgWidth/2,M=h.globals.svgHeight/2,O="middle";if(h.globals.noData=!0,h.globals.animationEnded=!0,d.align==="left"?(C=10,O="start"):d.align==="right"&&(C=h.globals.svgWidth-10,O="end"),d.verticalAlign==="top"?M=50:d.verticalAlign==="bottom"&&(M=h.globals.svgHeight-50),C+=d.offsetX,M=M+parseInt(d.style.fontSize,10)+2+d.offsetY,d.text!==void 0&&d.text!==""){var N=y.drawText({x:C,y:M,text:d.text,textAnchor:O,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,foreColor:d.style.color,opacity:1,class:"apexcharts-text-nodata"});h.globals.dom.Paper.add(N)}}},{key:"setNullSeriesToZeroValues",value:function(h){for(var d=this.w,y=0;y<h.length;y++)if(h[y].length===0)for(var C=0;C<h[d.globals.maxValsInArrayIndex].length;C++)h[y].push(0);return h}},{key:"hasAllSeriesEqualX",value:function(){for(var h=!0,d=this.w,y=this.filteredSeriesX(),C=0;C<y.length-1;C++)if(y[C][0]!==y[C+1][0]){h=!1;break}return d.globals.allSeriesHasEqualX=h,h}},{key:"filteredSeriesX",value:function(){var h=this.w.globals.seriesX.map(function(d){return d.length>0?d:[]});return h}}]),qt}(),Qe=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new te(this.ctx)}return $t(qt,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var h=this.w.config.series.slice(),d=new je(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),h[this.activeSeriesIndex].data!==void 0&&h[this.activeSeriesIndex].data.length>0&&h[this.activeSeriesIndex].data[0]!==null&&h[this.activeSeriesIndex].data[0].x!==void 0&&h[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var h=this.w.config.series.slice(),d=new je(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),h[this.activeSeriesIndex].data!==void 0&&h[this.activeSeriesIndex].data.length>0&&h[this.activeSeriesIndex].data[0]!==void 0&&h[this.activeSeriesIndex].data[0]!==null&&h[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(h,d){for(var y=this.w.config,C=this.w.globals,M=y.chart.type==="boxPlot"||y.series[d].type==="boxPlot",O=0;O<h[d].data.length;O++)if(h[d].data[O][1]!==void 0&&(Array.isArray(h[d].data[O][1])&&h[d].data[O][1].length===4&&!M?this.twoDSeries.push(ct.parseNumber(h[d].data[O][1][3])):h[d].data[O].length>=5?this.twoDSeries.push(ct.parseNumber(h[d].data[O][4])):this.twoDSeries.push(ct.parseNumber(h[d].data[O][1])),C.dataFormatXNumeric=!0),y.xaxis.type==="datetime"){var N=new Date(h[d].data[O][0]);N=new Date(N).getTime(),this.twoDSeriesX.push(N)}else this.twoDSeriesX.push(h[d].data[O][0]);for(var V=0;V<h[d].data.length;V++)h[d].data[V][2]!==void 0&&(this.threeDSeries.push(h[d].data[V][2]),C.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(h,d){var y=this.w.config,C=this.w.globals,M=new De(this.ctx),O=d;C.collapsedSeriesIndices.indexOf(d)>-1&&(O=this.activeSeriesIndex);for(var N=0;N<h[d].data.length;N++)h[d].data[N].y!==void 0&&(Array.isArray(h[d].data[N].y)?this.twoDSeries.push(ct.parseNumber(h[d].data[N].y[h[d].data[N].y.length-1])):this.twoDSeries.push(ct.parseNumber(h[d].data[N].y))),h[d].data[N].goals!==void 0&&Array.isArray(h[d].data[N].goals)?(this.seriesGoals[d]===void 0&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(h[d].data[N].goals)):(this.seriesGoals[d]===void 0&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(null));for(var V=0;V<h[O].data.length;V++){var q=typeof h[O].data[V].x=="string",K=Array.isArray(h[O].data[V].x),J=!K&&!!M.isValidDate(h[O].data[V].x.toString());if(q||J)if(q||y.xaxis.convertedCatToNumeric){var it=C.isBarHorizontal&&C.isRangeData;y.xaxis.type!=="datetime"||it?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[O].data[V].x)):this.twoDSeriesX.push(M.parseDate(h[O].data[V].x))}else y.xaxis.type==="datetime"?this.twoDSeriesX.push(M.parseDate(h[O].data[V].x.toString())):(C.dataFormatXNumeric=!0,C.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(h[O].data[V].x)));else K?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[O].data[V].x)):(C.isXNumeric=!0,C.dataFormatXNumeric=!0,this.twoDSeriesX.push(h[O].data[V].x))}if(h[d].data[0]&&h[d].data[0].z!==void 0){for(var pt=0;pt<h[d].data.length;pt++)this.threeDSeries.push(h[d].data[pt].z);C.isDataXYZ=!0}}},{key:"handleRangeData",value:function(h,d){var y=this.w.globals,C={};return this.isFormat2DArray()?C=this.handleRangeDataFormat("array",h,d):this.isFormatXY()&&(C=this.handleRangeDataFormat("xy",h,d)),y.seriesRangeStart.push(C.start),y.seriesRangeEnd.push(C.end),y.seriesRange.push(C.rangeUniques),y.seriesRange.forEach(function(M,O){M&&M.forEach(function(N,V){N.y.forEach(function(q,K){for(var J=0;J<N.y.length;J++)if(K!==J){var it=q.y1,pt=q.y2,Et=N.y[J].y1;it<=N.y[J].y2&&Et<=pt&&(N.overlaps.indexOf(q.rangeName)<0&&N.overlaps.push(q.rangeName),N.overlaps.indexOf(N.y[J].rangeName)<0&&N.overlaps.push(N.y[J].rangeName))}})})}),C}},{key:"handleCandleStickBoxData",value:function(h,d){var y=this.w.globals,C={};return this.isFormat2DArray()?C=this.handleCandleStickBoxDataFormat("array",h,d):this.isFormatXY()&&(C=this.handleCandleStickBoxDataFormat("xy",h,d)),y.seriesCandleO[d]=C.o,y.seriesCandleH[d]=C.h,y.seriesCandleM[d]=C.m,y.seriesCandleL[d]=C.l,y.seriesCandleC[d]=C.c,C}},{key:"handleRangeDataFormat",value:function(h,d,y){var C=[],M=[],O=d[y].data.filter(function(K,J,it){return J===it.findIndex(function(pt){return pt.x===K.x})}).map(function(K,J){return{x:K.x,overlaps:[],y:[]}});if(h==="array")for(var N=0;N<d[y].data.length;N++)Array.isArray(d[y].data[N])?(C.push(d[y].data[N][1][0]),M.push(d[y].data[N][1][1])):(C.push(d[y].data[N]),M.push(d[y].data[N]));else if(h==="xy")for(var V=function(K){var J=Array.isArray(d[y].data[K].y),it=ct.randomId(),pt=d[y].data[K].x,Et={y1:J?d[y].data[K].y[0]:d[y].data[K].y,y2:J?d[y].data[K].y[1]:d[y].data[K].y,rangeName:it};d[y].data[K].rangeName=it;var Nt=O.findIndex(function(ee){return ee.x===pt});O[Nt].y.push(Et),C.push(Et.y1),M.push(Et.y2)},q=0;q<d[y].data.length;q++)V(q);return{start:C,end:M,rangeUniques:O}}},{key:"handleCandleStickBoxDataFormat",value:function(h,d,y){var C=this.w,M=C.config.chart.type==="boxPlot"||C.config.series[y].type==="boxPlot",O=[],N=[],V=[],q=[],K=[];if(h==="array")if(M&&d[y].data[0].length===6||!M&&d[y].data[0].length===5)for(var J=0;J<d[y].data.length;J++)O.push(d[y].data[J][1]),N.push(d[y].data[J][2]),M?(V.push(d[y].data[J][3]),q.push(d[y].data[J][4]),K.push(d[y].data[J][5])):(q.push(d[y].data[J][3]),K.push(d[y].data[J][4]));else for(var it=0;it<d[y].data.length;it++)Array.isArray(d[y].data[it][1])&&(O.push(d[y].data[it][1][0]),N.push(d[y].data[it][1][1]),M?(V.push(d[y].data[it][1][2]),q.push(d[y].data[it][1][3]),K.push(d[y].data[it][1][4])):(q.push(d[y].data[it][1][2]),K.push(d[y].data[it][1][3])));else if(h==="xy")for(var pt=0;pt<d[y].data.length;pt++)Array.isArray(d[y].data[pt].y)&&(O.push(d[y].data[pt].y[0]),N.push(d[y].data[pt].y[1]),M?(V.push(d[y].data[pt].y[2]),q.push(d[y].data[pt].y[3]),K.push(d[y].data[pt].y[4])):(q.push(d[y].data[pt].y[2]),K.push(d[y].data[pt].y[3])));return{o:O,h:N,m:V,l:q,c:K}}},{key:"parseDataAxisCharts",value:function(h){var d,y=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,M=this.w.config,O=this.w.globals,N=new De(C),V=M.labels.length>0?M.labels.slice():M.xaxis.categories.slice();if(O.isRangeBar=M.chart.type==="rangeBar"&&O.isBarHorizontal,O.hasXaxisGroups=M.xaxis.type==="category"&&M.xaxis.group.groups.length>0,O.hasXaxisGroups&&(O.groups=M.xaxis.group.groups),O.hasSeriesGroups=(d=h[0])===null||d===void 0?void 0:d.group,O.hasSeriesGroups){var q=[],K=Pt(new Set(h.map(function(Et){return Et.group})));h.forEach(function(Et,Nt){var ee=K.indexOf(Et.group);q[ee]||(q[ee]=[]),q[ee].push(Et.name)}),O.seriesGroups=q}for(var J=function(){for(var Et=0;Et<V.length;Et++)if(typeof V[Et]=="string"){if(!N.isValidDate(V[Et]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");y.twoDSeriesX.push(N.parseDate(V[Et]))}else y.twoDSeriesX.push(V[Et])},it=0;it<h.length;it++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],h[it].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(M.chart.type!=="rangeBar"&&M.chart.type!=="rangeArea"&&h[it].type!=="rangeBar"&&h[it].type!=="rangeArea"||(O.isRangeData=!0,O.isComboCharts?h[it].type!=="rangeBar"&&h[it].type!=="rangeArea"||this.handleRangeData(h,it):M.chart.type!=="rangeBar"&&M.chart.type!=="rangeArea"||this.handleRangeData(h,it)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(h,it):this.isFormatXY()&&this.handleFormatXY(h,it),M.chart.type!=="candlestick"&&h[it].type!=="candlestick"&&M.chart.type!=="boxPlot"&&h[it].type!=="boxPlot"||this.handleCandleStickBoxData(h,it),O.series.push(this.twoDSeries),O.labels.push(this.twoDSeriesX),O.seriesX.push(this.twoDSeriesX),O.seriesGoals=this.seriesGoals,it!==this.activeSeriesIndex||this.fallbackToCategory||(O.isXNumeric=!0);else{M.xaxis.type==="datetime"?(O.isXNumeric=!0,J(),O.seriesX.push(this.twoDSeriesX)):M.xaxis.type==="numeric"&&(O.isXNumeric=!0,V.length>0&&(this.twoDSeriesX=V,O.seriesX.push(this.twoDSeriesX))),O.labels.push(this.twoDSeriesX);var pt=h[it].data.map(function(Et){return ct.parseNumber(Et)});O.series.push(pt)}O.seriesZ.push(this.threeDSeries),h[it].name!==void 0?O.seriesNames.push(h[it].name):O.seriesNames.push("series-"+parseInt(it+1,10)),h[it].color!==void 0?O.seriesColors.push(h[it].color):O.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(h){var d=this.w.globals,y=this.w.config;d.series=h.slice(),d.seriesNames=y.labels.slice();for(var C=0;C<d.series.length;C++)d.seriesNames[C]===void 0&&d.seriesNames.push("series-"+(C+1));return this.w}},{key:"handleExternalLabelsData",value:function(h){var d=this.w.config,y=this.w.globals;d.xaxis.categories.length>0?y.labels=d.xaxis.categories:d.labels.length>0?y.labels=d.labels.slice():this.fallbackToCategory?(y.labels=y.labels[0],y.seriesRange.length&&(y.seriesRange.map(function(C){C.forEach(function(M){y.labels.indexOf(M.x)<0&&M.x&&y.labels.push(M.x)})}),y.labels=y.labels.filter(function(C,M,O){return O.indexOf(C)===M})),d.xaxis.convertedCatToNumeric&&(new dn(d).convertCatToNumericXaxis(d,this.ctx,y.seriesX[0]),this._generateExternalLabels(h))):this._generateExternalLabels(h)}},{key:"_generateExternalLabels",value:function(h){var d=this.w.globals,y=this.w.config,C=[];if(d.axisCharts){if(d.series.length>0)if(this.isFormatXY())for(var M=y.series.map(function(J,it){return J.data.filter(function(pt,Et,Nt){return Nt.findIndex(function(ee){return ee.x===pt.x})===Et})}),O=M.reduce(function(J,it,pt,Et){return Et[J].length>it.length?J:pt},0),N=0;N<M[O].length;N++)C.push(N+1);else for(var V=0;V<d.series[d.maxValsInArrayIndex].length;V++)C.push(V+1);d.seriesX=[];for(var q=0;q<h.length;q++)d.seriesX.push(C);d.isXNumeric=!0}if(C.length===0){C=d.axisCharts?[]:d.series.map(function(J,it){return it+1});for(var K=0;K<h.length;K++)d.seriesX.push(C)}d.labels=C,y.xaxis.convertedCatToNumeric&&(d.categoryLabels=C.map(function(J){return y.xaxis.labels.formatter(J)})),d.noLabelsProvided=!0}},{key:"parseData",value:function(h){var d=this.w,y=d.config,C=d.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),C.axisCharts?(this.parseDataAxisCharts(h),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(h),y.chart.type==="bar"&&y.chart.stacked){var M=new je(this.ctx);C.series=M.setNullSeriesToZeroValues(C.series)}this.coreUtils.getSeriesTotals(),C.axisCharts&&(C.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),C.dataFormatXNumeric||C.isXNumeric&&(y.xaxis.type!=="numeric"||y.labels.length!==0||y.xaxis.categories.length!==0)||this.handleExternalLabelsData(h);for(var O=this.coreUtils.getCategoryLabels(C.labels),N=0;N<O.length;N++)if(Array.isArray(O[N])){C.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var h=this,d=this.w;d.globals.ignoreYAxisIndexes=d.globals.collapsedSeries.map(function(y,C){if(h.w.globals.isMultipleYAxis&&!d.config.chart.stacked)return y.index})}}]),qt}(),Te=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"getLabel",value:function(h,d,y,C){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",N=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],V=this.w,q=h[C]===void 0?"":h[C],K=q,J=V.globals.xLabelFormatter,it=V.config.xaxis.labels.formatter,pt=!1,Et=new me(this.ctx),Nt=q;N&&(K=Et.xLabelFormat(J,q,Nt,{i:C,dateFormatter:new De(this.ctx).formatDate,w:V}),it!==void 0&&(K=it(q,h[C],{i:C,dateFormatter:new De(this.ctx).formatDate,w:V})));var ee,he;d.length>0?(ee=d[C].unit,he=null,d.forEach(function(Ot){Ot.unit==="month"?he="year":Ot.unit==="day"?he="month":Ot.unit==="hour"?he="day":Ot.unit==="minute"&&(he="hour")}),pt=he===ee,y=d[C].position,K=d[C].value):V.config.xaxis.type==="datetime"&&it===void 0&&(K=""),K===void 0&&(K=""),K=Array.isArray(K)?K:K.toString();var Ae=new Wt(this.ctx),W={};W=V.globals.rotateXLabels&&N?Ae.getTextRects(K,parseInt(O,10),null,"rotate(".concat(V.config.xaxis.labels.rotate," 0 0)"),!1):Ae.getTextRects(K,parseInt(O,10));var rt=!V.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(K)&&(K.indexOf("NaN")===0||K.toLowerCase().indexOf("invalid")===0||K.toLowerCase().indexOf("infinity")>=0||M.indexOf(K)>=0&&rt)&&(K=""),{x:y,text:K,textRect:W,isBold:pt}}},{key:"checkLabelBasedOnTickamount",value:function(h,d,y){var C=this.w,M=C.config.xaxis.tickAmount;return M==="dataPoints"&&(M=Math.round(C.globals.gridWidth/120)),M>y||h%Math.round(y/(M+1))==0||(d.text=""),d}},{key:"checkForOverflowingLabels",value:function(h,d,y,C,M){var O=this.w;if(h===0&&O.globals.skipFirstTimelinelabel&&(d.text=""),h===y-1&&O.globals.skipLastTimelinelabel&&(d.text=""),O.config.xaxis.labels.hideOverlappingLabels&&C.length>0){var N=M[M.length-1];d.x<N.textRect.width/(O.globals.rotateXLabels?Math.abs(O.config.xaxis.labels.rotate)/12:1.01)+N.x&&(d.text="")}return d}},{key:"checkForReversedLabels",value:function(h,d){var y=this.w;return y.config.yaxis[h]&&y.config.yaxis[h].reversed&&d.reverse(),d}},{key:"isYAxisHidden",value:function(h){var d=this.w,y=new te(this.ctx);return!d.config.yaxis[h].show||!d.config.yaxis[h].showForNullSeries&&y.isSeriesNull(h)&&d.globals.collapsedSeriesIndices.indexOf(h)===-1}},{key:"getYAxisForeColor",value:function(h,d){var y=this.w;return Array.isArray(h)&&y.globals.yAxisScale[d]&&this.ctx.theme.pushExtraColors(h,y.globals.yAxisScale[d].result.length,!1),h}},{key:"drawYAxisTicks",value:function(h,d,y,C,M,O,N){var V=this.w,q=new Wt(this.ctx),K=V.globals.translateY;if(C.show&&d>0){V.config.yaxis[M].opposite===!0&&(h+=C.width);for(var J=d;J>=0;J--){var it=K+d/10+V.config.yaxis[M].labels.offsetY-1;V.globals.isBarHorizontal&&(it=O*J),V.config.chart.type==="heatmap"&&(it+=O/2);var pt=q.drawLine(h+y.offsetX-C.width+C.offsetX,it+C.offsetY,h+y.offsetX+C.offsetX,it+C.offsetY,C.color);N.add(pt),K+=O}}}}]),qt}(),_n=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"scaleSvgNode",value:function(h,d){var y=parseFloat(h.getAttributeNS(null,"width")),C=parseFloat(h.getAttributeNS(null,"height"));h.setAttributeNS(null,"width",y*d),h.setAttributeNS(null,"height",C*d),h.setAttributeNS(null,"viewBox","0 0 "+y+" "+C)}},{key:"fixSvgStringForIe11",value:function(h){if(!ct.isIE11())return h.replace(/&nbsp;/g,"&#160;");var d=0,y=h.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(C){return++d===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':C});return y=(y=y.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(h){h==null&&(h=1);var d=this.w.globals.dom.Paper.svg();if(h!==1){var y=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(y,h),d=new XMLSerializer().serializeToString(y)}return this.fixSvgStringForIe11(d)}},{key:"cleanup",value:function(){var h=this.w,d=h.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),y=h.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),C=h.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(C,function(M){M.setAttribute("width",0)}),d&&d[0]&&(d[0].setAttribute("x",-500),d[0].setAttribute("x1",-500),d[0].setAttribute("x2",-500)),y&&y[0]&&(y[0].setAttribute("y",-100),y[0].setAttribute("y1",-100),y[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var h=this.getSvgString(),d=new Blob([h],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(d)}},{key:"dataURI",value:function(h){var d=this;return new Promise(function(y){var C=d.w,M=h?h.scale||h.width/C.globals.svgWidth:1;d.cleanup();var O=document.createElement("canvas");O.width=C.globals.svgWidth*M,O.height=parseInt(C.globals.dom.elWrap.style.height,10)*M;var N=C.config.chart.background==="transparent"?"#fff":C.config.chart.background,V=O.getContext("2d");V.fillStyle=N,V.fillRect(0,0,O.width*M,O.height*M);var q=d.getSvgString(M);if(window.canvg&&ct.isIE11()){var K=window.canvg.Canvg.fromString(V,q,{ignoreClear:!0,ignoreDimensions:!0});K.start();var J=O.msToBlob();K.stop(),y({blob:J})}else{var it="data:image/svg+xml,"+encodeURIComponent(q),pt=new Image;pt.crossOrigin="anonymous",pt.onload=function(){if(V.drawImage(pt,0,0),O.msToBlob){var Et=O.msToBlob();y({blob:Et})}else{var Nt=O.toDataURL("image/png");y({imgURI:Nt})}},pt.src=it}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var h=this;this.dataURI().then(function(d){var y=d.imgURI,C=d.blob;C?navigator.msSaveOrOpenBlob(C,h.w.globals.chartID+".png"):h.triggerDownload(y,h.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(h){var d=this,y=h.series,C=h.fileName,M=h.columnDelimiter,O=M===void 0?",":M,N=h.lineDelimiter,V=N===void 0?`
`:N,q=this.w;y||(y=q.config.series);var K=[],J=[],it="",pt=q.globals.series.map(function(W,rt){return q.globals.collapsedSeriesIndices.indexOf(rt)===-1?W:[]}),Et=Math.max.apply(Math,Pt(y.map(function(W){return W.data?W.data.length:0}))),Nt=new Qe(this.ctx),ee=new Te(this.ctx),he=function(W){var rt="";if(q.globals.axisCharts){if(q.config.xaxis.type==="category"||q.config.xaxis.convertedCatToNumeric)if(q.globals.isBarHorizontal){var Ot=q.globals.yLabelFormatters[0],ce=new je(d.ctx).getActiveConfigSeriesIndex();rt=Ot(q.globals.labels[W],{seriesIndex:ce,dataPointIndex:W,w:q})}else rt=ee.getLabel(q.globals.labels,q.globals.timescaleLabels,0,W).text;q.config.xaxis.type==="datetime"&&(q.config.xaxis.categories.length?rt=q.config.xaxis.categories[W]:q.config.labels.length&&(rt=q.config.labels[W]))}else rt=q.config.labels[W];return Array.isArray(rt)&&(rt=rt.join(" ")),ct.isNumber(rt)?rt:rt.split(O).join("")},Ae=function(W,rt){if(K.length&&rt===0&&J.push(K.join(O)),W.data){W.data=W.data.length&&W.data||Pt(Array(Et)).map(function(){return""});for(var Ot=0;Ot<W.data.length;Ot++){K=[];var ce=he(Ot);if(ce||(Nt.isFormatXY()?ce=y[rt].data[Ot].x:Nt.isFormat2DArray()&&(ce=y[rt].data[Ot]?y[rt].data[Ot][0]:"")),rt===0){K.push((Ie=ce,q.config.xaxis.type==="datetime"&&String(Ie).length>=10?q.config.chart.toolbar.export.csv.dateFormatter(ce):ct.isNumber(ce)?ce:ce.split(O).join("")));for(var xe=0;xe<q.globals.series.length;xe++)Nt.isFormatXY()?K.push(y[xe].data[Ot].y):K.push(pt[xe][Ot])}(q.config.chart.type==="candlestick"||W.type&&W.type==="candlestick")&&(K.pop(),K.push(q.globals.seriesCandleO[rt][Ot]),K.push(q.globals.seriesCandleH[rt][Ot]),K.push(q.globals.seriesCandleL[rt][Ot]),K.push(q.globals.seriesCandleC[rt][Ot])),(q.config.chart.type==="boxPlot"||W.type&&W.type==="boxPlot")&&(K.pop(),K.push(q.globals.seriesCandleO[rt][Ot]),K.push(q.globals.seriesCandleH[rt][Ot]),K.push(q.globals.seriesCandleM[rt][Ot]),K.push(q.globals.seriesCandleL[rt][Ot]),K.push(q.globals.seriesCandleC[rt][Ot])),q.config.chart.type==="rangeBar"&&(K.pop(),K.push(q.globals.seriesRangeStart[rt][Ot]),K.push(q.globals.seriesRangeEnd[rt][Ot])),K.length&&J.push(K.join(O))}}var Ie};K.push(q.config.chart.toolbar.export.csv.headerCategory),q.config.chart.type==="boxPlot"?(K.push("minimum"),K.push("q1"),K.push("median"),K.push("q3"),K.push("maximum")):q.config.chart.type==="candlestick"?(K.push("open"),K.push("high"),K.push("low"),K.push("close")):q.config.chart.type==="rangeBar"?(K.push("minimum"),K.push("maximum")):y.map(function(W,rt){var Ot=W.name?W.name:"series-".concat(rt);q.globals.axisCharts&&K.push(Ot.split(O).join("")?Ot.split(O).join(""):"series-".concat(rt))}),q.globals.axisCharts||(K.push(q.config.chart.toolbar.export.csv.headerValue),J.push(K.join(O))),y.map(function(W,rt){q.globals.axisCharts?Ae(W,rt):((K=[]).push(q.globals.labels[rt].split(O).join("")),K.push(pt[rt]),J.push(K.join(O)))}),it+=J.join(V),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+it),C||q.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(h,d,y){var C=document.createElement("a");C.href=h,C.download=(d||this.w.globals.chartID)+y,document.body.appendChild(C),C.click(),document.body.removeChild(C)}}]),qt}(),Be=function(){function qt(h,d){Qt(this,qt),this.ctx=h,this.elgrid=d,this.w=h.w;var y=this.w;this.axesUtils=new Te(h),this.xaxisLabels=y.globals.labels.slice(),y.globals.timescaleLabels.length>0&&!y.globals.isBarHorizontal&&(this.xaxisLabels=y.globals.timescaleLabels.slice()),y.config.xaxis.overwriteCategories&&(this.xaxisLabels=y.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],y.config.xaxis.position==="top"?this.offY=0:this.offY=y.globals.gridHeight+1,this.offY=this.offY+y.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=y.config.chart.type==="bar"&&y.config.plotOptions.bar.horizontal,this.xaxisFontSize=y.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=y.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=y.config.xaxis.labels.style.colors,this.xaxisBorderWidth=y.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=y.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=y.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=y.config.xaxis.axisBorder.height,this.yaxis=y.config.yaxis[0]}return $t(qt,[{key:"drawXaxis",value:function(){var h=this.w,d=new Wt(this.ctx),y=d.group({class:"apexcharts-xaxis",transform:"translate(".concat(h.config.xaxis.offsetX,", ").concat(h.config.xaxis.offsetY,")")}),C=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(h.globals.translateXAxisX,", ").concat(h.globals.translateXAxisY,")")});y.add(C);for(var M=[],O=0;O<this.xaxisLabels.length;O++)M.push(this.xaxisLabels[O]);if(this.drawXAxisLabelAndGroup(!0,d,C,M,h.globals.isXNumeric,function(Et,Nt){return Nt}),h.globals.hasXaxisGroups){var N=h.globals.groups;M=[];for(var V=0;V<N.length;V++)M.push(N[V].title);var q={};h.config.xaxis.group.style&&(q.xaxisFontSize=h.config.xaxis.group.style.fontSize,q.xaxisFontFamily=h.config.xaxis.group.style.fontFamily,q.xaxisForeColors=h.config.xaxis.group.style.colors,q.fontWeight=h.config.xaxis.group.style.fontWeight,q.cssClass=h.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,d,C,M,!1,function(Et,Nt){return N[Et].cols*Nt},q)}if(h.config.xaxis.title.text!==void 0){var K=d.group({class:"apexcharts-xaxis-title"}),J=d.drawText({x:h.globals.gridWidth/2+h.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(h.config.xaxis.position==="bottom"?h.globals.xAxisLabelsHeight:-h.globals.xAxisLabelsHeight-10)+h.config.xaxis.title.offsetY,text:h.config.xaxis.title.text,textAnchor:"middle",fontSize:h.config.xaxis.title.style.fontSize,fontFamily:h.config.xaxis.title.style.fontFamily,fontWeight:h.config.xaxis.title.style.fontWeight,foreColor:h.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+h.config.xaxis.title.style.cssClass});K.add(J),y.add(K)}if(h.config.xaxis.axisBorder.show){var it=h.globals.barPadForNumericAxis,pt=d.drawLine(h.globals.padHorizontal+h.config.xaxis.axisBorder.offsetX-it,this.offY,this.xaxisBorderWidth+it,this.offY,h.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(pt):y.add(pt)}return y}},{key:"drawXAxisLabelAndGroup",value:function(h,d,y,C,M,O){var N,V=this,q=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},K=[],J=[],it=this.w,pt=q.xaxisFontSize||this.xaxisFontSize,Et=q.xaxisFontFamily||this.xaxisFontFamily,Nt=q.xaxisForeColors||this.xaxisForeColors,ee=q.fontWeight||it.config.xaxis.labels.style.fontWeight,he=q.cssClass||it.config.xaxis.labels.style.cssClass,Ae=it.globals.padHorizontal,W=C.length,rt=it.config.xaxis.type==="category"?it.globals.dataPoints:W;if(rt===0&&W>rt&&(rt=W),M){var Ot=rt>1?rt-1:rt;N=it.globals.gridWidth/Ot,Ae=Ae+O(0,N)/2+it.config.xaxis.labels.offsetX}else N=it.globals.gridWidth/rt,Ae=Ae+O(0,N)+it.config.xaxis.labels.offsetX;for(var ce=function(Ie){var on=Ae-O(Ie,N)/2+it.config.xaxis.labels.offsetX;Ie===0&&W===1&&N/2===Ae&&rt===1&&(on=it.globals.gridWidth/2);var un=V.axesUtils.getLabel(C,it.globals.timescaleLabels,on,Ie,K,pt,h),Bn=28;if(it.globals.rotateXLabels&&h&&(Bn=22),it.config.xaxis.title.text&&it.config.xaxis.position==="top"&&(Bn+=parseFloat(it.config.xaxis.title.style.fontSize)+2),h||(Bn=Bn+parseFloat(pt)+(it.globals.xAxisLabelsHeight-it.globals.xAxisGroupLabelsHeight)+(it.globals.rotateXLabels?10:0)),un=it.config.xaxis.tickAmount!==void 0&&it.config.xaxis.tickAmount!=="dataPoints"&&it.config.xaxis.type!=="datetime"?V.axesUtils.checkLabelBasedOnTickamount(Ie,un,W):V.axesUtils.checkForOverflowingLabels(Ie,un,W,K,J),it.config.xaxis.labels.show){var jn=d.drawText({x:un.x,y:V.offY+it.config.xaxis.labels.offsetY+Bn-(it.config.xaxis.position==="top"?it.globals.xAxisHeight+it.config.xaxis.axisTicks.height-2:0),text:un.text,textAnchor:"middle",fontWeight:un.isBold?600:ee,fontSize:pt,fontFamily:Et,foreColor:Array.isArray(Nt)?h&&it.config.xaxis.convertedCatToNumeric?Nt[it.globals.minX+Ie-1]:Nt[Ie]:Nt,isPlainText:!1,cssClass:(h?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+he});if(y.add(jn),jn.on("click",function(ci){if(typeof it.config.chart.events.xAxisLabelClick=="function"){var vr=Object.assign({},it,{labelIndex:Ie});it.config.chart.events.xAxisLabelClick(ci,V.ctx,vr)}}),h){var ai=document.createElementNS(it.globals.SVGNS,"title");ai.textContent=Array.isArray(un.text)?un.text.join(" "):un.text,jn.node.appendChild(ai),un.text!==""&&(K.push(un.text),J.push(un))}}Ie<W-1&&(Ae+=O(Ie+1,N))},xe=0;xe<=W-1;xe++)ce(xe)}},{key:"drawXaxisInversed",value:function(h){var d,y,C=this,M=this.w,O=new Wt(this.ctx),N=M.config.yaxis[0].opposite?M.globals.translateYAxisX[h]:0,V=O.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:h}),q=O.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+N+", 0)"});V.add(q);var K=[];if(M.config.yaxis[h].show)for(var J=0;J<this.xaxisLabels.length;J++)K.push(this.xaxisLabels[J]);d=M.globals.gridHeight/K.length,y=-d/2.2;var it=M.globals.yLabelFormatters[0],pt=M.config.yaxis[0].labels;if(pt.show)for(var Et=function(Ot){var ce=K[Ot]===void 0?"":K[Ot];ce=it(ce,{seriesIndex:h,dataPointIndex:Ot,w:M});var xe=C.axesUtils.getYAxisForeColor(pt.style.colors,h),Ie=0;Array.isArray(ce)&&(Ie=ce.length/2*parseInt(pt.style.fontSize,10));var on=pt.offsetX-15,un="end";C.yaxis.opposite&&(un="start"),M.config.yaxis[0].labels.align==="left"?(on=pt.offsetX,un="start"):M.config.yaxis[0].labels.align==="center"?(on=pt.offsetX,un="middle"):M.config.yaxis[0].labels.align==="right"&&(un="end");var Bn=O.drawText({x:on,y:y+d+pt.offsetY-Ie,text:ce,textAnchor:un,foreColor:Array.isArray(xe)?xe[Ot]:xe,fontSize:pt.style.fontSize,fontFamily:pt.style.fontFamily,fontWeight:pt.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+pt.style.cssClass,maxWidth:pt.maxWidth});q.add(Bn),Bn.on("click",function(ci){if(typeof M.config.chart.events.xAxisLabelClick=="function"){var vr=Object.assign({},M,{labelIndex:Ot});M.config.chart.events.xAxisLabelClick(ci,C.ctx,vr)}});var jn=document.createElementNS(M.globals.SVGNS,"title");if(jn.textContent=Array.isArray(ce)?ce.join(" "):ce,Bn.node.appendChild(jn),M.config.yaxis[h].labels.rotate!==0){var ai=O.rotateAroundCenter(Bn.node);Bn.node.setAttribute("transform","rotate(".concat(M.config.yaxis[h].labels.rotate," 0 ").concat(ai.y,")"))}y+=d},Nt=0;Nt<=K.length-1;Nt++)Et(Nt);if(M.config.yaxis[0].title.text!==void 0){var ee=O.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+N+", 0)"}),he=O.drawText({x:M.config.yaxis[0].title.offsetX,y:M.globals.gridHeight/2+M.config.yaxis[0].title.offsetY,text:M.config.yaxis[0].title.text,textAnchor:"middle",foreColor:M.config.yaxis[0].title.style.color,fontSize:M.config.yaxis[0].title.style.fontSize,fontWeight:M.config.yaxis[0].title.style.fontWeight,fontFamily:M.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+M.config.yaxis[0].title.style.cssClass});ee.add(he),V.add(ee)}var Ae=0;this.isCategoryBarHorizontal&&M.config.yaxis[0].opposite&&(Ae=M.globals.gridWidth);var W=M.config.xaxis.axisBorder;if(W.show){var rt=O.drawLine(M.globals.padHorizontal+W.offsetX+Ae,1+W.offsetY,M.globals.padHorizontal+W.offsetX+Ae,M.globals.gridHeight+W.offsetY,W.color,0);this.elgrid&&this.elgrid.elGridBorders&&M.config.grid.show?this.elgrid.elGridBorders.add(rt):V.add(rt)}return M.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ae,K.length,M.config.yaxis[0].axisBorder,M.config.yaxis[0].axisTicks,0,d,V),V}},{key:"drawXaxisTicks",value:function(h,d,y){var C=this.w,M=h;if(!(h<0||h-2>C.globals.gridWidth)){var O=this.offY+C.config.xaxis.axisTicks.offsetY;if(d=d+O+C.config.xaxis.axisTicks.height,C.config.xaxis.position==="top"&&(d=O-C.config.xaxis.axisTicks.height),C.config.xaxis.axisTicks.show){var N=new Wt(this.ctx).drawLine(h+C.config.xaxis.axisTicks.offsetX,O+C.config.xaxis.offsetY,M+C.config.xaxis.axisTicks.offsetX,d+C.config.xaxis.offsetY,C.config.xaxis.axisTicks.color);y.add(N),N.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var h=this.w,d=[],y=this.xaxisLabels.length,C=h.globals.padHorizontal;if(h.globals.timescaleLabels.length>0)for(var M=0;M<y;M++)C=this.xaxisLabels[M].position,d.push(C);else for(var O=y,N=0;N<O;N++){var V=O;h.globals.isXNumeric&&h.config.chart.type!=="bar"&&(V-=1),C+=h.globals.gridWidth/V,d.push(C)}return d}},{key:"xAxisLabelCorrections",value:function(){var h=this.w,d=new Wt(this.ctx),y=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),C=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),M=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),O=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(h.globals.rotateXLabels||h.config.xaxis.labels.rotateAlways)for(var N=0;N<C.length;N++){var V=d.rotateAroundCenter(C[N]);V.y=V.y-1,V.x=V.x+1,C[N].setAttribute("transform","rotate(".concat(h.config.xaxis.labels.rotate," ").concat(V.x," ").concat(V.y,")")),C[N].setAttribute("text-anchor","end"),y.setAttribute("transform","translate(0, ".concat(-10,")"));var q=C[N].childNodes;h.config.xaxis.labels.trim&&Array.prototype.forEach.call(q,function(pt){d.placeTextWithEllipsis(pt,pt.textContent,h.globals.xAxisLabelsHeight-(h.config.legend.position==="bottom"?20:10))})}else(function(){for(var pt=h.globals.gridWidth/(h.globals.labels.length+1),Et=0;Et<C.length;Et++){var Nt=C[Et].childNodes;h.config.xaxis.labels.trim&&h.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(Nt,function(ee){d.placeTextWithEllipsis(ee,ee.textContent,pt)})}})();if(M.length>0){var K=M[M.length-1].getBBox(),J=M[0].getBBox();K.x<-20&&M[M.length-1].parentNode.removeChild(M[M.length-1]),J.x+J.width>h.globals.gridWidth&&!h.globals.isBarHorizontal&&M[0].parentNode.removeChild(M[0]);for(var it=0;it<O.length;it++)d.placeTextWithEllipsis(O[it],O[it].textContent,h.config.yaxis[0].labels.maxWidth-(h.config.yaxis[0].title.text?2*parseFloat(h.config.yaxis[0].title.style.fontSize):0)-15)}}}]),qt}(),Ge=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w;var d=this.w;this.xaxisLabels=d.globals.labels.slice(),this.axesUtils=new Te(h),this.isRangeBar=d.globals.seriesRange.length,d.globals.timescaleLabels.length>0&&(this.xaxisLabels=d.globals.timescaleLabels.slice())}return $t(qt,[{key:"drawGridArea",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=this.w,y=new Wt(this.ctx);h===null&&(h=y.group({class:"apexcharts-grid"}));var C=y.drawLine(d.globals.padHorizontal,1,d.globals.padHorizontal,d.globals.gridHeight,"transparent"),M=y.drawLine(d.globals.padHorizontal,d.globals.gridHeight,d.globals.gridWidth,d.globals.gridHeight,"transparent");return h.add(M),h.add(C),h}},{key:"drawGrid",value:function(){var h=null;return this.w.globals.axisCharts&&(h=this.renderGrid(),this.drawGridArea(h.el)),h}},{key:"createGridMask",value:function(){var h=this.w,d=h.globals,y=new Wt(this.ctx),C=Array.isArray(h.config.stroke.width)?0:h.config.stroke.width;if(Array.isArray(h.config.stroke.width)){var M=0;h.config.stroke.width.forEach(function(J){M=Math.max(M,J)}),C=M}d.dom.elGridRectMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(d.cuid)),d.dom.elGridRectMarkerMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(d.cuid)),d.dom.elForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elForecastMask.setAttribute("id","forecastMask".concat(d.cuid)),d.dom.elNonForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(d.cuid));var O=h.config.chart.type,N=0,V=0;(O==="bar"||O==="rangeBar"||O==="candlestick"||O==="boxPlot"||h.globals.comboBarCount>0)&&h.globals.isXNumeric&&!h.globals.isBarHorizontal&&(N=h.config.grid.padding.left,V=h.config.grid.padding.right,d.barPadForNumericAxis>N&&(N=d.barPadForNumericAxis,V=d.barPadForNumericAxis)),d.dom.elGridRect=y.drawRect(-C/2-N-2,-C/2,d.gridWidth+C+V+N+4,d.gridHeight+C,0,"#fff");var q=h.globals.markers.largestSize+1;d.dom.elGridRectMarker=y.drawRect(2*-q,2*-q,d.gridWidth+4*q,d.gridHeight+4*q,0,"#fff"),d.dom.elGridRectMask.appendChild(d.dom.elGridRect.node),d.dom.elGridRectMarkerMask.appendChild(d.dom.elGridRectMarker.node);var K=d.dom.baseEl.querySelector("defs");K.appendChild(d.dom.elGridRectMask),K.appendChild(d.dom.elForecastMask),K.appendChild(d.dom.elNonForecastMask),K.appendChild(d.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(h){var d=h.i,y=h.x1,C=h.y1,M=h.x2,O=h.y2,N=h.xCount,V=h.parent,q=this.w;if(!(d===0&&q.globals.skipFirstTimelinelabel||d===N-1&&q.globals.skipLastTimelinelabel&&!q.config.xaxis.labels.formatter||q.config.chart.type==="radar")){q.config.grid.xaxis.lines.show&&this._drawGridLine({i:d,x1:y,y1:C,x2:M,y2:O,xCount:N,parent:V});var K=0;if(q.globals.hasXaxisGroups&&q.config.xaxis.tickPlacement==="between"){var J=q.globals.groups;if(J){for(var it=0,pt=0;it<d&&pt<J.length;pt++)it+=J[pt].cols;it===d&&(K=.6*q.globals.xAxisLabelsHeight)}}new Be(this.ctx).drawXaxisTicks(y,K,q.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(h){var d=h.i,y=h.x1,C=h.y1,M=h.x2,O=h.y2,N=h.xCount,V=h.parent,q=this.w,K=!1,J=V.node.classList.contains("apexcharts-gridlines-horizontal"),it=q.config.grid.strokeDashArray,pt=q.globals.barPadForNumericAxis;(C===0&&O===0||y===0&&M===0)&&(K=!0),C===q.globals.gridHeight&&O===q.globals.gridHeight&&(K=!0),!q.globals.isBarHorizontal||d!==0&&d!==N-1||(K=!0);var Et=new Wt(this).drawLine(y-(J?pt:0),C,M+(J?pt:0),O,q.config.grid.borderColor,it);Et.node.classList.add("apexcharts-gridline"),K&&q.config.grid.show?this.elGridBorders.add(Et):V.add(Et)}},{key:"_drawGridBandRect",value:function(h){var d=h.c,y=h.x1,C=h.y1,M=h.x2,O=h.y2,N=h.type,V=this.w,q=new Wt(this.ctx),K=V.globals.barPadForNumericAxis;if(N!=="column"||V.config.xaxis.type!=="datetime"){var J=V.config.grid[N].colors[d],it=q.drawRect(y-(N==="row"?K:0),C,M+(N==="row"?2*K:0),O,0,J,V.config.grid[N].opacity);this.elg.add(it),it.attr("clip-path","url(#gridRectMask".concat(V.globals.cuid,")")),it.node.classList.add("apexcharts-grid-".concat(N))}}},{key:"_drawXYLines",value:function(h){var d=this,y=h.xCount,C=h.tickAmount,M=this.w;if(M.config.grid.xaxis.lines.show||M.config.xaxis.axisTicks.show){var O,N=M.globals.padHorizontal,V=M.globals.gridHeight;M.globals.timescaleLabels.length?function(Et){for(var Nt=Et.xC,ee=Et.x1,he=Et.y1,Ae=Et.x2,W=Et.y2,rt=0;rt<Nt;rt++)ee=d.xaxisLabels[rt].position,Ae=d.xaxisLabels[rt].position,d._drawGridLines({i:rt,x1:ee,y1:he,x2:Ae,y2:W,xCount:y,parent:d.elgridLinesV})}({xC:y,x1:N,y1:0,x2:O,y2:V}):(M.globals.isXNumeric&&(y=M.globals.xAxisScale.result.length),function(Et){for(var Nt=Et.xC,ee=Et.x1,he=Et.y1,Ae=Et.x2,W=Et.y2,rt=0;rt<Nt+(M.globals.isXNumeric?0:1);rt++)rt===0&&Nt===1&&M.globals.dataPoints===1&&(Ae=ee=M.globals.gridWidth/2),d._drawGridLines({i:rt,x1:ee,y1:he,x2:Ae,y2:W,xCount:y,parent:d.elgridLinesV}),Ae=ee+=M.globals.gridWidth/(M.globals.isXNumeric?Nt-1:Nt)}({xC:y,x1:N,y1:0,x2:O,y2:V}))}if(M.config.grid.yaxis.lines.show){var q=0,K=0,J=M.globals.gridWidth,it=C+1;this.isRangeBar&&(it=M.globals.labels.length);for(var pt=0;pt<it+(this.isRangeBar?1:0);pt++)this._drawGridLine({i:pt,xCount:it+(this.isRangeBar?1:0),x1:0,y1:q,x2:J,y2:K,parent:this.elgridLinesH}),K=q+=M.globals.gridHeight/(this.isRangeBar?it:C)}}},{key:"_drawInvertedXYLines",value:function(h){var d=h.xCount,y=this.w;if(y.config.grid.xaxis.lines.show||y.config.xaxis.axisTicks.show)for(var C,M=y.globals.padHorizontal,O=y.globals.gridHeight,N=0;N<d+1;N++)y.config.grid.xaxis.lines.show&&this._drawGridLine({i:N,xCount:d+1,x1:M,y1:0,x2:C,y2:O,parent:this.elgridLinesV}),new Be(this.ctx).drawXaxisTicks(M,0,y.globals.dom.elGraphical),C=M=M+y.globals.gridWidth/d+.3;if(y.config.grid.yaxis.lines.show)for(var V=0,q=0,K=y.globals.gridWidth,J=0;J<y.globals.dataPoints+1;J++)this._drawGridLine({i:J,xCount:y.globals.dataPoints+1,x1:0,y1:V,x2:K,y2:q,parent:this.elgridLinesH}),q=V+=y.globals.gridHeight/y.globals.dataPoints}},{key:"renderGrid",value:function(){var h=this.w,d=new Wt(this.ctx);this.elg=d.group({class:"apexcharts-grid"}),this.elgridLinesH=d.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=d.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=d.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),h.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var y,C=h.globals.yAxisScale.length?h.globals.yAxisScale[0].result.length-1:5,M=0;M<h.globals.series.length&&(h.globals.yAxisScale[M]!==void 0&&(C=h.globals.yAxisScale[M].result.length-1),!(C>2));M++);return!h.globals.isBarHorizontal||this.isRangeBar?(y=this.xaxisLabels.length,this.isRangeBar&&(y--,C=h.globals.labels.length,h.config.xaxis.tickAmount&&h.config.xaxis.labels.formatter&&(y=h.config.xaxis.tickAmount)),this._drawXYLines({xCount:y,tickAmount:C})):(y=C,C=h.globals.xTickAmount,this._drawInvertedXYLines({xCount:y,tickAmount:C})),this.drawGridBands(y,C),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:h.globals.gridWidth/y}}},{key:"drawGridBands",value:function(h,d){var y=this.w;if(y.config.grid.row.colors!==void 0&&y.config.grid.row.colors.length>0)for(var C=0,M=y.globals.gridHeight/d,O=y.globals.gridWidth,N=0,V=0;N<d;N++,V++)V>=y.config.grid.row.colors.length&&(V=0),this._drawGridBandRect({c:V,x1:0,y1:C,x2:O,y2:M,type:"row"}),C+=y.globals.gridHeight/d;if(y.config.grid.column.colors!==void 0&&y.config.grid.column.colors.length>0)for(var q=y.globals.isBarHorizontal||y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric?h:h-1,K=y.globals.padHorizontal,J=y.globals.padHorizontal+y.globals.gridWidth/q,it=y.globals.gridHeight,pt=0,Et=0;pt<h;pt++,Et++)Et>=y.config.grid.column.colors.length&&(Et=0),this._drawGridBandRect({c:Et,x1:K,y1:0,x2:J,y2:it,type:"column"}),K+=y.globals.gridWidth/q}}]),qt}(),Mn=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"niceScale",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,M=arguments.length>4?arguments[4]:void 0,O=this.w,N=Math.abs(d-h);if((y=this._adjustTicksForSmallRange(y,C,N))==="dataPoints"&&(y=O.globals.dataPoints-1),h===Number.MIN_VALUE&&d===0||!ct.isNumber(h)&&!ct.isNumber(d)||h===Number.MIN_VALUE&&d===-Number.MAX_VALUE)return h=0,d=y,this.linearScale(h,d,y);h>d?(console.warn("axis.min cannot be greater than axis.max"),d=h+.1):h===d&&(h=h===0?0:h-.5,d=d===0?2:d+.5);var V=[];N<1&&M&&(O.config.chart.type==="candlestick"||O.config.series[C].type==="candlestick"||O.config.chart.type==="boxPlot"||O.config.series[C].type==="boxPlot"||O.globals.isRangeData)&&(d*=1.01);var q=y+1;q<2?q=2:q>2&&(q-=2);var K=N/q,J=Math.floor(ct.log10(K)),it=Math.pow(10,J),pt=Math.round(K/it);pt<1&&(pt=1);var Et=pt*it,Nt=Et*Math.floor(h/Et),ee=Et*Math.ceil(d/Et),he=Nt;if(M&&N>2){for(;V.push(he),!((he+=Et)>ee););return{result:V,niceMin:V[0],niceMax:V[V.length-1]}}var Ae=h;(V=[]).push(Ae);for(var W=Math.abs(d-h)/y,rt=0;rt<=y;rt++)Ae+=W,V.push(Ae);return V[V.length-2]>=d&&V.pop(),{result:V,niceMin:V[0],niceMax:V[V.length-1]}}},{key:"linearScale",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,C=arguments.length>3?arguments[3]:void 0,M=Math.abs(d-h);(y=this._adjustTicksForSmallRange(y,C,M))==="dataPoints"&&(y=this.w.globals.dataPoints-1);var O=M/y;y===Number.MAX_VALUE&&(y=10,O=1);for(var N=[],V=h;y>=0;)N.push(V),V+=O,y-=1;return{result:N,niceMin:N[0],niceMax:N[N.length-1]}}},{key:"logarithmicScaleNice",value:function(h,d,y){d<=0&&(d=Math.max(h,y)),h<=0&&(h=Math.min(d,y));for(var C=[],M=Math.ceil(Math.log(d)/Math.log(y)+1),O=Math.floor(Math.log(h)/Math.log(y));O<M;O++)C.push(Math.pow(y,O));return{result:C,niceMin:C[0],niceMax:C[C.length-1]}}},{key:"logarithmicScale",value:function(h,d,y){d<=0&&(d=Math.max(h,y)),h<=0&&(h=Math.min(d,y));for(var C=[],M=Math.log(d)/Math.log(y),O=Math.log(h)/Math.log(y),N=M-O,V=Math.round(N),q=N/V,K=0,J=O;K<V;K++,J+=q)C.push(Math.pow(y,J));return C.push(Math.pow(y,M)),{result:C,niceMin:h,niceMax:d}}},{key:"_adjustTicksForSmallRange",value:function(h,d,y){var C=h;if(d!==void 0&&this.w.config.yaxis[d].labels.formatter&&this.w.config.yaxis[d].tickAmount===void 0){var M=Number(this.w.config.yaxis[d].labels.formatter(1));ct.isNumber(M)&&this.w.globals.yValueDecimal===0&&(C=Math.ceil(y))}return C<h?C:h}},{key:"setYScaleForIndex",value:function(h,d,y){var C=this.w.globals,M=this.w.config,O=C.isBarHorizontal?M.xaxis:M.yaxis[h];C.yAxisScale[h]===void 0&&(C.yAxisScale[h]=[]);var N=Math.abs(y-d);if(O.logarithmic&&N<=5&&(C.invalidLogScale=!0),O.logarithmic&&N>5)C.allSeriesCollapsed=!1,C.yAxisScale[h]=this.logarithmicScale(d,y,O.logBase),C.yAxisScale[h]=O.forceNiceScale?this.logarithmicScaleNice(d,y,O.logBase):this.logarithmicScale(d,y,O.logBase);else if(y!==-Number.MAX_VALUE&&ct.isNumber(y))if(C.allSeriesCollapsed=!1,O.min===void 0&&O.max===void 0||O.forceNiceScale){var V=M.yaxis[h].max===void 0&&M.yaxis[h].min===void 0||M.yaxis[h].forceNiceScale;C.yAxisScale[h]=this.niceScale(d,y,O.tickAmount?O.tickAmount:N<5&&N>1?N+1:5,h,V)}else C.yAxisScale[h]=this.linearScale(d,y,O.tickAmount,h);else C.yAxisScale[h]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(h,d){var y=this.w,C=y.globals,M=y.config.xaxis,O=Math.abs(d-h);return d!==-Number.MAX_VALUE&&ct.isNumber(d)?C.xAxisScale=this.linearScale(h,d,M.tickAmount?M.tickAmount:O<5&&O>1?O+1:5,0):C.xAxisScale=this.linearScale(0,5,5),C.xAxisScale}},{key:"setMultipleYScales",value:function(){var h=this,d=this.w.globals,y=this.w.config,C=d.minYArr.concat([]),M=d.maxYArr.concat([]),O=[];y.yaxis.forEach(function(N,V){var q=V;y.series.forEach(function(it,pt){it.name===N.seriesName&&(q=pt,V!==pt?O.push({index:pt,similarIndex:V,alreadyExists:!0}):O.push({index:pt}))});var K=C[q],J=M[q];h.setYScaleForIndex(V,K,J)}),this.sameScaleInMultipleAxes(C,M,O)}},{key:"sameScaleInMultipleAxes",value:function(h,d,y){var C=this,M=this.w.config,O=this.w.globals,N=[];y.forEach(function(Nt){Nt.alreadyExists&&(N[Nt.index]===void 0&&(N[Nt.index]=[]),N[Nt.index].push(Nt.index),N[Nt.index].push(Nt.similarIndex))}),O.yAxisSameScaleIndices=N,N.forEach(function(Nt,ee){N.forEach(function(he,Ae){var W,rt;ee!==Ae&&(W=Nt,rt=he,W.filter(function(Ot){return rt.indexOf(Ot)!==-1})).length>0&&(N[ee]=N[ee].concat(N[Ae]))})});var V=N.map(function(Nt){return Nt.filter(function(ee,he){return Nt.indexOf(ee)===he})}).map(function(Nt){return Nt.sort()});N=N.filter(function(Nt){return!!Nt});var q=V.slice(),K=q.map(function(Nt){return JSON.stringify(Nt)});q=q.filter(function(Nt,ee){return K.indexOf(JSON.stringify(Nt))===ee});var J=[],it=[];h.forEach(function(Nt,ee){q.forEach(function(he,Ae){he.indexOf(ee)>-1&&(J[Ae]===void 0&&(J[Ae]=[],it[Ae]=[]),J[Ae].push({key:ee,value:Nt}),it[Ae].push({key:ee,value:d[ee]}))})});var pt=Array.apply(null,Array(q.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Et=Array.apply(null,Array(q.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);J.forEach(function(Nt,ee){Nt.forEach(function(he,Ae){pt[ee]=Math.min(he.value,pt[ee])})}),it.forEach(function(Nt,ee){Nt.forEach(function(he,Ae){Et[ee]=Math.max(he.value,Et[ee])})}),h.forEach(function(Nt,ee){it.forEach(function(he,Ae){var W=pt[Ae],rt=Et[Ae];M.chart.stacked&&(rt=0,he.forEach(function(Ot,ce){Ot.value!==-Number.MAX_VALUE&&(rt+=Ot.value),W!==Number.MIN_VALUE&&(W+=J[Ae][ce].value)})),he.forEach(function(Ot,ce){he[ce].key===ee&&(M.yaxis[ee].min!==void 0&&(W=typeof M.yaxis[ee].min=="function"?M.yaxis[ee].min(O.minY):M.yaxis[ee].min),M.yaxis[ee].max!==void 0&&(rt=typeof M.yaxis[ee].max=="function"?M.yaxis[ee].max(O.maxY):M.yaxis[ee].max),C.setYScaleForIndex(ee,W,rt))})})})}},{key:"autoScaleY",value:function(h,d,y){h||(h=this);var C=h.w;if(C.globals.isMultipleYAxis||C.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),d;var M=C.globals.seriesX[0],O=C.config.chart.stacked;return d.forEach(function(N,V){for(var q=0,K=0;K<M.length;K++)if(M[K]>=y.xaxis.min){q=K;break}var J,it,pt=C.globals.minYArr[V],Et=C.globals.maxYArr[V],Nt=C.globals.stackedSeriesTotals;C.globals.series.forEach(function(ee,he){var Ae=ee[q];O?(Ae=Nt[q],J=it=Ae,Nt.forEach(function(W,rt){M[rt]<=y.xaxis.max&&M[rt]>=y.xaxis.min&&(W>it&&W!==null&&(it=W),ee[rt]<J&&ee[rt]!==null&&(J=ee[rt]))})):(J=it=Ae,ee.forEach(function(W,rt){if(M[rt]<=y.xaxis.max&&M[rt]>=y.xaxis.min){var Ot=W,ce=W;C.globals.series.forEach(function(xe,Ie){W!==null&&(Ot=Math.min(xe[rt],Ot),ce=Math.max(xe[rt],ce))}),ce>it&&ce!==null&&(it=ce),Ot<J&&Ot!==null&&(J=Ot)}})),J===void 0&&it===void 0&&(J=pt,it=Et),it*=it<0?.9:1.1,(J*=J<0?1.1:.9)===0&&it===0&&(J=-1,it=1),it<0&&it<Et&&(it=Et),J<0&&J>pt&&(J=pt),d.length>1?(d[he].min=N.min===void 0?J:N.min,d[he].max=N.max===void 0?it:N.max):(d[0].min=N.min===void 0?J:N.min,d[0].max=N.max===void 0?it:N.max)})}),d}}]),qt}(),wr=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.scales=new Mn(h)}return $t(qt,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,M=this.w.config,O=this.w.globals,N=-Number.MAX_VALUE,V=Number.MIN_VALUE;C===null&&(C=h+1);var q=O.series,K=q,J=q;M.chart.type==="candlestick"?(K=O.seriesCandleL,J=O.seriesCandleH):M.chart.type==="boxPlot"?(K=O.seriesCandleO,J=O.seriesCandleC):O.isRangeData&&(K=O.seriesRangeStart,J=O.seriesRangeEnd);for(var it=h;it<C;it++){O.dataPoints=Math.max(O.dataPoints,q[it].length),O.categoryLabels.length&&(O.dataPoints=O.categoryLabels.filter(function(Nt){return Nt!==void 0}).length);for(var pt=0;pt<O.series[it].length;pt++){var Et=q[it][pt];Et!==null&&ct.isNumber(Et)?(J[it][pt]!==void 0&&(N=Math.max(N,J[it][pt]),d=Math.min(d,J[it][pt])),K[it][pt]!==void 0&&(d=Math.min(d,K[it][pt]),y=Math.max(y,K[it][pt])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||O.seriesCandleC[it][pt]!==void 0&&(N=Math.max(N,O.seriesCandleO[it][pt]),N=Math.max(N,O.seriesCandleH[it][pt]),N=Math.max(N,O.seriesCandleL[it][pt]),N=Math.max(N,O.seriesCandleC[it][pt]),this.w.config.chart.type==="boxPlot"&&(N=Math.max(N,O.seriesCandleM[it][pt]))),!M.series[it].type||M.series[it].type==="candlestick"&&M.series[it].type==="boxPlot"&&M.series[it].type==="rangeArea"&&M.series[it].type==="rangeBar"||(N=Math.max(N,O.series[it][pt]),d=Math.min(d,O.series[it][pt])),y=N),O.seriesGoals[it]&&O.seriesGoals[it][pt]&&Array.isArray(O.seriesGoals[it][pt])&&O.seriesGoals[it][pt].forEach(function(Nt){V!==Number.MIN_VALUE&&(V=Math.min(V,Nt.value),d=V),N=Math.max(N,Nt.value),y=N}),ct.isFloat(Et)&&(Et=ct.noExponents(Et),O.yValueDecimal=Math.max(O.yValueDecimal,Et.toString().split(".")[1].length)),V>K[it][pt]&&K[it][pt]<0&&(V=K[it][pt])):O.hasNullValues=!0}}return M.chart.type==="rangeBar"&&O.seriesRangeStart.length&&O.isBarHorizontal&&(V=d),M.chart.type==="bar"&&(V<0&&N<0&&(N=0),V===Number.MIN_VALUE&&(V=0)),{minY:V,maxY:N,lowestY:d,highestY:y}}},{key:"setYRange",value:function(){var h=this.w.globals,d=this.w.config;h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE;var y=Number.MAX_VALUE;if(h.isMultipleYAxis)for(var C=0;C<h.series.length;C++){var M=this.getMinYMaxY(C,y,null,C+1);h.minYArr.push(M.minY),h.maxYArr.push(M.maxY),y=M.lowestY}var O=this.getMinYMaxY(0,y,null,h.series.length);if(h.minY=O.minY,h.maxY=O.maxY,y=O.lowestY,d.chart.stacked&&this._setStackedMinMax(),(d.chart.type==="line"||d.chart.type==="area"||d.chart.type==="candlestick"||d.chart.type==="boxPlot"||d.chart.type==="rangeBar"&&!h.isBarHorizontal)&&h.minY===Number.MIN_VALUE&&y!==-Number.MAX_VALUE&&y!==h.maxY){var N=h.maxY-y;(y>=0&&y<=10||d.yaxis[0].min!==void 0||d.yaxis[0].max!==void 0)&&(N=0),h.minY=y-5*N/100,y>0&&h.minY<0&&(h.minY=0),h.maxY=h.maxY+5*N/100}return d.yaxis.forEach(function(V,q){V.max!==void 0&&(typeof V.max=="number"?h.maxYArr[q]=V.max:typeof V.max=="function"&&(h.maxYArr[q]=V.max(h.isMultipleYAxis?h.maxYArr[q]:h.maxY)),h.maxY=h.maxYArr[q]),V.min!==void 0&&(typeof V.min=="number"?h.minYArr[q]=V.min:typeof V.min=="function"&&(h.minYArr[q]=V.min(h.isMultipleYAxis?h.minYArr[q]===Number.MIN_VALUE?0:h.minYArr[q]:h.minY)),h.minY=h.minYArr[q])}),h.isBarHorizontal&&["min","max"].forEach(function(V){d.xaxis[V]!==void 0&&typeof d.xaxis[V]=="number"&&(V==="min"?h.minY=d.xaxis[V]:h.maxY=d.xaxis[V])}),h.isMultipleYAxis?(this.scales.setMultipleYScales(),h.minY=y,h.yAxisScale.forEach(function(V,q){h.minYArr[q]=V.niceMin,h.maxYArr[q]=V.niceMax})):(this.scales.setYScaleForIndex(0,h.minY,h.maxY),h.minY=h.yAxisScale[0].niceMin,h.maxY=h.yAxisScale[0].niceMax,h.minYArr[0]=h.yAxisScale[0].niceMin,h.maxYArr[0]=h.yAxisScale[0].niceMax),{minY:h.minY,maxY:h.maxY,minYArr:h.minYArr,maxYArr:h.maxYArr,yAxisScale:h.yAxisScale}}},{key:"setXRange",value:function(){var h=this.w.globals,d=this.w.config,y=d.xaxis.type==="numeric"||d.xaxis.type==="datetime"||d.xaxis.type==="category"&&!h.noLabelsProvided||h.noLabelsProvided||h.isXNumeric;if(h.isXNumeric&&function(){for(var N=0;N<h.series.length;N++)if(h.labels[N])for(var V=0;V<h.labels[N].length;V++)h.labels[N][V]!==null&&ct.isNumber(h.labels[N][V])&&(h.maxX=Math.max(h.maxX,h.labels[N][V]),h.initialMaxX=Math.max(h.maxX,h.labels[N][V]),h.minX=Math.min(h.minX,h.labels[N][V]),h.initialMinX=Math.min(h.minX,h.labels[N][V]))}(),h.noLabelsProvided&&d.xaxis.categories.length===0&&(h.maxX=h.labels[h.labels.length-1],h.initialMaxX=h.labels[h.labels.length-1],h.minX=1,h.initialMinX=1),h.isXNumeric||h.noLabelsProvided||h.dataFormatXNumeric){var C;if(d.xaxis.tickAmount===void 0?(C=Math.round(h.svgWidth/150),d.xaxis.type==="numeric"&&h.dataPoints<30&&(C=h.dataPoints-1),C>h.dataPoints&&h.dataPoints!==0&&(C=h.dataPoints-1)):d.xaxis.tickAmount==="dataPoints"?(h.series.length>1&&(C=h.series[h.maxValsInArrayIndex].length-1),h.isXNumeric&&(C=h.maxX-h.minX-1)):C=d.xaxis.tickAmount,h.xTickAmount=C,d.xaxis.max!==void 0&&typeof d.xaxis.max=="number"&&(h.maxX=d.xaxis.max),d.xaxis.min!==void 0&&typeof d.xaxis.min=="number"&&(h.minX=d.xaxis.min),d.xaxis.range!==void 0&&(h.minX=h.maxX-d.xaxis.range),h.minX!==Number.MAX_VALUE&&h.maxX!==-Number.MAX_VALUE)if(d.xaxis.convertedCatToNumeric&&!h.dataFormatXNumeric){for(var M=[],O=h.minX-1;O<h.maxX;O++)M.push(O+1);h.xAxisScale={result:M,niceMin:M[0],niceMax:M[M.length-1]}}else h.xAxisScale=this.scales.setXScale(h.minX,h.maxX);else h.xAxisScale=this.scales.linearScale(1,C,C),h.noLabelsProvided&&h.labels.length>0&&(h.xAxisScale=this.scales.linearScale(1,h.labels.length,C-1),h.seriesX=h.labels.slice());y&&(h.labels=h.xAxisScale.result.slice())}return h.isBarHorizontal&&h.labels.length&&(h.xTickAmount=h.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:h.minX,maxX:h.maxX}}},{key:"setZRange",value:function(){var h=this.w.globals;if(h.isDataXYZ){for(var d=0;d<h.series.length;d++)if(h.seriesZ[d]!==void 0)for(var y=0;y<h.seriesZ[d].length;y++)h.seriesZ[d][y]!==null&&ct.isNumber(h.seriesZ[d][y])&&(h.maxZ=Math.max(h.maxZ,h.seriesZ[d][y]),h.minZ=Math.min(h.minZ,h.seriesZ[d][y]))}}},{key:"_handleSingleDataPoint",value:function(){var h=this.w.globals,d=this.w.config;if(h.minX===h.maxX){var y=new De(this.ctx);if(d.xaxis.type==="datetime"){var C=y.getDate(h.minX);d.xaxis.labels.datetimeUTC?C.setUTCDate(C.getUTCDate()-2):C.setDate(C.getDate()-2),h.minX=new Date(C).getTime();var M=y.getDate(h.maxX);d.xaxis.labels.datetimeUTC?M.setUTCDate(M.getUTCDate()+2):M.setDate(M.getDate()+2),h.maxX=new Date(M).getTime()}else(d.xaxis.type==="numeric"||d.xaxis.type==="category"&&!h.noLabelsProvided)&&(h.minX=h.minX-2,h.initialMinX=h.minX,h.maxX=h.maxX+2,h.initialMaxX=h.maxX)}}},{key:"_getMinXDiff",value:function(){var h=this.w.globals;h.isXNumeric&&h.seriesX.forEach(function(d,y){d.length===1&&d.push(h.seriesX[h.maxValsInArrayIndex][h.seriesX[h.maxValsInArrayIndex].length-1]);var C=d.slice();C.sort(function(M,O){return M-O}),C.forEach(function(M,O){if(O>0){var N=M-C[O-1];N>0&&(h.minXDiff=Math.min(N,h.minXDiff))}}),h.dataPoints!==1&&h.minXDiff!==Number.MAX_VALUE||(h.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var h=this,d=this.w.globals;if(d.series.length){var y=d.seriesGroups;y.length||(y=[this.w.config.series.map(function(O){return O.name})]);var C={},M={};y.forEach(function(O){C[O]=[],M[O]=[],h.w.config.series.map(function(N,V){return O.indexOf(N.name)>-1?V:null}).filter(function(N){return N!==null}).forEach(function(N){for(var V=0;V<d.series[d.maxValsInArrayIndex].length;V++)C[O][V]===void 0&&(C[O][V]=0,M[O][V]=0),d.series[N][V]!==null&&ct.isNumber(d.series[N][V])&&(d.series[N][V]>0?C[O][V]+=parseFloat(d.series[N][V])+1e-4:M[O][V]+=parseFloat(d.series[N][V]))})}),Object.entries(C).forEach(function(O){var N=vt(O,1)[0];C[N].forEach(function(V,q){d.maxY=Math.max(d.maxY,C[N][q]),d.minY=Math.min(d.minY,M[N][q])})})}}}]),qt}(),Ln=function(){function qt(h,d){Qt(this,qt),this.ctx=h,this.elgrid=d,this.w=h.w;var y=this.w;this.xaxisFontSize=y.config.xaxis.labels.style.fontSize,this.axisFontFamily=y.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=y.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=y.config.chart.type==="bar"&&y.config.plotOptions.bar.horizontal,this.xAxisoffX=0,y.config.xaxis.position==="bottom"&&(this.xAxisoffX=y.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Te(h)}return $t(qt,[{key:"drawYaxis",value:function(h){var d=this,y=this.w,C=new Wt(this.ctx),M=y.config.yaxis[h].labels.style,O=M.fontSize,N=M.fontFamily,V=M.fontWeight,q=C.group({class:"apexcharts-yaxis",rel:h,transform:"translate("+y.globals.translateYAxisX[h]+", 0)"});if(this.axesUtils.isYAxisHidden(h))return q;var K=C.group({class:"apexcharts-yaxis-texts-g"});q.add(K);var J=y.globals.yAxisScale[h].result.length-1,it=y.globals.gridHeight/J,pt=y.globals.translateY,Et=y.globals.yLabelFormatters[h],Nt=y.globals.yAxisScale[h].result.slice();Nt=this.axesUtils.checkForReversedLabels(h,Nt);var ee="";if(y.config.yaxis[h].labels.show)for(var he=function(on){var un=Nt[on];un=Et(un,on,y);var Bn=y.config.yaxis[h].labels.padding;y.config.yaxis[h].opposite&&y.config.yaxis.length!==0&&(Bn*=-1);var jn="end";y.config.yaxis[h].opposite&&(jn="start"),y.config.yaxis[h].labels.align==="left"?jn="start":y.config.yaxis[h].labels.align==="center"?jn="middle":y.config.yaxis[h].labels.align==="right"&&(jn="end");var ai=d.axesUtils.getYAxisForeColor(M.colors,h),ci=C.drawText({x:Bn,y:pt+J/10+y.config.yaxis[h].labels.offsetY+1,text:un,textAnchor:jn,fontSize:O,fontFamily:N,fontWeight:V,maxWidth:y.config.yaxis[h].labels.maxWidth,foreColor:Array.isArray(ai)?ai[on]:ai,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+M.cssClass});on===J&&(ee=ci),K.add(ci);var vr=document.createElementNS(y.globals.SVGNS,"title");if(vr.textContent=Array.isArray(un)?un.join(" "):un,ci.node.appendChild(vr),y.config.yaxis[h].labels.rotate!==0){var rr=C.rotateAroundCenter(ee.node),er=C.rotateAroundCenter(ci.node);ci.node.setAttribute("transform","rotate(".concat(y.config.yaxis[h].labels.rotate," ").concat(rr.x," ").concat(er.y,")"))}pt+=it},Ae=J;Ae>=0;Ae--)he(Ae);if(y.config.yaxis[h].title.text!==void 0){var W=C.group({class:"apexcharts-yaxis-title"}),rt=0;y.config.yaxis[h].opposite&&(rt=y.globals.translateYAxisX[h]);var Ot=C.drawText({x:rt,y:y.globals.gridHeight/2+y.globals.translateY+y.config.yaxis[h].title.offsetY,text:y.config.yaxis[h].title.text,textAnchor:"end",foreColor:y.config.yaxis[h].title.style.color,fontSize:y.config.yaxis[h].title.style.fontSize,fontWeight:y.config.yaxis[h].title.style.fontWeight,fontFamily:y.config.yaxis[h].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+y.config.yaxis[h].title.style.cssClass});W.add(Ot),q.add(W)}var ce=y.config.yaxis[h].axisBorder,xe=31+ce.offsetX;if(y.config.yaxis[h].opposite&&(xe=-31-ce.offsetX),ce.show){var Ie=C.drawLine(xe,y.globals.translateY+ce.offsetY-2,xe,y.globals.gridHeight+y.globals.translateY+ce.offsetY+2,ce.color,0,ce.width);q.add(Ie)}return y.config.yaxis[h].axisTicks.show&&this.axesUtils.drawYAxisTicks(xe,J,ce,y.config.yaxis[h].axisTicks,h,it,q),q}},{key:"drawYaxisInversed",value:function(h){var d=this.w,y=new Wt(this.ctx),C=y.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),M=y.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(d.globals.translateXAxisX,", ").concat(d.globals.translateXAxisY,")")});C.add(M);var O=d.globals.yAxisScale[h].result.length-1,N=d.globals.gridWidth/O+.1,V=N+d.config.xaxis.labels.offsetX,q=d.globals.xLabelFormatter,K=d.globals.yAxisScale[h].result.slice(),J=d.globals.timescaleLabels;J.length>0&&(this.xaxisLabels=J.slice(),O=(K=J.slice()).length),K=this.axesUtils.checkForReversedLabels(h,K);var it=J.length;if(d.config.xaxis.labels.show)for(var pt=it?0:O;it?pt<it:pt>=0;it?pt++:pt--){var Et=K[pt];Et=q(Et,pt,d);var Nt=d.globals.gridWidth+d.globals.padHorizontal-(V-N+d.config.xaxis.labels.offsetX);if(J.length){var ee=this.axesUtils.getLabel(K,J,Nt,pt,this.drawnLabels,this.xaxisFontSize);Nt=ee.x,Et=ee.text,this.drawnLabels.push(ee.text),pt===0&&d.globals.skipFirstTimelinelabel&&(Et=""),pt===K.length-1&&d.globals.skipLastTimelinelabel&&(Et="")}var he=y.drawText({x:Nt,y:this.xAxisoffX+d.config.xaxis.labels.offsetY+30-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:Et,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[h]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:d.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+d.config.xaxis.labels.style.cssClass});M.add(he),he.tspan(Et);var Ae=document.createElementNS(d.globals.SVGNS,"title");Ae.textContent=Et,he.node.appendChild(Ae),V+=N}return this.inversedYAxisTitleText(C),this.inversedYAxisBorder(C),C}},{key:"inversedYAxisBorder",value:function(h){var d=this.w,y=new Wt(this.ctx),C=d.config.xaxis.axisBorder;if(C.show){var M=0;d.config.chart.type==="bar"&&d.globals.isXNumeric&&(M-=15);var O=y.drawLine(d.globals.padHorizontal+M+C.offsetX,this.xAxisoffX,d.globals.gridWidth,this.xAxisoffX,C.color,0,C.height);this.elgrid&&this.elgrid.elGridBorders&&d.config.grid.show?this.elgrid.elGridBorders.add(O):h.add(O)}}},{key:"inversedYAxisTitleText",value:function(h){var d=this.w,y=new Wt(this.ctx);if(d.config.xaxis.title.text!==void 0){var C=y.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),M=y.drawText({x:d.globals.gridWidth/2+d.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(d.config.xaxis.title.style.fontSize)+d.config.xaxis.title.offsetY+20,text:d.config.xaxis.title.text,textAnchor:"middle",fontSize:d.config.xaxis.title.style.fontSize,fontFamily:d.config.xaxis.title.style.fontFamily,fontWeight:d.config.xaxis.title.style.fontWeight,foreColor:d.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+d.config.xaxis.title.style.cssClass});C.add(M),h.add(C)}}},{key:"yAxisTitleRotate",value:function(h,d){var y=this.w,C=new Wt(this.ctx),M={width:0,height:0},O={width:0,height:0},N=y.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g"));N!==null&&(M=N.getBoundingClientRect());var V=y.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-title text"));if(V!==null&&(O=V.getBoundingClientRect()),V!==null){var q=this.xPaddingForYAxisTitle(h,M,O,d);V.setAttribute("x",q.xPos-(d?10:0))}if(V!==null){var K=C.rotateAroundCenter(V);V.setAttribute("transform","rotate(".concat(d?-1*y.config.yaxis[h].title.rotate:y.config.yaxis[h].title.rotate," ").concat(K.x," ").concat(K.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(h,d,y,C){var M=this.w,O=0,N=0,V=10;return M.config.yaxis[h].title.text===void 0||h<0?{xPos:N,padd:0}:(C?(N=d.width+M.config.yaxis[h].title.offsetX+y.width/2+V/2,(O+=1)===0&&(N-=V/2)):(N=-1*d.width+M.config.yaxis[h].title.offsetX+V/2+y.width/2,M.globals.isBarHorizontal&&(V=25,N=-1*d.width-M.config.yaxis[h].title.offsetX-V)),{xPos:N,padd:V})}},{key:"setYAxisXPosition",value:function(h,d){var y=this.w,C=0,M=0,O=18,N=1;y.config.yaxis.length>1&&(this.multipleYs=!0),y.config.yaxis.map(function(V,q){var K=y.globals.ignoreYAxisIndexes.indexOf(q)>-1||!V.show||V.floating||h[q].width===0,J=h[q].width+d[q].width;V.opposite?y.globals.isBarHorizontal?(M=y.globals.gridWidth+y.globals.translateX-1,y.globals.translateYAxisX[q]=M-V.labels.offsetX):(M=y.globals.gridWidth+y.globals.translateX+N,K||(N=N+J+20),y.globals.translateYAxisX[q]=M-V.labels.offsetX+20):(C=y.globals.translateX-O,K||(O=O+J+20),y.globals.translateYAxisX[q]=C+V.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var h=this.w,d=h.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(d=ct.listToArray(d)).forEach(function(y,C){var M=h.config.yaxis[C];if(M&&!M.floating&&M.labels.align!==void 0){var O=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(C,"'] .apexcharts-yaxis-texts-g")),N=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(C,"'] .apexcharts-yaxis-label"));N=ct.listToArray(N);var V=O.getBoundingClientRect();M.labels.align==="left"?(N.forEach(function(q,K){q.setAttribute("text-anchor","start")}),M.opposite||O.setAttribute("transform","translate(-".concat(V.width,", 0)"))):M.labels.align==="center"?(N.forEach(function(q,K){q.setAttribute("text-anchor","middle")}),O.setAttribute("transform","translate(".concat(V.width/2*(M.opposite?1:-1),", 0)"))):M.labels.align==="right"&&(N.forEach(function(q,K){q.setAttribute("text-anchor","end")}),M.opposite&&O.setAttribute("transform","translate(".concat(V.width,", 0)")))}})}}]),qt}(),di=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.documentEvent=ct.bind(this.documentEvent,this)}return $t(qt,[{key:"addEventListener",value:function(h,d){var y=this.w;y.globals.events.hasOwnProperty(h)?y.globals.events[h].push(d):y.globals.events[h]=[d]}},{key:"removeEventListener",value:function(h,d){var y=this.w;if(y.globals.events.hasOwnProperty(h)){var C=y.globals.events[h].indexOf(d);C!==-1&&y.globals.events[h].splice(C,1)}}},{key:"fireEvent",value:function(h,d){var y=this.w;if(y.globals.events.hasOwnProperty(h)){d&&d.length||(d=[]);for(var C=y.globals.events[h],M=C.length,O=0;O<M;O++)C[O].apply(null,d)}}},{key:"setupEventHandlers",value:function(){var h=this,d=this.w,y=this.ctx,C=d.globals.dom.baseEl.querySelector(d.globals.chartClass);this.ctx.eventList.forEach(function(M){C.addEventListener(M,function(O){var N=Object.assign({},d,{seriesIndex:d.globals.capturedSeriesIndex,dataPointIndex:d.globals.capturedDataPointIndex});O.type==="mousemove"||O.type==="touchmove"?typeof d.config.chart.events.mouseMove=="function"&&d.config.chart.events.mouseMove(O,y,N):O.type==="mouseleave"||O.type==="touchleave"?typeof d.config.chart.events.mouseLeave=="function"&&d.config.chart.events.mouseLeave(O,y,N):(O.type==="mouseup"&&O.which===1||O.type==="touchend")&&(typeof d.config.chart.events.click=="function"&&d.config.chart.events.click(O,y,N),y.ctx.events.fireEvent("click",[O,y,N]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(M){d.globals.dom.baseEl.addEventListener(M,h.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(h){var d=this.w,y=h.target.className;if(h.type==="click"){var C=d.globals.dom.baseEl.querySelector(".apexcharts-menu");C&&C.classList.contains("apexcharts-menu-open")&&y!=="apexcharts-menu-icon"&&C.classList.remove("apexcharts-menu-open")}d.globals.clientX=h.type==="touchmove"?h.touches[0].clientX:h.clientX,d.globals.clientY=h.type==="touchmove"?h.touches[0].clientY:h.clientY}}]),qt}(),ar=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"setCurrentLocaleValues",value:function(h){var d=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(d=this.w.config.chart.locales.concat(window.Apex.chart.locales));var y=d.filter(function(M){return M.name===h})[0];if(!y)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var C=ct.extend(Xt,y);this.w.globals.locale=C.options}}]),qt}(),hr=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"drawAxis",value:function(h,d){var y,C,M=this,O=this.w.globals,N=this.w.config,V=new Be(this.ctx,d),q=new Ln(this.ctx,d);O.axisCharts&&h!=="radar"&&(O.isBarHorizontal?(C=q.drawYaxisInversed(0),y=V.drawXaxisInversed(0),O.dom.elGraphical.add(y),O.dom.elGraphical.add(C)):(y=V.drawXaxis(),O.dom.elGraphical.add(y),N.yaxis.map(function(K,J){if(O.ignoreYAxisIndexes.indexOf(J)===-1&&(C=q.drawYaxis(J),O.dom.Paper.add(C),M.w.config.grid.position==="back")){var it=O.dom.Paper.children()[1];it.remove(),O.dom.Paper.add(it)}})))}}]),qt}(),wn=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"drawXCrosshairs",value:function(){var h=this.w,d=new Wt(this.ctx),y=new It(this.ctx),C=h.config.xaxis.crosshairs.fill.gradient,M=h.config.xaxis.crosshairs.dropShadow,O=h.config.xaxis.crosshairs.fill.type,N=C.colorFrom,V=C.colorTo,q=C.opacityFrom,K=C.opacityTo,J=C.stops,it=M.enabled,pt=M.left,Et=M.top,Nt=M.blur,ee=M.color,he=M.opacity,Ae=h.config.xaxis.crosshairs.fill.color;if(h.config.xaxis.crosshairs.show){O==="gradient"&&(Ae=d.drawGradient("vertical",N,V,q,K,null,J,null));var W=d.drawRect();h.config.xaxis.crosshairs.width===1&&(W=d.drawLine());var rt=h.globals.gridHeight;(!ct.isNumber(rt)||rt<0)&&(rt=0);var Ot=h.config.xaxis.crosshairs.width;(!ct.isNumber(Ot)||Ot<0)&&(Ot=0),W.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:rt,width:Ot,height:rt,fill:Ae,filter:"none","fill-opacity":h.config.xaxis.crosshairs.opacity,stroke:h.config.xaxis.crosshairs.stroke.color,"stroke-width":h.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":h.config.xaxis.crosshairs.stroke.dashArray}),it&&(W=y.dropShadow(W,{left:pt,top:Et,blur:Nt,color:ee,opacity:he})),h.globals.dom.elGraphical.add(W)}}},{key:"drawYCrosshairs",value:function(){var h=this.w,d=new Wt(this.ctx),y=h.config.yaxis[0].crosshairs,C=h.globals.barPadForNumericAxis;if(h.config.yaxis[0].crosshairs.show){var M=d.drawLine(-C,0,h.globals.gridWidth+C,0,y.stroke.color,y.stroke.dashArray,y.stroke.width);M.attr({class:"apexcharts-ycrosshairs"}),h.globals.dom.elGraphical.add(M)}var O=d.drawLine(-C,0,h.globals.gridWidth+C,0,y.stroke.color,0,0);O.attr({class:"apexcharts-ycrosshairs-hidden"}),h.globals.dom.elGraphical.add(O)}}]),qt}(),Wn=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"checkResponsiveConfig",value:function(h){var d=this,y=this.w,C=y.config;if(C.responsive.length!==0){var M=C.responsive.slice();M.sort(function(q,K){return q.breakpoint>K.breakpoint?1:K.breakpoint>q.breakpoint?-1:0}).reverse();var O=new gn({}),N=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=M[0].breakpoint,J=window.innerWidth>0?window.innerWidth:screen.width;if(J>K){var it=te.extendArrayProps(O,y.globals.initialConfig,y);q=ct.extend(it,q),q=ct.extend(y.config,q),d.overrideResponsiveOptions(q)}else for(var pt=0;pt<M.length;pt++)J<M[pt].breakpoint&&(q=te.extendArrayProps(O,M[pt].options,y),q=ct.extend(y.config,q),d.overrideResponsiveOptions(q))};if(h){var V=te.extendArrayProps(O,h,y);V=ct.extend(y.config,V),N(V=ct.extend(V,h))}else N({})}}},{key:"overrideResponsiveOptions",value:function(h){var d=new gn(h).init({responsiveOverride:!0});this.w.config=d}}]),qt}(),si=function(){function qt(h){Qt(this,qt),this.ctx=h,this.colors=[],this.w=h.w;var d=this.w;this.isColorFn=!1,this.isHeatmapDistributed=d.config.chart.type==="treemap"&&d.config.plotOptions.treemap.distributed||d.config.chart.type==="heatmap"&&d.config.plotOptions.heatmap.distributed,this.isBarDistributed=d.config.plotOptions.bar.distributed&&(d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")}return $t(qt,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var h=this,d=this.w,y=new ct;if(d.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(d.config.theme.mode)),d.config.colors===void 0?d.globals.colors=this.predefined():(d.globals.colors=d.config.colors,Array.isArray(d.config.colors)&&d.config.colors.length>0&&typeof d.config.colors[0]=="function"&&(d.globals.colors=d.config.series.map(function(pt,Et){var Nt=d.config.colors[Et];return Nt||(Nt=d.config.colors[0]),typeof Nt=="function"?(h.isColorFn=!0,Nt({value:d.globals.axisCharts?d.globals.series[Et][0]?d.globals.series[Et][0]:0:d.globals.series[Et],seriesIndex:Et,dataPointIndex:Et,w:d})):Nt}))),d.globals.seriesColors.map(function(pt,Et){pt&&(d.globals.colors[Et]=pt)}),d.config.theme.monochrome.enabled){var C=[],M=d.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(M=d.globals.series[0].length*d.globals.series.length);for(var O=d.config.theme.monochrome.color,N=1/(M/d.config.theme.monochrome.shadeIntensity),V=d.config.theme.monochrome.shadeTo,q=0,K=0;K<M;K++){var J=void 0;V==="dark"?(J=y.shadeColor(-1*q,O),q+=N):(J=y.shadeColor(q,O),q+=N),C.push(J)}d.globals.colors=C.slice()}var it=d.globals.colors.slice();this.pushExtraColors(d.globals.colors),["fill","stroke"].forEach(function(pt){d.config[pt].colors===void 0?d.globals[pt].colors=h.isColorFn?d.config.colors:it:d.globals[pt].colors=d.config[pt].colors.slice(),h.pushExtraColors(d.globals[pt].colors)}),d.config.dataLabels.style.colors===void 0?d.globals.dataLabels.style.colors=it:d.globals.dataLabels.style.colors=d.config.dataLabels.style.colors.slice(),this.pushExtraColors(d.globals.dataLabels.style.colors,50),d.config.plotOptions.radar.polygons.fill.colors===void 0?d.globals.radarPolygons.fill.colors=[d.config.theme.mode==="dark"?"#424242":"none"]:d.globals.radarPolygons.fill.colors=d.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(d.globals.radarPolygons.fill.colors,20),d.config.markers.colors===void 0?d.globals.markers.colors=it:d.globals.markers.colors=d.config.markers.colors.slice(),this.pushExtraColors(d.globals.markers.colors)}},{key:"pushExtraColors",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=this.w,M=d||C.globals.series.length;if(y===null&&(y=this.isBarDistributed||this.isHeatmapDistributed||C.config.chart.type==="heatmap"&&C.config.plotOptions.heatmap.colorScale.inverse),y&&C.globals.series.length&&(M=C.globals.series[C.globals.maxValsInArrayIndex].length*C.globals.series.length),h.length<M)for(var O=M-h.length,N=0;N<O;N++)h.push(h[N])}},{key:"updateThemeOptions",value:function(h){h.chart=h.chart||{},h.tooltip=h.tooltip||{};var d=h.theme.mode||"light",y=h.theme.palette?h.theme.palette:d==="dark"?"palette4":"palette1",C=h.chart.foreColor?h.chart.foreColor:d==="dark"?"#f6f7f8":"#373d3f";return h.tooltip.theme=d,h.chart.foreColor=C,h.theme.palette=y,h}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),qt}(),xi=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(h){var d=this.w,y=h==="title"?d.config.title:d.config.subtitle,C=d.globals.svgWidth/2,M=y.offsetY,O="middle";if(y.align==="left"?(C=10,O="start"):y.align==="right"&&(C=d.globals.svgWidth-10,O="end"),C+=y.offsetX,M=M+parseInt(y.style.fontSize,10)+y.margin/2,y.text!==void 0){var N=new Wt(this.ctx).drawText({x:C,y:M,text:y.text,textAnchor:O,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,foreColor:y.style.color,opacity:1});N.node.setAttribute("class","apexcharts-".concat(h,"-text")),d.globals.dom.Paper.add(N)}}}]),qt}(),oi=function(){function qt(h){Qt(this,qt),this.w=h.w,this.dCtx=h}return $t(qt,[{key:"getTitleSubtitleCoords",value:function(h){var d=this.w,y=0,C=0,M=h==="title"?d.config.title.floating:d.config.subtitle.floating,O=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-text"));if(O!==null&&!M){var N=O.getBoundingClientRect();y=N.width,C=d.globals.axisCharts?N.height+5:N.height}return{width:y,height:C}}},{key:"getLegendsRect",value:function(){var h=this.w,d=h.globals.dom.elLegendWrap;h.config.legend.height||h.config.legend.position!=="top"&&h.config.legend.position!=="bottom"||(d.style.maxHeight=h.globals.svgHeight/2+"px");var y=Object.assign({},ct.getBoundingClientRect(d));return d!==null&&!h.config.legend.floating&&h.config.legend.show?this.dCtx.lgRect={x:y.x,y:y.y,height:y.height,width:y.height===0?0:y.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},h.config.legend.position!=="left"&&h.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>h.globals.svgWidth&&(this.dCtx.lgRect.width=h.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(h,d){var y=h;if(this.w.globals.isMultiLineX){var C=d.map(function(O,N){return Array.isArray(O)?O.length:1}),M=Math.max.apply(Math,Pt(C));y=d[C.indexOf(M)]}return y}}]),qt}(),zi=function(){function qt(h){Qt(this,qt),this.w=h.w,this.dCtx=h}return $t(qt,[{key:"getxAxisLabelsCoords",value:function(){var h,d=this.w,y=d.globals.labels.slice();if(d.config.xaxis.convertedCatToNumeric&&y.length===0&&(y=d.globals.categoryLabels),d.globals.timescaleLabels.length>0){var C=this.getxAxisTimeScaleLabelsCoords();h={width:C.width,height:C.height},d.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=d.config.legend.position!=="left"&&d.config.legend.position!=="right"||d.config.legend.floating?0:this.dCtx.lgRect.width;var M=d.globals.xLabelFormatter,O=ct.getLargestStringFromArr(y),N=this.dCtx.dimHelpers.getLargestStringFromMultiArr(O,y);d.globals.isBarHorizontal&&(N=O=d.globals.yAxisScale[0].result.reduce(function(Et,Nt){return Et.length>Nt.length?Et:Nt},0));var V=new me(this.dCtx.ctx),q=O;O=V.xLabelFormat(M,O,q,{i:void 0,dateFormatter:new De(this.dCtx.ctx).formatDate,w:d}),N=V.xLabelFormat(M,N,q,{i:void 0,dateFormatter:new De(this.dCtx.ctx).formatDate,w:d}),(d.config.xaxis.convertedCatToNumeric&&O===void 0||String(O).trim()==="")&&(N=O="1");var K=new Wt(this.dCtx.ctx),J=K.getTextRects(O,d.config.xaxis.labels.style.fontSize),it=J;if(O!==N&&(it=K.getTextRects(N,d.config.xaxis.labels.style.fontSize)),(h={width:J.width>=it.width?J.width:it.width,height:J.height>=it.height?J.height:it.height}).width*y.length>d.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&d.config.xaxis.labels.rotate!==0||d.config.xaxis.labels.rotateAlways){if(!d.globals.isBarHorizontal){d.globals.rotateXLabels=!0;var pt=function(Et){return K.getTextRects(Et,d.config.xaxis.labels.style.fontSize,d.config.xaxis.labels.style.fontFamily,"rotate(".concat(d.config.xaxis.labels.rotate," 0 0)"),!1)};J=pt(O),O!==N&&(it=pt(N)),h.height=(J.height>it.height?J.height:it.height)/1.5,h.width=J.width>it.width?J.width:it.width}}else d.globals.rotateXLabels=!1}return d.config.xaxis.labels.show||(h={width:0,height:0}),{width:h.width,height:h.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var h,d=this.w;if(!d.globals.hasXaxisGroups)return{width:0,height:0};var y,C=((h=d.config.xaxis.group.style)===null||h===void 0?void 0:h.fontSize)||d.config.xaxis.labels.style.fontSize,M=d.globals.groups.map(function(J){return J.title}),O=ct.getLargestStringFromArr(M),N=this.dCtx.dimHelpers.getLargestStringFromMultiArr(O,M),V=new Wt(this.dCtx.ctx),q=V.getTextRects(O,C),K=q;return O!==N&&(K=V.getTextRects(N,C)),y={width:q.width>=K.width?q.width:K.width,height:q.height>=K.height?q.height:K.height},d.config.xaxis.labels.show||(y={width:0,height:0}),{width:y.width,height:y.height}}},{key:"getxAxisTitleCoords",value:function(){var h=this.w,d=0,y=0;if(h.config.xaxis.title.text!==void 0){var C=new Wt(this.dCtx.ctx).getTextRects(h.config.xaxis.title.text,h.config.xaxis.title.style.fontSize);d=C.width,y=C.height}return{width:d,height:y}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var h,d=this.w;this.dCtx.timescaleLabels=d.globals.timescaleLabels.slice();var y=this.dCtx.timescaleLabels.map(function(M){return M.value}),C=y.reduce(function(M,O){return M===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):M.length>O.length?M:O},0);return 1.05*(h=new Wt(this.dCtx.ctx).getTextRects(C,d.config.xaxis.labels.style.fontSize)).width*y.length>d.globals.gridWidth&&d.config.xaxis.labels.rotate!==0&&(d.globals.overlappingXLabels=!0),h}},{key:"additionalPaddingXLabels",value:function(h){var d=this,y=this.w,C=y.globals,M=y.config,O=M.xaxis.type,N=h.width;C.skipLastTimelinelabel=!1,C.skipFirstTimelinelabel=!1;var V=y.config.yaxis[0].opposite&&y.globals.isBarHorizontal,q=function(K,J){M.yaxis.length>1&&function(it){return C.collapsedSeriesIndices.indexOf(it)!==-1}(J)||function(it){if(d.dCtx.timescaleLabels&&d.dCtx.timescaleLabels.length){var pt=d.dCtx.timescaleLabels[0],Et=d.dCtx.timescaleLabels[d.dCtx.timescaleLabels.length-1].position+N/1.75-d.dCtx.yAxisWidthRight,Nt=pt.position-N/1.75+d.dCtx.yAxisWidthLeft,ee=y.config.legend.position==="right"&&d.dCtx.lgRect.width>0?d.dCtx.lgRect.width:0;Et>C.svgWidth-C.translateX-ee&&(C.skipLastTimelinelabel=!0),Nt<-(it.show&&!it.floating||M.chart.type!=="bar"&&M.chart.type!=="candlestick"&&M.chart.type!=="rangeBar"&&M.chart.type!=="boxPlot"?10:N/1.75)&&(C.skipFirstTimelinelabel=!0)}else O==="datetime"?d.dCtx.gridPad.right<N&&!C.rotateXLabels&&(C.skipLastTimelinelabel=!0):O!=="datetime"&&d.dCtx.gridPad.right<N/2-d.dCtx.yAxisWidthRight&&!C.rotateXLabels&&!y.config.xaxis.labels.trim&&(y.config.xaxis.tickPlacement!=="between"||y.globals.isBarHorizontal)&&(d.dCtx.xPadRight=N/2+1)}(K)};M.yaxis.forEach(function(K,J){V?(d.dCtx.gridPad.left<N&&(d.dCtx.xPadLeft=N/2+1),d.dCtx.xPadRight=N/2+1):q(K,J)})}}]),qt}(),yi=function(){function qt(h){Qt(this,qt),this.w=h.w,this.dCtx=h}return $t(qt,[{key:"getyAxisLabelsCoords",value:function(){var h=this,d=this.w,y=[],C=10,M=new Te(this.dCtx.ctx);return d.config.yaxis.map(function(O,N){var V=d.globals.yAxisScale[N],q=0;if(!M.isYAxisHidden(N)&&O.labels.show&&O.labels.minWidth!==void 0&&(q=O.labels.minWidth),!M.isYAxisHidden(N)&&O.labels.show&&V.result.length){var K=d.globals.yLabelFormatters[N],J=V.niceMin===Number.MIN_VALUE?0:V.niceMin,it=String(J).length>String(V.niceMax).length?J:V.niceMax,pt=K(it,{seriesIndex:N,dataPointIndex:-1,w:d}),Et=pt;if(pt!==void 0&&pt.length!==0||(pt=it),d.globals.isBarHorizontal){C=0;var Nt=d.globals.labels.slice();pt=K(pt=ct.getLargestStringFromArr(Nt),{seriesIndex:N,dataPointIndex:-1,w:d}),Et=h.dCtx.dimHelpers.getLargestStringFromMultiArr(pt,Nt)}var ee=new Wt(h.dCtx.ctx),he="rotate(".concat(O.labels.rotate," 0 0)"),Ae=ee.getTextRects(pt,O.labels.style.fontSize,O.labels.style.fontFamily,he,!1),W=Ae;pt!==Et&&(W=ee.getTextRects(Et,O.labels.style.fontSize,O.labels.style.fontFamily,he,!1)),y.push({width:(q>W.width||q>Ae.width?q:W.width>Ae.width?W.width:Ae.width)+C,height:W.height>Ae.height?W.height:Ae.height})}else y.push({width:0,height:0})}),y}},{key:"getyAxisTitleCoords",value:function(){var h=this,d=this.w,y=[];return d.config.yaxis.map(function(C,M){if(C.show&&C.title.text!==void 0){var O=new Wt(h.dCtx.ctx),N="rotate(".concat(C.title.rotate," 0 0)"),V=O.getTextRects(C.title.text,C.title.style.fontSize,C.title.style.fontFamily,N,!1);y.push({width:V.width,height:V.height})}else y.push({width:0,height:0})}),y}},{key:"getTotalYAxisWidth",value:function(){var h=this.w,d=0,y=0,C=0,M=h.globals.yAxisScale.length>1?10:0,O=new Te(this.dCtx.ctx),N=function(V,q){var K=h.config.yaxis[q].floating,J=0;V.width>0&&!K?(J=V.width+M,function(it){return h.globals.ignoreYAxisIndexes.indexOf(it)>-1}(q)&&(J=J-V.width-M)):J=K||O.isYAxisHidden(q)?0:5,h.config.yaxis[q].opposite?C+=J:y+=J,d+=J};return h.globals.yLabelsCoords.map(function(V,q){N(V,q)}),h.globals.yTitleCoords.map(function(V,q){N(V,q)}),h.globals.isBarHorizontal&&!h.config.yaxis[0].floating&&(d=h.globals.yLabelsCoords[0].width+h.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=y,this.dCtx.yAxisWidthRight=C,d}}]),qt}(),Ar=function(){function qt(h){Qt(this,qt),this.w=h.w,this.dCtx=h}return $t(qt,[{key:"gridPadForColumnsInNumericAxis",value:function(h){var d=this.w;if(d.globals.noData||d.globals.allSeriesCollapsed)return 0;var y=function(K){return K==="bar"||K==="rangeBar"||K==="candlestick"||K==="boxPlot"},C=d.config.chart.type,M=0,O=y(C)?d.config.series.length:1;if(d.globals.comboBarCount>0&&(O=d.globals.comboBarCount),d.globals.collapsedSeries.forEach(function(K){y(K.type)&&(O-=1)}),d.config.chart.stacked&&(O=1),(y(C)||d.globals.comboBarCount>0)&&d.globals.isXNumeric&&!d.globals.isBarHorizontal&&O>0){var N,V,q=Math.abs(d.globals.initialMaxX-d.globals.initialMinX);q<=3&&(q=d.globals.dataPoints),N=q/h,d.globals.minXDiff&&d.globals.minXDiff/N>0&&(V=d.globals.minXDiff/N),V>h/2&&(V/=2),(M=V/O*parseInt(d.config.plotOptions.bar.columnWidth,10)/100)<1&&(M=1),M=M/(O>1?1:1.5)+5,d.globals.barPadForNumericAxis=M}return M}},{key:"gridPadFortitleSubtitle",value:function(){var h=this,d=this.w,y=d.globals,C=this.dCtx.isSparkline||!d.globals.axisCharts?0:10;["title","subtitle"].forEach(function(N){d.config[N].text!==void 0?C+=d.config[N].margin:C+=h.dCtx.isSparkline||!d.globals.axisCharts?0:5}),!d.config.legend.show||d.config.legend.position!=="bottom"||d.config.legend.floating||d.globals.axisCharts||(C+=10);var M=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),O=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");y.gridHeight=y.gridHeight-M.height-O.height-C,y.translateY=y.translateY+M.height+O.height+C}},{key:"setGridXPosForDualYAxis",value:function(h,d){var y=this.w,C=new Te(this.dCtx.ctx);y.config.yaxis.map(function(M,O){y.globals.ignoreYAxisIndexes.indexOf(O)!==-1||M.floating||C.isYAxisHidden(O)||(M.opposite&&(y.globals.translateX=y.globals.translateX-(d[O].width+h[O].width)-parseInt(y.config.yaxis[O].labels.style.fontSize,10)/1.2-12),y.globals.translateX<2&&(y.globals.translateX=2))})}}]),qt}(),Kr=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new oi(this),this.dimYAxis=new yi(this),this.dimXAxis=new zi(this),this.dimGrid=new Ar(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return $t(qt,[{key:"plotCoords",value:function(){var h=this,d=this.w,y=d.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(d.config.markers.discrete.length>0||d.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(M){var O=vt(M,2),N=O[0],V=O[1];h.gridPad[N]=Math.max(V,h.w.globals.markers.largestSize/1.5)}),y.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),y.gridHeight=y.gridHeight-this.gridPad.top-this.gridPad.bottom,y.gridWidth=y.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var C=this.dimGrid.gridPadForColumnsInNumericAxis(y.gridWidth);y.gridWidth=y.gridWidth-2*C,y.translateX=y.translateX+this.gridPad.left+this.xPadLeft+(C>0?C+4:0),y.translateY=y.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var h=this,d=this.w,y=d.globals,C=this.dimYAxis.getyAxisLabelsCoords(),M=this.dimYAxis.getyAxisTitleCoords();d.globals.yLabelsCoords=[],d.globals.yTitleCoords=[],d.config.yaxis.map(function(pt,Et){d.globals.yLabelsCoords.push({width:C[Et].width,index:Et}),d.globals.yTitleCoords.push({width:M[Et].width,index:Et})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var O=this.dimXAxis.getxAxisLabelsCoords(),N=this.dimXAxis.getxAxisGroupLabelsCoords(),V=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(O,V,N),y.translateXAxisY=d.globals.rotateXLabels?this.xAxisHeight/8:-4,y.translateXAxisX=d.globals.rotateXLabels&&d.globals.isXNumeric&&d.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,d.globals.isBarHorizontal&&(y.rotateXLabels=!1,y.translateXAxisY=parseInt(d.config.xaxis.labels.style.fontSize,10)/1.5*-1),y.translateXAxisY=y.translateXAxisY+d.config.xaxis.labels.offsetY,y.translateXAxisX=y.translateXAxisX+d.config.xaxis.labels.offsetX;var q=this.yAxisWidth,K=this.xAxisHeight;y.xAxisLabelsHeight=this.xAxisHeight-V.height,y.xAxisGroupLabelsHeight=y.xAxisLabelsHeight-O.height,y.xAxisLabelsWidth=this.xAxisWidth,y.xAxisHeight=this.xAxisHeight;var J=10;(d.config.chart.type==="radar"||this.isSparkline)&&(q=0,K=y.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||d.config.chart.type==="treemap")&&(q=0,K=0,J=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(O);var it=function(){y.translateX=q,y.gridHeight=y.svgHeight-h.lgRect.height-K-(h.isSparkline||d.config.chart.type==="treemap"?0:d.globals.rotateXLabels?10:15),y.gridWidth=y.svgWidth-q};switch(d.config.xaxis.position==="top"&&(J=y.xAxisHeight-d.config.xaxis.axisTicks.height-5),d.config.legend.position){case"bottom":y.translateY=J,it();break;case"top":y.translateY=this.lgRect.height+J,it();break;case"left":y.translateY=J,y.translateX=this.lgRect.width+q,y.gridHeight=y.svgHeight-K-12,y.gridWidth=y.svgWidth-this.lgRect.width-q;break;case"right":y.translateY=J,y.translateX=q,y.gridHeight=y.svgHeight-K-12,y.gridWidth=y.svgWidth-this.lgRect.width-q-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(M,C),new Ln(this.ctx).setYAxisXPosition(C,M)}},{key:"setDimensionsForNonAxisCharts",value:function(){var h=this.w,d=h.globals,y=h.config,C=0;h.config.legend.show&&!h.config.legend.floating&&(C=20);var M=y.chart.type==="pie"||y.chart.type==="polarArea"||y.chart.type==="donut"?"pie":"radialBar",O=y.plotOptions[M].offsetY,N=y.plotOptions[M].offsetX;if(!y.legend.show||y.legend.floating)return d.gridHeight=d.svgHeight-y.grid.padding.left+y.grid.padding.right,d.gridWidth=d.gridHeight,d.translateY=O,void(d.translateX=N+(d.svgWidth-d.gridWidth)/2);switch(y.legend.position){case"bottom":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=O-10,d.translateX=N+(d.svgWidth-d.gridWidth)/2;break;case"top":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=this.lgRect.height+O+10,d.translateX=N+(d.svgWidth-d.gridWidth)/2;break;case"left":d.gridWidth=d.svgWidth-this.lgRect.width-C,d.gridHeight=y.chart.height!=="auto"?d.svgHeight:d.gridWidth,d.translateY=O,d.translateX=N+this.lgRect.width+C;break;case"right":d.gridWidth=d.svgWidth-this.lgRect.width-C-5,d.gridHeight=y.chart.height!=="auto"?d.svgHeight:d.gridWidth,d.translateY=O,d.translateX=N+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(h,d,y){var C=this.w,M=C.globals.hasXaxisGroups?2:1,O=y.height+h.height+d.height,N=C.globals.isMultiLineX?1.2:C.globals.LINE_HEIGHT_RATIO,V=C.globals.rotateXLabels?22:10,q=C.globals.rotateXLabels&&C.config.legend.position==="bottom"?10:0;this.xAxisHeight=O*N+M*V+q,this.xAxisWidth=h.width,this.xAxisHeight-d.height>C.config.xaxis.labels.maxHeight&&(this.xAxisHeight=C.config.xaxis.labels.maxHeight),C.config.xaxis.labels.minHeight&&this.xAxisHeight<C.config.xaxis.labels.minHeight&&(this.xAxisHeight=C.config.xaxis.labels.minHeight),C.config.xaxis.floating&&(this.xAxisHeight=0);var K=0,J=0;C.config.yaxis.forEach(function(it){K+=it.labels.minWidth,J+=it.labels.maxWidth}),this.yAxisWidth<K&&(this.yAxisWidth=K),this.yAxisWidth>J&&(this.yAxisWidth=J)}}]),qt}(),Yt=function(){function qt(h){Qt(this,qt),this.w=h.w,this.lgCtx=h}return $t(qt,[{key:"getLegendStyles",value:function(){var h=document.createElement("style");h.setAttribute("type","text/css");var d=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return h.appendChild(d),h}},{key:"getLegendBBox",value:function(){var h=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),d=h.width;return{clwh:h.height,clww:d}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(h,d){var y=this,C=this.w;if(C.globals.axisCharts||C.config.chart.type==="radialBar"){C.globals.resized=!0;var M=null,O=null;C.globals.risingSeries=[],C.globals.axisCharts?(M=C.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),O=parseInt(M.getAttribute("data:realIndex"),10)):(M=C.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")),O=parseInt(M.getAttribute("rel"),10)-1),d?[{cs:C.globals.collapsedSeries,csi:C.globals.collapsedSeriesIndices},{cs:C.globals.ancillaryCollapsedSeries,csi:C.globals.ancillaryCollapsedSeriesIndices}].forEach(function(K){y.riseCollapsedSeries(K.cs,K.csi,O)}):this.hideSeries({seriesEl:M,realIndex:O})}else{var N=C.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(h+1,"'] path")),V=C.config.chart.type;if(V==="pie"||V==="polarArea"||V==="donut"){var q=C.config.plotOptions.pie.donut.labels;new Wt(this.lgCtx.ctx).pathMouseDown(N.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(N.members[0].node,q)}N.fire("click")}}},{key:"hideSeries",value:function(h){var d=h.seriesEl,y=h.realIndex,C=this.w,M=ct.clone(C.config.series);if(C.globals.axisCharts){var O=!1;if(C.config.yaxis[y]&&C.config.yaxis[y].show&&C.config.yaxis[y].showAlways&&(O=!0,C.globals.ancillaryCollapsedSeriesIndices.indexOf(y)<0&&(C.globals.ancillaryCollapsedSeries.push({index:y,data:M[y].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),C.globals.ancillaryCollapsedSeriesIndices.push(y))),!O){C.globals.collapsedSeries.push({index:y,data:M[y].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),C.globals.collapsedSeriesIndices.push(y);var N=C.globals.risingSeries.indexOf(y);C.globals.risingSeries.splice(N,1)}}else C.globals.collapsedSeries.push({index:y,data:M[y]}),C.globals.collapsedSeriesIndices.push(y);for(var V=d.childNodes,q=0;q<V.length;q++)V[q].classList.contains("apexcharts-series-markers-wrap")&&(V[q].classList.contains("apexcharts-hide")?V[q].classList.remove("apexcharts-hide"):V[q].classList.add("apexcharts-hide"));C.globals.allSeriesCollapsed=C.globals.collapsedSeries.length===C.config.series.length,M=this._getSeriesBasedOnCollapsedState(M),this.lgCtx.ctx.updateHelpers._updateSeries(M,C.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(h,d,y){var C=this.w,M=ct.clone(C.config.series);if(h.length>0){for(var O=0;O<h.length;O++)h[O].index===y&&(C.globals.axisCharts?(M[y].data=h[O].data.slice(),h.splice(O,1),d.splice(O,1),C.globals.risingSeries.push(y)):(M[y]=h[O].data,h.splice(O,1),d.splice(O,1),C.globals.risingSeries.push(y)));M=this._getSeriesBasedOnCollapsedState(M),this.lgCtx.ctx.updateHelpers._updateSeries(M,C.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(h){var d=this.w;return d.globals.axisCharts?h.forEach(function(y,C){d.globals.collapsedSeriesIndices.indexOf(C)>-1&&(h[C].data=[])}):h.forEach(function(y,C){d.globals.collapsedSeriesIndices.indexOf(C)>-1&&(h[C]=0)}),h}}]),qt}(),At=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Yt(this)}return $t(qt,[{key:"init",value:function(){var h=this.w,d=h.globals,y=h.config;if((y.legend.showForSingleSeries&&d.series.length===1||this.isBarsDistributed||d.series.length>1||!d.axisCharts)&&y.legend.show){for(;d.dom.elLegendWrap.firstChild;)d.dom.elLegendWrap.removeChild(d.dom.elLegendWrap.firstChild);this.drawLegends(),ct.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),y.legend.position==="bottom"||y.legend.position==="top"?this.legendAlignHorizontal():y.legend.position!=="right"&&y.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var h=this,d=this.w,y=d.config.legend.fontFamily,C=d.globals.seriesNames,M=d.globals.colors.slice();if(d.config.chart.type==="heatmap"){var O=d.config.plotOptions.heatmap.colorScale.ranges;C=O.map(function(jn){return jn.name?jn.name:jn.from+" - "+jn.to}),M=O.map(function(jn){return jn.color})}else this.isBarsDistributed&&(C=d.globals.labels.slice());d.config.legend.customLegendItems.length&&(C=d.config.legend.customLegendItems);for(var N=d.globals.legendFormatter,V=d.config.legend.inverseOrder,q=V?C.length-1:0;V?q>=0:q<=C.length-1;V?q--:q++){var K=N(C[q],{seriesIndex:q,w:d}),J=!1,it=!1;if(d.globals.collapsedSeries.length>0)for(var pt=0;pt<d.globals.collapsedSeries.length;pt++)d.globals.collapsedSeries[pt].index===q&&(J=!0);if(d.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Et=0;Et<d.globals.ancillaryCollapsedSeriesIndices.length;Et++)d.globals.ancillaryCollapsedSeriesIndices[Et]===q&&(it=!0);var Nt=document.createElement("span");Nt.classList.add("apexcharts-legend-marker");var ee=d.config.legend.markers.offsetX,he=d.config.legend.markers.offsetY,Ae=d.config.legend.markers.height,W=d.config.legend.markers.width,rt=d.config.legend.markers.strokeWidth,Ot=d.config.legend.markers.strokeColor,ce=d.config.legend.markers.radius,xe=Nt.style;xe.background=M[q],xe.color=M[q],xe.setProperty("background",M[q],"important"),d.config.legend.markers.fillColors&&d.config.legend.markers.fillColors[q]&&(xe.background=d.config.legend.markers.fillColors[q]),d.globals.seriesColors[q]!==void 0&&(xe.background=d.globals.seriesColors[q],xe.color=d.globals.seriesColors[q]),xe.height=Array.isArray(Ae)?parseFloat(Ae[q])+"px":parseFloat(Ae)+"px",xe.width=Array.isArray(W)?parseFloat(W[q])+"px":parseFloat(W)+"px",xe.left=(Array.isArray(ee)?parseFloat(ee[q]):parseFloat(ee))+"px",xe.top=(Array.isArray(he)?parseFloat(he[q]):parseFloat(he))+"px",xe.borderWidth=Array.isArray(rt)?rt[q]:rt,xe.borderColor=Array.isArray(Ot)?Ot[q]:Ot,xe.borderRadius=Array.isArray(ce)?parseFloat(ce[q])+"px":parseFloat(ce)+"px",d.config.legend.markers.customHTML&&(Array.isArray(d.config.legend.markers.customHTML)?d.config.legend.markers.customHTML[q]&&(Nt.innerHTML=d.config.legend.markers.customHTML[q]()):Nt.innerHTML=d.config.legend.markers.customHTML()),Wt.setAttrs(Nt,{rel:q+1,"data:collapsed":J||it}),(J||it)&&Nt.classList.add("apexcharts-inactive-legend");var Ie=document.createElement("div"),on=document.createElement("span");on.classList.add("apexcharts-legend-text"),on.innerHTML=Array.isArray(K)?K.join(" "):K;var un=d.config.legend.labels.useSeriesColors?d.globals.colors[q]:d.config.legend.labels.colors;un||(un=d.config.chart.foreColor),on.style.color=un,on.style.fontSize=parseFloat(d.config.legend.fontSize)+"px",on.style.fontWeight=d.config.legend.fontWeight,on.style.fontFamily=y||d.config.chart.fontFamily,Wt.setAttrs(on,{rel:q+1,i:q,"data:default-text":encodeURIComponent(K),"data:collapsed":J||it}),Ie.appendChild(Nt),Ie.appendChild(on);var Bn=new te(this.ctx);d.config.legend.showForZeroSeries||Bn.getSeriesTotalByIndex(q)===0&&Bn.seriesHaveSameValues(q)&&!Bn.isSeriesNull(q)&&d.globals.collapsedSeriesIndices.indexOf(q)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(q)===-1&&Ie.classList.add("apexcharts-hidden-zero-series"),d.config.legend.showForNullSeries||Bn.isSeriesNull(q)&&d.globals.collapsedSeriesIndices.indexOf(q)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(q)===-1&&Ie.classList.add("apexcharts-hidden-null-series"),d.globals.dom.elLegendWrap.appendChild(Ie),d.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(d.config.legend.horizontalAlign)),d.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+d.config.legend.position),Ie.classList.add("apexcharts-legend-series"),Ie.style.margin="".concat(d.config.legend.itemMargin.vertical,"px ").concat(d.config.legend.itemMargin.horizontal,"px"),d.globals.dom.elLegendWrap.style.width=d.config.legend.width?d.config.legend.width+"px":"",d.globals.dom.elLegendWrap.style.height=d.config.legend.height?d.config.legend.height+"px":"",Wt.setAttrs(Ie,{rel:q+1,seriesName:ct.escapeString(C[q]),"data:collapsed":J||it}),(J||it)&&Ie.classList.add("apexcharts-inactive-legend"),d.config.legend.onItemClick.toggleDataSeries||Ie.classList.add("apexcharts-no-click")}d.globals.dom.elWrap.addEventListener("click",h.onLegendClick,!0),d.config.legend.onItemHover.highlightDataSeries&&d.config.legend.customLegendItems.length===0&&(d.globals.dom.elWrap.addEventListener("mousemove",h.onLegendHovered,!0),d.globals.dom.elWrap.addEventListener("mouseout",h.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(h,d){var y=this.w,C=y.globals.dom.elLegendWrap,M=C.getBoundingClientRect(),O=0,N=0;if(y.config.legend.position==="bottom")N+=y.globals.svgHeight-M.height/2;else if(y.config.legend.position==="top"){var V=new Kr(this.ctx),q=V.dimHelpers.getTitleSubtitleCoords("title").height,K=V.dimHelpers.getTitleSubtitleCoords("subtitle").height;N=N+(q>0?q-10:0)+(K>0?K-10:0)}C.style.position="absolute",O=O+h+y.config.legend.offsetX,N=N+d+y.config.legend.offsetY,C.style.left=O+"px",C.style.top=N+"px",y.config.legend.position==="bottom"?(C.style.top="auto",C.style.bottom=5-y.config.legend.offsetY+"px"):y.config.legend.position==="right"&&(C.style.left="auto",C.style.right=25+y.config.legend.offsetX+"px"),["width","height"].forEach(function(J){C.style[J]&&(C.style[J]=parseInt(y.config.legend[J],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var h=this.w;h.globals.dom.elLegendWrap.style.right=0;var d=this.legendHelpers.getLegendBBox(),y=new Kr(this.ctx),C=y.dimHelpers.getTitleSubtitleCoords("title"),M=y.dimHelpers.getTitleSubtitleCoords("subtitle"),O=0;h.config.legend.position==="bottom"?O=-d.clwh/1.8:h.config.legend.position==="top"&&(O=C.height+M.height+h.config.title.margin+h.config.subtitle.margin-10),this.setLegendWrapXY(20,O)}},{key:"legendAlignVertical",value:function(){var h=this.w,d=this.legendHelpers.getLegendBBox(),y=0;h.config.legend.position==="left"&&(y=20),h.config.legend.position==="right"&&(y=h.globals.svgWidth-d.clww-10),this.setLegendWrapXY(y,20)}},{key:"onLegendHovered",value:function(h){var d=this.w,y=h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker");if(d.config.chart.type==="heatmap"||this.isBarsDistributed){if(y){var C=parseInt(h.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,C,this.w]),new je(this.ctx).highlightRangeInSeries(h,h.target)}}else!h.target.classList.contains("apexcharts-inactive-legend")&&y&&new je(this.ctx).toggleSeriesOnHover(h,h.target)}},{key:"onLegendClick",value:function(h){var d=this.w;if(!d.config.legend.customLegendItems.length&&(h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker"))){var y=parseInt(h.target.getAttribute("rel"),10)-1,C=h.target.getAttribute("data:collapsed")==="true",M=this.w.config.chart.events.legendClick;typeof M=="function"&&M(this.ctx,y,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,y,this.w]);var O=this.w.config.legend.markers.onClick;typeof O=="function"&&h.target.classList.contains("apexcharts-legend-marker")&&(O(this.ctx,y,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,y,this.w])),d.config.chart.type!=="treemap"&&d.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&d.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(y,C)}}}]),qt}(),Dt=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w;var d=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=d.globals.minX,this.maxX=d.globals.maxX}return $t(qt,[{key:"createToolbar",value:function(){var h=this,d=this.w,y=function(){return document.createElement("div")},C=y();if(C.setAttribute("class","apexcharts-toolbar"),C.style.top=d.config.chart.toolbar.offsetY+"px",C.style.right=3-d.config.chart.toolbar.offsetX+"px",d.globals.dom.elWrap.appendChild(C),this.elZoom=y(),this.elZoomIn=y(),this.elZoomOut=y(),this.elPan=y(),this.elSelection=y(),this.elZoomReset=y(),this.elMenuIcon=y(),this.elMenu=y(),this.elCustomIcons=[],this.t=d.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var M=0;M<this.t.customIcons.length;M++)this.elCustomIcons.push(y());var O=[],N=function(J,it,pt){var Et=J.toLowerCase();h.t[Et]&&d.config.chart.zoom.enabled&&O.push({el:it,icon:typeof h.t[Et]=="string"?h.t[Et]:pt,title:h.localeValues[J],class:"apexcharts-".concat(Et,"-icon")})};N("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),N("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var V=function(J){h.t[J]&&d.config.chart[J].enabled&&O.push({el:J==="zoom"?h.elZoom:h.elSelection,icon:typeof h.t[J]=="string"?h.t[J]:J==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:h.localeValues[J==="zoom"?"selectionZoom":"selection"],class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(J,"-icon")})};V("zoom"),V("selection"),this.t.pan&&d.config.chart.zoom.enabled&&O.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),N("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&O.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var q=0;q<this.elCustomIcons.length;q++)O.push({el:this.elCustomIcons[q],icon:this.t.customIcons[q].icon,title:this.t.customIcons[q].title,index:this.t.customIcons[q].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[q].class});O.forEach(function(J,it){J.index&&ct.moveIndexInArray(O,it,J.index)});for(var K=0;K<O.length;K++)Wt.setAttrs(O[K].el,{class:O[K].class,title:O[K].title}),O[K].el.innerHTML=O[K].icon,C.appendChild(O[K].el);this._createHamburgerMenu(C),d.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):d.globals.panEnabled?this.elPan.classList.add(this.selectedClass):d.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(h){this.elMenuItems=[],h.appendChild(this.elMenu),Wt.setAttrs(this.elMenu,{class:"apexcharts-menu"});var d=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||d.splice(2,1);for(var y=0;y<d.length;y++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[y].innerHTML=d[y].title,Wt.setAttrs(this.elMenuItems[y],{class:"apexcharts-menu-item ".concat(d[y].name),title:d[y].title}),this.elMenu.appendChild(this.elMenuItems[y])}},{key:"addToolbarEventListeners",value:function(){var h=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(y){y.classList.contains("exportSVG")?y.addEventListener("click",h.handleDownload.bind(h,"svg")):y.classList.contains("exportPNG")?y.addEventListener("click",h.handleDownload.bind(h,"png")):y.classList.contains("exportCSV")&&y.addEventListener("click",h.handleDownload.bind(h,"csv"))});for(var d=0;d<this.t.customIcons.length;d++)this.elCustomIcons[d].addEventListener("click",this.t.customIcons[d].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(h){this.ctx.getSyncedCharts().forEach(function(d){d.ctx.toolbar.toggleOtherControls();var y=h==="selection"?d.ctx.toolbar.elSelection:d.ctx.toolbar.elZoom,C=h==="selection"?"selectionEnabled":"zoomEnabled";d.w.globals[C]=!d.w.globals[C],y.classList.contains(d.ctx.toolbar.selectedClass)?y.classList.remove(d.ctx.toolbar.selectedClass):y.classList.add(d.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var h=this.w;this.elZoom||(this.elZoom=h.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=h.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=h.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(h){this.toggleOtherControls(),h==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var d=h==="pan"?this.elPan:this.elZoom,y=h==="pan"?this.elZoom:this.elPan;d&&d.classList.add(this.selectedClass),y&&y.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(h){h.ctx.toolbar.toggleOtherControls(),h.w.globals.panEnabled=!h.w.globals.panEnabled,h.ctx.toolbar.elPan.classList.contains(h.ctx.toolbar.selectedClass)?h.ctx.toolbar.elPan.classList.remove(h.ctx.toolbar.selectedClass):h.ctx.toolbar.elPan.classList.add(h.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var h=this,d=this.w;d.globals.panEnabled=!1,d.globals.zoomEnabled=!1,d.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(y){y&&y.classList.remove(h.selectedClass)})}},{key:"handleZoomIn",value:function(){var h=this.w;h.globals.isRangeBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY);var d=(this.minX+this.maxX)/2,y=(this.minX+d)/2,C=(this.maxX+d)/2,M=this._getNewMinXMaxX(y,C);h.globals.disableZoomIn||this.zoomUpdateOptions(M.minX,M.maxX)}},{key:"handleZoomOut",value:function(){var h=this.w;if(h.globals.isRangeBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY),!(h.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var d=(this.minX+this.maxX)/2,y=this.minX-(d-this.minX),C=this.maxX-(d-this.maxX),M=this._getNewMinXMaxX(y,C);h.globals.disableZoomOut||this.zoomUpdateOptions(M.minX,M.maxX)}}},{key:"_getNewMinXMaxX",value:function(h,d){var y=this.w.config.xaxis.convertedCatToNumeric;return{minX:y?Math.floor(h):h,maxX:y?Math.floor(d):d}}},{key:"zoomUpdateOptions",value:function(h,d){var y=this.w;if(h!==void 0||d!==void 0){if(!(y.config.xaxis.convertedCatToNumeric&&(h<1&&(h=1,d=y.globals.dataPoints),d-h<2))){var C={min:h,max:d},M=this.getBeforeZoomRange(C);M&&(C=M.xaxis);var O={xaxis:C},N=ct.clone(y.globals.initialConfig.yaxis);y.config.chart.zoom.autoScaleYaxis&&(N=new Mn(this.ctx).autoScaleY(this.ctx,N,{xaxis:C})),y.config.chart.group||(O.yaxis=N),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(O,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(C,N)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(h,d){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:h,yaxis:d})}},{key:"getBeforeZoomRange",value:function(h,d){var y=null;return typeof this.ev.beforeZoom=="function"&&(y=this.ev.beforeZoom(this,{xaxis:h,yaxis:d})),y}},{key:"toggleMenu",value:function(){var h=this;window.setTimeout(function(){h.elMenu.classList.contains("apexcharts-menu-open")?h.elMenu.classList.remove("apexcharts-menu-open"):h.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(h){var d=this.w,y=new _n(this.ctx);switch(h){case"svg":y.exportToSVG(this.ctx);break;case"png":y.exportToPng(this.ctx);break;case"csv":y.exportToCSV({series:d.config.series,columnDelimiter:d.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(h){this.ctx.getSyncedCharts().forEach(function(d){var y=d.w;if(y.globals.lastXAxis.min=void 0,y.globals.lastXAxis.max=void 0,d.updateHelpers.revertDefaultAxisMinMax(),typeof y.config.chart.events.beforeResetZoom=="function"){var C=y.config.chart.events.beforeResetZoom(d,y);C&&d.updateHelpers.revertDefaultAxisMinMax(C)}typeof y.config.chart.events.zoomed=="function"&&d.ctx.toolbar.zoomCallback({min:y.config.xaxis.min,max:y.config.xaxis.max}),y.globals.zoomed=!1;var M=d.ctx.series.emptyCollapsedSeries(ct.clone(y.globals.initialSeries));d.updateHelpers._updateSeries(M,y.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),qt}(),re=function(qt){Jt(d,qt);var h=_t(d);function d(y){var C;return Qt(this,d),(C=h.call(this,y)).ctx=y,C.w=y.w,C.dragged=!1,C.graphics=new Wt(C.ctx),C.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],C.clientX=0,C.clientY=0,C.startX=0,C.endX=0,C.dragX=0,C.startY=0,C.endY=0,C.dragY=0,C.moveDirection="none",C}return $t(d,[{key:"init",value:function(y){var C=this,M=y.xyRatios,O=this.w,N=this;this.xyRatios=M,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=O.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),O.globals.dom.elGraphical.add(this.zoomRect),O.globals.dom.elGraphical.add(this.selectionRect),O.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:O.globals.gridWidth,maxY:O.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):O.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:O.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=O.globals.dom.baseEl.querySelector("".concat(O.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(V){C.hoverArea.addEventListener(V,N.svgMouseEvents.bind(N,M),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(y,C){var M=this.w,O=this,N=this.ctx.toolbar,V=M.globals.zoomEnabled?M.config.chart.zoom.type:M.config.chart.selection.type,q=M.config.chart.toolbar.autoSelected;if(C.shiftKey?(this.shiftWasPressed=!0,N.enableZoomPanFromToolbar(q==="pan"?"zoom":"pan")):this.shiftWasPressed&&(N.enableZoomPanFromToolbar(q),this.shiftWasPressed=!1),C.target){var K,J=C.target.classList;if(C.target.parentNode&&C.target.parentNode!==null&&(K=C.target.parentNode.classList),!(J.contains("apexcharts-selection-rect")||J.contains("apexcharts-legend-marker")||J.contains("apexcharts-legend-text")||K&&K.contains("apexcharts-toolbar"))){if(O.clientX=C.type==="touchmove"||C.type==="touchstart"?C.touches[0].clientX:C.type==="touchend"?C.changedTouches[0].clientX:C.clientX,O.clientY=C.type==="touchmove"||C.type==="touchstart"?C.touches[0].clientY:C.type==="touchend"?C.changedTouches[0].clientY:C.clientY,C.type==="mousedown"&&C.which===1){var it=O.gridRect.getBoundingClientRect();O.startX=O.clientX-it.left,O.startY=O.clientY-it.top,O.dragged=!1,O.w.globals.mousedown=!0}if((C.type==="mousemove"&&C.which===1||C.type==="touchmove")&&(O.dragged=!0,M.globals.panEnabled?(M.globals.selection=null,O.w.globals.mousedown&&O.panDragging({context:O,zoomtype:V,xyRatios:y})):(O.w.globals.mousedown&&M.globals.zoomEnabled||O.w.globals.mousedown&&M.globals.selectionEnabled)&&(O.selection=O.selectionDrawing({context:O,zoomtype:V}))),C.type==="mouseup"||C.type==="touchend"||C.type==="mouseleave"){var pt=O.gridRect.getBoundingClientRect();O.w.globals.mousedown&&(O.endX=O.clientX-pt.left,O.endY=O.clientY-pt.top,O.dragX=Math.abs(O.endX-O.startX),O.dragY=Math.abs(O.endY-O.startY),(M.globals.zoomEnabled||M.globals.selectionEnabled)&&O.selectionDrawn({context:O,zoomtype:V}),M.globals.panEnabled&&M.config.xaxis.convertedCatToNumeric&&O.delayedPanScrolled()),M.globals.zoomEnabled&&O.hideSelectionRect(this.selectionRect),O.dragged=!1,O.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var y=this.w;if(this.selectionRect){var C=this.selectionRect.node.getBoundingClientRect();C.width>0&&C.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:y.globals.gridWidth,maxY:y.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var y=this.w,C=this.xyRatios;if(!y.globals.zoomEnabled){if(y.globals.selection!==void 0&&y.globals.selection!==null)this.drawSelectionRect(y.globals.selection);else if(y.config.chart.selection.xaxis.min!==void 0&&y.config.chart.selection.xaxis.max!==void 0){var M=(y.config.chart.selection.xaxis.min-y.globals.minX)/C.xRatio,O={x:M,y:0,width:y.globals.gridWidth-(y.globals.maxX-y.config.chart.selection.xaxis.max)/C.xRatio-M,height:y.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(O),this.makeSelectionRectDraggable(),typeof y.config.chart.events.selection=="function"&&y.config.chart.events.selection(this.ctx,{xaxis:{min:y.config.chart.selection.xaxis.min,max:y.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(y){var C=y.x,M=y.y,O=y.width,N=y.height,V=y.translateX,q=V===void 0?0:V,K=y.translateY,J=K===void 0?0:K,it=this.w,pt=this.zoomRect,Et=this.selectionRect;if(this.dragged||it.globals.selection!==null){var Nt={transform:"translate("+q+", "+J+")"};it.globals.zoomEnabled&&this.dragged&&(O<0&&(O=1),pt.attr({x:C,y:M,width:O,height:N,fill:it.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":it.config.chart.zoom.zoomedArea.fill.opacity,stroke:it.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":it.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":it.config.chart.zoom.zoomedArea.stroke.opacity}),Wt.setAttrs(pt.node,Nt)),it.globals.selectionEnabled&&(Et.attr({x:C,y:M,width:O>0?O:0,height:N>0?N:0,fill:it.config.chart.selection.fill.color,"fill-opacity":it.config.chart.selection.fill.opacity,stroke:it.config.chart.selection.stroke.color,"stroke-width":it.config.chart.selection.stroke.width,"stroke-dasharray":it.config.chart.selection.stroke.dashArray,"stroke-opacity":it.config.chart.selection.stroke.opacity}),Wt.setAttrs(Et.node,Nt))}}},{key:"hideSelectionRect",value:function(y){y&&y.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(y){var C=y.context,M=y.zoomtype,O=this.w,N=C,V=this.gridRect.getBoundingClientRect(),q=N.startX-1,K=N.startY,J=!1,it=!1,pt=N.clientX-V.left-q,Et=N.clientY-V.top-K,Nt={};return Math.abs(pt+q)>O.globals.gridWidth?pt=O.globals.gridWidth-q:N.clientX-V.left<0&&(pt=q),q>N.clientX-V.left&&(J=!0,pt=Math.abs(pt)),K>N.clientY-V.top&&(it=!0,Et=Math.abs(Et)),Nt=M==="x"?{x:J?q-pt:q,y:0,width:pt,height:O.globals.gridHeight}:M==="y"?{x:0,y:it?K-Et:K,width:O.globals.gridWidth,height:Et}:{x:J?q-pt:q,y:it?K-Et:K,width:pt,height:Et},N.drawSelectionRect(Nt),N.selectionDragging("resizing"),Nt}},{key:"selectionDragging",value:function(y,C){var M=this,O=this.w,N=this.xyRatios,V=this.selectionRect,q=0;y==="resizing"&&(q=30);var K=function(it){return parseFloat(V.node.getAttribute(it))},J={x:K("x"),y:K("y"),width:K("width"),height:K("height")};O.globals.selection=J,typeof O.config.chart.events.selection=="function"&&O.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var it=M.gridRect.getBoundingClientRect(),pt=V.node.getBoundingClientRect(),Et={xaxis:{min:O.globals.xAxisScale.niceMin+(pt.left-it.left)*N.xRatio,max:O.globals.xAxisScale.niceMin+(pt.right-it.left)*N.xRatio},yaxis:{min:O.globals.yAxisScale[0].niceMin+(it.bottom-pt.bottom)*N.yRatio[0],max:O.globals.yAxisScale[0].niceMax-(pt.top-it.top)*N.yRatio[0]}};O.config.chart.events.selection(M.ctx,Et),O.config.chart.brush.enabled&&O.config.chart.events.brushScrolled!==void 0&&O.config.chart.events.brushScrolled(M.ctx,Et)},q))}},{key:"selectionDrawn",value:function(y){var C=y.context,M=y.zoomtype,O=this.w,N=C,V=this.xyRatios,q=this.ctx.toolbar;if(N.startX>N.endX){var K=N.startX;N.startX=N.endX,N.endX=K}if(N.startY>N.endY){var J=N.startY;N.startY=N.endY,N.endY=J}var it=void 0,pt=void 0;O.globals.isRangeBar?(it=O.globals.yAxisScale[0].niceMin+N.startX*V.invertedYRatio,pt=O.globals.yAxisScale[0].niceMin+N.endX*V.invertedYRatio):(it=O.globals.xAxisScale.niceMin+N.startX*V.xRatio,pt=O.globals.xAxisScale.niceMin+N.endX*V.xRatio);var Et=[],Nt=[];if(O.config.yaxis.forEach(function(xe,Ie){Et.push(O.globals.yAxisScale[Ie].niceMax-V.yRatio[Ie]*N.startY),Nt.push(O.globals.yAxisScale[Ie].niceMax-V.yRatio[Ie]*N.endY)}),N.dragged&&(N.dragX>10||N.dragY>10)&&it!==pt){if(O.globals.zoomEnabled){var ee=ct.clone(O.globals.initialConfig.yaxis),he=ct.clone(O.globals.initialConfig.xaxis);if(O.globals.zoomed=!0,O.config.xaxis.convertedCatToNumeric&&(it=Math.floor(it),pt=Math.floor(pt),it<1&&(it=1,pt=O.globals.dataPoints),pt-it<2&&(pt=it+1)),M!=="xy"&&M!=="x"||(he={min:it,max:pt}),M!=="xy"&&M!=="y"||ee.forEach(function(xe,Ie){ee[Ie].min=Nt[Ie],ee[Ie].max=Et[Ie]}),O.config.chart.zoom.autoScaleYaxis){var Ae=new Mn(N.ctx);ee=Ae.autoScaleY(N.ctx,ee,{xaxis:he})}if(q){var W=q.getBeforeZoomRange(he,ee);W&&(he=W.xaxis?W.xaxis:he,ee=W.yaxis?W.yaxis:ee)}var rt={xaxis:he};O.config.chart.group||(rt.yaxis=ee),N.ctx.updateHelpers._updateOptions(rt,!1,N.w.config.chart.animations.dynamicAnimation.enabled),typeof O.config.chart.events.zoomed=="function"&&q.zoomCallback(he,ee)}else if(O.globals.selectionEnabled){var Ot,ce=null;Ot={min:it,max:pt},M!=="xy"&&M!=="y"||(ce=ct.clone(O.config.yaxis)).forEach(function(xe,Ie){ce[Ie].min=Nt[Ie],ce[Ie].max=Et[Ie]}),O.globals.selection=N.selection,typeof O.config.chart.events.selection=="function"&&O.config.chart.events.selection(N.ctx,{xaxis:Ot,yaxis:ce})}}}},{key:"panDragging",value:function(y){var C=y.context,M=this.w,O=C;if(M.globals.lastClientPosition.x!==void 0){var N=M.globals.lastClientPosition.x-O.clientX,V=M.globals.lastClientPosition.y-O.clientY;Math.abs(N)>Math.abs(V)&&N>0?this.moveDirection="left":Math.abs(N)>Math.abs(V)&&N<0?this.moveDirection="right":Math.abs(V)>Math.abs(N)&&V>0?this.moveDirection="up":Math.abs(V)>Math.abs(N)&&V<0&&(this.moveDirection="down")}M.globals.lastClientPosition={x:O.clientX,y:O.clientY};var q=M.globals.isRangeBar?M.globals.minY:M.globals.minX,K=M.globals.isRangeBar?M.globals.maxY:M.globals.maxX;M.config.xaxis.convertedCatToNumeric||O.panScrolled(q,K)}},{key:"delayedPanScrolled",value:function(){var y=this.w,C=y.globals.minX,M=y.globals.maxX,O=(y.globals.maxX-y.globals.minX)/2;this.moveDirection==="left"?(C=y.globals.minX+O,M=y.globals.maxX+O):this.moveDirection==="right"&&(C=y.globals.minX-O,M=y.globals.maxX-O),C=Math.floor(C),M=Math.floor(M),this.updateScrolledChart({xaxis:{min:C,max:M}},C,M)}},{key:"panScrolled",value:function(y,C){var M=this.w,O=this.xyRatios,N=ct.clone(M.globals.initialConfig.yaxis),V=O.xRatio,q=M.globals.minX,K=M.globals.maxX;M.globals.isRangeBar&&(V=O.invertedYRatio,q=M.globals.minY,K=M.globals.maxY),this.moveDirection==="left"?(y=q+M.globals.gridWidth/15*V,C=K+M.globals.gridWidth/15*V):this.moveDirection==="right"&&(y=q-M.globals.gridWidth/15*V,C=K-M.globals.gridWidth/15*V),M.globals.isRangeBar||(y<M.globals.initialMinX||C>M.globals.initialMaxX)&&(y=q,C=K);var J={min:y,max:C};M.config.chart.zoom.autoScaleYaxis&&(N=new Mn(this.ctx).autoScaleY(this.ctx,N,{xaxis:J}));var it={xaxis:{min:y,max:C}};M.config.chart.group||(it.yaxis=N),this.updateScrolledChart(it,y,C)}},{key:"updateScrolledChart",value:function(y,C,M){var O=this.w;this.ctx.updateHelpers._updateOptions(y,!1,!1),typeof O.config.chart.events.scrolled=="function"&&O.config.chart.events.scrolled(this.ctx,{xaxis:{min:C,max:M}})}}]),d}(Dt),Pe=function(){function qt(h){Qt(this,qt),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx}return $t(qt,[{key:"getNearestValues",value:function(h){var d=h.hoverArea,y=h.elGrid,C=h.clientX,M=h.clientY,O=this.w,N=y.getBoundingClientRect(),V=N.width,q=N.height,K=V/(O.globals.dataPoints-1),J=q/O.globals.dataPoints,it=this.hasBars();!O.globals.comboCharts&&!it||O.config.xaxis.convertedCatToNumeric||(K=V/O.globals.dataPoints);var pt=C-N.left-O.globals.barPadForNumericAxis,Et=M-N.top;pt<0||Et<0||pt>V||Et>q?(d.classList.remove("hovering-zoom"),d.classList.remove("hovering-pan")):O.globals.zoomEnabled?(d.classList.remove("hovering-pan"),d.classList.add("hovering-zoom")):O.globals.panEnabled&&(d.classList.remove("hovering-zoom"),d.classList.add("hovering-pan"));var Nt=Math.round(pt/K),ee=Math.floor(Et/J);it&&!O.config.xaxis.convertedCatToNumeric&&(Nt=Math.ceil(pt/K),Nt-=1);var he=null,Ae=null,W=[],rt=[];if(O.globals.seriesXvalues.forEach(function(Ie){W.push([Ie[0]+1e-6].concat(Ie))}),O.globals.seriesYvalues.forEach(function(Ie){rt.push([Ie[0]+1e-6].concat(Ie))}),W=W.map(function(Ie){return Ie.filter(function(on){return ct.isNumber(on)})}),rt=rt.map(function(Ie){return Ie.filter(function(on){return ct.isNumber(on)})}),O.globals.isXNumeric){var Ot=this.ttCtx.getElGrid().getBoundingClientRect(),ce=pt*(Ot.width/V),xe=Et*(Ot.height/q);he=(Ae=this.closestInMultiArray(ce,xe,W,rt)).index,Nt=Ae.j,he!==null&&(W=O.globals.seriesXvalues[he],Nt=(Ae=this.closestInArray(ce,W)).index)}return O.globals.capturedSeriesIndex=he===null?-1:he,(!Nt||Nt<1)&&(Nt=0),O.globals.isBarHorizontal?O.globals.capturedDataPointIndex=ee:O.globals.capturedDataPointIndex=Nt,{capturedSeries:he,j:O.globals.isBarHorizontal?ee:Nt,hoverX:pt,hoverY:Et}}},{key:"closestInMultiArray",value:function(h,d,y,C){var M=this.w,O=0,N=null,V=-1;M.globals.series.length>1?O=this.getFirstActiveXArray(y):N=0;var q=y[O][0],K=Math.abs(h-q);if(y.forEach(function(pt){pt.forEach(function(Et,Nt){var ee=Math.abs(h-Et);ee<K&&(K=ee,V=Nt)})}),V!==-1){var J=C[O][V],it=Math.abs(d-J);N=O,C.forEach(function(pt,Et){var Nt=Math.abs(d-pt[V]);Nt<it&&(it=Nt,N=Et)})}return{index:N,j:V}}},{key:"getFirstActiveXArray",value:function(h){for(var d=this.w,y=0,C=h.map(function(O,N){return O.length>0?N:-1}),M=0;M<C.length;M++)if(C[M]!==-1&&d.globals.collapsedSeriesIndices.indexOf(M)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(M)===-1){y=C[M];break}return y}},{key:"closestInArray",value:function(h,d){for(var y=d[0],C=null,M=Math.abs(h-y),O=0;O<d.length;O++){var N=Math.abs(h-d[O]);N<M&&(M=N,C=O)}return{index:C}}},{key:"isXoverlap",value:function(h){var d=[],y=this.w.globals.seriesX.filter(function(M){return M[0]!==void 0});if(y.length>0)for(var C=0;C<y.length-1;C++)y[C][h]!==void 0&&y[C+1][h]!==void 0&&y[C][h]!==y[C+1][h]&&d.push("unEqual");return d.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var h=!0,d=this.w.globals.initialSeries,y=0;y<d.length-1;y++)if(d[y].data.length!==d[y+1].data.length){h=!1;break}return h}},{key:"getBarsHeight",value:function(h){return Pt(h).reduce(function(d,y){return d+y.getBBox().height},0)}},{key:"getElMarkers",value:function(h){return typeof h=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(h=Pt(h)).sort(function(y,C){var M=Number(y.getAttribute("data:realIndex")),O=Number(C.getAttribute("data:realIndex"));return O<M?1:O>M?-1:0});var d=[];return h.forEach(function(y){d.push(y.querySelector(".apexcharts-marker"))}),d}},{key:"hasMarkers",value:function(h){return this.getElMarkers(h).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(h){var d=this.w,y=d.config.markers.hover.size;return y===void 0&&(y=d.globals.markers.size[h]+d.config.markers.hover.sizeOffset),y}},{key:"toggleAllTooltipSeriesGroups",value:function(h){var d=this.w,y=this.ttCtx;y.allTooltipSeriesGroups.length===0&&(y.allTooltipSeriesGroups=d.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var C=y.allTooltipSeriesGroups,M=0;M<C.length;M++)h==="enable"?(C[M].classList.add("apexcharts-active"),C[M].style.display=d.config.tooltip.items.display):(C[M].classList.remove("apexcharts-active"),C[M].style.display="none")}}]),qt}(),He=function(){function qt(h){Qt(this,qt),this.w=h.w,this.ctx=h.ctx,this.ttCtx=h,this.tooltipUtil=new Pe(h)}return $t(qt,[{key:"drawSeriesTexts",value:function(h){var d=h.shared,y=d===void 0||d,C=h.ttItems,M=h.i,O=M===void 0?0:M,N=h.j,V=N===void 0?null:N,q=h.y1,K=h.y2,J=h.e,it=this.w;it.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:O,j:V,y1:q,y2:K,w:it}):this.toggleActiveInactiveSeries(y);var pt=this.getValuesToPrint({i:O,j:V});this.printLabels({i:O,j:V,values:pt,ttItems:C,shared:y,e:J});var Et=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Et.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Et.getBoundingClientRect().height}},{key:"printLabels",value:function(h){var d,y=this,C=h.i,M=h.j,O=h.values,N=h.ttItems,V=h.shared,q=h.e,K=this.w,J=[],it=function(Ot){return K.globals.seriesGoals[Ot]&&K.globals.seriesGoals[Ot][M]&&Array.isArray(K.globals.seriesGoals[Ot][M])},pt=O.xVal,Et=O.zVal,Nt=O.xAxisTTVal,ee="",he=K.globals.colors[C];M!==null&&K.config.plotOptions.bar.distributed&&(he=K.globals.colors[M]);for(var Ae=function(Ot,ce){var xe=y.getFormatters(C);ee=y.getSeriesName({fn:xe.yLbTitleFormatter,index:C,seriesIndex:C,j:M}),K.config.chart.type==="treemap"&&(ee=xe.yLbTitleFormatter(String(K.config.series[C].data[M].x),{series:K.globals.series,seriesIndex:C,dataPointIndex:M,w:K}));var Ie=K.config.tooltip.inverseOrder?ce:Ot;if(K.globals.axisCharts){var on=function(jn){var ai,ci,vr,rr;return K.globals.isRangeData?xe.yLbFormatter((ai=K.globals.seriesRangeStart)===null||ai===void 0||(ci=ai[jn])===null||ci===void 0?void 0:ci[M],{series:K.globals.seriesRangeStart,seriesIndex:jn,dataPointIndex:M,w:K})+" - "+xe.yLbFormatter((vr=K.globals.seriesRangeEnd)===null||vr===void 0||(rr=vr[jn])===null||rr===void 0?void 0:rr[M],{series:K.globals.seriesRangeEnd,seriesIndex:jn,dataPointIndex:M,w:K}):xe.yLbFormatter(K.globals.series[jn][M],{series:K.globals.series,seriesIndex:jn,dataPointIndex:M,w:K})};if(V)xe=y.getFormatters(Ie),ee=y.getSeriesName({fn:xe.yLbTitleFormatter,index:Ie,seriesIndex:C,j:M}),he=K.globals.colors[Ie],d=on(Ie),it(Ie)&&(J=K.globals.seriesGoals[Ie][M].map(function(jn){return{attrs:jn,val:xe.yLbFormatter(jn.value,{seriesIndex:Ie,dataPointIndex:M,w:K})}}));else{var un,Bn=q==null||(un=q.target)===null||un===void 0?void 0:un.getAttribute("fill");Bn&&(he=Bn.indexOf("url")!==-1?document.querySelector(Bn.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Bn),d=on(C),it(C)&&Array.isArray(K.globals.seriesGoals[C][M])&&(J=K.globals.seriesGoals[C][M].map(function(jn){return{attrs:jn,val:xe.yLbFormatter(jn.value,{seriesIndex:C,dataPointIndex:M,w:K})}}))}}M===null&&(d=xe.yLbFormatter(K.globals.series[C],Gt(Gt({},K),{},{seriesIndex:C,dataPointIndex:C}))),y.DOMHandling({i:C,t:Ie,j:M,ttItems:N,values:{val:d,goalVals:J,xVal:pt,xAxisTTVal:Nt,zVal:Et},seriesName:ee,shared:V,pColor:he})},W=0,rt=K.globals.series.length-1;W<K.globals.series.length;W++,rt--)Ae(W,rt)}},{key:"getFormatters",value:function(h){var d,y=this.w,C=y.globals.yLabelFormatters[h];return y.globals.ttVal!==void 0?Array.isArray(y.globals.ttVal)?(C=y.globals.ttVal[h]&&y.globals.ttVal[h].formatter,d=y.globals.ttVal[h]&&y.globals.ttVal[h].title&&y.globals.ttVal[h].title.formatter):(C=y.globals.ttVal.formatter,typeof y.globals.ttVal.title.formatter=="function"&&(d=y.globals.ttVal.title.formatter)):d=y.config.tooltip.y.title.formatter,typeof C!="function"&&(C=y.globals.yLabelFormatters[0]?y.globals.yLabelFormatters[0]:function(M){return M}),typeof d!="function"&&(d=function(M){return M}),{yLbFormatter:C,yLbTitleFormatter:d}}},{key:"getSeriesName",value:function(h){var d=h.fn,y=h.index,C=h.seriesIndex,M=h.j,O=this.w;return d(String(O.globals.seriesNames[y]),{series:O.globals.series,seriesIndex:C,dataPointIndex:M,w:O})}},{key:"DOMHandling",value:function(h){h.i;var d=h.t,y=h.j,C=h.ttItems,M=h.values,O=h.seriesName,N=h.shared,V=h.pColor,q=this.w,K=this.ttCtx,J=M.val,it=M.goalVals,pt=M.xVal,Et=M.xAxisTTVal,Nt=M.zVal,ee=null;ee=C[d].children,q.config.tooltip.fillSeriesColor&&(C[d].style.backgroundColor=V,ee[0].style.display="none"),K.showTooltipTitle&&(K.tooltipTitle===null&&(K.tooltipTitle=q.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),K.tooltipTitle.innerHTML=pt),K.isXAxisTooltipEnabled&&(K.xaxisTooltipText.innerHTML=Et!==""?Et:pt);var he=C[d].querySelector(".apexcharts-tooltip-text-y-label");he&&(he.innerHTML=O||"");var Ae=C[d].querySelector(".apexcharts-tooltip-text-y-value");Ae&&(Ae.innerHTML=J!==void 0?J:""),ee[0]&&ee[0].classList.contains("apexcharts-tooltip-marker")&&(q.config.tooltip.marker.fillColors&&Array.isArray(q.config.tooltip.marker.fillColors)&&(V=q.config.tooltip.marker.fillColors[d]),ee[0].style.backgroundColor=V),q.config.tooltip.marker.show||(ee[0].style.display="none");var W=C[d].querySelector(".apexcharts-tooltip-text-goals-label"),rt=C[d].querySelector(".apexcharts-tooltip-text-goals-value");if(it.length&&q.globals.seriesGoals[d]){var Ot=function(){var ce="<div >",xe="<div>";it.forEach(function(Ie,on){ce+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Ie.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Ie.attrs.name,"</div>"),xe+="<div>".concat(Ie.val,"</div>")}),W.innerHTML=ce+"</div>",rt.innerHTML=xe+"</div>"};N?q.globals.seriesGoals[d][y]&&Array.isArray(q.globals.seriesGoals[d][y])?Ot():(W.innerHTML="",rt.innerHTML=""):Ot()}else W.innerHTML="",rt.innerHTML="";Nt!==null&&(C[d].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=q.config.tooltip.z.title,C[d].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=Nt!==void 0?Nt:""),N&&ee[0]&&(J==null||q.globals.ancillaryCollapsedSeriesIndices.indexOf(d)>-1||q.globals.collapsedSeriesIndices.indexOf(d)>-1?ee[0].parentNode.style.display="none":ee[0].parentNode.style.display=q.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(h){var d=this.w;if(h)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var y=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");y&&(y.classList.add("apexcharts-active"),y.style.display=d.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(h){var d=h.i,y=h.j,C=this.w,M=this.ctx.series.filteredSeriesX(),O="",N="",V=null,q=null,K={series:C.globals.series,seriesIndex:d,dataPointIndex:y,w:C},J=C.globals.ttZFormatter;y===null?q=C.globals.series[d]:C.globals.isXNumeric&&C.config.chart.type!=="treemap"?(O=M[d][y],M[d].length===0&&(O=M[this.tooltipUtil.getFirstActiveXArray(M)][y])):O=C.globals.labels[y]!==void 0?C.globals.labels[y]:"";var it=O;return C.globals.isXNumeric&&C.config.xaxis.type==="datetime"?O=new me(this.ctx).xLabelFormat(C.globals.ttKeyFormatter,it,it,{i:void 0,dateFormatter:new De(this.ctx).formatDate,w:this.w}):O=C.globals.isBarHorizontal?C.globals.yLabelFormatters[0](it,K):C.globals.xLabelFormatter(it,K),C.config.tooltip.x.formatter!==void 0&&(O=C.globals.ttKeyFormatter(it,K)),C.globals.seriesZ.length>0&&C.globals.seriesZ[d].length>0&&(V=J(C.globals.seriesZ[d][y],C)),N=typeof C.config.xaxis.tooltip.formatter=="function"?C.globals.xaxisTooltipFormatter(it,K):O,{val:Array.isArray(q)?q.join(" "):q,xVal:Array.isArray(O)?O.join(" "):O,xAxisTTVal:Array.isArray(N)?N.join(" "):N,zVal:V}}},{key:"handleCustomTooltip",value:function(h){var d=h.i,y=h.j,C=h.y1,M=h.y2,O=h.w,N=this.ttCtx.getElTooltip(),V=O.config.tooltip.custom;Array.isArray(V)&&V[d]&&(V=V[d]),N.innerHTML=V({ctx:this.ctx,series:O.globals.series,seriesIndex:d,dataPointIndex:y,y1:C,y2:M,w:O})}}]),qt}(),ye=function(){function qt(h){Qt(this,qt),this.ttCtx=h,this.ctx=h.ctx,this.w=h.w}return $t(qt,[{key:"moveXCrosshairs",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.ttCtx,C=this.w,M=y.getElXCrosshairs(),O=h-y.xcrosshairsWidth/2,N=C.globals.labels.slice().length;if(d!==null&&(O=C.globals.gridWidth/N*d),M===null||C.globals.isBarHorizontal||(M.setAttribute("x",O),M.setAttribute("x1",O),M.setAttribute("x2",O),M.setAttribute("y2",C.globals.gridHeight),M.classList.add("apexcharts-active")),O<0&&(O=0),O>C.globals.gridWidth&&(O=C.globals.gridWidth),y.isXAxisTooltipEnabled){var V=O;C.config.xaxis.crosshairs.width!=="tickWidth"&&C.config.xaxis.crosshairs.width!=="barWidth"||(V=O+y.xcrosshairsWidth/2),this.moveXAxisTooltip(V)}}},{key:"moveYCrosshairs",value:function(h){var d=this.ttCtx;d.ycrosshairs!==null&&Wt.setAttrs(d.ycrosshairs,{y1:h,y2:h}),d.ycrosshairsHidden!==null&&Wt.setAttrs(d.ycrosshairsHidden,{y1:h,y2:h})}},{key:"moveXAxisTooltip",value:function(h){var d=this.w,y=this.ttCtx;if(y.xaxisTooltip!==null&&y.xcrosshairsWidth!==0){y.xaxisTooltip.classList.add("apexcharts-active");var C=y.xaxisOffY+d.config.xaxis.tooltip.offsetY+d.globals.translateY+1+d.config.xaxis.offsetY;if(h-=y.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(h)){h+=d.globals.translateX;var M;M=new Wt(this.ctx).getTextRects(y.xaxisTooltipText.innerHTML),y.xaxisTooltipText.style.minWidth=M.width+"px",y.xaxisTooltip.style.left=h+"px",y.xaxisTooltip.style.top=C+"px"}}}},{key:"moveYAxisTooltip",value:function(h){var d=this.w,y=this.ttCtx;y.yaxisTTEls===null&&(y.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var C=parseInt(y.ycrosshairsHidden.getAttribute("y1"),10),M=d.globals.translateY+C,O=y.yaxisTTEls[h].getBoundingClientRect().height,N=d.globals.translateYAxisX[h]-2;d.config.yaxis[h].opposite&&(N-=26),M-=O/2,d.globals.ignoreYAxisIndexes.indexOf(h)===-1?(y.yaxisTTEls[h].classList.add("apexcharts-active"),y.yaxisTTEls[h].style.top=M+"px",y.yaxisTTEls[h].style.left=N+d.config.yaxis[h].tooltip.offsetX+"px"):y.yaxisTTEls[h].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=this.w,M=this.ttCtx,O=M.getElTooltip(),N=M.tooltipRect,V=y!==null?parseFloat(y):1,q=parseFloat(h)+V+5,K=parseFloat(d)+V/2;if(q>C.globals.gridWidth/2&&(q=q-N.ttWidth-V-10),q>C.globals.gridWidth-N.ttWidth-10&&(q=C.globals.gridWidth-N.ttWidth),q<-20&&(q=-20),C.config.tooltip.followCursor){var J=M.getElGrid().getBoundingClientRect();(q=M.e.clientX-J.left)>C.globals.gridWidth/2&&(q-=M.tooltipRect.ttWidth),(K=M.e.clientY+C.globals.translateY-J.top)>C.globals.gridHeight/2&&(K-=M.tooltipRect.ttHeight)}else C.globals.isBarHorizontal||N.ttHeight/2+K>C.globals.gridHeight&&(K=C.globals.gridHeight-N.ttHeight+C.globals.translateY);isNaN(q)||(q+=C.globals.translateX,O.style.left=q+"px",O.style.top=K+"px")}},{key:"moveMarkers",value:function(h,d){var y=this.w,C=this.ttCtx;if(y.globals.markers.size[h]>0)for(var M=y.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-marker")),O=0;O<M.length;O++)parseInt(M[O].getAttribute("rel"),10)===d&&(C.marker.resetPointsSize(),C.marker.enlargeCurrentPoint(d,M[O]));else C.marker.resetPointsSize(),this.moveDynamicPointOnHover(d,h)}},{key:"moveDynamicPointOnHover",value:function(h,d){var y,C,M=this.w,O=this.ttCtx,N=M.globals.pointsArray,V=O.tooltipUtil.getHoverMarkerSize(d),q=M.config.series[d].type;if(!q||q!=="column"&&q!=="candlestick"&&q!=="boxPlot"){y=N[d][h][0],C=N[d][h][1]?N[d][h][1]:0;var K=M.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-series-markers circle"));K&&C<M.globals.gridHeight&&C>0&&(K.setAttribute("r",V),K.setAttribute("cx",y),K.setAttribute("cy",C)),this.moveXCrosshairs(y),O.fixedTooltip||this.moveTooltip(y,C,V)}}},{key:"moveDynamicPointsOnHover",value:function(h){var d,y=this.ttCtx,C=y.w,M=0,O=0,N=C.globals.pointsArray;d=new je(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var V=y.tooltipUtil.getHoverMarkerSize(d);N[d]&&(M=N[d][h][0],O=N[d][h][1]);var q=y.tooltipUtil.getAllMarkers();if(q!==null)for(var K=0;K<C.globals.series.length;K++){var J=N[K];if(C.globals.comboCharts&&J===void 0&&q.splice(K,0,null),J&&J.length){var it=N[K][h][1],pt=void 0;if(q[K].setAttribute("cx",M),C.config.chart.type==="rangeArea"&&!C.globals.comboCharts){var Et=h+C.globals.series[K].length;pt=N[K][Et][1],it-=Math.abs(it-pt)/2}it!==null&&!isNaN(it)&&it<C.globals.gridHeight+V&&it+V>0?(q[K]&&q[K].setAttribute("r",V),q[K]&&q[K].setAttribute("cy",it)):q[K]&&q[K].setAttribute("r",0)}}this.moveXCrosshairs(M),y.fixedTooltip||this.moveTooltip(M,O||C.globals.gridHeight,V)}},{key:"moveStickyTooltipOverBars",value:function(h,d){var y=this.w,C=this.ttCtx,M=y.globals.columnSeries?y.globals.columnSeries.length:y.globals.series.length,O=M>=2&&M%2==0?Math.floor(M/2):Math.floor(M/2)+1;y.globals.isBarHorizontal&&(O=new je(this.ctx).getActiveConfigSeriesIndex("desc")+1);var N=y.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(O,"'] path[j='").concat(h,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(O,"'] path[j='").concat(h,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(O,"'] path[j='").concat(h,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(O,"'] path[j='").concat(h,"']"));N||typeof d!="number"||(N=y.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(d,"'] path[j='").concat(h,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(d,"'] path[j='").concat(h,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(d,"'] path[j='").concat(h,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(d,"'] path[j='").concat(h,"']")));var V=N?parseFloat(N.getAttribute("cx")):0,q=N?parseFloat(N.getAttribute("cy")):0,K=N?parseFloat(N.getAttribute("barWidth")):0,J=C.getElGrid().getBoundingClientRect(),it=N&&(N.classList.contains("apexcharts-candlestick-area")||N.classList.contains("apexcharts-boxPlot-area"));y.globals.isXNumeric?(N&&!it&&(V-=M%2!=0?K/2:0),N&&it&&y.globals.comboCharts&&(V-=K/2)):y.globals.isBarHorizontal||(V=C.xAxisTicksPositions[h-1]+C.dataPointsDividedWidth/2,isNaN(V)&&(V=C.xAxisTicksPositions[h]-C.dataPointsDividedWidth/2)),y.globals.isBarHorizontal?q-=C.tooltipRect.ttHeight:y.config.tooltip.followCursor?q=C.e.clientY-J.top-C.tooltipRect.ttHeight/2:q+C.tooltipRect.ttHeight+15>y.globals.gridHeight&&(q=y.globals.gridHeight),y.globals.isBarHorizontal||this.moveXCrosshairs(V),C.fixedTooltip||this.moveTooltip(V,q||y.globals.gridHeight)}}]),qt}(),Le=function(){function qt(h){Qt(this,qt),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx,this.tooltipPosition=new ye(h)}return $t(qt,[{key:"drawDynamicPoints",value:function(){var h=this.w,d=new Wt(this.ctx),y=new lt(this.ctx),C=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");C=Pt(C),h.config.chart.stacked&&C.sort(function(J,it){return parseFloat(J.getAttribute("data:realIndex"))-parseFloat(it.getAttribute("data:realIndex"))});for(var M=0;M<C.length;M++){var O=C[M].querySelector(".apexcharts-series-markers-wrap");if(O!==null){var N=void 0,V="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));h.config.chart.type!=="line"&&h.config.chart.type!=="area"||h.globals.comboCharts||h.config.tooltip.intersect||(V+=" no-pointer-events");var q=y.getMarkerConfig({cssClass:V,seriesIndex:Number(O.getAttribute("data:realIndex"))});(N=d.drawMarker(0,0,q)).node.setAttribute("default-marker-size",0);var K=document.createElementNS(h.globals.SVGNS,"g");K.classList.add("apexcharts-series-markers"),K.appendChild(N.node),O.appendChild(K)}}}},{key:"enlargeCurrentPoint",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,M=this.w;M.config.chart.type!=="bubble"&&this.newPointSize(h,d);var O=d.getAttribute("cx"),N=d.getAttribute("cy");if(y!==null&&C!==null&&(O=y,N=C),this.tooltipPosition.moveXCrosshairs(O),!this.fixedTooltip){if(M.config.chart.type==="radar"){var V=this.ttCtx.getElGrid().getBoundingClientRect();O=this.ttCtx.e.clientX-V.left}this.tooltipPosition.moveTooltip(O,N,M.config.markers.hover.size)}}},{key:"enlargePoints",value:function(h){for(var d=this.w,y=this,C=this.ttCtx,M=h,O=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),N=d.config.markers.hover.size,V=0;V<O.length;V++){var q=O[V].getAttribute("rel"),K=O[V].getAttribute("index");if(N===void 0&&(N=d.globals.markers.size[K]+d.config.markers.hover.sizeOffset),M===parseInt(q,10)){y.newPointSize(M,O[V]);var J=O[V].getAttribute("cx"),it=O[V].getAttribute("cy");y.tooltipPosition.moveXCrosshairs(J),C.fixedTooltip||y.tooltipPosition.moveTooltip(J,it,N)}else y.oldPointSize(O[V])}}},{key:"newPointSize",value:function(h,d){var y=this.w,C=y.config.markers.hover.size,M=h===0?d.parentNode.firstChild:d.parentNode.lastChild;if(M.getAttribute("default-marker-size")!=="0"){var O=parseInt(M.getAttribute("index"),10);C===void 0&&(C=y.globals.markers.size[O]+y.config.markers.hover.sizeOffset),C<0&&(C=0),M.setAttribute("r",C)}}},{key:"oldPointSize",value:function(h){var d=parseFloat(h.getAttribute("default-marker-size"));h.setAttribute("r",d)}},{key:"resetPointsSize",value:function(){for(var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),d=0;d<h.length;d++){var y=parseFloat(h[d].getAttribute("default-marker-size"));ct.isNumber(y)&&y>=0?h[d].setAttribute("r",y):h[d].setAttribute("r",0)}}}]),qt}(),Ve=function(){function qt(h){Qt(this,qt),this.w=h.w,this.ttCtx=h}return $t(qt,[{key:"getAttr",value:function(h,d){return parseFloat(h.target.getAttribute(d))}},{key:"handleHeatTreeTooltip",value:function(h){var d=h.e,y=h.opt,C=h.x,M=h.y,O=h.type,N=this.ttCtx,V=this.w;if(d.target.classList.contains("apexcharts-".concat(O,"-rect"))){var q=this.getAttr(d,"i"),K=this.getAttr(d,"j"),J=this.getAttr(d,"cx"),it=this.getAttr(d,"cy"),pt=this.getAttr(d,"width"),Et=this.getAttr(d,"height");if(N.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:q,j:K,shared:!1,e:d}),V.globals.capturedSeriesIndex=q,V.globals.capturedDataPointIndex=K,C=J+N.tooltipRect.ttWidth/2+pt,M=it+N.tooltipRect.ttHeight/2-Et/2,N.tooltipPosition.moveXCrosshairs(J+pt/2),C>V.globals.gridWidth/2&&(C=J-N.tooltipRect.ttWidth/2+pt),N.w.config.tooltip.followCursor){var Nt=V.globals.dom.elWrap.getBoundingClientRect();C=V.globals.clientX-Nt.left-(C>V.globals.gridWidth/2?N.tooltipRect.ttWidth:0),M=V.globals.clientY-Nt.top-(M>V.globals.gridHeight/2?N.tooltipRect.ttHeight:0)}}return{x:C,y:M}}},{key:"handleMarkerTooltip",value:function(h){var d,y,C=h.e,M=h.opt,O=h.x,N=h.y,V=this.w,q=this.ttCtx;if(C.target.classList.contains("apexcharts-marker")){var K=parseInt(M.paths.getAttribute("cx"),10),J=parseInt(M.paths.getAttribute("cy"),10),it=parseFloat(M.paths.getAttribute("val"));if(y=parseInt(M.paths.getAttribute("rel"),10),d=parseInt(M.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,q.intersect){var pt=ct.findAncestor(M.paths,"apexcharts-series");pt&&(d=parseInt(pt.getAttribute("data:realIndex"),10))}if(q.tooltipLabels.drawSeriesTexts({ttItems:M.ttItems,i:d,j:y,shared:!q.showOnIntersect&&V.config.tooltip.shared,e:C}),C.type==="mouseup"&&q.markerClick(C,d,y),V.globals.capturedSeriesIndex=d,V.globals.capturedDataPointIndex=y,O=K,N=J+V.globals.translateY-1.4*q.tooltipRect.ttHeight,q.w.config.tooltip.followCursor){var Et=q.getElGrid().getBoundingClientRect();N=q.e.clientY+V.globals.translateY-Et.top}it<0&&(N=J),q.marker.enlargeCurrentPoint(y,M.paths,O,N)}return{x:O,y:N}}},{key:"handleBarTooltip",value:function(h){var d,y,C=h.e,M=h.opt,O=this.w,N=this.ttCtx,V=N.getElTooltip(),q=0,K=0,J=0,it=this.getBarTooltipXY({e:C,opt:M});d=it.i;var pt=it.barHeight,Et=it.j;O.globals.capturedSeriesIndex=d,O.globals.capturedDataPointIndex=Et,O.globals.isBarHorizontal&&N.tooltipUtil.hasBars()||!O.config.tooltip.shared?(K=it.x,J=it.y,y=Array.isArray(O.config.stroke.width)?O.config.stroke.width[d]:O.config.stroke.width,q=K):O.globals.comboCharts||O.config.tooltip.shared||(q/=2),isNaN(J)&&(J=O.globals.svgHeight-N.tooltipRect.ttHeight);var Nt=parseInt(M.paths.parentNode.getAttribute("data:realIndex"),10),ee=O.globals.isMultipleYAxis?O.config.yaxis[Nt]&&O.config.yaxis[Nt].reversed:O.config.yaxis[0].reversed;if(K+N.tooltipRect.ttWidth>O.globals.gridWidth&&!ee?K-=N.tooltipRect.ttWidth:K<0&&(K=0),N.w.config.tooltip.followCursor){var he=N.getElGrid().getBoundingClientRect();J=N.e.clientY-he.top}N.tooltip===null&&(N.tooltip=O.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),O.config.tooltip.shared||(O.globals.comboBarCount>0?N.tooltipPosition.moveXCrosshairs(q+y/2):N.tooltipPosition.moveXCrosshairs(q)),!N.fixedTooltip&&(!O.config.tooltip.shared||O.globals.isBarHorizontal&&N.tooltipUtil.hasBars())&&(ee&&(K-=N.tooltipRect.ttWidth)<0&&(K=0),!ee||O.globals.isBarHorizontal&&N.tooltipUtil.hasBars()||(J=J+pt-2*(O.globals.series[d][Et]<0?pt:0)),J=J+O.globals.translateY-N.tooltipRect.ttHeight/2,V.style.left=K+O.globals.translateX+"px",V.style.top=J+"px")}},{key:"getBarTooltipXY",value:function(h){var d=h.e,y=h.opt,C=this.w,M=null,O=this.ttCtx,N=0,V=0,q=0,K=0,J=0,it=d.target.classList;if(it.contains("apexcharts-bar-area")||it.contains("apexcharts-candlestick-area")||it.contains("apexcharts-boxPlot-area")||it.contains("apexcharts-rangebar-area")){var pt=d.target,Et=pt.getBoundingClientRect(),Nt=y.elGrid.getBoundingClientRect(),ee=Et.height;J=Et.height;var he=Et.width,Ae=parseInt(pt.getAttribute("cx"),10),W=parseInt(pt.getAttribute("cy"),10);K=parseFloat(pt.getAttribute("barWidth"));var rt=d.type==="touchmove"?d.touches[0].clientX:d.clientX;M=parseInt(pt.getAttribute("j"),10),N=parseInt(pt.parentNode.getAttribute("rel"),10)-1;var Ot=pt.getAttribute("data-range-y1"),ce=pt.getAttribute("data-range-y2");C.globals.comboCharts&&(N=parseInt(pt.parentNode.getAttribute("data:realIndex"),10)),O.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:N,j:M,y1:Ot?parseInt(Ot,10):null,y2:ce?parseInt(ce,10):null,shared:!O.showOnIntersect&&C.config.tooltip.shared,e:d}),C.config.tooltip.followCursor?C.globals.isBarHorizontal?(V=rt-Nt.left+15,q=W-O.dataPointsDividedHeight+ee/2-O.tooltipRect.ttHeight/2):(V=C.globals.isXNumeric?Ae-he/2:Ae-O.dataPointsDividedWidth+he/2,q=d.clientY-Nt.top-O.tooltipRect.ttHeight/2-15):C.globals.isBarHorizontal?((V=Ae)<O.xyRatios.baseLineInvertedY&&(V=Ae-O.tooltipRect.ttWidth),q=W-O.dataPointsDividedHeight+ee/2-O.tooltipRect.ttHeight/2):(V=C.globals.isXNumeric?Ae-he/2:Ae-O.dataPointsDividedWidth+he/2,q=W)}return{x:V,y:q,barHeight:J,barWidth:K,i:N,j:M}}}]),qt}(),ze=function(){function qt(h){Qt(this,qt),this.w=h.w,this.ttCtx=h}return $t(qt,[{key:"drawXaxisTooltip",value:function(){var h=this.w,d=this.ttCtx,y=h.config.xaxis.position==="bottom";d.xaxisOffY=y?h.globals.gridHeight+1:-h.globals.xAxisHeight-h.config.xaxis.axisTicks.height+3;var C=y?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",M=h.globals.dom.elWrap;d.isXAxisTooltipEnabled&&h.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(d.xaxisTooltip=document.createElement("div"),d.xaxisTooltip.setAttribute("class",C+" apexcharts-theme-"+h.config.tooltip.theme),M.appendChild(d.xaxisTooltip),d.xaxisTooltipText=document.createElement("div"),d.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),d.xaxisTooltipText.style.fontFamily=h.config.xaxis.tooltip.style.fontFamily||h.config.chart.fontFamily,d.xaxisTooltipText.style.fontSize=h.config.xaxis.tooltip.style.fontSize,d.xaxisTooltip.appendChild(d.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var h=this.w,d=this.ttCtx,y=function(M){var O=h.config.yaxis[M].opposite||h.config.yaxis[M].crosshairs.opposite;d.yaxisOffX=O?h.globals.gridWidth+1:1;var N="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(M,O?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");h.globals.yAxisSameScaleIndices.map(function(q,K){q.map(function(J,it){it===M&&(N+=h.config.yaxis[it].show?" ":" apexcharts-yaxistooltip-hidden")})});var V=h.globals.dom.elWrap;h.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(M))===null&&(d.yaxisTooltip=document.createElement("div"),d.yaxisTooltip.setAttribute("class",N+" apexcharts-theme-"+h.config.tooltip.theme),V.appendChild(d.yaxisTooltip),M===0&&(d.yaxisTooltipText=[]),d.yaxisTooltipText[M]=document.createElement("div"),d.yaxisTooltipText[M].classList.add("apexcharts-yaxistooltip-text"),d.yaxisTooltip.appendChild(d.yaxisTooltipText[M]))},C=0;C<h.config.yaxis.length;C++)y(C)}},{key:"setXCrosshairWidth",value:function(){var h=this.w,d=this.ttCtx,y=d.getElXCrosshairs();if(d.xcrosshairsWidth=parseInt(h.config.xaxis.crosshairs.width,10),h.globals.comboCharts){var C=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(C!==null&&h.config.xaxis.crosshairs.width==="barWidth"){var M=parseFloat(C.getAttribute("barWidth"));d.xcrosshairsWidth=M}else if(h.config.xaxis.crosshairs.width==="tickWidth"){var O=h.globals.labels.length;d.xcrosshairsWidth=h.globals.gridWidth/O}}else if(h.config.xaxis.crosshairs.width==="tickWidth"){var N=h.globals.labels.length;d.xcrosshairsWidth=h.globals.gridWidth/N}else if(h.config.xaxis.crosshairs.width==="barWidth"){var V=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(V!==null){var q=parseFloat(V.getAttribute("barWidth"));d.xcrosshairsWidth=q}else d.xcrosshairsWidth=1}h.globals.isBarHorizontal&&(d.xcrosshairsWidth=0),y!==null&&d.xcrosshairsWidth>0&&y.setAttribute("width",d.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var h=this.w,d=this.ttCtx;d.ycrosshairs=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),d.ycrosshairsHidden=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(h,d,y){var C=this.ttCtx,M=this.w,O=M.globals.yLabelFormatters[h];if(C.yaxisTooltips[h]){var N=C.getElGrid().getBoundingClientRect(),V=(d-N.top)*y.yRatio[h],q=M.globals.maxYArr[h]-M.globals.minYArr[h],K=M.globals.minYArr[h]+(q-V);C.tooltipPosition.moveYCrosshairs(d-N.top),C.yaxisTooltipText[h].innerHTML=O(K),C.tooltipPosition.moveYAxisTooltip(h)}}}]),qt}(),Zn=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w;var d=this.w;this.tConfig=d.config.tooltip,this.tooltipUtil=new Pe(this),this.tooltipLabels=new He(this),this.tooltipPosition=new ye(this),this.marker=new Le(this),this.intersect=new Ve(this),this.axesTooltip=new ze(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!d.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return $t(qt,[{key:"getElTooltip",value:function(h){return h||(h=this),h.w.globals.dom.baseEl?h.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(h){var d=this.w;this.xyRatios=h,this.isXAxisTooltipEnabled=d.config.xaxis.tooltip.enabled&&d.globals.axisCharts,this.yaxisTooltips=d.config.yaxis.map(function(O,N){return!!(O.show&&O.tooltip.enabled&&d.globals.axisCharts)}),this.allTooltipSeriesGroups=[],d.globals.axisCharts||(this.showTooltipTitle=!1);var y=document.createElement("div");if(y.classList.add("apexcharts-tooltip"),d.config.tooltip.cssClass&&y.classList.add(d.config.tooltip.cssClass),y.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),d.globals.dom.elWrap.appendChild(y),d.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var C=new Be(this.ctx);this.xAxisTicksPositions=C.getXAxisTicksPositions()}if(!d.globals.comboCharts&&!this.tConfig.intersect&&d.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),d.config.markers.size!==0&&d.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),d.globals.collapsedSeries.length!==d.globals.series.length){this.dataPointsDividedHeight=d.globals.gridHeight/d.globals.dataPoints,this.dataPointsDividedWidth=d.globals.gridWidth/d.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||d.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,y.appendChild(this.tooltipTitle));var M=d.globals.series.length;(d.globals.xyCharts||d.globals.comboCharts)&&this.tConfig.shared&&(M=this.showOnIntersect?1:d.globals.series.length),this.legendLabels=d.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(M),this.addSVGEvents()}}},{key:"createTTElements",value:function(h){for(var d=this,y=this.w,C=[],M=this.getElTooltip(),O=function(V){var q=document.createElement("div");q.classList.add("apexcharts-tooltip-series-group"),q.style.order=y.config.tooltip.inverseOrder?h-V:V+1,d.tConfig.shared&&d.tConfig.enabledOnSeries&&Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(V)<0&&q.classList.add("apexcharts-tooltip-series-group-hidden");var K=document.createElement("span");K.classList.add("apexcharts-tooltip-marker"),K.style.backgroundColor=y.globals.colors[V],q.appendChild(K);var J=document.createElement("div");J.classList.add("apexcharts-tooltip-text"),J.style.fontFamily=d.tConfig.style.fontFamily||y.config.chart.fontFamily,J.style.fontSize=d.tConfig.style.fontSize,["y","goals","z"].forEach(function(it){var pt=document.createElement("div");pt.classList.add("apexcharts-tooltip-".concat(it,"-group"));var Et=document.createElement("span");Et.classList.add("apexcharts-tooltip-text-".concat(it,"-label")),pt.appendChild(Et);var Nt=document.createElement("span");Nt.classList.add("apexcharts-tooltip-text-".concat(it,"-value")),pt.appendChild(Nt),J.appendChild(pt)}),q.appendChild(J),M.appendChild(q),C.push(q)},N=0;N<h;N++)O(N);return C}},{key:"addSVGEvents",value:function(){var h=this.w,d=h.config.chart.type,y=this.getElTooltip(),C=!(d!=="bar"&&d!=="candlestick"&&d!=="boxPlot"&&d!=="rangeBar"),M=d==="area"||d==="line"||d==="scatter"||d==="bubble"||d==="radar",O=h.globals.dom.Paper.node,N=this.getElGrid();N&&(this.seriesBound=N.getBoundingClientRect());var V,q=[],K=[],J={hoverArea:O,elGrid:N,tooltipEl:y,tooltipY:q,tooltipX:K,ttItems:this.ttItems};if(h.globals.axisCharts&&(M?V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):C?V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):d!=="heatmap"&&d!=="treemap"||(V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),V&&V.length))for(var it=0;it<V.length;it++)q.push(V[it].getAttribute("cy")),K.push(V[it].getAttribute("cx"));if(h.globals.xyCharts&&!this.showOnIntersect||h.globals.comboCharts&&!this.showOnIntersect||C&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([O],J);else if(C&&!h.globals.comboCharts||M&&this.showOnIntersect)this.addDatapointEventsListeners(J);else if(!h.globals.axisCharts||d==="heatmap"||d==="treemap"){var pt=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(pt,J)}if(this.showOnIntersect){var Et=h.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Et.length>0&&this.addPathsEventListeners(Et,J),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(J)}}},{key:"drawFixedTooltipRect",value:function(){var h=this.w,d=this.getElTooltip(),y=d.getBoundingClientRect(),C=y.width+10,M=y.height+10,O=this.tConfig.fixed.offsetX,N=this.tConfig.fixed.offsetY,V=this.tConfig.fixed.position.toLowerCase();return V.indexOf("right")>-1&&(O=O+h.globals.svgWidth-C+10),V.indexOf("bottom")>-1&&(N=N+h.globals.svgHeight-M-10),d.style.left=O+"px",d.style.top=N+"px",{x:O,y:N,ttWidth:C,ttHeight:M}}},{key:"addDatapointEventsListeners",value:function(h){var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(d,h)}},{key:"addPathsEventListeners",value:function(h,d){for(var y=this,C=function(O){var N={paths:h[O],tooltipEl:d.tooltipEl,tooltipY:d.tooltipY,tooltipX:d.tooltipX,elGrid:d.elGrid,hoverArea:d.hoverArea,ttItems:d.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(V){return h[O].addEventListener(V,y.onSeriesHover.bind(y,N),{capture:!1,passive:!0})})},M=0;M<h.length;M++)C(M)}},{key:"onSeriesHover",value:function(h,d){var y=this,C=Date.now()-this.lastHoverTime;C>=100?this.seriesHover(h,d):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){y.seriesHover(h,d)},100-C))}},{key:"seriesHover",value:function(h,d){var y=this;this.lastHoverTime=Date.now();var C=[],M=this.w;M.config.chart.group&&(C=this.ctx.getGroupedCharts()),M.globals.axisCharts&&(M.globals.minX===-1/0&&M.globals.maxX===1/0||M.globals.dataPoints===0)||(C.length?C.forEach(function(O){var N=y.getElTooltip(O),V={paths:h.paths,tooltipEl:N,tooltipY:h.tooltipY,tooltipX:h.tooltipX,elGrid:h.elGrid,hoverArea:h.hoverArea,ttItems:O.w.globals.tooltip.ttItems};O.w.globals.minX===y.w.globals.minX&&O.w.globals.maxX===y.w.globals.maxX&&O.w.globals.tooltip.seriesHoverByContext({chartCtx:O,ttCtx:O.w.globals.tooltip,opt:V,e:d})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:h,e:d}))}},{key:"seriesHoverByContext",value:function(h){var d=h.chartCtx,y=h.ttCtx,C=h.opt,M=h.e,O=d.w,N=this.getElTooltip();N&&(y.tooltipRect={x:0,y:0,ttWidth:N.getBoundingClientRect().width,ttHeight:N.getBoundingClientRect().height},y.e=M,y.tooltipUtil.hasBars()&&!O.globals.comboCharts&&!y.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new je(d).toggleSeriesOnHover(M,M.target.parentNode),y.fixedTooltip&&y.drawFixedTooltipRect(),O.globals.axisCharts?y.axisChartsTooltips({e:M,opt:C,tooltipRect:y.tooltipRect}):y.nonAxisChartsTooltips({e:M,opt:C,tooltipRect:y.tooltipRect}))}},{key:"axisChartsTooltips",value:function(h){var d,y,C=h.e,M=h.opt,O=this.w,N=M.elGrid.getBoundingClientRect(),V=C.type==="touchmove"?C.touches[0].clientX:C.clientX,q=C.type==="touchmove"?C.touches[0].clientY:C.clientY;if(this.clientY=q,this.clientX=V,O.globals.capturedSeriesIndex=-1,O.globals.capturedDataPointIndex=-1,q<N.top||q>N.top+N.height)this.handleMouseOut(M);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!O.config.tooltip.shared){var K=parseInt(M.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(K)<0)return void this.handleMouseOut(M)}var J=this.getElTooltip(),it=this.getElXCrosshairs(),pt=O.globals.xyCharts||O.config.chart.type==="bar"&&!O.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||O.globals.comboCharts&&this.tooltipUtil.hasBars();if(C.type==="mousemove"||C.type==="touchmove"||C.type==="mouseup"){if(O.globals.collapsedSeries.length+O.globals.ancillaryCollapsedSeries.length===O.globals.series.length)return;it!==null&&it.classList.add("apexcharts-active");var Et=this.yaxisTooltips.filter(function(he){return he===!0});if(this.ycrosshairs!==null&&Et.length&&this.ycrosshairs.classList.add("apexcharts-active"),pt&&!this.showOnIntersect)this.handleStickyTooltip(C,V,q,M);else if(O.config.chart.type==="heatmap"||O.config.chart.type==="treemap"){var Nt=this.intersect.handleHeatTreeTooltip({e:C,opt:M,x:d,y,type:O.config.chart.type});d=Nt.x,y=Nt.y,J.style.left=d+"px",J.style.top=y+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:C,opt:M}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:C,opt:M,x:d,y});if(this.yaxisTooltips.length)for(var ee=0;ee<O.config.yaxis.length;ee++)this.axesTooltip.drawYaxisTooltipText(ee,q,this.xyRatios);M.tooltipEl.classList.add("apexcharts-active")}else C.type!=="mouseout"&&C.type!=="touchend"||this.handleMouseOut(M)}}},{key:"nonAxisChartsTooltips",value:function(h){var d=h.e,y=h.opt,C=h.tooltipRect,M=this.w,O=y.paths.getAttribute("rel"),N=this.getElTooltip(),V=M.globals.dom.elWrap.getBoundingClientRect();if(d.type==="mousemove"||d.type==="touchmove"){N.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:parseInt(O,10)-1,shared:!1});var q=M.globals.clientX-V.left-C.ttWidth/2,K=M.globals.clientY-V.top-C.ttHeight-10;if(N.style.left=q+"px",N.style.top=K+"px",M.config.legend.tooltipHoverFormatter){var J=O-1,it=(0,M.config.legend.tooltipHoverFormatter)(this.legendLabels[J].getAttribute("data:default-text"),{seriesIndex:J,dataPointIndex:J,w:M});this.legendLabels[J].innerHTML=it}}else d.type!=="mouseout"&&d.type!=="touchend"||(N.classList.remove("apexcharts-active"),M.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(pt){var Et=pt.getAttribute("data:default-text");pt.innerHTML=decodeURIComponent(Et)}))}},{key:"handleStickyTooltip",value:function(h,d,y,C){var M=this.w,O=this.tooltipUtil.getNearestValues({context:this,hoverArea:C.hoverArea,elGrid:C.elGrid,clientX:d,clientY:y}),N=O.j,V=O.capturedSeries;M.globals.collapsedSeriesIndices.includes(V)&&(V=null);var q=C.elGrid.getBoundingClientRect();if(O.hoverX<0||O.hoverX>q.width)this.handleMouseOut(C);else if(V!==null)this.handleStickyCapturedSeries(h,V,C,N);else if(this.tooltipUtil.isXoverlap(N)||M.globals.isBarHorizontal){var K=M.globals.series.findIndex(function(J,it){return!M.globals.collapsedSeriesIndices.includes(it)});this.create(h,this,K,N,C.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(h,d,y,C){var M=this.w;if(!this.tConfig.shared&&M.globals.series[d][C]===null)return void this.handleMouseOut(y);if(M.globals.series[d][C]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(C)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(h,this,d,C,y.ttItems):this.create(h,this,d,C,y.ttItems,!1);else if(this.tooltipUtil.isXoverlap(C)){var O=M.globals.series.findIndex(function(N,V){return!M.globals.collapsedSeriesIndices.includes(V)});this.create(h,this,O,C,y.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var h=this.w,d=new Wt(this.ctx),y=h.globals.dom.Paper.select(".apexcharts-bar-area"),C=0;C<y.length;C++)d.pathMouseLeave(y[C])}},{key:"handleMouseOut",value:function(h){var d=this.w,y=this.getElXCrosshairs();if(h.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),d.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),y!==null&&y.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var C=0;C<this.yaxisTTEls.length;C++)this.yaxisTTEls[C].classList.remove("apexcharts-active")}d.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(M){var O=M.getAttribute("data:default-text");M.innerHTML=decodeURIComponent(O)})}},{key:"markerClick",value:function(h,d,y){var C=this.w;typeof C.config.chart.events.markerClick=="function"&&C.config.chart.events.markerClick(h,this.ctx,{seriesIndex:d,dataPointIndex:y,w:C}),this.ctx.events.fireEvent("markerClick",[h,this.ctx,{seriesIndex:d,dataPointIndex:y,w:C}])}},{key:"create",value:function(h,d,y,C,M){var O,N,V,q,K,J,it,pt,Et,Nt,ee,he,Ae,W,rt,Ot,ce=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,xe=this.w,Ie=d;h.type==="mouseup"&&this.markerClick(h,y,C),ce===null&&(ce=this.tConfig.shared);var on=this.tooltipUtil.hasMarkers(y),un=this.tooltipUtil.getElBars();if(xe.config.legend.tooltipHoverFormatter){var Bn=xe.config.legend.tooltipHoverFormatter,jn=Array.from(this.legendLabels);jn.forEach(function(Na){var Gi=Na.getAttribute("data:default-text");Na.innerHTML=decodeURIComponent(Gi)});for(var ai=0;ai<jn.length;ai++){var ci=jn[ai],vr=parseInt(ci.getAttribute("i"),10),rr=decodeURIComponent(ci.getAttribute("data:default-text")),er=Bn(rr,{seriesIndex:ce?vr:y,dataPointIndex:C,w:xe});if(ce)ci.innerHTML=xe.globals.collapsedSeriesIndices.indexOf(vr)<0?er:rr;else if(ci.innerHTML=vr===y?er:rr,y===vr)break}}var Xr=Gt(Gt({ttItems:M,i:y,j:C},((O=xe.globals.seriesRange)===null||O===void 0||(N=O[y])===null||N===void 0||(V=N[C])===null||V===void 0||(q=V.y[0])===null||q===void 0?void 0:q.y1)!==void 0&&{y1:(K=xe.globals.seriesRange)===null||K===void 0||(J=K[y])===null||J===void 0||(it=J[C])===null||it===void 0||(pt=it.y[0])===null||pt===void 0?void 0:pt.y1}),((Et=xe.globals.seriesRange)===null||Et===void 0||(Nt=Et[y])===null||Nt===void 0||(ee=Nt[C])===null||ee===void 0||(he=ee.y[0])===null||he===void 0?void 0:he.y2)!==void 0&&{y2:(Ae=xe.globals.seriesRange)===null||Ae===void 0||(W=Ae[y])===null||W===void 0||(rt=W[C])===null||rt===void 0||(Ot=rt.y[0])===null||Ot===void 0?void 0:Ot.y2});if(ce){if(Ie.tooltipLabels.drawSeriesTexts(Gt(Gt({},Xr),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),on)xe.globals.markers.largestSize>0?Ie.marker.enlargePoints(C):Ie.tooltipPosition.moveDynamicPointsOnHover(C);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(un),this.barSeriesHeight>0)){var bo=new Wt(this.ctx),qr=xe.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(C,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(C,y);for(var fo=0;fo<qr.length;fo++)bo.pathMouseEnter(qr[fo])}}else Ie.tooltipLabels.drawSeriesTexts(Gt({shared:!1},Xr)),this.tooltipUtil.hasBars()&&Ie.tooltipPosition.moveStickyTooltipOverBars(C,y),on&&Ie.tooltipPosition.moveMarkers(y,C)}}]),qt}(),Ii=function(){function qt(h){Qt(this,qt),this.w=h.w,this.barCtx=h,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return $t(qt,[{key:"handleBarDataLabels",value:function(h){var d=h.x,y=h.y,C=h.y1,M=h.y2,O=h.i,N=h.j,V=h.realIndex,q=h.groupIndex,K=h.series,J=h.barHeight,it=h.barWidth,pt=h.barYPosition,Et=h.visibleSeries,Nt=h.renderedPath,ee=this.w,he=new Wt(this.barCtx.ctx),Ae=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[V]:this.barCtx.strokeWidth,W=d+parseFloat(it*Et),rt=y+parseFloat(J*Et);ee.globals.isXNumeric&&!ee.globals.isBarHorizontal&&(W=d+parseFloat(it*(Et+1)),rt=y+parseFloat(J*(Et+1))-Ae);var Ot,ce=null,xe=d,Ie=y,on={},un=ee.config.dataLabels,Bn=this.barCtx.barOptions.dataLabels,jn=this.barCtx.barOptions.dataLabels.total;pt!==void 0&&this.barCtx.isRangeBar&&(rt=pt,Ie=pt);var ai=un.offsetX,ci=un.offsetY,vr={width:0,height:0};if(ee.config.dataLabels.enabled){var rr=this.barCtx.series[O][N];vr=he.getTextRects(ee.globals.yLabelFormatters[0](rr),parseFloat(un.style.fontSize))}var er={x:d,y,i:O,j:N,realIndex:V,groupIndex:q||-1,renderedPath:Nt,bcx:W,bcy:rt,barHeight:J,barWidth:it,textRects:vr,strokeWidth:Ae,dataLabelsX:xe,dataLabelsY:Ie,dataLabelsConfig:un,barDataLabelsConfig:Bn,barTotalDataLabelsConfig:jn,offX:ai,offY:ci};return on=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(er):this.calculateColumnsDataLabelsPosition(er),Nt.attr({cy:on.bcy,cx:on.bcx,j:N,val:K[O][N],barHeight:J,barWidth:it}),Ot=this.drawCalculatedDataLabels({x:on.dataLabelsX,y:on.dataLabelsY,val:this.barCtx.isRangeBar?[C,M]:K[O][N],i:V,j:N,barWidth:it,barHeight:J,textRects:vr,dataLabelsConfig:un}),ee.config.chart.stacked&&jn.enabled&&(ce=this.drawTotalDataLabels({x:on.totalDataLabelsX,y:on.totalDataLabelsY,realIndex:V,textAnchor:on.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:V,j:N}),dataLabelsConfig:un,barTotalDataLabelsConfig:jn})),{dataLabels:Ot,totalDataLabels:ce}}},{key:"getStackedTotalDataLabel",value:function(h){var d=h.realIndex,y=h.j,C=this.w,M=this.barCtx.stackedSeriesTotals[y];return this.totalFormatter&&(M=this.totalFormatter(M,Gt(Gt({},C),{},{seriesIndex:d,dataPointIndex:y,w:C}))),M}},{key:"calculateColumnsDataLabelsPosition",value:function(h){var d,y,C,M=this.w,O=h.i,N=h.j,V=h.realIndex,q=h.groupIndex,K=h.y,J=h.bcx,it=h.barWidth,pt=h.barHeight,Et=h.textRects,Nt=h.dataLabelsY,ee=h.dataLabelsConfig,he=h.barDataLabelsConfig,Ae=h.barTotalDataLabelsConfig,W=h.strokeWidth,rt=h.offX,Ot=h.offY;pt=Math.abs(pt);var ce=M.config.plotOptions.bar.dataLabels.orientation==="vertical";J=J-W/2+(q!==-1?q*it:0);var xe=M.globals.gridWidth/M.globals.dataPoints;d=M.globals.isXNumeric?J-it/2+rt:J-xe+it/2+rt,ce&&(d=d+Et.height/2-W/2-2);var Ie=this.barCtx.series[O][N]<0,on=K;switch(this.barCtx.isReversed&&(on=K-pt+(Ie?2*pt:0),K-=pt),he.position){case"center":Nt=ce?Ie?on+pt/2+Ot:on+pt/2-Ot:Ie?on-pt/2+Et.height/2+Ot:on+pt/2+Et.height/2-Ot;break;case"bottom":Nt=ce?Ie?on+pt+Ot:on+pt-Ot:Ie?on-pt+Et.height+W+Ot:on+pt-Et.height/2+W-Ot;break;case"top":Nt=ce?Ie?on+Ot:on-Ot:Ie?on-Et.height/2-Ot:on+Et.height+Ot}if(this.barCtx.lastActiveBarSerieIndex===V&&Ae.enabled){var un=new Wt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:V,j:N}),ee.fontSize);y=Ie?on-un.height/2-Ot-Ae.offsetY+18:on+un.height+Ot+Ae.offsetY-18,C=d+Ae.offsetX}return M.config.chart.stacked||(Nt<0?Nt=0+W:Nt+Et.height/3>M.globals.gridHeight&&(Nt=M.globals.gridHeight-W)),{bcx:J,bcy:K,dataLabelsX:d,dataLabelsY:Nt,totalDataLabelsX:C,totalDataLabelsY:y,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(h){var d=this.w,y=h.x,C=h.i,M=h.j,O=h.realIndex,N=h.groupIndex,V=h.bcy,q=h.barHeight,K=h.barWidth,J=h.textRects,it=h.dataLabelsX,pt=h.strokeWidth,Et=h.dataLabelsConfig,Nt=h.barDataLabelsConfig,ee=h.barTotalDataLabelsConfig,he=h.offX,Ae=h.offY,W=d.globals.gridHeight/d.globals.dataPoints;K=Math.abs(K);var rt,Ot,ce=(V+=N!==-1?N*q:0)-(this.barCtx.isRangeBar?0:W)+q/2+J.height/2+Ae-3,xe="start",Ie=this.barCtx.series[C][M]<0,on=y;switch(this.barCtx.isReversed&&(on=y+K-(Ie?2*K:0),y=d.globals.gridWidth-K),Nt.position){case"center":it=Ie?on+K/2-he:Math.max(J.width/2,on-K/2)+he;break;case"bottom":it=Ie?on+K-pt-Math.round(J.width/2)-he:on-K+pt+Math.round(J.width/2)+he;break;case"top":it=Ie?on-pt+Math.round(J.width/2)-he:on-pt-Math.round(J.width/2)+he}if(this.barCtx.lastActiveBarSerieIndex===O&&ee.enabled){var un=new Wt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:O,j:M}),Et.fontSize);Ie?(rt=on-pt+Math.round(un.width/2)-he-ee.offsetX-15,xe="end"):rt=on-pt-Math.round(un.width/2)+he+ee.offsetX+15,Ot=ce+ee.offsetY}return d.config.chart.stacked||(it<0?it=it+J.width+pt:it+J.width/2>d.globals.gridWidth&&(it=d.globals.gridWidth-J.width-pt)),{bcx:y,bcy:V,dataLabelsX:it,dataLabelsY:ce,totalDataLabelsX:rt,totalDataLabelsY:Ot,totalDataLabelsAnchor:xe}}},{key:"drawCalculatedDataLabels",value:function(h){var d=h.x,y=h.y,C=h.val,M=h.i,O=h.j,N=h.textRects,V=h.barHeight,q=h.barWidth,K=h.dataLabelsConfig,J=this.w,it="rotate(0)";J.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(it="rotate(-90, ".concat(d,", ").concat(y,")"));var pt=new en(this.barCtx.ctx),Et=new Wt(this.barCtx.ctx),Nt=K.formatter,ee=null,he=J.globals.collapsedSeriesIndices.indexOf(M)>-1;if(K.enabled&&!he){ee=Et.group({class:"apexcharts-data-labels",transform:it});var Ae="";C!==void 0&&(Ae=Nt(C,Gt(Gt({},J),{},{seriesIndex:M,dataPointIndex:O,w:J}))),!C&&J.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Ae="");var W=J.globals.series[M][O]<0,rt=J.config.plotOptions.bar.dataLabels.position;J.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(rt==="top"&&(K.textAnchor=W?"end":"start"),rt==="center"&&(K.textAnchor="middle"),rt==="bottom"&&(K.textAnchor=W?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&q<Et.getTextRects(Ae,parseFloat(K.style.fontSize)).width&&(Ae=""),J.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?N.width/1.6>Math.abs(q)&&(Ae=""):N.height/1.6>Math.abs(V)&&(Ae=""));var Ot=Gt({},K);this.barCtx.isHorizontal&&C<0&&(K.textAnchor==="start"?Ot.textAnchor="end":K.textAnchor==="end"&&(Ot.textAnchor="start")),pt.plotDataLabelsText({x:d,y,text:Ae,i:M,j:O,parent:ee,dataLabelsConfig:Ot,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return ee}},{key:"drawTotalDataLabels",value:function(h){var d,y=h.x,C=h.y,M=h.val,O=h.realIndex,N=h.textAnchor,V=h.barTotalDataLabelsConfig,q=new Wt(this.barCtx.ctx);return V.enabled&&y!==void 0&&C!==void 0&&this.barCtx.lastActiveBarSerieIndex===O&&(d=q.drawText({x:y,y:C,foreColor:V.style.color,text:M,textAnchor:N,fontFamily:V.style.fontFamily,fontSize:V.style.fontSize,fontWeight:V.style.fontWeight})),d}}]),qt}(),bi=function(){function qt(h){Qt(this,qt),this.w=h.w,this.barCtx=h}return $t(qt,[{key:"initVariables",value:function(h){var d=this.w;this.barCtx.series=h,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var y=0;y<h.length;y++)if(h[y].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=h[y].length),d.globals.isXNumeric)for(var C=0;C<h[y].length;C++)d.globals.seriesX[y][C]>d.globals.minX&&d.globals.seriesX[y][C]<d.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=d.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],d.globals.comboCharts||this.checkZeroSeries({series:h})}},{key:"initialPositions",value:function(){var h,d,y,C,M,O,N,V,q=this.w,K=q.globals.dataPoints;this.barCtx.isRangeBar&&(K=q.globals.labels.length);var J=this.barCtx.seriesLen;if(q.config.plotOptions.bar.rangeBarGroupRows&&(J=1),this.barCtx.isHorizontal)M=(y=q.globals.gridHeight/K)/J,q.globals.isXNumeric&&(M=(y=q.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),M=M*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(M=parseInt(this.barCtx.barOptions.barHeight,10)),V=this.barCtx.baseLineInvertedY+q.globals.padHorizontal+(this.barCtx.isReversed?q.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),d=(y-M*this.barCtx.seriesLen)/2;else{if(C=q.globals.gridWidth/this.barCtx.visibleItems,q.config.xaxis.convertedCatToNumeric&&(C=q.globals.gridWidth/q.globals.dataPoints),O=C/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,q.globals.isXNumeric){var it=this.barCtx.xRatio;q.config.xaxis.convertedCatToNumeric&&(it=this.barCtx.initialXRatio),q.globals.minXDiff&&q.globals.minXDiff!==.5&&q.globals.minXDiff/it>0&&(C=q.globals.minXDiff/it),(O=C/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(O=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(O=parseInt(this.barCtx.barOptions.columnWidth,10)),N=q.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?q.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),h=q.globals.padHorizontal+(C-O*this.barCtx.seriesLen)/2}return{x:h,y:d,yDivision:y,xDivision:C,barHeight:M,barWidth:O,zeroH:N,zeroW:V}}},{key:"initializeStackedPrevVars",value:function(h){var d=h.w;d.globals.hasSeriesGroups?d.globals.seriesGroups.forEach(function(y){h[y]||(h[y]={}),h[y].prevY=[],h[y].prevX=[],h[y].prevYF=[],h[y].prevXF=[],h[y].prevYVal=[],h[y].prevXVal=[]}):(h.prevY=[],h.prevX=[],h.prevYF=[],h.prevXF=[],h.prevYVal=[],h.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(h){var d=h.w;d.globals.hasSeriesGroups?d.globals.seriesGroups.forEach(function(y){h[y]||(h[y]={}),h[y].xArrj=[],h[y].xArrjF=[],h[y].xArrjVal=[],h[y].yArrj=[],h[y].yArrjF=[],h[y].yArrjVal=[]}):(h.xArrj=[],h.xArrjF=[],h.xArrjVal=[],h.yArrj=[],h.yArrjF=[],h.yArrjVal=[])}},{key:"getPathFillColor",value:function(h,d,y,C){var M,O,N,V,q=this.w,K=new ht(this.barCtx.ctx),J=null,it=this.barCtx.barOptions.distributed?y:d;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(pt){h[d][y]>=pt.from&&h[d][y]<=pt.to&&(J=pt.color)}),q.config.series[d].data[y]&&q.config.series[d].data[y].fillColor&&(J=q.config.series[d].data[y].fillColor),K.fillPath({seriesNumber:this.barCtx.barOptions.distributed?it:C,dataPointIndex:y,color:J,value:h[d][y],fillConfig:(M=q.config.series[d].data[y])===null||M===void 0?void 0:M.fill,fillType:(O=q.config.series[d].data[y])!==null&&O!==void 0&&(N=O.fill)!==null&&N!==void 0&&N.type?(V=q.config.series[d].data[y])===null||V===void 0?void 0:V.fill.type:q.config.fill.type})}},{key:"getStrokeWidth",value:function(h,d,y){var C=0,M=this.w;return this.barCtx.series[h][d]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,M.config.stroke.show&&(this.barCtx.isNullValue||(C=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[y]:this.barCtx.strokeWidth)),C}},{key:"shouldApplyRadius",value:function(h){var d=this.w,y=!1;return d.config.plotOptions.bar.borderRadius>0&&(d.config.chart.stacked&&d.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===h&&(y=!0):y=!0),y}},{key:"barBackground",value:function(h){var d=h.j,y=h.i,C=h.x1,M=h.x2,O=h.y1,N=h.y2,V=h.elSeries,q=this.w,K=new Wt(this.barCtx.ctx),J=new je(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&J===y){d>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(d%=this.barCtx.barOptions.colors.backgroundBarColors.length);var it=this.barCtx.barOptions.colors.backgroundBarColors[d],pt=K.drawRect(C!==void 0?C:0,O!==void 0?O:0,M!==void 0?M:q.globals.gridWidth,N!==void 0?N:q.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,it,this.barCtx.barOptions.colors.backgroundBarOpacity);V.add(pt),pt.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(h){var d,y=h.barWidth,C=h.barXPosition,M=h.y1,O=h.y2,N=h.strokeWidth,V=h.seriesGroup,q=h.realIndex,K=h.i,J=h.j,it=h.w,pt=new Wt(this.barCtx.ctx);(N=Array.isArray(N)?N[q]:N)||(N=0);var Et=y,Nt=C;(d=it.config.series[q].data[J])!==null&&d!==void 0&&d.columnWidthOffset&&(Nt=C-it.config.series[q].data[J].columnWidthOffset/2,Et=y+it.config.series[q].data[J].columnWidthOffset);var ee=Nt,he=Nt+Et;M+=.001,O+=.001;var Ae=pt.move(ee,M),W=pt.move(ee,M),rt=pt.line(he-N,M);if(it.globals.previousPaths.length>0&&(W=this.barCtx.getPreviousPath(q,J,!1)),Ae=Ae+pt.line(ee,O)+pt.line(he-N,O)+pt.line(he-N,M)+(it.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),W=W+pt.line(ee,M)+rt+rt+rt+rt+rt+pt.line(ee,M)+(it.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(q)&&(Ae=pt.roundPathCorners(Ae,it.config.plotOptions.bar.borderRadius)),it.config.chart.stacked){var Ot=this.barCtx;it.globals.hasSeriesGroups&&V&&(Ot=this.barCtx[V]),Ot.yArrj.push(O),Ot.yArrjF.push(Math.abs(M-O)),Ot.yArrjVal.push(this.barCtx.series[K][J])}return{pathTo:Ae,pathFrom:W}}},{key:"getBarpaths",value:function(h){var d,y=h.barYPosition,C=h.barHeight,M=h.x1,O=h.x2,N=h.strokeWidth,V=h.seriesGroup,q=h.realIndex,K=h.i,J=h.j,it=h.w,pt=new Wt(this.barCtx.ctx);(N=Array.isArray(N)?N[q]:N)||(N=0);var Et=y,Nt=C;(d=it.config.series[q].data[J])!==null&&d!==void 0&&d.barHeightOffset&&(Et=y-it.config.series[q].data[J].barHeightOffset/2,Nt=C+it.config.series[q].data[J].barHeightOffset);var ee=Et,he=Et+Nt;M+=.001,O+=.001;var Ae=pt.move(M,ee),W=pt.move(M,ee);it.globals.previousPaths.length>0&&(W=this.barCtx.getPreviousPath(q,J,!1));var rt=pt.line(M,he-N);if(Ae=Ae+pt.line(O,ee)+pt.line(O,he-N)+rt+(it.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),W=W+pt.line(M,ee)+rt+rt+rt+rt+rt+pt.line(M,ee)+(it.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(q)&&(Ae=pt.roundPathCorners(Ae,it.config.plotOptions.bar.borderRadius)),it.config.chart.stacked){var Ot=this.barCtx;it.globals.hasSeriesGroups&&V&&(Ot=this.barCtx[V]),Ot.xArrj.push(O),Ot.xArrjF.push(Math.abs(M-O)),Ot.xArrjVal.push(this.barCtx.series[K][J])}return{pathTo:Ae,pathFrom:W}}},{key:"checkZeroSeries",value:function(h){for(var d=h.series,y=this.w,C=0;C<d.length;C++){for(var M=0,O=0;O<d[y.globals.maxValsInArrayIndex].length;O++)M+=d[C][O];M===0&&this.barCtx.zeroSerieses.push(C)}}},{key:"getXForValue",value:function(h,d){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?d:null;return h!=null&&(y=d+h/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?h/this.barCtx.invertedYRatio:0)),y}},{key:"getYForValue",value:function(h,d){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?d:null;return h!=null&&(y=d-h/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?h/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),y}},{key:"getGoalValues",value:function(h,d,y,C,M){var O=this,N=this.w,V=[],q=function(it,pt){var Et;V.push((ue(Et={},h,h==="x"?O.getXForValue(it,d,!1):O.getYForValue(it,y,!1)),ue(Et,"attrs",pt),Et))};if(N.globals.seriesGoals[C]&&N.globals.seriesGoals[C][M]&&Array.isArray(N.globals.seriesGoals[C][M])&&N.globals.seriesGoals[C][M].forEach(function(it){q(it.value,it)}),this.barCtx.barOptions.isDumbbell&&N.globals.seriesRange.length){var K=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:N.globals.colors,J={strokeHeight:h==="x"?0:N.globals.markers.size[C],strokeWidth:h==="x"?N.globals.markers.size[C]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(K[C])?K[C][0]:K[C]};q(N.globals.seriesRangeStart[C][M],J),q(N.globals.seriesRangeEnd[C][M],Gt(Gt({},J),{},{strokeColor:Array.isArray(K[C])?K[C][1]:K[C]}))}return V}},{key:"drawGoalLine",value:function(h){var d=h.barXPosition,y=h.barYPosition,C=h.goalX,M=h.goalY,O=h.barWidth,N=h.barHeight,V=new Wt(this.barCtx.ctx),q=V.group({className:"apexcharts-bar-goals-groups"});q.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:q.node}),q.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var K=null;return this.barCtx.isHorizontal?Array.isArray(C)&&C.forEach(function(J){var it=J.attrs.strokeHeight!==void 0?J.attrs.strokeHeight:N/2,pt=y+it+N/2;K=V.drawLine(J.x,pt-2*it,J.x,pt,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeWidth?J.attrs.strokeWidth:2,J.attrs.strokeLineCap),q.add(K)}):Array.isArray(M)&&M.forEach(function(J){var it=J.attrs.strokeWidth!==void 0?J.attrs.strokeWidth:O/2,pt=d+it+O/2;K=V.drawLine(pt-2*it,J.y,pt,J.y,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeHeight?J.attrs.strokeHeight:2,J.attrs.strokeLineCap),q.add(K)}),q}}]),qt}(),ln=function(){function qt(h,d){Qt(this,qt),this.ctx=h,this.w=h.w;var y=this.w;this.barOptions=y.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=y.config.stroke.width,this.isNullValue=!1,this.isRangeBar=y.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=d,this.xyRatios!==null&&(this.xRatio=d.xRatio,this.initialXRatio=d.initialXRatio,this.yRatio=d.yRatio,this.invertedXRatio=d.invertedXRatio,this.invertedYRatio=d.invertedYRatio,this.baseLineY=d.baseLineY,this.baseLineInvertedY=d.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var C=new je(this.ctx);this.lastActiveBarSerieIndex=C.getActiveConfigSeriesIndex("desc",["bar","column"]);var M=C.getBarSeriesIndices(),O=new te(this.ctx);this.stackedSeriesTotals=O.getStackedSeriesTotals(this.w.config.series.map(function(N,V){return M.indexOf(V)===-1?V:-1}).filter(function(N){return N!==-1})),this.barHelpers=new bi(this)}return $t(qt,[{key:"draw",value:function(h,d){var y=this.w,C=new Wt(this.ctx),M=new te(this.ctx,y);h=M.getLogSeries(h),this.series=h,this.yRatio=M.getLogYRatios(this.yRatio),this.barHelpers.initVariables(h);var O=C.group({class:"apexcharts-bar-series apexcharts-plot-series"});y.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var N=0,V=0;N<h.length;N++,V++){var q,K,J,it,pt=void 0,Et=void 0,Nt=[],ee=[],he=y.globals.comboCharts?d[N]:N,Ae=C.group({class:"apexcharts-series",rel:N+1,seriesName:ct.escapeString(y.globals.seriesNames[he]),"data:realIndex":he});this.ctx.series.addCollapsedClassToSeries(Ae,he),h[N].length>0&&(this.visibleI=this.visibleI+1);var W=0,rt=0;this.yRatio.length>1&&(this.yaxisIndex=he),this.isReversed=y.config.yaxis[this.yaxisIndex]&&y.config.yaxis[this.yaxisIndex].reversed;var Ot=this.barHelpers.initialPositions();Et=Ot.y,W=Ot.barHeight,K=Ot.yDivision,it=Ot.zeroW,pt=Ot.x,rt=Ot.barWidth,q=Ot.xDivision,J=Ot.zeroH,this.horizontal||ee.push(pt+rt/2);for(var ce=C.group({class:"apexcharts-datalabels","data:realIndex":he}),xe=C.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Ie=0;Ie<y.globals.dataPoints;Ie++){var on=this.barHelpers.getStrokeWidth(N,Ie,he),un=null,Bn={indexes:{i:N,j:Ie,realIndex:he,bc:V},x:pt,y:Et,strokeWidth:on,elSeries:Ae};this.isHorizontal?(un=this.drawBarPaths(Gt(Gt({},Bn),{},{barHeight:W,zeroW:it,yDivision:K})),rt=this.series[N][Ie]/this.invertedYRatio):(un=this.drawColumnPaths(Gt(Gt({},Bn),{},{xDivision:q,barWidth:rt,zeroH:J})),W=this.series[N][Ie]/this.yRatio[this.yaxisIndex]);var jn=this.barHelpers.drawGoalLine({barXPosition:un.barXPosition,barYPosition:un.barYPosition,goalX:un.goalX,goalY:un.goalY,barHeight:W,barWidth:rt});jn&&xe.add(jn),Et=un.y,pt=un.x,Ie>0&&ee.push(pt+rt/2),Nt.push(Et);var ai=this.barHelpers.getPathFillColor(h,N,Ie,he);this.renderSeries({realIndex:he,pathFill:ai,j:Ie,i:N,pathFrom:un.pathFrom,pathTo:un.pathTo,strokeWidth:on,elSeries:Ae,x:pt,y:Et,series:h,barHeight:un.barHeight?un.barHeight:W,barWidth:un.barWidth?un.barWidth:rt,elDataLabelsWrap:ce,elGoalsMarkers:xe,visibleSeries:this.visibleI,type:"bar"})}y.globals.seriesXvalues[he]=ee,y.globals.seriesYvalues[he]=Nt,O.add(Ae)}return O}},{key:"renderSeries",value:function(h){var d=h.realIndex,y=h.pathFill,C=h.lineFill,M=h.j,O=h.i,N=h.groupIndex,V=h.pathFrom,q=h.pathTo,K=h.strokeWidth,J=h.elSeries,it=h.x,pt=h.y,Et=h.y1,Nt=h.y2,ee=h.series,he=h.barHeight,Ae=h.barWidth,W=h.barYPosition,rt=h.elDataLabelsWrap,Ot=h.elGoalsMarkers,ce=h.visibleSeries,xe=h.type,Ie=this.w,on=new Wt(this.ctx);C||(C=this.barOptions.distributed?Ie.globals.stroke.colors[M]:Ie.globals.stroke.colors[d]),Ie.config.series[O].data[M]&&Ie.config.series[O].data[M].strokeColor&&(C=Ie.config.series[O].data[M].strokeColor),this.isNullValue&&(y="none");var un=M/Ie.config.chart.animations.animateGradually.delay*(Ie.config.chart.animations.speed/Ie.globals.dataPoints)/2.4,Bn=on.renderPaths({i:O,j:M,realIndex:d,pathFrom:V,pathTo:q,stroke:C,strokeWidth:K,strokeLineCap:Ie.config.stroke.lineCap,fill:y,animationDelay:un,initialSpeed:Ie.config.chart.animations.speed,dataChangeSpeed:Ie.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(xe,"-area")});Bn.attr("clip-path","url(#gridRectMask".concat(Ie.globals.cuid,")"));var jn=Ie.config.forecastDataPoints;jn.count>0&&M>=Ie.globals.dataPoints-jn.count&&(Bn.node.setAttribute("stroke-dasharray",jn.dashArray),Bn.node.setAttribute("stroke-width",jn.strokeWidth),Bn.node.setAttribute("fill-opacity",jn.fillOpacity)),Et!==void 0&&Nt!==void 0&&(Bn.attr("data-range-y1",Et),Bn.attr("data-range-y2",Nt)),new It(this.ctx).setSelectionFilter(Bn,d,M),J.add(Bn);var ai=new Ii(this).handleBarDataLabels({x:it,y:pt,y1:Et,y2:Nt,i:O,j:M,series:ee,realIndex:d,groupIndex:N,barHeight:he,barWidth:Ae,barYPosition:W,renderedPath:Bn,visibleSeries:ce});return ai.dataLabels!==null&&rt.add(ai.dataLabels),ai.totalDataLabels&&rt.add(ai.totalDataLabels),J.add(rt),Ot&&J.add(Ot),J}},{key:"drawBarPaths",value:function(h){var d,y=h.indexes,C=h.barHeight,M=h.strokeWidth,O=h.zeroW,N=h.x,V=h.y,q=h.yDivision,K=h.elSeries,J=this.w,it=y.i,pt=y.j;if(J.globals.isXNumeric)d=(V=(J.globals.seriesX[it][pt]-J.globals.minX)/this.invertedXRatio-C)+C*this.visibleI;else if(J.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Et=0,Nt=0;J.globals.seriesPercent.forEach(function(he,Ae){he[pt]&&Et++,Ae<it&&he[pt]===0&&Nt++}),Et>0&&(C=this.seriesLen*C/Et),d=V+C*this.visibleI,d-=C*Nt}else d=V+C*this.visibleI;N=this.barHelpers.getXForValue(this.series[it][pt],O);var ee=this.barHelpers.getBarpaths({barYPosition:d,barHeight:C,x1:O,x2:N,strokeWidth:M,series:this.series,realIndex:y.realIndex,i:it,j:pt,w:J});return J.globals.isXNumeric||(V+=q),this.barHelpers.barBackground({j:pt,i:it,y1:d-C*this.visibleI,y2:C*this.seriesLen,elSeries:K}),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,x:N,y:V,goalX:this.barHelpers.getGoalValues("x",O,null,it,pt),barYPosition:d,barHeight:C}}},{key:"drawColumnPaths",value:function(h){var d,y=h.indexes,C=h.x,M=h.y,O=h.xDivision,N=h.barWidth,V=h.zeroH,q=h.strokeWidth,K=h.elSeries,J=this.w,it=y.realIndex,pt=y.i,Et=y.j,Nt=y.bc;if(J.globals.isXNumeric){var ee=it;J.globals.seriesX[it].length||(ee=J.globals.maxValsInArrayIndex),J.globals.seriesX[ee][Et]&&(C=(J.globals.seriesX[ee][Et]-J.globals.minX)/this.xRatio-N*this.seriesLen/2),d=C+N*this.visibleI}else if(J.config.plotOptions.bar.hideZeroBarsWhenGrouped){var he=0,Ae=0;J.globals.seriesPercent.forEach(function(rt,Ot){rt[Et]&&he++,Ot<pt&&rt[Et]===0&&Ae++}),he>0&&(N=this.seriesLen*N/he),d=C+N*this.visibleI,d-=N*Ae}else d=C+N*this.visibleI;M=this.barHelpers.getYForValue(this.series[pt][Et],V);var W=this.barHelpers.getColumnPaths({barXPosition:d,barWidth:N,y1:V,y2:M,strokeWidth:q,series:this.series,realIndex:y.realIndex,i:pt,j:Et,w:J});return J.globals.isXNumeric||(C+=O),this.barHelpers.barBackground({bc:Nt,j:Et,i:pt,x1:d-q/2-N*this.visibleI,x2:N*this.seriesLen+q/2,elSeries:K}),{pathTo:W.pathTo,pathFrom:W.pathFrom,x:C,y:M,goalY:this.barHelpers.getGoalValues("y",null,V,pt,Et),barXPosition:d,barWidth:N}}},{key:"getPreviousPath",value:function(h,d){for(var y,C=this.w,M=0;M<C.globals.previousPaths.length;M++){var O=C.globals.previousPaths[M];O.paths&&O.paths.length>0&&parseInt(O.realIndex,10)===parseInt(h,10)&&C.globals.previousPaths[M].paths[d]!==void 0&&(y=C.globals.previousPaths[M].paths[d].d)}return y}}]),qt}(),Vn=function(qt){Jt(d,qt);var h=_t(d);function d(){return Qt(this,d),h.apply(this,arguments)}return $t(d,[{key:"draw",value:function(y,C){var M=this,O=this.w;this.graphics=new Wt(this.ctx),this.bar=new ln(this.ctx,this.xyRatios);var N=new te(this.ctx,O);y=N.getLogSeries(y),this.yRatio=N.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y),O.config.chart.stackType==="100%"&&(y=O.globals.seriesPercent.slice()),this.series=y,this.barHelpers.initializeStackedPrevVars(this);for(var V=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),q=0,K=0,J=function(Et,Nt){var ee=void 0,he=void 0,Ae=void 0,W=void 0,rt=-1;M.groupCtx=M,O.globals.seriesGroups.forEach(function(qr,fo){qr.indexOf(O.config.series[Et].name)>-1&&(rt=fo)}),rt!==-1&&(M.groupCtx=M[O.globals.seriesGroups[rt]]);var Ot=[],ce=[],xe=O.globals.comboCharts?C[Et]:Et;M.yRatio.length>1&&(M.yaxisIndex=xe),M.isReversed=O.config.yaxis[M.yaxisIndex]&&O.config.yaxis[M.yaxisIndex].reversed;var Ie=M.graphics.group({class:"apexcharts-series",seriesName:ct.escapeString(O.globals.seriesNames[xe]),rel:Et+1,"data:realIndex":xe});M.ctx.series.addCollapsedClassToSeries(Ie,xe);var on=M.graphics.group({class:"apexcharts-datalabels","data:realIndex":xe}),un=M.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Bn=0,jn=0,ai=M.initialPositions(q,K,ee,he,Ae,W);K=ai.y,Bn=ai.barHeight,he=ai.yDivision,W=ai.zeroW,q=ai.x,jn=ai.barWidth,ee=ai.xDivision,Ae=ai.zeroH,M.barHelpers.initializeStackedXYVars(M),M.groupCtx.prevY.length===1&&M.groupCtx.prevY[0].every(function(qr){return isNaN(qr)})&&(M.groupCtx.prevY[0]=M.groupCtx.prevY[0].map(function(qr){return Ae}),M.groupCtx.prevYF[0]=M.groupCtx.prevYF[0].map(function(qr){return 0}));for(var ci=0;ci<O.globals.dataPoints;ci++){var vr=M.barHelpers.getStrokeWidth(Et,ci,xe),rr={indexes:{i:Et,j:ci,realIndex:xe,bc:Nt},strokeWidth:vr,x:q,y:K,elSeries:Ie,groupIndex:rt,seriesGroup:O.globals.seriesGroups[rt]},er=null;M.isHorizontal?(er=M.drawStackedBarPaths(Gt(Gt({},rr),{},{zeroW:W,barHeight:Bn,yDivision:he})),jn=M.series[Et][ci]/M.invertedYRatio):(er=M.drawStackedColumnPaths(Gt(Gt({},rr),{},{xDivision:ee,barWidth:jn,zeroH:Ae})),Bn=M.series[Et][ci]/M.yRatio[M.yaxisIndex]);var Xr=M.barHelpers.drawGoalLine({barXPosition:er.barXPosition,barYPosition:er.barYPosition,goalX:er.goalX,goalY:er.goalY,barHeight:Bn,barWidth:jn});Xr&&un.add(Xr),K=er.y,q=er.x,Ot.push(q),ce.push(K);var bo=M.barHelpers.getPathFillColor(y,Et,ci,xe);Ie=M.renderSeries({realIndex:xe,pathFill:bo,j:ci,i:Et,groupIndex:rt,pathFrom:er.pathFrom,pathTo:er.pathTo,strokeWidth:vr,elSeries:Ie,x:q,y:K,series:y,barHeight:Bn,barWidth:jn,elDataLabelsWrap:on,elGoalsMarkers:un,type:"bar",visibleSeries:0})}O.globals.seriesXvalues[xe]=Ot,O.globals.seriesYvalues[xe]=ce,M.groupCtx.prevY.push(M.groupCtx.yArrj),M.groupCtx.prevYF.push(M.groupCtx.yArrjF),M.groupCtx.prevYVal.push(M.groupCtx.yArrjVal),M.groupCtx.prevX.push(M.groupCtx.xArrj),M.groupCtx.prevXF.push(M.groupCtx.xArrjF),M.groupCtx.prevXVal.push(M.groupCtx.xArrjVal),V.add(Ie)},it=0,pt=0;it<y.length;it++,pt++)J(it,pt);return V}},{key:"initialPositions",value:function(y,C,M,O,N,V){var q,K,J,it,pt=this.w;return this.isHorizontal?(q=(q=O=pt.globals.gridHeight/pt.globals.dataPoints)*parseInt(pt.config.plotOptions.bar.barHeight,10)/100,(J=pt.globals.seriesGroups)!==null&&J!==void 0&&J.length&&(q/=pt.globals.seriesGroups.length),String(pt.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(q=parseInt(pt.config.plotOptions.bar.barHeight,10)),V=this.baseLineInvertedY+pt.globals.padHorizontal+(this.isReversed?pt.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),C=(O-q)/2):(K=M=pt.globals.gridWidth/pt.globals.dataPoints,K=pt.globals.isXNumeric&&pt.globals.dataPoints>1?(M=pt.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:K*parseInt(pt.config.plotOptions.bar.columnWidth,10)/100,(it=pt.globals.seriesGroups)!==null&&it!==void 0&&it.length&&(K/=pt.globals.seriesGroups.length),String(pt.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(K=parseInt(pt.config.plotOptions.bar.columnWidth,10)),N=pt.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?pt.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),y=pt.globals.padHorizontal+(M-K)/2),{x:y,y:C,yDivision:O,xDivision:M,barHeight:q,barWidth:K,zeroH:N,zeroW:V}}},{key:"drawStackedBarPaths",value:function(y){for(var C,M=y.indexes,O=y.barHeight,N=y.strokeWidth,V=y.zeroW,q=y.x,K=y.y,J=y.groupIndex,it=y.seriesGroup,pt=y.yDivision,Et=y.elSeries,Nt=this.w,ee=K+(J!==-1?J*O:0),he=M.i,Ae=M.j,W=0,rt=0;rt<this.groupCtx.prevXF.length;rt++)W+=this.groupCtx.prevXF[rt][Ae];var Ot=he;if(it&&(Ot=it.indexOf(Nt.config.series[he].name)),Ot>0){var ce=V;this.groupCtx.prevXVal[Ot-1][Ae]<0?ce=this.series[he][Ae]>=0?this.groupCtx.prevX[Ot-1][Ae]+W-2*(this.isReversed?W:0):this.groupCtx.prevX[Ot-1][Ae]:this.groupCtx.prevXVal[Ot-1][Ae]>=0&&(ce=this.series[he][Ae]>=0?this.groupCtx.prevX[Ot-1][Ae]:this.groupCtx.prevX[Ot-1][Ae]-W+2*(this.isReversed?W:0)),C=ce}else C=V;q=this.series[he][Ae]===null?C:C+this.series[he][Ae]/this.invertedYRatio-2*(this.isReversed?this.series[he][Ae]/this.invertedYRatio:0);var xe=this.barHelpers.getBarpaths({barYPosition:ee,barHeight:O,x1:C,x2:q,strokeWidth:N,series:this.series,realIndex:M.realIndex,seriesGroup:it,i:he,j:Ae,w:Nt});return this.barHelpers.barBackground({j:Ae,i:he,y1:ee,y2:O,elSeries:Et}),K+=pt,{pathTo:xe.pathTo,pathFrom:xe.pathFrom,goalX:this.barHelpers.getGoalValues("x",V,null,he,Ae),barYPosition:ee,x:q,y:K}}},{key:"drawStackedColumnPaths",value:function(y){var C=y.indexes,M=y.x,O=y.y,N=y.xDivision,V=y.barWidth,q=y.zeroH,K=y.groupIndex,J=y.seriesGroup,it=y.elSeries,pt=this.w,Et=C.i,Nt=C.j,ee=C.bc;if(pt.globals.isXNumeric){var he=pt.globals.seriesX[Et][Nt];he||(he=0),M=(he-pt.globals.minX)/this.xRatio-V/2,pt.globals.seriesGroups.length&&(M=(he-pt.globals.minX)/this.xRatio-V/2*pt.globals.seriesGroups.length)}for(var Ae,W=M+(K!==-1?K*V:0),rt=0,Ot=0;Ot<this.groupCtx.prevYF.length;Ot++)rt+=isNaN(this.groupCtx.prevYF[Ot][Nt])?0:this.groupCtx.prevYF[Ot][Nt];var ce=Et;if(J&&(ce=J.indexOf(pt.config.series[Et].name)),ce>0&&!pt.globals.isXNumeric||ce>0&&pt.globals.isXNumeric&&pt.globals.seriesX[Et-1][Nt]===pt.globals.seriesX[Et][Nt]){var xe,Ie,on,un=Math.min(this.yRatio.length+1,Et+1);if(this.groupCtx.prevY[ce-1]!==void 0&&this.groupCtx.prevY[ce-1].length)for(var Bn=1;Bn<un;Bn++){var jn;if(!isNaN((jn=this.groupCtx.prevY[ce-Bn])===null||jn===void 0?void 0:jn[Nt])){on=this.groupCtx.prevY[ce-Bn][Nt];break}}for(var ai=1;ai<un;ai++){var ci,vr;if(((ci=this.groupCtx.prevYVal[ce-ai])===null||ci===void 0?void 0:ci[Nt])<0){Ie=this.series[Et][Nt]>=0?on-rt+2*(this.isReversed?rt:0):on;break}if(((vr=this.groupCtx.prevYVal[ce-ai])===null||vr===void 0?void 0:vr[Nt])>=0){Ie=this.series[Et][Nt]>=0?on:on+rt-2*(this.isReversed?rt:0);break}}Ie===void 0&&(Ie=pt.globals.gridHeight),Ae=(xe=this.groupCtx.prevYF[0])!==null&&xe!==void 0&&xe.every(function(er){return er===0})&&this.groupCtx.prevYF.slice(1,ce).every(function(er){return er.every(function(Xr){return isNaN(Xr)})})?q:Ie}else Ae=q;O=this.series[Et][Nt]?Ae-this.series[Et][Nt]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[Et][Nt]/this.yRatio[this.yaxisIndex]:0):Ae;var rr=this.barHelpers.getColumnPaths({barXPosition:W,barWidth:V,y1:Ae,y2:O,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:J,realIndex:C.realIndex,i:Et,j:Nt,w:pt});return this.barHelpers.barBackground({bc:ee,j:Nt,i:Et,x1:W,x2:V,elSeries:it}),M+=N,{pathTo:rr.pathTo,pathFrom:rr.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,q,Et,Nt),barXPosition:W,x:pt.globals.isXNumeric?M-N:M,y:O}}}]),d}(ln),ti=function(qt){Jt(d,qt);var h=_t(d);function d(){return Qt(this,d),h.apply(this,arguments)}return $t(d,[{key:"draw",value:function(y,C,M){var O=this,N=this.w,V=new Wt(this.ctx),q=N.globals.comboCharts?C:N.config.chart.type,K=new ht(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=N.config.plotOptions.bar.horizontal;var J=new te(this.ctx,N);y=J.getLogSeries(y),this.series=y,this.yRatio=J.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y);for(var it=V.group({class:"apexcharts-".concat(q,"-series apexcharts-plot-series")}),pt=function(Nt){O.isBoxPlot=N.config.chart.type==="boxPlot"||N.config.series[Nt].type==="boxPlot";var ee,he,Ae,W,rt=void 0,Ot=void 0,ce=[],xe=[],Ie=N.globals.comboCharts?M[Nt]:Nt,on=V.group({class:"apexcharts-series",seriesName:ct.escapeString(N.globals.seriesNames[Ie]),rel:Nt+1,"data:realIndex":Ie});O.ctx.series.addCollapsedClassToSeries(on,Ie),y[Nt].length>0&&(O.visibleI=O.visibleI+1);var un,Bn;O.yRatio.length>1&&(O.yaxisIndex=Ie);var jn=O.barHelpers.initialPositions();Ot=jn.y,un=jn.barHeight,he=jn.yDivision,W=jn.zeroW,rt=jn.x,Bn=jn.barWidth,ee=jn.xDivision,Ae=jn.zeroH,xe.push(rt+Bn/2);for(var ai=V.group({class:"apexcharts-datalabels","data:realIndex":Ie}),ci=function(rr){var er=O.barHelpers.getStrokeWidth(Nt,rr,Ie),Xr=null,bo={indexes:{i:Nt,j:rr,realIndex:Ie},x:rt,y:Ot,strokeWidth:er,elSeries:on};Xr=O.isHorizontal?O.drawHorizontalBoxPaths(Gt(Gt({},bo),{},{yDivision:he,barHeight:un,zeroW:W})):O.drawVerticalBoxPaths(Gt(Gt({},bo),{},{xDivision:ee,barWidth:Bn,zeroH:Ae})),Ot=Xr.y,rt=Xr.x,rr>0&&xe.push(rt+Bn/2),ce.push(Ot),Xr.pathTo.forEach(function(qr,fo){var Na=!O.isBoxPlot&&O.candlestickOptions.wick.useFillColor?Xr.color[fo]:N.globals.stroke.colors[Nt],Gi=K.fillPath({seriesNumber:Ie,dataPointIndex:rr,color:Xr.color[fo],value:y[Nt][rr]});O.renderSeries({realIndex:Ie,pathFill:Gi,lineFill:Na,j:rr,i:Nt,pathFrom:Xr.pathFrom,pathTo:qr,strokeWidth:er,elSeries:on,x:rt,y:Ot,series:y,barHeight:un,barWidth:Bn,elDataLabelsWrap:ai,visibleSeries:O.visibleI,type:N.config.chart.type})})},vr=0;vr<N.globals.dataPoints;vr++)ci(vr);N.globals.seriesXvalues[Ie]=xe,N.globals.seriesYvalues[Ie]=ce,it.add(on)},Et=0;Et<y.length;Et++)pt(Et);return it}},{key:"drawVerticalBoxPaths",value:function(y){var C=y.indexes,M=y.x;y.y;var O=y.xDivision,N=y.barWidth,V=y.zeroH,q=y.strokeWidth,K=this.w,J=new Wt(this.ctx),it=C.i,pt=C.j,Et=!0,Nt=K.config.plotOptions.candlestick.colors.upward,ee=K.config.plotOptions.candlestick.colors.downward,he="";this.isBoxPlot&&(he=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Ae=this.yRatio[this.yaxisIndex],W=C.realIndex,rt=this.getOHLCValue(W,pt),Ot=V,ce=V;rt.o>rt.c&&(Et=!1);var xe=Math.min(rt.o,rt.c),Ie=Math.max(rt.o,rt.c),on=rt.m;K.globals.isXNumeric&&(M=(K.globals.seriesX[W][pt]-K.globals.minX)/this.xRatio-N/2);var un=M+N*this.visibleI;this.series[it][pt]===void 0||this.series[it][pt]===null?(xe=V,Ie=V):(xe=V-xe/Ae,Ie=V-Ie/Ae,Ot=V-rt.h/Ae,ce=V-rt.l/Ae,on=V-rt.m/Ae);var Bn=J.move(un,V),jn=J.move(un+N/2,xe);return K.globals.previousPaths.length>0&&(jn=this.getPreviousPath(W,pt,!0)),Bn=this.isBoxPlot?[J.move(un,xe)+J.line(un+N/2,xe)+J.line(un+N/2,Ot)+J.line(un+N/4,Ot)+J.line(un+N-N/4,Ot)+J.line(un+N/2,Ot)+J.line(un+N/2,xe)+J.line(un+N,xe)+J.line(un+N,on)+J.line(un,on)+J.line(un,xe+q/2),J.move(un,on)+J.line(un+N,on)+J.line(un+N,Ie)+J.line(un+N/2,Ie)+J.line(un+N/2,ce)+J.line(un+N-N/4,ce)+J.line(un+N/4,ce)+J.line(un+N/2,ce)+J.line(un+N/2,Ie)+J.line(un,Ie)+J.line(un,on)+"z"]:[J.move(un,Ie)+J.line(un+N/2,Ie)+J.line(un+N/2,Ot)+J.line(un+N/2,Ie)+J.line(un+N,Ie)+J.line(un+N,xe)+J.line(un+N/2,xe)+J.line(un+N/2,ce)+J.line(un+N/2,xe)+J.line(un,xe)+J.line(un,Ie-q/2)],jn+=J.move(un,xe),K.globals.isXNumeric||(M+=O),{pathTo:Bn,pathFrom:jn,x:M,y:Ie,barXPosition:un,color:this.isBoxPlot?he:Et?[Nt]:[ee]}}},{key:"drawHorizontalBoxPaths",value:function(y){var C=y.indexes;y.x;var M=y.y,O=y.yDivision,N=y.barHeight,V=y.zeroW,q=y.strokeWidth,K=this.w,J=new Wt(this.ctx),it=C.i,pt=C.j,Et=this.boxOptions.colors.lower;this.isBoxPlot&&(Et=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Nt=this.invertedYRatio,ee=C.realIndex,he=this.getOHLCValue(ee,pt),Ae=V,W=V,rt=Math.min(he.o,he.c),Ot=Math.max(he.o,he.c),ce=he.m;K.globals.isXNumeric&&(M=(K.globals.seriesX[ee][pt]-K.globals.minX)/this.invertedXRatio-N/2);var xe=M+N*this.visibleI;this.series[it][pt]===void 0||this.series[it][pt]===null?(rt=V,Ot=V):(rt=V+rt/Nt,Ot=V+Ot/Nt,Ae=V+he.h/Nt,W=V+he.l/Nt,ce=V+he.m/Nt);var Ie=J.move(V,xe),on=J.move(rt,xe+N/2);return K.globals.previousPaths.length>0&&(on=this.getPreviousPath(ee,pt,!0)),Ie=[J.move(rt,xe)+J.line(rt,xe+N/2)+J.line(Ae,xe+N/2)+J.line(Ae,xe+N/2-N/4)+J.line(Ae,xe+N/2+N/4)+J.line(Ae,xe+N/2)+J.line(rt,xe+N/2)+J.line(rt,xe+N)+J.line(ce,xe+N)+J.line(ce,xe)+J.line(rt+q/2,xe),J.move(ce,xe)+J.line(ce,xe+N)+J.line(Ot,xe+N)+J.line(Ot,xe+N/2)+J.line(W,xe+N/2)+J.line(W,xe+N-N/4)+J.line(W,xe+N/4)+J.line(W,xe+N/2)+J.line(Ot,xe+N/2)+J.line(Ot,xe)+J.line(ce,xe)+"z"],on+=J.move(rt,xe),K.globals.isXNumeric||(M+=O),{pathTo:Ie,pathFrom:on,x:Ot,y:M,barYPosition:xe,color:Et}}},{key:"getOHLCValue",value:function(y,C){var M=this.w;return{o:this.isBoxPlot?M.globals.seriesCandleH[y][C]:M.globals.seriesCandleO[y][C],h:this.isBoxPlot?M.globals.seriesCandleO[y][C]:M.globals.seriesCandleH[y][C],m:M.globals.seriesCandleM[y][C],l:this.isBoxPlot?M.globals.seriesCandleC[y][C]:M.globals.seriesCandleL[y][C],c:this.isBoxPlot?M.globals.seriesCandleL[y][C]:M.globals.seriesCandleC[y][C]}}}]),d}(ln),Hn=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"checkColorRange",value:function(){var h=this.w,d=!1,y=h.config.plotOptions[h.config.chart.type];return y.colorScale.ranges.length>0&&y.colorScale.ranges.map(function(C,M){C.from<=0&&(d=!0)}),d}},{key:"getShadeColor",value:function(h,d,y,C){var M=this.w,O=1,N=M.config.plotOptions[h].shadeIntensity,V=this.determineColor(h,d,y);M.globals.hasNegs||C?O=M.config.plotOptions[h].reverseNegativeShade?V.percent<0?V.percent/100*(1.25*N):(1-V.percent/100)*(1.25*N):V.percent<=0?1-(1+V.percent/100)*N:(1-V.percent/100)*N:(O=1-V.percent/100,h==="treemap"&&(O=(1-V.percent/100)*(1.25*N)));var q=V.color,K=new ct;return M.config.plotOptions[h].enableShades&&(q=this.w.config.theme.mode==="dark"?ct.hexToRgba(K.shadeColor(-1*O,V.color),M.config.fill.opacity):ct.hexToRgba(K.shadeColor(O,V.color),M.config.fill.opacity)),{color:q,colorProps:V}}},{key:"determineColor",value:function(h,d,y){var C=this.w,M=C.globals.series[d][y],O=C.config.plotOptions[h],N=O.colorScale.inverse?y:d;O.distributed&&C.config.chart.type==="treemap"&&(N=y);var V=C.globals.colors[N],q=null,K=Math.min.apply(Math,Pt(C.globals.series[d])),J=Math.max.apply(Math,Pt(C.globals.series[d]));O.distributed||h!=="heatmap"||(K=C.globals.minY,J=C.globals.maxY),O.colorScale.min!==void 0&&(K=O.colorScale.min<C.globals.minY?O.colorScale.min:C.globals.minY,J=O.colorScale.max>C.globals.maxY?O.colorScale.max:C.globals.maxY);var it=Math.abs(J)+Math.abs(K),pt=100*M/(it===0?it-1e-6:it);return O.colorScale.ranges.length>0&&O.colorScale.ranges.map(function(Et,Nt){if(M>=Et.from&&M<=Et.to){V=Et.color,q=Et.foreColor?Et.foreColor:null,K=Et.from,J=Et.to;var ee=Math.abs(J)+Math.abs(K);pt=100*M/(ee===0?ee-1e-6:ee)}}),{color:V,foreColor:q,percent:pt}}},{key:"calculateDataLabels",value:function(h){var d=h.text,y=h.x,C=h.y,M=h.i,O=h.j,N=h.colorProps,V=h.fontSize,q=this.w.config.dataLabels,K=new Wt(this.ctx),J=new en(this.ctx),it=null;if(q.enabled){it=K.group({class:"apexcharts-data-labels"});var pt=q.offsetX,Et=q.offsetY,Nt=y+pt,ee=C+parseFloat(q.style.fontSize)/3+Et;J.plotDataLabelsText({x:Nt,y:ee,text:d,i:M,j:O,color:N.foreColor,parent:it,fontSize:V,dataLabelsConfig:q})}return it}},{key:"addListeners",value:function(h){var d=new Wt(this.ctx);h.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,h)),h.node.addEventListener("mousedown",d.pathMouseDown.bind(this,h))}}]),qt}(),wi=function(){function qt(h,d){Qt(this,qt),this.ctx=h,this.w=h.w,this.xRatio=d.xRatio,this.yRatio=d.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Hn(h),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return $t(qt,[{key:"draw",value:function(h){var d=this.w,y=new Wt(this.ctx),C=y.group({class:"apexcharts-heatmap"});C.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")"));var M=d.globals.gridWidth/d.globals.dataPoints,O=d.globals.gridHeight/d.globals.series.length,N=0,V=!1;this.negRange=this.helpers.checkColorRange();var q=h.slice();d.config.yaxis[0].reversed&&(V=!0,q.reverse());for(var K=V?0:q.length-1;V?K<q.length:K>=0;V?K++:K--){var J=y.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ct.escapeString(d.globals.seriesNames[K]),rel:K+1,"data:realIndex":K});if(this.ctx.series.addCollapsedClassToSeries(J,K),d.config.chart.dropShadow.enabled){var it=d.config.chart.dropShadow;new It(this.ctx).dropShadow(J,it,K)}for(var pt=0,Et=d.config.plotOptions.heatmap.shadeIntensity,Nt=0;Nt<q[K].length;Nt++){var ee=this.helpers.getShadeColor(d.config.chart.type,K,Nt,this.negRange),he=ee.color,Ae=ee.colorProps;d.config.fill.type==="image"&&(he=new ht(this.ctx).fillPath({seriesNumber:K,dataPointIndex:Nt,opacity:d.globals.hasNegs?Ae.percent<0?1-(1+Ae.percent/100):Et+Ae.percent/100:Ae.percent/100,patternID:ct.randomId(),width:d.config.fill.image.width?d.config.fill.image.width:M,height:d.config.fill.image.height?d.config.fill.image.height:O}));var W=this.rectRadius,rt=y.drawRect(pt,N,M,O,W);if(rt.attr({cx:pt,cy:N}),rt.node.classList.add("apexcharts-heatmap-rect"),J.add(rt),rt.attr({fill:he,i:K,index:K,j:Nt,val:q[K][Nt],"stroke-width":this.strokeWidth,stroke:d.config.plotOptions.heatmap.useFillColorAsStroke?he:d.globals.stroke.colors[0],color:he}),this.helpers.addListeners(rt),d.config.chart.animations.enabled&&!d.globals.dataChanged){var Ot=1;d.globals.resized||(Ot=d.config.chart.animations.speed),this.animateHeatMap(rt,pt,N,M,O,Ot)}if(d.globals.dataChanged){var ce=1;if(this.dynamicAnim.enabled&&d.globals.shouldAnimate){ce=this.dynamicAnim.speed;var xe=d.globals.previousPaths[K]&&d.globals.previousPaths[K][Nt]&&d.globals.previousPaths[K][Nt].color;xe||(xe="rgba(255, 255, 255, 0)"),this.animateHeatColor(rt,ct.isColorHex(xe)?xe:ct.rgb2hex(xe),ct.isColorHex(he)?he:ct.rgb2hex(he),ce)}}var Ie=(0,d.config.dataLabels.formatter)(d.globals.series[K][Nt],{value:d.globals.series[K][Nt],seriesIndex:K,dataPointIndex:Nt,w:d}),on=this.helpers.calculateDataLabels({text:Ie,x:pt+M/2,y:N+O/2,i:K,j:Nt,colorProps:Ae,series:q});on!==null&&J.add(on),pt+=M}N+=O,C.add(J)}var un=d.globals.yAxisScale[0].result.slice();d.config.yaxis[0].reversed?un.unshift(""):un.push(""),d.globals.yAxisScale[0].result=un;var Bn=d.globals.gridHeight/d.globals.series.length;return d.config.yaxis[0].labels.offsetY=-Bn/2,C}},{key:"animateHeatMap",value:function(h,d,y,C,M,O){var N=new ie(this.ctx);N.animateRect(h,{x:d+C/2,y:y+M/2,width:0,height:0},{x:d,y,width:C,height:M},O,function(){N.animationCompleted(h)})}},{key:"animateHeatColor",value:function(h,d,y,C){h.attr({fill:d}).animate(C).attr({fill:y})}}]),qt}(),Dn=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"drawYAxisTexts",value:function(h,d,y,C){var M=this.w,O=M.config.yaxis[0],N=M.globals.yLabelFormatters[0];return new Wt(this.ctx).drawText({x:h+O.labels.offsetX,y:d+O.labels.offsetY,text:N(C,y),textAnchor:"middle",fontSize:O.labels.style.fontSize,fontFamily:O.labels.style.fontFamily,foreColor:Array.isArray(O.labels.style.colors)?O.labels.style.colors[y]:O.labels.style.colors})}}]),qt}(),Hi=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w;var d=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=d.globals.stroke.colors!==void 0?d.globals.stroke.colors:d.globals.colors,this.defaultSize=Math.min(d.globals.gridWidth,d.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=d.globals.gridWidth/2,d.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(d.config.plotOptions.pie.endAngle-d.config.plotOptions.pie.startAngle),this.initialAngle=d.config.plotOptions.pie.startAngle%this.fullAngle,d.globals.radialSize=this.defaultSize/2.05-d.config.stroke.width-(d.config.chart.sparkline.enabled?0:d.config.chart.dropShadow.blur),this.donutSize=d.globals.radialSize*parseInt(d.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return $t(qt,[{key:"draw",value:function(h){var d=this,y=this.w,C=new Wt(this.ctx);if(this.ret=C.group({class:"apexcharts-pie"}),y.globals.noData)return this.ret;for(var M=0,O=0;O<h.length;O++)M+=ct.negToZero(h[O]);var N=[],V=C.group();M===0&&(M=1e-5),h.forEach(function(xe){d.maxY=Math.max(d.maxY,xe)}),y.config.yaxis[0].max&&(this.maxY=y.config.yaxis[0].max),y.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var q=0;q<h.length;q++){var K=this.fullAngle*ct.negToZero(h[q])/M;N.push(K),this.chartType==="polarArea"?(N[q]=this.fullAngle/h.length,this.sliceSizes.push(y.globals.radialSize*h[q]/this.maxY)):this.sliceSizes.push(y.globals.radialSize)}if(y.globals.dataChanged){for(var J,it=0,pt=0;pt<y.globals.previousPaths.length;pt++)it+=ct.negToZero(y.globals.previousPaths[pt]);for(var Et=0;Et<y.globals.previousPaths.length;Et++)J=this.fullAngle*ct.negToZero(y.globals.previousPaths[Et])/it,this.prevSectorAngleArr.push(J)}this.donutSize<0&&(this.donutSize=0);var Nt=y.config.plotOptions.pie.customScale,ee=y.globals.gridWidth/2,he=y.globals.gridHeight/2,Ae=ee-y.globals.gridWidth/2*Nt,W=he-y.globals.gridHeight/2*Nt;if(this.chartType==="donut"){var rt=C.drawCircle(this.donutSize);rt.attr({cx:this.centerX,cy:this.centerY,fill:y.config.plotOptions.pie.donut.background?y.config.plotOptions.pie.donut.background:"transparent"}),V.add(rt)}var Ot=this.drawArcs(N,h);if(this.sliceLabels.forEach(function(xe){Ot.add(xe)}),V.attr({transform:"translate(".concat(Ae,", ").concat(W,") scale(").concat(Nt,")")}),V.add(Ot),this.ret.add(V),this.donutDataLabels.show){var ce=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Ae,translateY:W});this.ret.add(ce)}return y.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(h,d){var y=this.w,C=new It(this.ctx),M=new Wt(this.ctx),O=new ht(this.ctx),N=M.group({class:"apexcharts-slices"}),V=this.initialAngle,q=this.initialAngle,K=this.initialAngle,J=this.initialAngle;this.strokeWidth=y.config.stroke.show?y.config.stroke.width:0;for(var it=0;it<h.length;it++){var pt=M.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ct.escapeString(y.globals.seriesNames[it]),rel:it+1,"data:realIndex":it});N.add(pt),q=J,K=(V=K)+h[it],J=q+this.prevSectorAngleArr[it];var Et=K<V?this.fullAngle+K-V:K-V,Nt=O.fillPath({seriesNumber:it,size:this.sliceSizes[it],value:d[it]}),ee=this.getChangedPath(q,J),he=M.drawPath({d:ee,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[it]:this.lineColorArr,strokeWidth:0,fill:Nt,fillOpacity:y.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(it)});if(he.attr({index:0,j:it}),C.setSelectionFilter(he,0,it),y.config.chart.dropShadow.enabled){var Ae=y.config.chart.dropShadow;C.dropShadow(he,Ae,it)}this.addListeners(he,this.donutDataLabels),Wt.setAttrs(he.node,{"data:angle":Et,"data:startAngle":V,"data:strokeWidth":this.strokeWidth,"data:value":d[it]});var W={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?W=ct.polarToCartesian(this.centerX,this.centerY,y.globals.radialSize/1.25+y.config.plotOptions.pie.dataLabels.offset,(V+Et/2)%this.fullAngle):this.chartType==="donut"&&(W=ct.polarToCartesian(this.centerX,this.centerY,(y.globals.radialSize+this.donutSize)/2+y.config.plotOptions.pie.dataLabels.offset,(V+Et/2)%this.fullAngle)),pt.add(he);var rt=0;if(!this.initialAnim||y.globals.resized||y.globals.dataChanged?this.animBeginArr.push(0):((rt=Et/this.fullAngle*y.config.chart.animations.speed)===0&&(rt=1),this.animDur=rt+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&y.globals.dataChanged?this.animatePaths(he,{size:this.sliceSizes[it],endAngle:K,startAngle:V,prevStartAngle:q,prevEndAngle:J,animateStartingPos:!0,i:it,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:y.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(he,{size:this.sliceSizes[it],endAngle:K,startAngle:V,i:it,totalItems:h.length-1,animBeginArr:this.animBeginArr,dur:rt}),y.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&he.click(this.pieClicked.bind(this,it)),y.globals.selectedDataPoints[0]!==void 0&&y.globals.selectedDataPoints[0].indexOf(it)>-1&&this.pieClicked(it),y.config.dataLabels.enabled){var Ot=W.x,ce=W.y,xe=100*Et/this.fullAngle+"%";if(Et!==0&&y.config.plotOptions.pie.dataLabels.minAngleToShowLabel<h[it]){var Ie=y.config.dataLabels.formatter;Ie!==void 0&&(xe=Ie(y.globals.seriesPercent[it][0],{seriesIndex:it,w:y}));var on=y.globals.dataLabels.style.colors[it],un=M.group({class:"apexcharts-datalabels"}),Bn=M.drawText({x:Ot,y:ce,text:xe,textAnchor:"middle",fontSize:y.config.dataLabels.style.fontSize,fontFamily:y.config.dataLabels.style.fontFamily,fontWeight:y.config.dataLabels.style.fontWeight,foreColor:on});if(un.add(Bn),y.config.dataLabels.dropShadow.enabled){var jn=y.config.dataLabels.dropShadow;C.dropShadow(Bn,jn)}Bn.node.classList.add("apexcharts-pie-label"),y.config.chart.animations.animate&&y.globals.resized===!1&&(Bn.node.classList.add("apexcharts-pie-label-delay"),Bn.node.style.animationDelay=y.config.chart.animations.speed/940+"s"),this.sliceLabels.push(un)}}}return N}},{key:"addListeners",value:function(h,d){var y=new Wt(this.ctx);h.node.addEventListener("mouseenter",y.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",y.pathMouseLeave.bind(this,h)),h.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,h.node,d)),h.node.addEventListener("mousedown",y.pathMouseDown.bind(this,h)),this.donutDataLabels.total.showAlways||(h.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,h.node,d)),h.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,h.node,d)))}},{key:"animatePaths",value:function(h,d){var y=this.w,C=d.endAngle<d.startAngle?this.fullAngle+d.endAngle-d.startAngle:d.endAngle-d.startAngle,M=C,O=d.startAngle,N=d.startAngle;d.prevStartAngle!==void 0&&d.prevEndAngle!==void 0&&(O=d.prevEndAngle,M=d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle),d.i===y.config.series.length-1&&(C+N>this.fullAngle?d.endAngle=d.endAngle-(C+N):C+N<this.fullAngle&&(d.endAngle=d.endAngle+(this.fullAngle-(C+N)))),C===this.fullAngle&&(C=this.fullAngle-.01),this.animateArc(h,O,N,C,M,d)}},{key:"animateArc",value:function(h,d,y,C,M,O){var N,V=this,q=this.w,K=new ie(this.ctx),J=O.size;(isNaN(d)||isNaN(M))&&(d=y,M=C,O.dur=0);var it=C,pt=y,Et=d<y?this.fullAngle+d-y:d-y;q.globals.dataChanged&&O.shouldSetPrevPaths&&O.prevEndAngle&&(N=V.getPiePath({me:V,startAngle:O.prevStartAngle,angle:O.prevEndAngle<O.prevStartAngle?this.fullAngle+O.prevEndAngle-O.prevStartAngle:O.prevEndAngle-O.prevStartAngle,size:J}),h.attr({d:N})),O.dur!==0?h.animate(O.dur,q.globals.easing,O.animBeginArr[O.i]).afterAll(function(){V.chartType!=="pie"&&V.chartType!=="donut"&&V.chartType!=="polarArea"||this.animate(q.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":V.strokeWidth}),O.i===q.config.series.length-1&&K.animationCompleted(h)}).during(function(Nt){it=Et+(C-Et)*Nt,O.animateStartingPos&&(it=M+(C-M)*Nt,pt=d-M+(y-(d-M))*Nt),N=V.getPiePath({me:V,startAngle:pt,angle:it,size:J}),h.node.setAttribute("data:pathOrig",N),h.attr({d:N})}):(N=V.getPiePath({me:V,startAngle:pt,angle:C,size:J}),O.isTrack||(q.globals.animationEnded=!0),h.node.setAttribute("data:pathOrig",N),h.attr({d:N,"stroke-width":V.strokeWidth}))}},{key:"pieClicked",value:function(h){var d,y=this.w,C=this,M=C.sliceSizes[h]+(y.config.plotOptions.pie.expandOnClick?4:0),O=y.globals.dom.Paper.select(".apexcharts-".concat(C.chartType.toLowerCase(),"-slice-").concat(h)).members[0];if(O.attr("data:pieClicked")!=="true"){var N=y.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(N,function(J){J.setAttribute("data:pieClicked","false");var it=J.getAttribute("data:pathOrig");it&&J.setAttribute("d",it)}),O.attr("data:pieClicked","true");var V=parseInt(O.attr("data:startAngle"),10),q=parseInt(O.attr("data:angle"),10);d=C.getPiePath({me:C,startAngle:V,angle:q,size:M}),q!==360&&O.plot(d)}else{O.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(O.node,this.donutDataLabels);var K=O.attr("data:pathOrig");O.attr({d:K})}}},{key:"getChangedPath",value:function(h,d){var y="";return this.dynamicAnim&&this.w.globals.dataChanged&&(y=this.getPiePath({me:this,startAngle:h,angle:d-h,size:this.size})),y}},{key:"getPiePath",value:function(h){var d=h.me,y=h.startAngle,C=h.angle,M=h.size,O=y,N=Math.PI*(O-90)/180,V=C+y;Math.ceil(V)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(V=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(V)>this.fullAngle&&(V-=this.fullAngle);var q=Math.PI*(V-90)/180,K=d.centerX+M*Math.cos(N),J=d.centerY+M*Math.sin(N),it=d.centerX+M*Math.cos(q),pt=d.centerY+M*Math.sin(q),Et=ct.polarToCartesian(d.centerX,d.centerY,d.donutSize,V),Nt=ct.polarToCartesian(d.centerX,d.centerY,d.donutSize,O),ee=C>180?1:0,he=["M",K,J,"A",M,M,0,ee,1,it,pt];return d.chartType==="donut"?[].concat(he,["L",Et.x,Et.y,"A",d.donutSize,d.donutSize,0,ee,0,Nt.x,Nt.y,"L",K,J,"z"]).join(" "):d.chartType==="pie"||d.chartType==="polarArea"?[].concat(he,["L",d.centerX,d.centerY,"L",K,J]).join(" "):[].concat(he).join(" ")}},{key:"drawPolarElements",value:function(h){var d=this.w,y=new Mn(this.ctx),C=new Wt(this.ctx),M=new Dn(this.ctx),O=C.group(),N=C.group(),V=y.niceScale(0,Math.ceil(this.maxY),d.config.yaxis[0].tickAmount,0,!0),q=V.result.reverse(),K=V.result.length;this.maxY=V.niceMax;for(var J=d.globals.radialSize,it=J/(K-1),pt=0;pt<K-1;pt++){var Et=C.drawCircle(J);if(Et.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":d.config.plotOptions.polarArea.rings.strokeWidth,stroke:d.config.plotOptions.polarArea.rings.strokeColor}),d.config.yaxis[0].show){var Nt=M.drawYAxisTexts(this.centerX,this.centerY-J+parseInt(d.config.yaxis[0].labels.style.fontSize,10)/2,pt,q[pt]);N.add(Nt)}O.add(Et),J-=it}this.drawSpokes(h),h.add(O),h.add(N)}},{key:"renderInnerDataLabels",value:function(h,d){var y=this.w,C=new Wt(this.ctx),M=C.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(d.translateX?d.translateX:0,", ").concat(d.translateY?d.translateY:0,") scale(").concat(y.config.plotOptions.pie.customScale,")")}),O=h.total.show;M.node.style.opacity=d.opacity;var N,V,q=d.centerX,K=d.centerY;N=h.name.color===void 0?y.globals.colors[0]:h.name.color;var J=h.name.fontSize,it=h.name.fontFamily,pt=h.name.fontWeight;V=h.value.color===void 0?y.config.chart.foreColor:h.value.color;var Et=h.value.formatter,Nt="",ee="";if(O?(N=h.total.color,J=h.total.fontSize,it=h.total.fontFamily,pt=h.total.fontWeight,ee=h.total.label,Nt=h.total.formatter(y)):y.globals.series.length===1&&(Nt=Et(y.globals.series[0],y),ee=y.globals.seriesNames[0]),ee&&(ee=h.name.formatter(ee,h.total.show,y)),h.name.show){var he=C.drawText({x:q,y:K+parseFloat(h.name.offsetY),text:ee,textAnchor:"middle",foreColor:N,fontSize:J,fontWeight:pt,fontFamily:it});he.node.classList.add("apexcharts-datalabel-label"),M.add(he)}if(h.value.show){var Ae=h.name.show?parseFloat(h.value.offsetY)+16:h.value.offsetY,W=C.drawText({x:q,y:K+Ae,text:Nt,textAnchor:"middle",foreColor:V,fontWeight:h.value.fontWeight,fontSize:h.value.fontSize,fontFamily:h.value.fontFamily});W.node.classList.add("apexcharts-datalabel-value"),M.add(W)}return M}},{key:"printInnerLabels",value:function(h,d,y,C){var M,O=this.w;C?M=h.name.color===void 0?O.globals.colors[parseInt(C.parentNode.getAttribute("rel"),10)-1]:h.name.color:O.globals.series.length>1&&h.total.show&&(M=h.total.color);var N=O.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),V=O.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");y=(0,h.value.formatter)(y,O),C||typeof h.total.formatter!="function"||(y=h.total.formatter(O));var q=d===h.total.label;d=h.name.formatter(d,q,O),N!==null&&(N.textContent=d),V!==null&&(V.textContent=y),N!==null&&(N.style.fill=M)}},{key:"printDataLabelsInner",value:function(h,d){var y=this.w,C=h.getAttribute("data:value"),M=y.globals.seriesNames[parseInt(h.parentNode.getAttribute("rel"),10)-1];y.globals.series.length>1&&this.printInnerLabels(d,M,C,h);var O=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");O!==null&&(O.style.opacity=1)}},{key:"drawSpokes",value:function(h){var d=this,y=this.w,C=new Wt(this.ctx),M=y.config.plotOptions.polarArea.spokes;if(M.strokeWidth!==0){for(var O=[],N=360/y.globals.series.length,V=0;V<y.globals.series.length;V++)O.push(ct.polarToCartesian(this.centerX,this.centerY,y.globals.radialSize,y.config.plotOptions.pie.startAngle+N*V));O.forEach(function(q,K){var J=C.drawLine(q.x,q.y,d.centerX,d.centerY,Array.isArray(M.connectorColors)?M.connectorColors[K]:M.connectorColors);h.add(J)})}}},{key:"revertDataLabelsInner",value:function(h,d,y){var C=this,M=this.w,O=M.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),N=!1,V=M.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),q=function(it){var pt=it.makeSliceOut,Et=it.printLabel;Array.prototype.forEach.call(V,function(Nt){Nt.getAttribute("data:pieClicked")==="true"&&(pt&&(N=!0),Et&&C.printDataLabelsInner(Nt,d))})};if(q({makeSliceOut:!0,printLabel:!1}),d.total.show&&M.globals.series.length>1)N&&!d.total.showAlways?q({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(d,d.total.label,d.total.formatter(M));else if(q({makeSliceOut:!1,printLabel:!0}),!N)if(M.globals.selectedDataPoints.length&&M.globals.series.length>1)if(M.globals.selectedDataPoints[0].length>0){var K=M.globals.selectedDataPoints[0],J=M.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(K));this.printDataLabelsInner(J,d)}else O&&M.globals.selectedDataPoints.length&&M.globals.selectedDataPoints[0].length===0&&(O.style.opacity=0);else O&&M.globals.series.length>1&&(O.style.opacity=0)}}]),qt}(),Er=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var d=this.w;this.graphics=new Wt(this.ctx),this.lineColorArr=d.globals.stroke.colors!==void 0?d.globals.stroke.colors:d.globals.colors,this.defaultSize=d.globals.svgHeight<d.globals.svgWidth?d.globals.gridHeight+1.5*d.globals.goldenPadding:d.globals.gridWidth,this.isLog=d.config.yaxis[0].logarithmic,this.coreUtils=new te(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(d.globals.maxY,0):d.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):d.globals.minY,this.polygons=d.config.plotOptions.radar.polygons,this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-d.config.chart.dropShadow.blur,d.config.xaxis.labels.show&&(this.size=this.size-d.globals.xAxisLabelsWidth/1.75),d.config.plotOptions.radar.size!==void 0&&(this.size=d.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return $t(qt,[{key:"draw",value:function(h){var d=this,y=this.w,C=new ht(this.ctx),M=[],O=new en(this.ctx);h.length&&(this.dataPointsLen=h[y.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var N=y.globals.gridWidth/2,V=y.globals.gridHeight/2,q=N+y.config.plotOptions.radar.offsetX,K=V+y.config.plotOptions.radar.offsetY,J=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(q||0,", ").concat(K||0,")")}),it=[],pt=null,Et=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),h.forEach(function(ee,he){var Ae=ee.length===y.globals.dataPoints,W=d.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Ae,seriesName:ct.escapeString(y.globals.seriesNames[he]),rel:he+1,"data:realIndex":he});d.dataRadiusOfPercent[he]=[],d.dataRadius[he]=[],d.angleArr[he]=[],ee.forEach(function(ai,ci){var vr=Math.abs(d.maxValue-d.minValue);ai+=Math.abs(d.minValue),d.isLog&&(ai=d.coreUtils.getLogVal(ai,0)),d.dataRadiusOfPercent[he][ci]=ai/vr,d.dataRadius[he][ci]=d.dataRadiusOfPercent[he][ci]*d.size,d.angleArr[he][ci]=ci*d.disAngle}),it=d.getDataPointsPos(d.dataRadius[he],d.angleArr[he]);var rt=d.createPaths(it,{x:0,y:0});pt=d.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Et=d.graphics.group({class:"apexcharts-datalabels","data:realIndex":he}),y.globals.delayedElements.push({el:pt.node,index:he});var Ot={i:he,realIndex:he,animationDelay:he,initialSpeed:y.config.chart.animations.speed,dataChangeSpeed:y.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:y.globals.stroke.colors[he],strokeLineCap:y.config.stroke.lineCap},ce=null;y.globals.previousPaths.length>0&&(ce=d.getPreviousPath(he));for(var xe=0;xe<rt.linePathsTo.length;xe++){var Ie=d.graphics.renderPaths(Gt(Gt({},Ot),{},{pathFrom:ce===null?rt.linePathsFrom[xe]:ce,pathTo:rt.linePathsTo[xe],strokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[he]:d.strokeWidth,fill:"none",drawShadow:!1}));W.add(Ie);var on=C.fillPath({seriesNumber:he}),un=d.graphics.renderPaths(Gt(Gt({},Ot),{},{pathFrom:ce===null?rt.areaPathsFrom[xe]:ce,pathTo:rt.areaPathsTo[xe],strokeWidth:0,fill:on,drawShadow:!1}));if(y.config.chart.dropShadow.enabled){var Bn=new It(d.ctx),jn=y.config.chart.dropShadow;Bn.dropShadow(un,Object.assign({},jn,{noUserSpaceOnUse:!0}),he)}W.add(un)}ee.forEach(function(ai,ci){var vr=new lt(d.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:he,dataPointIndex:ci}),rr=d.graphics.drawMarker(it[ci].x,it[ci].y,vr);rr.attr("rel",ci),rr.attr("j",ci),rr.attr("index",he),rr.node.setAttribute("default-marker-size",vr.pSize);var er=d.graphics.group({class:"apexcharts-series-markers"});er&&er.add(rr),pt.add(er),W.add(pt);var Xr=y.config.dataLabels;if(Xr.enabled){var bo=Xr.formatter(y.globals.series[he][ci],{seriesIndex:he,dataPointIndex:ci,w:y});O.plotDataLabelsText({x:it[ci].x,y:it[ci].y,text:bo,textAnchor:"middle",i:he,j:he,parent:Et,offsetCorrection:!1,dataLabelsConfig:Gt({},Xr)})}W.add(Et)}),M.push(W)}),this.drawPolygons({parent:J}),y.config.xaxis.labels.show){var Nt=this.drawXAxisTexts();J.add(Nt)}return M.forEach(function(ee){J.add(ee)}),J.add(this.yaxisLabels),J}},{key:"drawPolygons",value:function(h){for(var d=this,y=this.w,C=h.parent,M=new Dn(this.ctx),O=y.globals.yAxisScale[0].result.reverse(),N=O.length,V=[],q=this.size/(N-1),K=0;K<N;K++)V[K]=q*K;V.reverse();var J=[],it=[];V.forEach(function(pt,Et){var Nt=ct.getPolygonPos(pt,d.dataPointsLen),ee="";Nt.forEach(function(he,Ae){if(Et===0){var W=d.graphics.drawLine(he.x,he.y,0,0,Array.isArray(d.polygons.connectorColors)?d.polygons.connectorColors[Ae]:d.polygons.connectorColors);it.push(W)}Ae===0&&d.yaxisLabelsTextsPos.push({x:he.x,y:he.y}),ee+=he.x+","+he.y+" "}),J.push(ee)}),J.forEach(function(pt,Et){var Nt=d.polygons.strokeColors,ee=d.polygons.strokeWidth,he=d.graphics.drawPolygon(pt,Array.isArray(Nt)?Nt[Et]:Nt,Array.isArray(ee)?ee[Et]:ee,y.globals.radarPolygons.fill.colors[Et]);C.add(he)}),it.forEach(function(pt){C.add(pt)}),y.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(pt,Et){var Nt=M.drawYAxisTexts(pt.x,pt.y,Et,O[Et]);d.yaxisLabels.add(Nt)})}},{key:"drawXAxisTexts",value:function(){var h=this,d=this.w,y=d.config.xaxis.labels,C=this.graphics.group({class:"apexcharts-xaxis"}),M=ct.getPolygonPos(this.size,this.dataPointsLen);return d.globals.labels.forEach(function(O,N){var V=d.config.xaxis.labels.formatter,q=new en(h.ctx);if(M[N]){var K=h.getTextPos(M[N],h.size),J=V(O,{seriesIndex:-1,dataPointIndex:N,w:d});q.plotDataLabelsText({x:K.newX,y:K.newY,text:J,textAnchor:K.textAnchor,i:N,j:N,parent:C,color:Array.isArray(y.style.colors)&&y.style.colors[N]?y.style.colors[N]:"#a8a8a8",dataLabelsConfig:Gt({textAnchor:K.textAnchor,dropShadow:{enabled:!1}},y),offsetCorrection:!1})}}),C}},{key:"createPaths",value:function(h,d){var y=this,C=[],M=[],O=[],N=[];if(h.length){M=[this.graphics.move(d.x,d.y)],N=[this.graphics.move(d.x,d.y)];var V=this.graphics.move(h[0].x,h[0].y),q=this.graphics.move(h[0].x,h[0].y);h.forEach(function(K,J){V+=y.graphics.line(K.x,K.y),q+=y.graphics.line(K.x,K.y),J===h.length-1&&(V+="Z",q+="Z")}),C.push(V),O.push(q)}return{linePathsFrom:M,linePathsTo:C,areaPathsFrom:N,areaPathsTo:O}}},{key:"getTextPos",value:function(h,d){var y="middle",C=h.x,M=h.y;return Math.abs(h.x)>=10?h.x>0?(y="start",C+=10):h.x<0&&(y="end",C-=10):y="middle",Math.abs(h.y)>=d-10&&(h.y<0?M-=10:h.y>0&&(M+=10)),{textAnchor:y,newX:C,newY:M}}},{key:"getPreviousPath",value:function(h){for(var d=this.w,y=null,C=0;C<d.globals.previousPaths.length;C++){var M=d.globals.previousPaths[C];M.paths.length>0&&parseInt(M.realIndex,10)===parseInt(h,10)&&d.globals.previousPaths[C].paths[0]!==void 0&&(y=d.globals.previousPaths[C].paths[0].d)}return y}},{key:"getDataPointsPos",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;h=h||[],d=d||[];for(var C=[],M=0;M<y;M++){var O={};O.x=h[M]*Math.sin(d[M]),O.y=-h[M]*Math.cos(d[M]),C.push(O)}return C}}]),qt}(),Or=function(qt){Jt(d,qt);var h=_t(d);function d(y){var C;Qt(this,d),(C=h.call(this,y)).ctx=y,C.w=y.w,C.animBeginArr=[0],C.animDur=0;var M=C.w;return C.startAngle=M.config.plotOptions.radialBar.startAngle,C.endAngle=M.config.plotOptions.radialBar.endAngle,C.totalAngle=Math.abs(M.config.plotOptions.radialBar.endAngle-M.config.plotOptions.radialBar.startAngle),C.trackStartAngle=M.config.plotOptions.radialBar.track.startAngle,C.trackEndAngle=M.config.plotOptions.radialBar.track.endAngle,C.donutDataLabels=C.w.config.plotOptions.radialBar.dataLabels,C.radialDataLabels=C.donutDataLabels,C.trackStartAngle||(C.trackStartAngle=C.startAngle),C.trackEndAngle||(C.trackEndAngle=C.endAngle),C.endAngle===360&&(C.endAngle=359.99),C.margin=parseInt(M.config.plotOptions.radialBar.track.margin,10),C}return $t(d,[{key:"draw",value:function(y){var C=this.w,M=new Wt(this.ctx),O=M.group({class:"apexcharts-radialbar"});if(C.globals.noData)return O;var N=M.group(),V=this.defaultSize/2,q=C.globals.gridWidth/2,K=this.defaultSize/2.05;C.config.chart.sparkline.enabled||(K=K-C.config.stroke.width-C.config.chart.dropShadow.blur);var J=C.globals.fill.colors;if(C.config.plotOptions.radialBar.track.show){var it=this.drawTracks({size:K,centerX:q,centerY:V,colorArr:J,series:y});N.add(it)}var pt=this.drawArcs({size:K,centerX:q,centerY:V,colorArr:J,series:y}),Et=360;C.config.plotOptions.radialBar.startAngle<0&&(Et=this.totalAngle);var Nt=(360-Et)/360;if(C.globals.radialSize=K-K*Nt,this.radialDataLabels.value.show){var ee=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);C.globals.radialSize+=ee*Nt}return N.add(pt.g),C.config.plotOptions.radialBar.hollow.position==="front"&&(pt.g.add(pt.elHollow),pt.dataLabels&&pt.g.add(pt.dataLabels)),O.add(N),O}},{key:"drawTracks",value:function(y){var C=this.w,M=new Wt(this.ctx),O=M.group({class:"apexcharts-tracks"}),N=new It(this.ctx),V=new ht(this.ctx),q=this.getStrokeWidth(y);y.size=y.size-q/2;for(var K=0;K<y.series.length;K++){var J=M.group({class:"apexcharts-radialbar-track apexcharts-track"});O.add(J),J.attr({rel:K+1}),y.size=y.size-q-this.margin;var it=C.config.plotOptions.radialBar.track,pt=V.fillPath({seriesNumber:0,size:y.size,fillColors:Array.isArray(it.background)?it.background[K]:it.background,solid:!0}),Et=this.trackStartAngle,Nt=this.trackEndAngle;Math.abs(Nt)+Math.abs(Et)>=360&&(Nt=360-Math.abs(this.startAngle)-.1);var ee=M.drawPath({d:"",stroke:pt,strokeWidth:q*parseInt(it.strokeWidth,10)/100,fill:"none",strokeOpacity:it.opacity,classes:"apexcharts-radialbar-area"});if(it.dropShadow.enabled){var he=it.dropShadow;N.dropShadow(ee,he)}J.add(ee),ee.attr("id","apexcharts-radialbarTrack-"+K),this.animatePaths(ee,{centerX:y.centerX,centerY:y.centerY,endAngle:Nt,startAngle:Et,size:y.size,i:K,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:C.globals.easing})}return O}},{key:"drawArcs",value:function(y){var C=this.w,M=new Wt(this.ctx),O=new ht(this.ctx),N=new It(this.ctx),V=M.group(),q=this.getStrokeWidth(y);y.size=y.size-q/2;var K=C.config.plotOptions.radialBar.hollow.background,J=y.size-q*y.series.length-this.margin*y.series.length-q*parseInt(C.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,it=J-C.config.plotOptions.radialBar.hollow.margin;C.config.plotOptions.radialBar.hollow.image!==void 0&&(K=this.drawHollowImage(y,V,J,K));var pt=this.drawHollow({size:it,centerX:y.centerX,centerY:y.centerY,fill:K||"transparent"});if(C.config.plotOptions.radialBar.hollow.dropShadow.enabled){var Et=C.config.plotOptions.radialBar.hollow.dropShadow;N.dropShadow(pt,Et)}var Nt=1;!this.radialDataLabels.total.show&&C.globals.series.length>1&&(Nt=0);var ee=null;this.radialDataLabels.show&&(ee=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:J,centerX:y.centerX,centerY:y.centerY,opacity:Nt})),C.config.plotOptions.radialBar.hollow.position==="back"&&(V.add(pt),ee&&V.add(ee));var he=!1;C.config.plotOptions.radialBar.inverseOrder&&(he=!0);for(var Ae=he?y.series.length-1:0;he?Ae>=0:Ae<y.series.length;he?Ae--:Ae++){var W=M.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ct.escapeString(C.globals.seriesNames[Ae])});V.add(W),W.attr({rel:Ae+1,"data:realIndex":Ae}),this.ctx.series.addCollapsedClassToSeries(W,Ae),y.size=y.size-q-this.margin;var rt=O.fillPath({seriesNumber:Ae,size:y.size,value:y.series[Ae]}),Ot=this.startAngle,ce=void 0,xe=ct.negToZero(y.series[Ae]>100?100:y.series[Ae])/100,Ie=Math.round(this.totalAngle*xe)+this.startAngle,on=void 0;C.globals.dataChanged&&(ce=this.startAngle,on=Math.round(this.totalAngle*ct.negToZero(C.globals.previousPaths[Ae])/100)+ce),Math.abs(Ie)+Math.abs(Ot)>=360&&(Ie-=.01),Math.abs(on)+Math.abs(ce)>=360&&(on-=.01);var un=Ie-Ot,Bn=Array.isArray(C.config.stroke.dashArray)?C.config.stroke.dashArray[Ae]:C.config.stroke.dashArray,jn=M.drawPath({d:"",stroke:rt,strokeWidth:q,fill:"none",fillOpacity:C.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Ae,strokeDashArray:Bn});if(Wt.setAttrs(jn.node,{"data:angle":un,"data:value":y.series[Ae]}),C.config.chart.dropShadow.enabled){var ai=C.config.chart.dropShadow;N.dropShadow(jn,ai,Ae)}N.setSelectionFilter(jn,0,Ae),this.addListeners(jn,this.radialDataLabels),W.add(jn),jn.attr({index:0,j:Ae});var ci=0;!this.initialAnim||C.globals.resized||C.globals.dataChanged||(ci=C.config.chart.animations.speed),C.globals.dataChanged&&(ci=C.config.chart.animations.dynamicAnimation.speed),this.animDur=ci/(1.2*y.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(jn,{centerX:y.centerX,centerY:y.centerY,endAngle:Ie,startAngle:Ot,prevEndAngle:on,prevStartAngle:ce,size:y.size,i:Ae,totalItems:2,animBeginArr:this.animBeginArr,dur:ci,shouldSetPrevPaths:!0,easing:C.globals.easing})}return{g:V,elHollow:pt,dataLabels:ee}}},{key:"drawHollow",value:function(y){var C=new Wt(this.ctx).drawCircle(2*y.size);return C.attr({class:"apexcharts-radialbar-hollow",cx:y.centerX,cy:y.centerY,r:y.size,fill:y.fill}),C}},{key:"drawHollowImage",value:function(y,C,M,O){var N=this.w,V=new ht(this.ctx),q=ct.randomId(),K=N.config.plotOptions.radialBar.hollow.image;if(N.config.plotOptions.radialBar.hollow.imageClipped)V.clippedImgArea({width:M,height:M,image:K,patternID:"pattern".concat(N.globals.cuid).concat(q)}),O="url(#pattern".concat(N.globals.cuid).concat(q,")");else{var J=N.config.plotOptions.radialBar.hollow.imageWidth,it=N.config.plotOptions.radialBar.hollow.imageHeight;if(J===void 0&&it===void 0){var pt=N.globals.dom.Paper.image(K).loaded(function(Nt){this.move(y.centerX-Nt.width/2+N.config.plotOptions.radialBar.hollow.imageOffsetX,y.centerY-Nt.height/2+N.config.plotOptions.radialBar.hollow.imageOffsetY)});C.add(pt)}else{var Et=N.globals.dom.Paper.image(K).loaded(function(Nt){this.move(y.centerX-J/2+N.config.plotOptions.radialBar.hollow.imageOffsetX,y.centerY-it/2+N.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(J,it)});C.add(Et)}}return O}},{key:"getStrokeWidth",value:function(y){var C=this.w;return y.size*(100-parseInt(C.config.plotOptions.radialBar.hollow.size,10))/100/(y.series.length+1)-this.margin}}]),d}(Hi),Cr=function(qt){Jt(d,qt);var h=_t(d);function d(){return Qt(this,d),h.apply(this,arguments)}return $t(d,[{key:"draw",value:function(y,C){var M=this.w,O=new Wt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=y,this.seriesRangeStart=M.globals.seriesRangeStart,this.seriesRangeEnd=M.globals.seriesRangeEnd,this.barHelpers.initVariables(y);for(var N=O.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),V=0;V<y.length;V++){var q,K,J,it=void 0,pt=void 0,Et=void 0,Nt=M.globals.comboCharts?C[V]:V,ee=O.group({class:"apexcharts-series",seriesName:ct.escapeString(M.globals.seriesNames[Nt]),rel:V+1,"data:realIndex":Nt});this.ctx.series.addCollapsedClassToSeries(ee,Nt),y[V].length>0&&(this.visibleI=this.visibleI+1);var he=0,Ae=0;this.yRatio.length>1&&(this.yaxisIndex=Nt);var W=this.barHelpers.initialPositions();pt=W.y,J=W.zeroW,it=W.x,Ae=W.barWidth,q=W.xDivision,K=W.zeroH;for(var rt=O.group({class:"apexcharts-datalabels","data:realIndex":Nt}),Ot=O.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),ce=0;ce<M.globals.dataPoints;ce++){var xe=this.barHelpers.getStrokeWidth(V,ce,Nt),Ie=this.seriesRangeStart[V][ce],on=this.seriesRangeEnd[V][ce],un=null,Bn=null,jn={x:it,y:pt,strokeWidth:xe,elSeries:ee};if(Et=W.yDivision,he=W.barHeight,this.isHorizontal){Bn=pt+he*this.visibleI;var ai=this.seriesLen;M.config.plotOptions.bar.rangeBarGroupRows&&(ai=1);var ci=(Et-he*ai)/2;if(M.config.series[V].data[ce]===void 0)break;if(M.config.series[V].data[ce].x){var vr=this.detectOverlappingBars({i:V,j:ce,barYPosition:Bn,srty:ci,barHeight:he,yDivision:Et,initPositions:W});he=vr.barHeight,Bn=vr.barYPosition}Ae=(un=this.drawRangeBarPaths(Gt({indexes:{i:V,j:ce,realIndex:Nt},barHeight:he,barYPosition:Bn,zeroW:J,yDivision:Et,y1:Ie,y2:on},jn))).barWidth}else he=(un=this.drawRangeColumnPaths(Gt({indexes:{i:V,j:ce,realIndex:Nt},zeroH:K,barWidth:Ae,xDivision:q},jn))).barHeight;var rr=this.barHelpers.drawGoalLine({barXPosition:un.barXPosition,barYPosition:Bn,goalX:un.goalX,goalY:un.goalY,barHeight:he,barWidth:Ae});rr&&Ot.add(rr),pt=un.y,it=un.x;var er=this.barHelpers.getPathFillColor(y,V,ce,Nt),Xr=M.globals.stroke.colors[Nt];this.renderSeries({realIndex:Nt,pathFill:er,lineFill:Xr,j:ce,i:V,x:it,y:pt,y1:Ie,y2:on,pathFrom:un.pathFrom,pathTo:un.pathTo,strokeWidth:xe,elSeries:ee,series:y,barHeight:he,barYPosition:Bn,barWidth:Ae,elDataLabelsWrap:rt,elGoalsMarkers:Ot,visibleSeries:this.visibleI,type:"rangebar"})}N.add(ee)}return N}},{key:"detectOverlappingBars",value:function(y){var C=y.i,M=y.j,O=y.barYPosition,N=y.srty,V=y.barHeight,q=y.yDivision,K=y.initPositions,J=this.w,it=[],pt=J.config.series[C].data[M].rangeName,Et=J.config.series[C].data[M].x,Nt=J.globals.labels.indexOf(Et),ee=J.globals.seriesRange[C].findIndex(function(he){return he.x===Et&&he.overlaps.length>0});return O=J.config.plotOptions.bar.rangeBarGroupRows?N+q*Nt:N+V*this.visibleI+q*Nt,ee>-1&&!J.config.plotOptions.bar.rangeBarOverlap&&(it=J.globals.seriesRange[C][ee].overlaps).indexOf(pt)>-1&&(O=(V=K.barHeight/it.length)*this.visibleI+q*(100-parseInt(this.barOptions.barHeight,10))/100/2+V*(this.visibleI+it.indexOf(pt))+q*Nt),{barYPosition:O,barHeight:V}}},{key:"drawRangeColumnPaths",value:function(y){var C=y.indexes,M=y.x;y.strokeWidth;var O=y.xDivision,N=y.barWidth,V=y.zeroH,q=this.w,K=C.i,J=C.j,it=this.yRatio[this.yaxisIndex],pt=C.realIndex,Et=this.getRangeValue(pt,J),Nt=Math.min(Et.start,Et.end),ee=Math.max(Et.start,Et.end);q.globals.isXNumeric&&(M=(q.globals.seriesX[K][J]-q.globals.minX)/this.xRatio-N/2);var he=M+N*this.visibleI;this.series[K][J]===void 0||this.series[K][J]===null?Nt=V:(Nt=V-Nt/it,ee=V-ee/it);var Ae=Math.abs(ee-Nt),W=this.barHelpers.getColumnPaths({barXPosition:he,barWidth:N,y1:Nt,y2:ee,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:C.realIndex,i:pt,j:J,w:q});return q.globals.isXNumeric||(M+=O),{pathTo:W.pathTo,pathFrom:W.pathFrom,barHeight:Ae,x:M,y:ee,goalY:this.barHelpers.getGoalValues("y",null,V,K,J),barXPosition:he}}},{key:"drawRangeBarPaths",value:function(y){var C=y.indexes,M=y.y,O=y.y1,N=y.y2,V=y.yDivision,q=y.barHeight,K=y.barYPosition,J=y.zeroW,it=this.w,pt=J+O/this.invertedYRatio,Et=J+N/this.invertedYRatio,Nt=Math.abs(Et-pt),ee=this.barHelpers.getBarpaths({barYPosition:K,barHeight:q,x1:pt,x2:Et,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:C.realIndex,realIndex:C.realIndex,j:C.j,w:it});return it.globals.isXNumeric||(M+=V),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,barWidth:Nt,x:Et,goalX:this.barHelpers.getGoalValues("x",J,null,C.realIndex,C.j),y:M}}},{key:"getRangeValue",value:function(y,C){var M=this.w;return{start:M.globals.seriesRangeStart[y][C],end:M.globals.seriesRangeEnd[y][C]}}}]),d}(ln),Ji=function(){function qt(h){Qt(this,qt),this.w=h.w,this.lineCtx=h}return $t(qt,[{key:"sameValueSeriesFix",value:function(h,d){var y=this.w;if((y.config.fill.type==="gradient"||y.config.fill.type[h]==="gradient")&&new te(this.lineCtx.ctx,y).seriesHaveSameValues(h)){var C=d[h].slice();C[C.length-1]=C[C.length-1]+1e-6,d[h]=C}return d}},{key:"calculatePoints",value:function(h){var d=h.series,y=h.realIndex,C=h.x,M=h.y,O=h.i,N=h.j,V=h.prevY,q=this.w,K=[],J=[];if(N===0){var it=this.lineCtx.categoryAxisCorrection+q.config.markers.offsetX;q.globals.isXNumeric&&(it=(q.globals.seriesX[y][0]-q.globals.minX)/this.lineCtx.xRatio+q.config.markers.offsetX),K.push(it),J.push(ct.isNumber(d[O][0])?V+q.config.markers.offsetY:null),K.push(C+q.config.markers.offsetX),J.push(ct.isNumber(d[O][N+1])?M+q.config.markers.offsetY:null)}else K.push(C+q.config.markers.offsetX),J.push(ct.isNumber(d[O][N+1])?M+q.config.markers.offsetY:null);return{x:K,y:J}}},{key:"checkPreviousPaths",value:function(h){for(var d=h.pathFromLine,y=h.pathFromArea,C=h.realIndex,M=this.w,O=0;O<M.globals.previousPaths.length;O++){var N=M.globals.previousPaths[O];(N.type==="line"||N.type==="area")&&N.paths.length>0&&parseInt(N.realIndex,10)===parseInt(C,10)&&(N.type==="line"?(this.lineCtx.appendPathFrom=!1,d=M.globals.previousPaths[O].paths[0].d):N.type==="area"&&(this.lineCtx.appendPathFrom=!1,y=M.globals.previousPaths[O].paths[0].d,M.config.stroke.show&&M.globals.previousPaths[O].paths[1]&&(d=M.globals.previousPaths[O].paths[1].d)))}return{pathFromLine:d,pathFromArea:y}}},{key:"determineFirstPrevY",value:function(h){var d,y=h.i,C=h.series,M=h.prevY,O=h.lineYPosition,N=this.w;if(((d=C[y])===null||d===void 0?void 0:d[0])!==void 0)M=(O=N.config.chart.stacked&&y>0?this.lineCtx.prevSeriesY[y-1][0]:this.lineCtx.zeroY)-C[y][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?C[y][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(N.config.chart.stacked&&y>0&&C[y][0]===void 0){for(var V=y-1;V>=0;V--)if(C[V][0]!==null&&C[V][0]!==void 0){M=O=this.lineCtx.prevSeriesY[V][0];break}}return{prevY:M,lineYPosition:O}}}]),qt}(),Fi=function(){function qt(h,d,y){Qt(this,qt),this.ctx=h,this.w=h.w,this.xyRatios=d,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||y,this.scatter=new an(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ji(this),this.markers=new lt(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return $t(qt,[{key:"draw",value:function(h,d,y,C){var M=this.w,O=new Wt(this.ctx),N=M.globals.comboCharts?d:M.config.chart.type,V=O.group({class:"apexcharts-".concat(N,"-series apexcharts-plot-series")}),q=new te(this.ctx,M);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,h=q.getLogSeries(h),this.yRatio=q.getLogYRatios(this.yRatio);for(var K=[],J=0;J<h.length;J++){h=this.lineHelpers.sameValueSeriesFix(J,h);var it=M.globals.comboCharts?y[J]:J;this._initSerieVariables(h,J,it);var pt=[],Et=[],Nt=M.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,it),M.globals.isXNumeric&&M.globals.seriesX.length>0&&(Nt=(M.globals.seriesX[it][0]-M.globals.minX)/this.xRatio),Et.push(Nt);var ee,he=Nt,Ae=void 0,W=he,rt=this.zeroY,Ot=this.zeroY;rt=this.lineHelpers.determineFirstPrevY({i:J,series:h,prevY:rt,lineYPosition:0}).prevY,pt.push(rt),ee=rt,N==="rangeArea"&&(Ae=Ot=this.lineHelpers.determineFirstPrevY({i:J,series:C,prevY:Ot,lineYPosition:0}).prevY);var ce={type:N,series:h,realIndex:it,i:J,x:Nt,y:1,pX:he,pY:ee,pathsFrom:this._calculatePathsFrom({type:N,series:h,i:J,realIndex:it,prevX:W,prevY:rt,prevY2:Ot}),linePaths:[],areaPaths:[],seriesIndex:y,lineYPosition:0,xArrj:Et,yArrj:pt,seriesRangeEnd:C},xe=this._iterateOverDataPoints(Gt(Gt({},ce),{},{iterations:N==="rangeArea"?h[J].length-1:void 0,isRangeStart:!0}));if(N==="rangeArea"){var Ie=this._calculatePathsFrom({series:C,i:J,realIndex:it,prevX:W,prevY:Ot}),on=this._iterateOverDataPoints(Gt(Gt({},ce),{},{series:C,pY:Ae,pathsFrom:Ie,iterations:C[J].length-1,isRangeStart:!1}));xe.linePaths[0]=on.linePath+xe.linePath,xe.pathFromLine=on.pathFromLine+xe.pathFromLine}this._handlePaths({type:N,realIndex:it,i:J,paths:xe}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),K.push(this.elSeries)}if(M.config.chart.stacked)for(var un=K.length;un>0;un--)V.add(K[un-1]);else for(var Bn=0;Bn<K.length;Bn++)V.add(K[Bn]);return V}},{key:"_initSerieVariables",value:function(h,d,y){var C=this.w,M=new Wt(this.ctx);this.xDivision=C.globals.gridWidth/(C.globals.dataPoints-(C.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(C.config.stroke.width)?C.config.stroke.width[y]:C.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=y),this.isReversed=C.config.yaxis[this.yaxisIndex]&&C.config.yaxis[this.yaxisIndex].reversed,this.zeroY=C.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?C.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>C.globals.gridHeight||C.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=C.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=M.group({class:"apexcharts-series",seriesName:ct.escapeString(C.globals.seriesNames[y])}),this.elPointsMain=M.group({class:"apexcharts-series-markers-wrap","data:realIndex":y}),this.elDataLabelsWrap=M.group({class:"apexcharts-datalabels","data:realIndex":y});var O=h[d].length===C.globals.dataPoints;this.elSeries.attr({"data:longestSeries":O,rel:d+1,"data:realIndex":y}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(h){var d,y,C,M,O=h.type,N=h.series,V=h.i,q=h.realIndex,K=h.prevX,J=h.prevY,it=h.prevY2,pt=this.w,Et=new Wt(this.ctx);if(N[V][0]===null){for(var Nt=0;Nt<N[V].length;Nt++)if(N[V][Nt]!==null){K=this.xDivision*Nt,J=this.zeroY-N[V][Nt]/this.yRatio[this.yaxisIndex],d=Et.move(K,J),y=Et.move(K,this.areaBottomY);break}}else d=Et.move(K,J),O==="rangeArea"&&(d=Et.move(K,it)+Et.line(K,J)),y=Et.move(K,this.areaBottomY)+Et.line(K,J);if(C=Et.move(-1,this.zeroY)+Et.line(-1,this.zeroY),M=Et.move(-1,this.zeroY)+Et.line(-1,this.zeroY),pt.globals.previousPaths.length>0){var ee=this.lineHelpers.checkPreviousPaths({pathFromLine:C,pathFromArea:M,realIndex:q});C=ee.pathFromLine,M=ee.pathFromArea}return{prevX:K,prevY:J,linePath:d,areaPath:y,pathFromLine:C,pathFromArea:M}}},{key:"_handlePaths",value:function(h){var d=h.type,y=h.realIndex,C=h.i,M=h.paths,O=this.w,N=new Wt(this.ctx),V=new ht(this.ctx);this.prevSeriesY.push(M.yArrj),O.globals.seriesXvalues[y]=M.xArrj,O.globals.seriesYvalues[y]=M.yArrj;var q=O.config.forecastDataPoints;if(q.count>0&&d!=="rangeArea"){var K=O.globals.seriesXvalues[y][O.globals.seriesXvalues[y].length-q.count-1],J=N.drawRect(K,0,O.globals.gridWidth,O.globals.gridHeight,0);O.globals.dom.elForecastMask.appendChild(J.node);var it=N.drawRect(0,0,K,O.globals.gridHeight,0);O.globals.dom.elNonForecastMask.appendChild(it.node)}this.pointsChart||O.globals.delayedElements.push({el:this.elPointsMain.node,index:y});var pt={i:C,realIndex:y,animationDelay:C,initialSpeed:O.config.chart.animations.speed,dataChangeSpeed:O.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(d)};if(d==="area")for(var Et=V.fillPath({seriesNumber:y}),Nt=0;Nt<M.areaPaths.length;Nt++){var ee=N.renderPaths(Gt(Gt({},pt),{},{pathFrom:M.pathFromArea,pathTo:M.areaPaths[Nt],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Et}));this.elSeries.add(ee)}if(O.config.stroke.show&&!this.pointsChart){var he=null;if(d==="line")he=V.fillPath({seriesNumber:y,i:C});else if(O.config.stroke.fill.type==="solid")he=O.globals.stroke.colors[y];else{var Ae=O.config.fill;O.config.fill=O.config.stroke.fill,he=V.fillPath({seriesNumber:y,i:C}),O.config.fill=Ae}for(var W=0;W<M.linePaths.length;W++){var rt=he;d==="rangeArea"&&(rt=V.fillPath({seriesNumber:y}));var Ot=Gt(Gt({},pt),{},{pathFrom:M.pathFromLine,pathTo:M.linePaths[W],stroke:he,strokeWidth:this.strokeWidth,strokeLineCap:O.config.stroke.lineCap,fill:d==="rangeArea"?rt:"none"}),ce=N.renderPaths(Ot);if(this.elSeries.add(ce),ce.attr("fill-rule","evenodd"),q.count>0&&d!=="rangeArea"){var xe=N.renderPaths(Ot);xe.node.setAttribute("stroke-dasharray",q.dashArray),q.strokeWidth&&xe.node.setAttribute("stroke-width",q.strokeWidth),this.elSeries.add(xe),xe.attr("clip-path","url(#forecastMask".concat(O.globals.cuid,")")),ce.attr("clip-path","url(#nonForecastMask".concat(O.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(h){var d=h.type,y=h.series,C=h.iterations,M=h.realIndex,O=h.i,N=h.x,V=h.y,q=h.pX,K=h.pY,J=h.pathsFrom,it=h.linePaths,pt=h.areaPaths,Et=h.seriesIndex,Nt=h.lineYPosition,ee=h.xArrj,he=h.yArrj,Ae=h.isRangeStart,W=h.seriesRangeEnd,rt=this.w,Ot=new Wt(this.ctx),ce=this.yRatio,xe=J.prevY,Ie=J.linePath,on=J.areaPath,un=J.pathFromLine,Bn=J.pathFromArea,jn=ct.isNumber(rt.globals.minYArr[M])?rt.globals.minYArr[M]:rt.globals.minY;C||(C=rt.globals.dataPoints>1?rt.globals.dataPoints-1:rt.globals.dataPoints);for(var ai=V,ci=0;ci<C;ci++){var vr=y[O][ci+1]===void 0||y[O][ci+1]===null;if(rt.globals.isXNumeric){var rr=rt.globals.seriesX[M][ci+1];rt.globals.seriesX[M][ci+1]===void 0&&(rr=rt.globals.seriesX[M][C-1]),N=(rr-rt.globals.minX)/this.xRatio}else N+=this.xDivision;rt.config.chart.stacked?O>0&&rt.globals.collapsedSeries.length<rt.config.series.length-1?Nt=this.prevSeriesY[function(bo){for(var qr=bo,fo=0;fo<rt.globals.series.length;fo++)if(rt.globals.collapsedSeriesIndices.indexOf(bo)>-1){qr--;break}return qr>=0?qr:0}(O-1)][ci+1]:Nt=this.zeroY:Nt=this.zeroY,vr?V=Nt-jn/ce[this.yaxisIndex]+2*(this.isReversed?jn/ce[this.yaxisIndex]:0):(V=Nt-y[O][ci+1]/ce[this.yaxisIndex]+2*(this.isReversed?y[O][ci+1]/ce[this.yaxisIndex]:0),d==="rangeArea"&&(ai=Nt-W[O][ci+1]/ce[this.yaxisIndex]+2*(this.isReversed?W[O][ci+1]/ce[this.yaxisIndex]:0))),ee.push(N),he.push(V);var er=this.lineHelpers.calculatePoints({series:y,x:N,y:V,realIndex:M,i:O,j:ci,prevY:xe}),Xr=this._createPaths({type:d,series:y,i:O,realIndex:M,j:ci,x:N,y:V,y2:ai,pX:q,pY:K,linePath:Ie,areaPath:on,linePaths:it,areaPaths:pt,seriesIndex:Et,isRangeStart:Ae});pt=Xr.areaPaths,it=Xr.linePaths,q=Xr.pX,K=Xr.pY,on=Xr.areaPath,Ie=Xr.linePath,this.appendPathFrom&&(un+=Ot.line(N,this.zeroY),Bn+=Ot.line(N,this.zeroY)),this.handleNullDataPoints(y,er,O,ci,M),this._handleMarkersAndLabels({type:d,pointsPos:er,i:O,j:ci,realIndex:M,isRangeStart:Ae})}return{yArrj:he,xArrj:ee,pathFromArea:Bn,areaPaths:pt,pathFromLine:un,linePaths:it,linePath:Ie,areaPath:on}}},{key:"_handleMarkersAndLabels",value:function(h){var d=h.type,y=h.pointsPos,C=h.isRangeStart,M=h.i,O=h.j,N=h.realIndex,V=this.w,q=new en(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,O,{realIndex:N,pointsPos:y,zRatio:this.zRatio,elParent:this.elPointsMain});else{V.globals.series[M].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var K=this.markers.plotChartMarkers(y,N,O+1);K!==null&&this.elPointsMain.add(K)}var J=q.drawDataLabel({type:d,isRangeStart:C,pos:y,i:N,j:O+1});J!==null&&this.elDataLabelsWrap.add(J)}},{key:"_createPaths",value:function(h){var d=h.type,y=h.series,C=h.i,M=h.realIndex,O=h.j,N=h.x,V=h.y,q=h.y2,K=h.pX,J=h.pY,it=h.linePath,pt=h.areaPath,Et=h.linePaths,Nt=h.areaPaths,ee=h.seriesIndex,he=h.isRangeStart,Ae=this.w,W=new Wt(this.ctx),rt=Ae.config.stroke.curve,Ot=this.areaBottomY;if(Array.isArray(Ae.config.stroke.curve)&&(rt=Array.isArray(ee)?Ae.config.stroke.curve[ee[C]]:Ae.config.stroke.curve[C]),rt==="smooth"){var ce=.35*(N-K);Ae.globals.hasNullValues?(y[C][O]!==null&&(y[C][O+1]!==null?(it=W.move(K,J)+W.curve(K+ce,J,N-ce,V,N+1,V),pt=W.move(K+1,J)+W.curve(K+ce,J,N-ce,V,N+1,V)+W.line(N,Ot)+W.line(K,Ot)+"z"):(it=W.move(K,J),pt=W.move(K,J)+"z")),Et.push(it),Nt.push(pt)):(it+=W.curve(K+ce,J,N-ce,V,N,V),pt+=W.curve(K+ce,J,N-ce,V,N,V)),K=N,J=V,O===y[C].length-2&&(pt=pt+W.curve(K,J,N,V,N,Ot)+W.move(N,V)+"z",d==="rangeArea"&&he?it=it+W.curve(K,J,N,V,N,q)+W.move(N,q)+"z":Ae.globals.hasNullValues||(Et.push(it),Nt.push(pt)))}else{if(y[C][O+1]===null){it+=W.move(N,V);var xe=Ae.globals.isXNumeric?(Ae.globals.seriesX[M][O]-Ae.globals.minX)/this.xRatio:N-this.xDivision;pt=pt+W.line(xe,Ot)+W.move(N,V)+"z"}y[C][O]===null&&(it+=W.move(N,V),pt+=W.move(N,Ot)),rt==="stepline"?(it=it+W.line(N,null,"H")+W.line(null,V,"V"),pt=pt+W.line(N,null,"H")+W.line(null,V,"V")):rt==="straight"&&(it+=W.line(N,V),pt+=W.line(N,V)),O===y[C].length-2&&(pt=pt+W.line(N,Ot)+W.move(N,V)+"z",d==="rangeArea"&&he?it=it+W.line(N,q)+W.move(N,q)+"z":(Et.push(it),Nt.push(pt)))}return{linePaths:Et,areaPaths:Nt,pX:K,pY:J,linePath:it,areaPath:pt}}},{key:"handleNullDataPoints",value:function(h,d,y,C,M){var O=this.w;if(h[y][C]===null&&O.config.markers.showNullDataPoints||h[y].length===1){var N=this.markers.plotChartMarkers(d,M,C+1,this.strokeWidth-O.config.markers.strokeWidth/2,!0);N!==null&&this.elPointsMain.add(N)}}}]),qt}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function qt(N,V,q,K){this.xoffset=N,this.yoffset=V,this.height=K,this.width=q,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(J){var it,pt=[],Et=this.xoffset,Nt=this.yoffset,ee=M(J)/this.height,he=M(J)/this.width;if(this.width>=this.height)for(it=0;it<J.length;it++)pt.push([Et,Nt,Et+ee,Nt+J[it]/ee]),Nt+=J[it]/ee;else for(it=0;it<J.length;it++)pt.push([Et,Nt,Et+J[it]/he,Nt+he]),Et+=J[it]/he;return pt},this.cutArea=function(J){var it;if(this.width>=this.height){var pt=J/this.height,Et=this.width-pt;it=new qt(this.xoffset+pt,this.yoffset,Et,this.height)}else{var Nt=J/this.width,ee=this.height-Nt;it=new qt(this.xoffset,this.yoffset+Nt,this.width,ee)}return it}}function h(N,V,q,K,J){K=K===void 0?0:K,J=J===void 0?0:J;var it=d(function(pt,Et){var Nt,ee=[],he=Et/M(pt);for(Nt=0;Nt<pt.length;Nt++)ee[Nt]=pt[Nt]*he;return ee}(N,V*q),[],new qt(K,J,V,q),[]);return function(pt){var Et,Nt,ee=[];for(Et=0;Et<pt.length;Et++)for(Nt=0;Nt<pt[Et].length;Nt++)ee.push(pt[Et][Nt]);return ee}(it)}function d(N,V,q,K){var J,it,pt;if(N.length!==0)return J=q.shortestEdge(),function(Et,Nt,ee){var he;if(Et.length===0)return!0;(he=Et.slice()).push(Nt);var Ae=y(Et,ee),W=y(he,ee);return Ae>=W}(V,it=N[0],J)?(V.push(it),d(N.slice(1),V,q,K)):(pt=q.cutArea(M(V),K),K.push(q.getCoordinates(V)),d(N,[],pt,K)),K;K.push(q.getCoordinates(V))}function y(N,V){var q=Math.min.apply(Math,N),K=Math.max.apply(Math,N),J=M(N);return Math.max(Math.pow(V,2)*K/Math.pow(J,2),Math.pow(J,2)/(Math.pow(V,2)*q))}function C(N){return N&&N.constructor===Array}function M(N){var V,q=0;for(V=0;V<N.length;V++)q+=N[V];return q}function O(N){var V,q=0;if(C(N[0]))for(V=0;V<N.length;V++)q+=O(N[V]);else q=M(N);return q}return function N(V,q,K,J,it){J=J===void 0?0:J,it=it===void 0?0:it;var pt,Et,Nt=[],ee=[];if(C(V[0])){for(Et=0;Et<V.length;Et++)Nt[Et]=O(V[Et]);for(pt=h(Nt,q,K,J,it),Et=0;Et<V.length;Et++)ee.push(N(V[Et],pt[Et][2]-pt[Et][0],pt[Et][3]-pt[Et][1],pt[Et][0],pt[Et][1]))}else ee=h(V,q,K,J,it);return ee}}();var jr,Tr,Yi=function(){function qt(h,d){Qt(this,qt),this.ctx=h,this.w=h.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Hn(h),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return $t(qt,[{key:"draw",value:function(h){var d=this,y=this.w,C=new Wt(this.ctx),M=new ht(this.ctx),O=C.group({class:"apexcharts-treemap"});if(y.globals.noData)return O;var N=[];return h.forEach(function(V){var q=V.map(function(K){return Math.abs(K)});N.push(q)}),this.negRange=this.helpers.checkColorRange(),y.config.series.forEach(function(V,q){V.data.forEach(function(K){Array.isArray(d.labels[q])||(d.labels[q]=[]),d.labels[q].push(K.x)})}),window.TreemapSquared.generate(N,y.globals.gridWidth,y.globals.gridHeight).forEach(function(V,q){var K=C.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ct.escapeString(y.globals.seriesNames[q]),rel:q+1,"data:realIndex":q});if(y.config.chart.dropShadow.enabled){var J=y.config.chart.dropShadow;new It(d.ctx).dropShadow(O,J,q)}var it=C.group({class:"apexcharts-data-labels"});V.forEach(function(pt,Et){var Nt=pt[0],ee=pt[1],he=pt[2],Ae=pt[3],W=C.drawRect(Nt,ee,he-Nt,Ae-ee,0,"#fff",1,d.strokeWidth,y.config.plotOptions.treemap.useFillColorAsStroke?Ot:y.globals.stroke.colors[q]);W.attr({cx:Nt,cy:ee,index:q,i:q,j:Et,width:he-Nt,height:Ae-ee});var rt=d.helpers.getShadeColor(y.config.chart.type,q,Et,d.negRange),Ot=rt.color;y.config.series[q].data[Et]!==void 0&&y.config.series[q].data[Et].fillColor&&(Ot=y.config.series[q].data[Et].fillColor);var ce=M.fillPath({color:Ot,seriesNumber:q,dataPointIndex:Et});W.node.classList.add("apexcharts-treemap-rect"),W.attr({fill:ce}),d.helpers.addListeners(W);var xe={x:Nt+(he-Nt)/2,y:ee+(Ae-ee)/2,width:0,height:0},Ie={x:Nt,y:ee,width:he-Nt,height:Ae-ee};if(y.config.chart.animations.enabled&&!y.globals.dataChanged){var on=1;y.globals.resized||(on=y.config.chart.animations.speed),d.animateTreemap(W,xe,Ie,on)}if(y.globals.dataChanged){var un=1;d.dynamicAnim.enabled&&y.globals.shouldAnimate&&(un=d.dynamicAnim.speed,y.globals.previousPaths[q]&&y.globals.previousPaths[q][Et]&&y.globals.previousPaths[q][Et].rect&&(xe=y.globals.previousPaths[q][Et].rect),d.animateTreemap(W,xe,Ie,un))}var Bn=d.getFontSize(pt),jn=y.config.dataLabels.formatter(d.labels[q][Et],{value:y.globals.series[q][Et],seriesIndex:q,dataPointIndex:Et,w:y}),ai=d.helpers.calculateDataLabels({text:jn,x:(Nt+he)/2,y:(ee+Ae)/2+d.strokeWidth/2+Bn/3,i:q,j:Et,colorProps:rt,fontSize:Bn,series:h});y.config.dataLabels.enabled&&ai&&d.rotateToFitLabel(ai,Bn,jn,Nt,ee,he,Ae),K.add(W),ai!==null&&K.add(ai)}),K.add(it),O.add(K)}),O}},{key:"getFontSize",value:function(h){var d=this.w,y,C,M,O,N=function V(q){var K,J=0;if(Array.isArray(q[0]))for(K=0;K<q.length;K++)J+=V(q[K]);else for(K=0;K<q.length;K++)J+=q[K].length;return J}(this.labels)/function V(q){var K,J=0;if(Array.isArray(q[0]))for(K=0;K<q.length;K++)J+=V(q[K]);else for(K=0;K<q.length;K++)J+=1;return J}(this.labels);return y=h[2]-h[0],C=h[3]-h[1],M=y*C,O=Math.pow(M,.5),Math.min(O/N,parseInt(d.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(h,d,y,C,M,O,N){var V=new Wt(this.ctx),q=V.getTextRects(y,d);if(q.width+this.w.config.stroke.width+5>O-C&&q.width<=N-M){var K=V.rotateAroundCenter(h.node);h.node.setAttribute("transform","rotate(-90 ".concat(K.x," ").concat(K.y,")"))}}},{key:"animateTreemap",value:function(h,d,y,C){var M=new ie(this.ctx);M.animateRect(h,{x:d.x,y:d.y,width:d.width,height:d.height},{x:y.x,y:y.y,width:y.width,height:y.height},C,function(){M.animationCompleted(h)})}}]),qt}(),gi=86400,ii=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return $t(qt,[{key:"calculateTimeScaleTicks",value:function(h,d){var y=this,C=this.w;if(C.globals.allSeriesCollapsed)return C.globals.labels=[],C.globals.timescaleLabels=[],[];var M=new De(this.ctx),O=(d-h)/864e5;this.determineInterval(O),C.globals.disableZoomIn=!1,C.globals.disableZoomOut=!1,O<.00011574074074074075?C.globals.disableZoomIn=!0:O>5e4&&(C.globals.disableZoomOut=!0);var N=M.getTimeUnitsfromTimestamp(h,d,this.utc),V=C.globals.gridWidth/O,q=V/24,K=q/60,J=K/60,it=Math.floor(24*O),pt=Math.floor(1440*O),Et=Math.floor(O*gi),Nt=Math.floor(O),ee=Math.floor(O/30),he=Math.floor(O/365),Ae={minMillisecond:N.minMillisecond,minSecond:N.minSecond,minMinute:N.minMinute,minHour:N.minHour,minDate:N.minDate,minMonth:N.minMonth,minYear:N.minYear},W={firstVal:Ae,currentMillisecond:Ae.minMillisecond,currentSecond:Ae.minSecond,currentMinute:Ae.minMinute,currentHour:Ae.minHour,currentMonthDate:Ae.minDate,currentDate:Ae.minDate,currentMonth:Ae.minMonth,currentYear:Ae.minYear,daysWidthOnXAxis:V,hoursWidthOnXAxis:q,minutesWidthOnXAxis:K,secondsWidthOnXAxis:J,numberOfSeconds:Et,numberOfMinutes:pt,numberOfHours:it,numberOfDays:Nt,numberOfMonths:ee,numberOfYears:he};switch(this.tickInterval){case"years":this.generateYearScale(W);break;case"months":case"half_year":this.generateMonthScale(W);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(W);break;case"hours":this.generateHourScale(W);break;case"minutes_fives":case"minutes":this.generateMinuteScale(W);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(W)}var rt=this.timeScaleArray.map(function(Ot){var ce={position:Ot.position,unit:Ot.unit,year:Ot.year,day:Ot.day?Ot.day:1,hour:Ot.hour?Ot.hour:0,month:Ot.month+1};return Ot.unit==="month"?Gt(Gt({},ce),{},{day:1,value:Ot.value+1}):Ot.unit==="day"||Ot.unit==="hour"?Gt(Gt({},ce),{},{value:Ot.value}):Ot.unit==="minute"?Gt(Gt({},ce),{},{value:Ot.value,minute:Ot.value}):Ot.unit==="second"?Gt(Gt({},ce),{},{value:Ot.value,minute:Ot.minute,second:Ot.second}):Ot});return rt.filter(function(Ot){var ce=1,xe=Math.ceil(C.globals.gridWidth/120),Ie=Ot.value;C.config.xaxis.tickAmount!==void 0&&(xe=C.config.xaxis.tickAmount),rt.length>xe&&(ce=Math.floor(rt.length/xe));var on=!1,un=!1;switch(y.tickInterval){case"years":Ot.unit==="year"&&(on=!0);break;case"half_year":ce=7,Ot.unit==="year"&&(on=!0);break;case"months":ce=1,Ot.unit==="year"&&(on=!0);break;case"months_fortnight":ce=15,Ot.unit!=="year"&&Ot.unit!=="month"||(on=!0),Ie===30&&(un=!0);break;case"months_days":ce=10,Ot.unit==="month"&&(on=!0),Ie===30&&(un=!0);break;case"week_days":ce=8,Ot.unit==="month"&&(on=!0);break;case"days":ce=1,Ot.unit==="month"&&(on=!0);break;case"hours":Ot.unit==="day"&&(on=!0);break;case"minutes_fives":case"seconds_fives":Ie%5!=0&&(un=!0);break;case"seconds_tens":Ie%10!=0&&(un=!0)}if(y.tickInterval==="hours"||y.tickInterval==="minutes_fives"||y.tickInterval==="seconds_tens"||y.tickInterval==="seconds_fives"){if(!un)return!0}else if((Ie%ce==0||on)&&!un)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(h,d){var y=this.w,C=this.formatDates(h),M=this.removeOverlappingTS(C);y.globals.timescaleLabels=M.slice(),new Kr(this.ctx).plotCoords()}},{key:"determineInterval",value:function(h){var d=24*h,y=60*d;switch(!0){case h/365>5:this.tickInterval="years";break;case h>800:this.tickInterval="half_year";break;case h>180:this.tickInterval="months";break;case h>90:this.tickInterval="months_fortnight";break;case h>60:this.tickInterval="months_days";break;case h>30:this.tickInterval="week_days";break;case h>2:this.tickInterval="days";break;case d>2.4:this.tickInterval="hours";break;case y>15:this.tickInterval="minutes_fives";break;case y>5:this.tickInterval="minutes";break;case y>1:this.tickInterval="seconds_tens";break;case 60*y>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(h){var d=h.firstVal,y=h.currentMonth,C=h.currentYear,M=h.daysWidthOnXAxis,O=h.numberOfYears,N=d.minYear,V=0,q=new De(this.ctx),K="year";if(d.minDate>1||d.minMonth>0){var J=q.determineRemainingDaysOfYear(d.minYear,d.minMonth,d.minDate);V=(q.determineDaysOfYear(d.minYear)-J+1)*M,N=d.minYear+1,this.timeScaleArray.push({position:V,value:N,unit:K,year:N,month:ct.monthMod(y+1)})}else d.minDate===1&&d.minMonth===0&&this.timeScaleArray.push({position:V,value:N,unit:K,year:C,month:ct.monthMod(y+1)});for(var it=N,pt=V,Et=0;Et<O;Et++)it++,pt=q.determineDaysOfYear(it-1)*M+pt,this.timeScaleArray.push({position:pt,value:it,unit:K,year:it,month:1})}},{key:"generateMonthScale",value:function(h){var d=h.firstVal,y=h.currentMonthDate,C=h.currentMonth,M=h.currentYear,O=h.daysWidthOnXAxis,N=h.numberOfMonths,V=C,q=0,K=new De(this.ctx),J="month",it=0;if(d.minDate>1){q=(K.determineDaysOfMonths(C+1,d.minYear)-y+1)*O,V=ct.monthMod(C+1);var pt=M+it,Et=ct.monthMod(V),Nt=V;V===0&&(J="year",Nt=pt,Et=1,pt+=it+=1),this.timeScaleArray.push({position:q,value:Nt,unit:J,year:pt,month:Et})}else this.timeScaleArray.push({position:q,value:V,unit:J,year:M,month:ct.monthMod(C)});for(var ee=V+1,he=q,Ae=0,W=1;Ae<N;Ae++,W++){(ee=ct.monthMod(ee))===0?(J="year",it+=1):J="month";var rt=this._getYear(M,ee,it);he=K.determineDaysOfMonths(ee,rt)*O+he;var Ot=ee===0?rt:ee;this.timeScaleArray.push({position:he,value:Ot,unit:J,year:rt,month:ee===0?1:ee}),ee++}}},{key:"generateDayScale",value:function(h){var d=h.firstVal,y=h.currentMonth,C=h.currentYear,M=h.hoursWidthOnXAxis,O=h.numberOfDays,N=new De(this.ctx),V="day",q=d.minDate+1,K=q,J=function(W,rt,Ot){return W>N.determineDaysOfMonths(rt+1,Ot)&&(K=1,V="month",pt=rt+=1),rt},it=(24-d.minHour)*M,pt=q,Et=J(K,y,C);d.minHour===0&&d.minDate===1?(it=0,pt=ct.monthMod(d.minMonth),V="month",K=d.minDate,O++):d.minDate!==1&&d.minHour===0&&d.minMinute===0&&(it=0,q=d.minDate,pt=q,Et=J(K=q,y,C)),this.timeScaleArray.push({position:it,value:pt,unit:V,year:this._getYear(C,Et,0),month:ct.monthMod(Et),day:K});for(var Nt=it,ee=0;ee<O;ee++){V="day",Et=J(K+=1,Et,this._getYear(C,Et,0));var he=this._getYear(C,Et,0);Nt=24*M+Nt;var Ae=K===1?ct.monthMod(Et):K;this.timeScaleArray.push({position:Nt,value:Ae,unit:V,year:he,month:ct.monthMod(Et),day:Ae})}}},{key:"generateHourScale",value:function(h){var d=h.firstVal,y=h.currentDate,C=h.currentMonth,M=h.currentYear,O=h.minutesWidthOnXAxis,N=h.numberOfHours,V=new De(this.ctx),q="hour",K=function(ce,xe){return ce>V.determineDaysOfMonths(xe+1,M)&&(ee=1,xe+=1),{month:xe,date:ee}},J=function(ce,xe){return ce>V.determineDaysOfMonths(xe+1,M)?xe+=1:xe},it=60-(d.minMinute+d.minSecond/60),pt=it*O,Et=d.minHour+1,Nt=Et+1;it===60&&(pt=0,Nt=(Et=d.minHour)+1);var ee=y,he=J(ee,C);this.timeScaleArray.push({position:pt,value:Et,unit:q,day:ee,hour:Nt,year:M,month:ct.monthMod(he)});for(var Ae=pt,W=0;W<N;W++){q="hour",Nt>=24&&(Nt=0,q="day",he=K(ee+=1,he).month,he=J(ee,he));var rt=this._getYear(M,he,0);Ae=60*O+Ae;var Ot=Nt===0?ee:Nt;this.timeScaleArray.push({position:Ae,value:Ot,unit:q,hour:Nt,day:ee,year:rt,month:ct.monthMod(he)}),Nt++}}},{key:"generateMinuteScale",value:function(h){for(var d=h.currentMillisecond,y=h.currentSecond,C=h.currentMinute,M=h.currentHour,O=h.currentDate,N=h.currentMonth,V=h.currentYear,q=h.minutesWidthOnXAxis,K=h.secondsWidthOnXAxis,J=h.numberOfMinutes,it=C+1,pt=O,Et=N,Nt=V,ee=M,he=(60-y-d/1e3)*K,Ae=0;Ae<J;Ae++)it>=60&&(it=0,(ee+=1)===24&&(ee=0)),this.timeScaleArray.push({position:he,value:it,unit:"minute",hour:ee,minute:it,day:pt,year:this._getYear(Nt,Et,0),month:ct.monthMod(Et)}),he+=q,it++}},{key:"generateSecondScale",value:function(h){for(var d=h.currentMillisecond,y=h.currentSecond,C=h.currentMinute,M=h.currentHour,O=h.currentDate,N=h.currentMonth,V=h.currentYear,q=h.secondsWidthOnXAxis,K=h.numberOfSeconds,J=y+1,it=C,pt=O,Et=N,Nt=V,ee=M,he=(1e3-d)/1e3*q,Ae=0;Ae<K;Ae++)J>=60&&(J=0,++it>=60&&(it=0,++ee===24&&(ee=0))),this.timeScaleArray.push({position:he,value:J,unit:"second",hour:ee,minute:it,second:J,day:pt,year:this._getYear(Nt,Et,0),month:ct.monthMod(Et)}),he+=q,J++}},{key:"createRawDateString",value:function(h,d){var y=h.year;return h.month===0&&(h.month=1),y+="-"+("0"+h.month.toString()).slice(-2),h.unit==="day"?y+=h.unit==="day"?"-"+("0"+d).slice(-2):"-01":y+="-"+("0"+(h.day?h.day:"1")).slice(-2),h.unit==="hour"?y+=h.unit==="hour"?"T"+("0"+d).slice(-2):"T00":y+="T"+("0"+(h.hour?h.hour:"0")).slice(-2),h.unit==="minute"?y+=":"+("0"+d).slice(-2):y+=":"+(h.minute?("0"+h.minute).slice(-2):"00"),h.unit==="second"?y+=":"+("0"+d).slice(-2):y+=":00",this.utc&&(y+=".000Z"),y}},{key:"formatDates",value:function(h){var d=this,y=this.w;return h.map(function(C){var M=C.value.toString(),O=new De(d.ctx),N=d.createRawDateString(C,M),V=O.getDate(O.parseDate(N));if(d.utc||(V=O.getDate(O.parseDateWithTimezone(N))),y.config.xaxis.labels.format===void 0){var q="dd MMM",K=y.config.xaxis.labels.datetimeFormatter;C.unit==="year"&&(q=K.year),C.unit==="month"&&(q=K.month),C.unit==="day"&&(q=K.day),C.unit==="hour"&&(q=K.hour),C.unit==="minute"&&(q=K.minute),C.unit==="second"&&(q=K.second),M=O.formatDate(V,q)}else M=O.formatDate(V,y.config.xaxis.labels.format);return{dateString:N,position:C.position,value:M,unit:C.unit,year:C.year,month:C.month}})}},{key:"removeOverlappingTS",value:function(h){var d,y=this,C=new Wt(this.ctx),M=!1;h.length>0&&h[0].value&&h.every(function(V){return V.value.length===h[0].value.length})&&(M=!0,d=C.getTextRects(h[0].value).width);var O=0,N=h.map(function(V,q){if(q>0&&y.w.config.xaxis.labels.hideOverlappingLabels){var K=M?d:C.getTextRects(h[O].value).width,J=h[O].position;return V.position>J+K+10?(O=q,V):null}return V});return N=N.filter(function(V){return V!==null})}},{key:"_getYear",value:function(h,d,y){return h+Math.floor(d/12)+y}}]),qt}(),Qi=function(){function qt(h,d){Qt(this,qt),this.ctx=d,this.w=d.w,this.el=h}return $t(qt,[{key:"setupElements",value:function(){var h=this.w.globals,d=this.w.config,y=d.chart.type;h.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(y)>-1,h.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(y)>-1,h.isBarHorizontal=(d.chart.type==="bar"||d.chart.type==="rangeBar"||d.chart.type==="boxPlot")&&d.plotOptions.bar.horizontal,h.chartClass=".apexcharts"+h.chartID,h.dom.baseEl=this.el,h.dom.elWrap=document.createElement("div"),Wt.setAttrs(h.dom.elWrap,{id:h.chartClass.substring(1),class:"apexcharts-canvas "+h.chartClass.substring(1)}),this.el.appendChild(h.dom.elWrap),h.dom.Paper=new window.SVG.Doc(h.dom.elWrap),h.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(d.chart.offsetX,", ").concat(d.chart.offsetY,")")}),h.dom.Paper.node.style.background=d.chart.background,this.setSVGDimensions(),h.dom.elLegendForeign=document.createElementNS(h.SVGNS,"foreignObject"),Wt.setAttrs(h.dom.elLegendForeign,{x:0,y:0,width:h.svgWidth,height:h.svgHeight}),h.dom.elLegendWrap=document.createElement("div"),h.dom.elLegendWrap.classList.add("apexcharts-legend"),h.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),h.dom.elLegendForeign.appendChild(h.dom.elLegendWrap),h.dom.Paper.node.appendChild(h.dom.elLegendForeign),h.dom.elGraphical=h.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),h.dom.elDefs=h.dom.Paper.defs(),h.dom.Paper.add(h.dom.elGraphical),h.dom.elGraphical.add(h.dom.elDefs)}},{key:"plotChartType",value:function(h,d){var y=this.w,C=y.config,M=y.globals,O={series:[],i:[]},N={series:[],i:[]},V={series:[],i:[]},q={series:[],i:[]},K={series:[],i:[]},J={series:[],i:[]},it={series:[],i:[]},pt={series:[],i:[]},Et={series:[],seriesRangeEnd:[],i:[]};M.series.map(function(xe,Ie){var on=0;h[Ie].type!==void 0?(h[Ie].type==="column"||h[Ie].type==="bar"?(M.series.length>1&&C.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),K.series.push(xe),K.i.push(Ie),on++,y.globals.columnSeries=K.series):h[Ie].type==="area"?(N.series.push(xe),N.i.push(Ie),on++):h[Ie].type==="line"?(O.series.push(xe),O.i.push(Ie),on++):h[Ie].type==="scatter"?(V.series.push(xe),V.i.push(Ie)):h[Ie].type==="bubble"?(q.series.push(xe),q.i.push(Ie),on++):h[Ie].type==="candlestick"?(J.series.push(xe),J.i.push(Ie),on++):h[Ie].type==="boxPlot"?(it.series.push(xe),it.i.push(Ie),on++):h[Ie].type==="rangeBar"?(pt.series.push(xe),pt.i.push(Ie),on++):h[Ie].type==="rangeArea"?(Et.series.push(M.seriesRangeStart[Ie]),Et.seriesRangeEnd.push(M.seriesRangeEnd[Ie]),Et.i.push(Ie),on++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),on>1&&(M.comboCharts=!0)):(O.series.push(xe),O.i.push(Ie))});var Nt=new Fi(this.ctx,d),ee=new ti(this.ctx,d);this.ctx.pie=new Hi(this.ctx);var he=new Or(this.ctx);this.ctx.rangeBar=new Cr(this.ctx,d);var Ae=new Er(this.ctx),W=[];if(M.comboCharts){if(N.series.length>0&&W.push(Nt.draw(N.series,"area",N.i)),K.series.length>0)if(y.config.chart.stacked){var rt=new Vn(this.ctx,d);W.push(rt.draw(K.series,K.i))}else this.ctx.bar=new ln(this.ctx,d),W.push(this.ctx.bar.draw(K.series,K.i));if(Et.series.length>0&&W.push(Nt.draw(Et.series,"rangeArea",Et.i,Et.seriesRangeEnd)),O.series.length>0&&W.push(Nt.draw(O.series,"line",O.i)),J.series.length>0&&W.push(ee.draw(J.series,"candlestick",J.i)),it.series.length>0&&W.push(ee.draw(it.series,"boxPlot",it.i)),pt.series.length>0&&W.push(this.ctx.rangeBar.draw(pt.series,pt.i)),V.series.length>0){var Ot=new Fi(this.ctx,d,!0);W.push(Ot.draw(V.series,"scatter",V.i))}if(q.series.length>0){var ce=new Fi(this.ctx,d,!0);W.push(ce.draw(q.series,"bubble",q.i))}}else switch(C.chart.type){case"line":W=Nt.draw(M.series,"line");break;case"area":W=Nt.draw(M.series,"area");break;case"bar":C.chart.stacked?W=new Vn(this.ctx,d).draw(M.series):(this.ctx.bar=new ln(this.ctx,d),W=this.ctx.bar.draw(M.series));break;case"candlestick":W=new ti(this.ctx,d).draw(M.series,"candlestick");break;case"boxPlot":W=new ti(this.ctx,d).draw(M.series,"boxPlot");break;case"rangeBar":W=this.ctx.rangeBar.draw(M.series);break;case"rangeArea":W=Nt.draw(M.seriesRangeStart,"rangeArea",void 0,M.seriesRangeEnd);break;case"heatmap":W=new wi(this.ctx,d).draw(M.series);break;case"treemap":W=new Yi(this.ctx,d).draw(M.series);break;case"pie":case"donut":case"polarArea":W=this.ctx.pie.draw(M.series);break;case"radialBar":W=he.draw(M.series);break;case"radar":W=Ae.draw(M.series);break;default:W=Nt.draw(M.series)}return W}},{key:"setSVGDimensions",value:function(){var h=this.w.globals,d=this.w.config;h.svgWidth=d.chart.width,h.svgHeight=d.chart.height;var y=ct.getDimensions(this.el),C=d.chart.width.toString().split(/[0-9]+/g).pop();C==="%"?ct.isNumber(y[0])&&(y[0].width===0&&(y=ct.getDimensions(this.el.parentNode)),h.svgWidth=y[0]*parseInt(d.chart.width,10)/100):C!=="px"&&C!==""||(h.svgWidth=parseInt(d.chart.width,10));var M=d.chart.height.toString().split(/[0-9]+/g).pop();if(h.svgHeight!=="auto"&&h.svgHeight!=="")if(M==="%"){var O=ct.getDimensions(this.el.parentNode);h.svgHeight=O[1]*parseInt(d.chart.height,10)/100}else h.svgHeight=parseInt(d.chart.height,10);else h.axisCharts?h.svgHeight=h.svgWidth/1.61:h.svgHeight=h.svgWidth/1.2;if(h.svgWidth<0&&(h.svgWidth=0),h.svgHeight<0&&(h.svgHeight=0),Wt.setAttrs(h.dom.Paper.node,{width:h.svgWidth,height:h.svgHeight}),M!=="%"){var N=d.chart.sparkline.enabled?0:h.axisCharts?d.chart.parentHeightOffset:0;h.dom.Paper.node.parentNode.parentNode.style.minHeight=h.svgHeight+N+"px"}h.dom.elWrap.style.width=h.svgWidth+"px",h.dom.elWrap.style.height=h.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var h=this.w.globals,d=h.translateY,y={transform:"translate("+h.translateX+", "+d+")"};Wt.setAttrs(h.dom.elGraphical.node,y)}},{key:"resizeNonAxisCharts",value:function(){var h=this.w,d=h.globals,y=0,C=h.config.chart.sparkline.enabled?1:15;C+=h.config.grid.padding.bottom,h.config.legend.position!=="top"&&h.config.legend.position!=="bottom"||!h.config.legend.show||h.config.legend.floating||(y=new At(this.ctx).legendHelpers.getLegendBBox().clwh+10);var M=h.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),O=2.05*h.globals.radialSize;if(M&&!h.config.chart.sparkline.enabled&&h.config.plotOptions.radialBar.startAngle!==0){var N=ct.getBoundingClientRect(M);O=N.bottom;var V=N.bottom-N.top;O=Math.max(2.05*h.globals.radialSize,V)}var q=O+d.translateY+y+C;d.dom.elLegendForeign&&d.dom.elLegendForeign.setAttribute("height",q),h.config.chart.height&&String(h.config.chart.height).indexOf("%")>0||(d.dom.elWrap.style.height=q+"px",Wt.setAttrs(d.dom.Paper.node,{height:q}),d.dom.Paper.node.parentNode.parentNode.style.minHeight=q+"px")}},{key:"coreCalculations",value:function(){new wr(this.ctx).init()}},{key:"resetGlobals",value:function(){var h=this,d=function(){return h.w.config.series.map(function(M){return[]})},y=new jt,C=this.w.globals;y.initGlobalVars(C),C.seriesXvalues=d(),C.seriesYvalues=d()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var h=null,d=this.w;if(d.globals.axisCharts){if(d.config.xaxis.crosshairs.position==="back"&&new wn(this.ctx).drawXCrosshairs(),d.config.yaxis[0].crosshairs.position==="back"&&new wn(this.ctx).drawYCrosshairs(),d.config.xaxis.type==="datetime"&&d.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new ii(this.ctx);var y=[];isFinite(d.globals.minX)&&isFinite(d.globals.maxX)&&!d.globals.isBarHorizontal?y=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minX,d.globals.maxX):d.globals.isBarHorizontal&&(y=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minY,d.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(y)}h=new te(this.ctx).getCalculatedRatios()}return h}},{key:"updateSourceChart",value:function(h){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:h.w.globals.minX,max:h.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var h=this,d=this.w;if(d.config.chart.brush.enabled&&typeof d.config.chart.events.selection!="function"){var y=d.config.chart.brush.targets||[d.config.chart.brush.target];y.forEach(function(C){var M=ApexCharts.getChartByID(C);M.w.globals.brushSource=h.ctx,typeof M.w.config.chart.events.zoomed!="function"&&(M.w.config.chart.events.zoomed=function(){h.updateSourceChart(M)}),typeof M.w.config.chart.events.scrolled!="function"&&(M.w.config.chart.events.scrolled=function(){h.updateSourceChart(M)})}),d.config.chart.events.selection=function(C,M){y.forEach(function(O){var N=ApexCharts.getChartByID(O),V=ct.clone(d.config.yaxis);if(d.config.chart.brush.autoScaleYaxis&&N.w.globals.series.length===1){var q=new Mn(N);V=q.autoScaleY(N,V,M)}var K=N.w.config.yaxis.reduce(function(J,it,pt){return[].concat(Pt(J),[Gt(Gt({},N.w.config.yaxis[pt]),{},{min:V[0].min,max:V[0].max})])},[]);N.ctx.updateHelpers._updateOptions({xaxis:{min:M.xaxis.min,max:M.xaxis.max},yaxis:K},!1,!1,!1,!1)})}}}}]),qt}(),hi=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"_updateOptions",value:function(h){var d=this,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],O=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(N){var V=[d.ctx];M&&(V=d.ctx.getSyncedCharts()),d.ctx.w.globals.isExecCalled&&(V=[d.ctx],d.ctx.w.globals.isExecCalled=!1),V.forEach(function(q,K){var J=q.w;if(J.globals.shouldAnimate=C,y||(J.globals.resized=!0,J.globals.dataChanged=!0,C&&q.series.getPreviousPaths()),h&&Tt(h)==="object"&&(q.config=new gn(h),h=te.extendArrayProps(q.config,h,J),q.w.globals.chartID!==d.ctx.w.globals.chartID&&delete h.series,J.config=ct.extend(J.config,h),O&&(J.globals.lastXAxis=h.xaxis?ct.clone(h.xaxis):[],J.globals.lastYAxis=h.yaxis?ct.clone(h.yaxis):[],J.globals.initialConfig=ct.extend({},J.config),J.globals.initialSeries=ct.clone(J.config.series),h.series))){for(var it=0;it<J.globals.collapsedSeriesIndices.length;it++){var pt=J.config.series[J.globals.collapsedSeriesIndices[it]];J.globals.collapsedSeries[it].data=J.globals.axisCharts?pt.data.slice():pt}for(var Et=0;Et<J.globals.ancillaryCollapsedSeriesIndices.length;Et++){var Nt=J.config.series[J.globals.ancillaryCollapsedSeriesIndices[Et]];J.globals.ancillaryCollapsedSeries[Et].data=J.globals.axisCharts?Nt.data.slice():Nt}q.series.emptyCollapsedSeries(J.config.series)}return q.update(h).then(function(){K===V.length-1&&N(q)})})})}},{key:"_updateSeries",value:function(h,d){var y=this,C=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(M){var O,N=y.w;return N.globals.shouldAnimate=d,N.globals.dataChanged=!0,d&&y.ctx.series.getPreviousPaths(),N.globals.axisCharts?((O=h.map(function(V,q){return y._extendSeries(V,q)})).length===0&&(O=[{data:[]}]),N.config.series=O):N.config.series=h.slice(),C&&(N.globals.initialConfig.series=ct.clone(N.config.series),N.globals.initialSeries=ct.clone(N.config.series)),y.ctx.update().then(function(){M(y.ctx)})})}},{key:"_extendSeries",value:function(h,d){var y=this.w,C=y.config.series[d];return Gt(Gt({},y.config.series[d]),{},{name:h.name?h.name:C&&C.name,color:h.color?h.color:C&&C.color,type:h.type?h.type:C&&C.type,data:h.data?h.data:C&&C.data})}},{key:"toggleDataPointSelection",value:function(h,d){var y=this.w,C=null,M=".apexcharts-series[data\\:realIndex='".concat(h,"']");return y.globals.axisCharts?C=y.globals.dom.Paper.select("".concat(M," path[j='").concat(d,"'], ").concat(M," circle[j='").concat(d,"'], ").concat(M," rect[j='").concat(d,"']")).members[0]:d===void 0&&(C=y.globals.dom.Paper.select("".concat(M," path[j='").concat(h,"']")).members[0],y.config.chart.type!=="pie"&&y.config.chart.type!=="polarArea"&&y.config.chart.type!=="donut"||this.ctx.pie.pieClicked(h)),C?(new Wt(this.ctx).pathMouseDown(C,null),C.node?C.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(h){var d=this.w;if(["min","max"].forEach(function(C){h.xaxis[C]!==void 0&&(d.config.xaxis[C]=h.xaxis[C],d.globals.lastXAxis[C]=h.xaxis[C])}),h.xaxis.categories&&h.xaxis.categories.length&&(d.config.xaxis.categories=h.xaxis.categories),d.config.xaxis.convertedCatToNumeric){var y=new dn(h);h=y.convertCatToNumericXaxis(h,this.ctx)}return h}},{key:"forceYAxisUpdate",value:function(h){return h.chart&&h.chart.stacked&&h.chart.stackType==="100%"&&(Array.isArray(h.yaxis)?h.yaxis.forEach(function(d,y){h.yaxis[y].min=0,h.yaxis[y].max=100}):(h.yaxis.min=0,h.yaxis.max=100)),h}},{key:"revertDefaultAxisMinMax",value:function(h){var d=this,y=this.w,C=y.globals.lastXAxis,M=y.globals.lastYAxis;h&&h.xaxis&&(C=h.xaxis),h&&h.yaxis&&(M=h.yaxis),y.config.xaxis.min=C.min,y.config.xaxis.max=C.max;var O=function(N){M[N]!==void 0&&(y.config.yaxis[N].min=M[N].min,y.config.yaxis[N].max=M[N].max)};y.config.yaxis.map(function(N,V){y.globals.zoomed||M[V]!==void 0?O(V):d.ctx.opts.yaxis[V]!==void 0&&(N.min=d.ctx.opts.yaxis[V].min,N.max=d.ctx.opts.yaxis[V].max)})}}]),qt}();jr=typeof window<"u"?window:void 0,Tr=function(qt,h){var d=(this!==void 0?this:qt).SVG=function(W){if(d.supported)return W=new d.Doc(W),d.parser.draw||d.prepare(),W};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.dev",d.supported=!0,!d.supported)return!1;d.did=1e3,d.eid=function(W){return"Svgjs"+K(W)+d.did++},d.create=function(W){var rt=h.createElementNS(this.ns,W);return rt.setAttribute("id",this.eid(W)),rt},d.extend=function(){var W,rt;rt=(W=[].slice.call(arguments)).pop();for(var Ot=W.length-1;Ot>=0;Ot--)if(W[Ot])for(var ce in rt)W[Ot].prototype[ce]=rt[ce];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(W){var rt=typeof W.create=="function"?W.create:function(){this.constructor.call(this,d.create(W.create))};return W.inherit&&(rt.prototype=new W.inherit),W.extend&&d.extend(rt,W.extend),W.construct&&d.extend(W.parent||d.Container,W.construct),rt},d.adopt=function(W){return W?W.instance?W.instance:((rt=W.nodeName=="svg"?W.parentNode instanceof qt.SVGElement?new d.Nested:new d.Doc:W.nodeName=="linearGradient"?new d.Gradient("linear"):W.nodeName=="radialGradient"?new d.Gradient("radial"):d[K(W.nodeName)]?new d[K(W.nodeName)]:new d.Element(W)).type=W.nodeName,rt.node=W,W.instance=rt,rt instanceof d.Doc&&rt.namespace().defs(),rt.setData(JSON.parse(W.getAttribute("svgjs:data"))||{}),rt):null;var rt},d.prepare=function(){var W=h.getElementsByTagName("body")[0],rt=(W?new d.Doc(W):d.adopt(h.documentElement).nested()).size(2,0);d.parser={body:W||h.documentElement,draw:rt.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:rt.polyline().node,path:rt.path().node,native:d.create("svg")}},d.parser={native:d.create("svg")},h.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(W,rt){for(var Ot=W.length,ce=[],xe=0;xe<Ot;xe++)ce.push(rt(W[xe]));return ce},filter:function(W,rt){for(var Ot=W.length,ce=[],xe=0;xe<Ot;xe++)rt(W[xe])&&ce.push(W[xe]);return ce},filterSVGElements:function(W){return this.filter(W,function(rt){return rt instanceof qt.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(W){var rt,Ot;this.r=0,this.g=0,this.b=0,W&&(typeof W=="string"?d.regex.isRgb.test(W)?(rt=d.regex.rgb.exec(W.replace(d.regex.whitespace,"")),this.r=parseInt(rt[1]),this.g=parseInt(rt[2]),this.b=parseInt(rt[3])):d.regex.isHex.test(W)&&(rt=d.regex.hex.exec((Ot=W).length==4?["#",Ot.substring(1,2),Ot.substring(1,2),Ot.substring(2,3),Ot.substring(2,3),Ot.substring(3,4),Ot.substring(3,4)].join(""):Ot),this.r=parseInt(rt[1],16),this.g=parseInt(rt[2],16),this.b=parseInt(rt[3],16)):Tt(W)==="object"&&(this.r=W.r,this.g=W.g,this.b=W.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+J(this.r)+J(this.g)+J(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(W){return this.destination=new d.Color(W),this},at:function(W){return this.destination?(W=W<0?0:W>1?1:W,new d.Color({r:~~(this.r+(this.destination.r-this.r)*W),g:~~(this.g+(this.destination.g-this.g)*W),b:~~(this.b+(this.destination.b-this.b)*W)})):this}}),d.Color.test=function(W){return W+="",d.regex.isHex.test(W)||d.regex.isRgb.test(W)},d.Color.isRgb=function(W){return W&&typeof W.r=="number"&&typeof W.g=="number"&&typeof W.b=="number"},d.Color.isColor=function(W){return d.Color.isRgb(W)||d.Color.test(W)},d.Array=function(W,rt){(W=(W||[]).valueOf()).length==0&&rt&&(W=rt.valueOf()),this.value=this.parse(W)},d.extend(d.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(W){return W=W.valueOf(),Array.isArray(W)?W:this.split(W)}}),d.PointArray=function(W,rt){d.Array.call(this,W,rt||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray;for(var y={M:function(W,rt,Ot){return rt.x=Ot.x=W[0],rt.y=Ot.y=W[1],["M",rt.x,rt.y]},L:function(W,rt){return rt.x=W[0],rt.y=W[1],["L",W[0],W[1]]},H:function(W,rt){return rt.x=W[0],["H",W[0]]},V:function(W,rt){return rt.y=W[0],["V",W[0]]},C:function(W,rt){return rt.x=W[4],rt.y=W[5],["C",W[0],W[1],W[2],W[3],W[4],W[5]]},Q:function(W,rt){return rt.x=W[2],rt.y=W[3],["Q",W[0],W[1],W[2],W[3]]},Z:function(W,rt,Ot){return rt.x=Ot.x,rt.y=Ot.y,["Z"]}},C="mlhvqtcsaz".split(""),M=0,O=C.length;M<O;++M)y[C[M]]=function(W){return function(rt,Ot,ce){if(W=="H")rt[0]=rt[0]+Ot.x;else if(W=="V")rt[0]=rt[0]+Ot.y;else if(W=="A")rt[5]=rt[5]+Ot.x,rt[6]=rt[6]+Ot.y;else for(var xe=0,Ie=rt.length;xe<Ie;++xe)rt[xe]=rt[xe]+(xe%2?Ot.y:Ot.x);if(y&&typeof y[W]=="function")return y[W](rt,Ot,ce)}}(C[M].toUpperCase());d.PathArray=function(W,rt){d.Array.call(this,W,rt||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return function(W){for(var rt=0,Ot=W.length,ce="";rt<Ot;rt++)ce+=W[rt][0],W[rt][1]!=null&&(ce+=W[rt][1],W[rt][2]!=null&&(ce+=" ",ce+=W[rt][2],W[rt][3]!=null&&(ce+=" ",ce+=W[rt][3],ce+=" ",ce+=W[rt][4],W[rt][5]!=null&&(ce+=" ",ce+=W[rt][5],ce+=" ",ce+=W[rt][6],W[rt][7]!=null&&(ce+=" ",ce+=W[rt][7])))));return ce+" "}(this.value)},move:function(W,rt){var Ot=this.bbox();return Ot.x,Ot.y,this},at:function(W){if(!this.destination)return this;for(var rt=this.value,Ot=this.destination.value,ce=[],xe=new d.PathArray,Ie=0,on=rt.length;Ie<on;Ie++){ce[Ie]=[rt[Ie][0]];for(var un=1,Bn=rt[Ie].length;un<Bn;un++)ce[Ie][un]=rt[Ie][un]+(Ot[Ie][un]-rt[Ie][un])*W;ce[Ie][0]==="A"&&(ce[Ie][4]=+(ce[Ie][4]!=0),ce[Ie][5]=+(ce[Ie][5]!=0))}return xe.value=ce,xe},parse:function(W){if(W instanceof d.PathArray)return W.valueOf();var rt,Ot={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};W=typeof W=="string"?W.replace(d.regex.numbersWithDots,V).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):W.reduce(function(Bn,jn){return[].concat.call(Bn,jn)},[]);var ce=[],xe=new d.Point,Ie=new d.Point,on=0,un=W.length;do d.regex.isPathLetter.test(W[on])?(rt=W[on],++on):rt=="M"?rt="L":rt=="m"&&(rt="l"),ce.push(y[rt].call(null,W.slice(on,on+=Ot[rt.toUpperCase()]).map(parseFloat),xe,Ie));while(un>on);return ce},bbox:function(){return d.parser.draw||d.prepare(),d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(W,rt){this.value=0,this.unit=rt||"",typeof W=="number"?this.value=isNaN(W)?0:isFinite(W)?W:W<0?-34e37:34e37:typeof W=="string"?(rt=W.match(d.regex.numberAndUnit))&&(this.value=parseFloat(rt[1]),rt[5]=="%"?this.value/=100:rt[5]=="s"&&(this.value*=1e3),this.unit=rt[5]):W instanceof d.Number&&(this.value=W.valueOf(),this.unit=W.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(W){return W=new d.Number(W),new d.Number(this+W,this.unit||W.unit)},minus:function(W){return W=new d.Number(W),new d.Number(this-W,this.unit||W.unit)},times:function(W){return W=new d.Number(W),new d.Number(this*W,this.unit||W.unit)},divide:function(W){return W=new d.Number(W),new d.Number(this/W,this.unit||W.unit)},to:function(W){var rt=new d.Number(this);return typeof W=="string"&&(rt.unit=W),rt},morph:function(W){return this.destination=new d.Number(W),W.relative&&(this.destination.value+=this.value),this},at:function(W){return this.destination?new d.Number(this.destination).minus(this).times(W).plus(this):this}}}),d.Element=d.invent({create:function(W){this._stroke=d.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=W)&&(this.type=W.nodeName,this.node.instance=this,this._stroke=W.getAttribute("stroke")||this._stroke)},extend:{x:function(W){return this.attr("x",W)},y:function(W){return this.attr("y",W)},cx:function(W){return W==null?this.x()+this.width()/2:this.x(W-this.width()/2)},cy:function(W){return W==null?this.y()+this.height()/2:this.y(W-this.height()/2)},move:function(W,rt){return this.x(W).y(rt)},center:function(W,rt){return this.cx(W).cy(rt)},width:function(W){return this.attr("width",W)},height:function(W){return this.attr("height",W)},size:function(W,rt){var Ot=it(this,W,rt);return this.width(new d.Number(Ot.width)).height(new d.Number(Ot.height))},clone:function(W){this.writeDataToDom();var rt=Nt(this.node.cloneNode(!0));return W?W.add(rt):this.after(rt),rt},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(W){return this.after(W).remove(),W},addTo:function(W){return W.put(this)},putIn:function(W){return W.add(this)},id:function(W){return this.attr("id",W)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var W=this.attr("class");return W==null?[]:W.trim().split(d.regex.delimiter)},hasClass:function(W){return this.classes().indexOf(W)!=-1},addClass:function(W){if(!this.hasClass(W)){var rt=this.classes();rt.push(W),this.attr("class",rt.join(" "))}return this},removeClass:function(W){return this.hasClass(W)&&this.attr("class",this.classes().filter(function(rt){return rt!=W}).join(" ")),this},toggleClass:function(W){return this.hasClass(W)?this.removeClass(W):this.addClass(W)},reference:function(W){return d.get(this.attr(W))},parent:function(W){var rt=this;if(!rt.node.parentNode)return null;if(rt=d.adopt(rt.node.parentNode),!W)return rt;for(;rt&&rt.node instanceof qt.SVGElement;){if(typeof W=="string"?rt.matches(W):rt instanceof W)return rt;if(!rt.node.parentNode||rt.node.parentNode.nodeName=="#document")return null;rt=d.adopt(rt.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(W){var rt=[],Ot=this;do{if(!(Ot=Ot.parent(W))||!Ot.node)break;rt.push(Ot)}while(Ot.parent);return rt},matches:function(W){return function(rt,Ot){return(rt.matches||rt.matchesSelector||rt.msMatchesSelector||rt.mozMatchesSelector||rt.webkitMatchesSelector||rt.oMatchesSelector).call(rt,Ot)}(this.node,W)},native:function(){return this.node},svg:function(W){var rt=h.createElement("svg");if(!(W&&this instanceof d.Parent))return rt.appendChild(W=h.createElement("svg")),this.writeDataToDom(),W.appendChild(this.node.cloneNode(!0)),rt.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");rt.innerHTML="<svg>"+W.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var Ot=0,ce=rt.firstChild.childNodes.length;Ot<ce;Ot++)this.node.appendChild(rt.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(W){return this.dom=W,this},is:function(W){return function(rt,Ot){return rt instanceof Ot}(this,W)}}}),d.easing={"-":function(W){return W},"<>":function(W){return-Math.cos(W*Math.PI)/2+.5},">":function(W){return Math.sin(W*Math.PI/2)},"<":function(W){return 1-Math.cos(W*Math.PI/2)}},d.morph=function(W){return function(rt,Ot){return new d.MorphObj(rt,Ot).at(W)}},d.Situation=d.invent({create:function(W){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(W.duration).valueOf(),this.delay=new d.Number(W.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=W.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(W){this._target=W,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(W,rt,Ot){Tt(W)==="object"&&(rt=W.ease,Ot=W.delay,W=W.duration);var ce=new d.Situation({duration:W||1e3,delay:Ot||0,ease:d.easing[rt||"-"]||rt});return this.queue(ce),this},target:function(W){return W&&W instanceof d.Element?(this._target=W,this):this._target},timeToAbsPos:function(W){return(W-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(W){return this.situation.duration/this._speed*W+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=qt.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){qt.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(W){return(typeof W=="function"||W instanceof d.Situation)&&this.situations.push(W),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var W,rt=this.situation;if(rt.init)return this;for(var Ot in rt.animations){W=this.target()[Ot](),Array.isArray(W)||(W=[W]),Array.isArray(rt.animations[Ot])||(rt.animations[Ot]=[rt.animations[Ot]]);for(var ce=W.length;ce--;)rt.animations[Ot][ce]instanceof d.Number&&(W[ce]=new d.Number(W[ce])),rt.animations[Ot][ce]=W[ce].morph(rt.animations[Ot][ce])}for(var Ot in rt.attrs)rt.attrs[Ot]=new d.MorphObj(this.target().attr(Ot),rt.attrs[Ot]);for(var Ot in rt.styles)rt.styles[Ot]=new d.MorphObj(this.target().style(Ot),rt.styles[Ot]);return rt.initialTransformation=this.target().matrixify(),rt.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(W,rt){var Ot=this.active;return this.active=!1,rt&&this.clearQueue(),W&&this.situation&&(!Ot&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(W){var rt=this.last();return this.target().on("finished.fx",function Ot(ce){ce.detail.situation==rt&&(W.call(this,rt),this.off("finished.fx",Ot))}),this._callStart()},during:function(W){var rt=this.last(),Ot=function(ce){ce.detail.situation==rt&&W.call(this,ce.detail.pos,d.morph(ce.detail.pos),ce.detail.eased,rt)};return this.target().off("during.fx",Ot).on("during.fx",Ot),this.after(function(){this.off("during.fx",Ot)}),this._callStart()},afterAll:function(W){var rt=function Ot(ce){W.call(this),this.off("allfinished.fx",Ot)};return this.target().off("allfinished.fx",rt).on("allfinished.fx",rt),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(W,rt,Ot){return this.last()[Ot||"animations"][W]=rt,this._callStart()},step:function(W){var rt,Ot,ce;W||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(rt=Math.max(this.absPos,0),Ot=Math.floor(rt),this.situation.loops===!0||Ot<this.situation.loops?(this.pos=rt-Ot,ce=this.situation.loop,this.situation.loop=Ot):(this.absPos=this.situation.loops,this.pos=1,ce=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-ce)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var xe=this.situation.ease(this.pos);for(var Ie in this.situation.once)Ie>this.lastPos&&Ie<=xe&&(this.situation.once[Ie].call(this.target(),this.pos,xe),delete this.situation.once[Ie]);return this.active&&this.target().fire("during",{pos:this.pos,eased:xe,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=xe,this):this},eachAt:function(){var W,rt=this,Ot=this.target(),ce=this.situation;for(var xe in ce.animations)W=[].concat(ce.animations[xe]).map(function(un){return typeof un!="string"&&un.at?un.at(ce.ease(rt.pos),rt.pos):un}),Ot[xe].apply(Ot,W);for(var xe in ce.attrs)W=[xe].concat(ce.attrs[xe]).map(function(Bn){return typeof Bn!="string"&&Bn.at?Bn.at(ce.ease(rt.pos),rt.pos):Bn}),Ot.attr.apply(Ot,W);for(var xe in ce.styles)W=[xe].concat(ce.styles[xe]).map(function(Bn){return typeof Bn!="string"&&Bn.at?Bn.at(ce.ease(rt.pos),rt.pos):Bn}),Ot.style.apply(Ot,W);if(ce.transforms.length){W=ce.initialTransformation,xe=0;for(var Ie=ce.transforms.length;xe<Ie;xe++){var on=ce.transforms[xe];on instanceof d.Matrix?W=on.relative?W.multiply(new d.Matrix().morph(on).at(ce.ease(this.pos))):W.morph(on).at(ce.ease(this.pos)):(on.relative||on.undo(W.extract()),W=W.multiply(on.at(ce.ease(this.pos))))}Ot.matrix(W)}return this},once:function(W,rt,Ot){var ce=this.last();return Ot||(W=ce.ease(W)),ce.once[W]=rt,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:d.Element,construct:{animate:function(W,rt,Ot){return(this.fx||(this.fx=new d.FX(this))).animate(W,rt,Ot)},delay:function(W){return(this.fx||(this.fx=new d.FX(this))).delay(W)},stop:function(W,rt){return this.fx&&this.fx.stop(W,rt),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),d.MorphObj=d.invent({create:function(W,rt){return d.Color.isColor(rt)?new d.Color(W).morph(rt):d.regex.delimiter.test(W)?d.regex.pathLetters.test(W)?new d.PathArray(W).morph(rt):new d.Array(W).morph(rt):d.regex.numberAndUnit.test(rt)?new d.Number(W).morph(rt):(this.value=W,void(this.destination=rt))},extend:{at:function(W,rt){return rt<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(W,rt,Ot){if(Tt(W)==="object")for(var ce in W)this.attr(ce,W[ce]);else this.add(W,rt,"attrs");return this},plot:function(W,rt,Ot,ce){return arguments.length==4?this.plot([W,rt,Ot,ce]):this.add("plot",new(this.target()).morphArray(W))}}),d.Box=d.invent({create:function(W,rt,Ot,ce){if(!(Tt(W)!=="object"||W instanceof d.Element))return d.Box.call(this,W.left!=null?W.left:W.x,W.top!=null?W.top:W.y,W.width,W.height);var xe;arguments.length==4&&(this.x=W,this.y=rt,this.width=Ot,this.height=ce),(xe=this).x==null&&(xe.x=0,xe.y=0,xe.width=0,xe.height=0),xe.w=xe.width,xe.h=xe.height,xe.x2=xe.x+xe.width,xe.y2=xe.y+xe.height,xe.cx=xe.x+xe.width/2,xe.cy=xe.y+xe.height/2}}),d.BBox=d.invent({create:function(W){if(d.Box.apply(this,[].slice.call(arguments)),W instanceof d.Element){var rt;try{if(!h.documentElement.contains){for(var Ot=W.node;Ot.parentNode;)Ot=Ot.parentNode;if(Ot!=h)throw new Error("Element not in the dom")}rt=W.node.getBBox()}catch{if(W instanceof d.Shape){d.parser.draw||d.prepare();var ce=W.clone(d.parser.draw.instance).show();ce&&ce.node&&typeof ce.node.getBBox=="function"&&(rt=ce.node.getBBox()),ce&&typeof ce.remove=="function"&&ce.remove()}else rt={x:W.node.clientLeft,y:W.node.clientTop,width:W.node.clientWidth,height:W.node.clientHeight}}d.Box.call(this,rt)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.Matrix=d.invent({create:function(W){var rt=Et([1,0,0,1,0,0]);W=W===null?rt:W instanceof d.Element?W.matrixify():typeof W=="string"?Et(W.split(d.regex.delimiter).map(parseFloat)):arguments.length==6?Et([].slice.call(arguments)):Array.isArray(W)?Et(W):W&&Tt(W)==="object"?W:rt;for(var Ot=he.length-1;Ot>=0;--Ot)this[he[Ot]]=W[he[Ot]]!=null?W[he[Ot]]:rt[he[Ot]]},extend:{extract:function(){var W=pt(this,0,1);pt(this,1,0);var rt=180/Math.PI*Math.atan2(W.y,W.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(rt*Math.PI/180)+this.f*Math.sin(rt*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(rt*Math.PI/180)+this.e*Math.sin(-rt*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:rt,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(W){return this.destination=new d.Matrix(W),this},multiply:function(W){return new d.Matrix(this.native().multiply(function(rt){return rt instanceof d.Matrix||(rt=new d.Matrix(rt)),rt}(W).native()))},inverse:function(){return new d.Matrix(this.native().inverse())},translate:function(W,rt){return new d.Matrix(this.native().translate(W||0,rt||0))},native:function(){for(var W=d.parser.native.createSVGMatrix(),rt=he.length-1;rt>=0;rt--)W[he[rt]]=this[he[rt]];return W},toString:function(){return"matrix("+ee(this.a)+","+ee(this.b)+","+ee(this.c)+","+ee(this.d)+","+ee(this.e)+","+ee(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var W=this.rect(1,1),rt=W.node.getScreenCTM();return W.remove(),new d.Matrix(rt)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(W,rt){var Ot;Ot=Array.isArray(W)?{x:W[0],y:W[1]}:Tt(W)==="object"?{x:W.x,y:W.y}:W!=null?{x:W,y:rt??W}:{x:0,y:0},this.x=Ot.x,this.y=Ot.y},extend:{clone:function(){return new d.Point(this)},morph:function(W,rt){return this.destination=new d.Point(W,rt),this}}}),d.extend(d.Element,{point:function(W,rt){return new d.Point(W,rt).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(W,rt,Ot){if(W==null){for(W={},Ot=(rt=this.node.attributes).length-1;Ot>=0;Ot--)W[rt[Ot].nodeName]=d.regex.isNumber.test(rt[Ot].nodeValue)?parseFloat(rt[Ot].nodeValue):rt[Ot].nodeValue;return W}if(Tt(W)==="object")for(var ce in W)this.attr(ce,W[ce]);else if(rt===null)this.node.removeAttribute(W);else{if(rt==null)return(rt=this.node.getAttribute(W))==null?d.defaults.attrs[W]:d.regex.isNumber.test(rt)?parseFloat(rt):rt;W=="stroke-width"?this.attr("stroke",parseFloat(rt)>0?this._stroke:null):W=="stroke"&&(this._stroke=rt),W!="fill"&&W!="stroke"||(d.regex.isImage.test(rt)&&(rt=this.doc().defs().image(rt,0,0)),rt instanceof d.Image&&(rt=this.doc().defs().pattern(0,0,function(){this.add(rt)}))),typeof rt=="number"?rt=new d.Number(rt):d.Color.isColor(rt)?rt=new d.Color(rt):Array.isArray(rt)&&(rt=new d.Array(rt)),W=="leading"?this.leading&&this.leading(rt):typeof Ot=="string"?this.node.setAttributeNS(Ot,W,rt.toString()):this.node.setAttribute(W,rt.toString()),!this.rebuild||W!="font-size"&&W!="x"||this.rebuild(W,rt)}return this}}),d.extend(d.Element,{transform:function(W,rt){var Ot;return Tt(W)!=="object"?(Ot=new d.Matrix(this).extract(),typeof W=="string"?Ot[W]:Ot):(Ot=new d.Matrix(this),rt=!!rt||!!W.relative,W.a!=null&&(Ot=rt?Ot.multiply(new d.Matrix(W)):new d.Matrix(W)),this.attr("transform",Ot))}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(W){var rt=W.trim().split("(");return[rt[0],rt[1].split(d.regex.delimiter).map(function(Ot){return parseFloat(Ot)})]}).reduce(function(W,rt){return rt[0]=="matrix"?W.multiply(Et(rt[1])):W[rt[0]].apply(W,rt[1])},new d.Matrix)},toParent:function(W){if(this==W)return this;var rt=this.screenCTM(),Ot=W.screenCTM().inverse();return this.addTo(W).untransform().transform(Ot.multiply(rt)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(W,rt){if(arguments.length>1&&typeof rt!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(W))for(var Ot=0,ce=this.arguments.length;Ot<ce;++Ot)this[this.arguments[Ot]]=W[Ot];else if(W&&Tt(W)==="object")for(Ot=0,ce=this.arguments.length;Ot<ce;++Ot)this[this.arguments[Ot]]=W[this.arguments[Ot]];this.inversed=!1,rt===!0&&(this.inversed=!0)}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(W,rt){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.extend(d.Element,{style:function(W,rt){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(Tt(W)==="object")for(var Ot in W)this.style(Ot,W[Ot]);else{if(!d.regex.isCss.test(W))return this.node.style[q(W)];for(W=W.split(/\s*;\s*/).filter(function(ce){return!!ce}).map(function(ce){return ce.split(/\s*:\s*/)});rt=W.pop();)this.style(rt[0],rt[1])}else this.node.style[q(W)]=rt===null||d.regex.isBlank.test(rt)?"":rt;return this}}),d.Parent=d.invent({create:function(W){this.constructor.call(this,W)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(W){return d.adopt(W)})},add:function(W,rt){return rt==null?this.node.appendChild(W.node):W.node!=this.node.childNodes[rt]&&this.node.insertBefore(W.node,this.node.childNodes[rt]),this},put:function(W,rt){return this.add(W,rt),W},has:function(W){return this.index(W)>=0},index:function(W){return[].slice.call(this.node.childNodes).indexOf(W.node)},get:function(W){return d.adopt(this.node.childNodes[W])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(W,rt){for(var Ot=this.children(),ce=0,xe=Ot.length;ce<xe;ce++)Ot[ce]instanceof d.Element&&W.apply(Ot[ce],[ce,Ot]),rt&&Ot[ce]instanceof d.Container&&Ot[ce].each(W,rt);return this},removeElement:function(W){return this.node.removeChild(W.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(W,rt){return rt===0||this instanceof d.Defs||this.node==d.parser.draw||(W=W||(this instanceof d.Doc?this:this.parent(d.Parent)),rt=rt||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(W,rt-1):this.toParent(W)}),this.node.firstChild||this.remove()),this},flatten:function(W,rt){return this.ungroup(W,rt)}}),d.Container=d.invent({create:function(W){this.constructor.call(this,W)},inherit:d.Parent}),d.ViewBox=d.invent({parent:d.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(W){d.Element.prototype[W]=function(rt){return d.on(this.node,W,rt),this}}),d.listeners=[],d.handlerMap=[],d.listenerId=0,d.on=function(W,rt,Ot,ce,xe){var Ie=Ot.bind(ce||W.instance||W),on=(d.handlerMap.indexOf(W)+1||d.handlerMap.push(W))-1,un=rt.split(".")[0],Bn=rt.split(".")[1]||"*";d.listeners[on]=d.listeners[on]||{},d.listeners[on][un]=d.listeners[on][un]||{},d.listeners[on][un][Bn]=d.listeners[on][un][Bn]||{},Ot._svgjsListenerId||(Ot._svgjsListenerId=++d.listenerId),d.listeners[on][un][Bn][Ot._svgjsListenerId]=Ie,W.addEventListener(un,Ie,xe||{passive:!0})},d.off=function(W,rt,Ot){var ce=d.handlerMap.indexOf(W),xe=rt&&rt.split(".")[0],Ie=rt&&rt.split(".")[1],on="";if(ce!=-1)if(Ot){if(typeof Ot=="function"&&(Ot=Ot._svgjsListenerId),!Ot)return;d.listeners[ce][xe]&&d.listeners[ce][xe][Ie||"*"]&&(W.removeEventListener(xe,d.listeners[ce][xe][Ie||"*"][Ot],!1),delete d.listeners[ce][xe][Ie||"*"][Ot])}else if(Ie&&xe){if(d.listeners[ce][xe]&&d.listeners[ce][xe][Ie]){for(var un in d.listeners[ce][xe][Ie])d.off(W,[xe,Ie].join("."),un);delete d.listeners[ce][xe][Ie]}}else if(Ie)for(var Bn in d.listeners[ce])for(var on in d.listeners[ce][Bn])Ie===on&&d.off(W,[Bn,Ie].join("."));else if(xe){if(d.listeners[ce][xe]){for(var on in d.listeners[ce][xe])d.off(W,[xe,on].join("."));delete d.listeners[ce][xe]}}else{for(var Bn in d.listeners[ce])d.off(W,Bn);delete d.listeners[ce],delete d.handlerMap[ce]}},d.extend(d.Element,{on:function(W,rt,Ot,ce){return d.on(this.node,W,rt,Ot,ce),this},off:function(W,rt){return d.off(this.node,W,rt),this},fire:function(W,rt){return W instanceof qt.Event?this.node.dispatchEvent(W):this.node.dispatchEvent(W=new d.CustomEvent(W,{detail:rt,cancelable:!0})),this._event=W,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(W){return W==null?this.transform("x"):this.transform({x:W-this.x()},!0)}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(W){W&&((W=typeof W=="string"?h.getElementById(W):W).nodeName=="svg"?this.constructor.call(this,W):(this.constructor.call(this,d.create("svg")),W.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){var W;return this._defs||((W=this.node.getElementsByTagName("defs")[0])?this._defs=d.adopt(W):this._defs=new d.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw&&!d.parser.draw.parentNode&&this.node.appendChild(d.parser.draw),this},clone:function(W){this.writeDataToDom();var rt=this.node,Ot=Nt(rt.cloneNode(!0));return W?(W.node||W).appendChild(Ot.node):rt.parentNode.insertBefore(Ot.node,rt.nextSibling),Ot}}}),d.extend(d.Element,{}),d.Gradient=d.invent({create:function(W){this.constructor.call(this,d.create(W+"Gradient")),this.type=W},inherit:d.Container,extend:{at:function(W,rt,Ot){return this.put(new d.Stop).update(W,rt,Ot)},update:function(W){return this.clear(),typeof W=="function"&&W.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(W,rt,Ot){return W=="transform"&&(W="gradientTransform"),d.Container.prototype.attr.call(this,W,rt,Ot)}},construct:{gradient:function(W,rt){return this.defs().gradient(W,rt)}}}),d.extend(d.Gradient,d.FX,{from:function(W,rt){return(this._target||this).type=="radial"?this.attr({fx:new d.Number(W),fy:new d.Number(rt)}):this.attr({x1:new d.Number(W),y1:new d.Number(rt)})},to:function(W,rt){return(this._target||this).type=="radial"?this.attr({cx:new d.Number(W),cy:new d.Number(rt)}):this.attr({x2:new d.Number(W),y2:new d.Number(rt)})}}),d.extend(d.Defs,{gradient:function(W,rt){return this.put(new d.Gradient(W)).update(rt)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(W){return(typeof W=="number"||W instanceof d.Number)&&(W={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),W.opacity!=null&&this.attr("stop-opacity",W.opacity),W.color!=null&&this.attr("stop-color",W.color),W.offset!=null&&this.attr("offset",new d.Number(W.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(W){return this.clear(),typeof W=="function"&&W.call(this,this),this},toString:function(){return this.fill()},attr:function(W,rt,Ot){return W=="transform"&&(W="patternTransform"),d.Container.prototype.attr.call(this,W,rt,Ot)}},construct:{pattern:function(W,rt,Ot){return this.defs().pattern(W,rt,Ot)}}}),d.extend(d.Defs,{pattern:function(W,rt,Ot){return this.put(new d.Pattern).update(Ot).attr({x:0,y:0,width:W,height:rt,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(W){this.constructor.call(this,W)},inherit:d.Element}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(W,rt){return this.attr("href",(rt||"")+"#"+W,d.xlink)}},construct:{use:function(W,rt){return this.put(new d.Use).element(W,rt)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(W,rt){return this.put(new d.Rect).size(W,rt)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(W){return this.put(new d.Circle).rx(new d.Number(W).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(W){return this.attr("r",W)},ry:function(W){return this.rx(W)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(W,rt){return this.put(new d.Ellipse).size(W,rt).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(W){return this.attr("rx",W)},ry:function(W){return this.attr("ry",W)}}),d.extend(d.Circle,d.Ellipse,{x:function(W){return W==null?this.cx()-this.rx():this.cx(W+this.rx())},y:function(W){return W==null?this.cy()-this.ry():this.cy(W+this.ry())},cx:function(W){return W==null?this.attr("cx"):this.attr("cx",W)},cy:function(W){return W==null?this.attr("cy"):this.attr("cy",W)},width:function(W){return W==null?2*this.rx():this.rx(new d.Number(W).divide(2))},height:function(W){return W==null?2*this.ry():this.ry(new d.Number(W).divide(2))},size:function(W,rt){var Ot=it(this,W,rt);return this.rx(new d.Number(Ot.width).divide(2)).ry(new d.Number(Ot.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(W,rt,Ot,ce){return W==null?this.array():(W=rt!==void 0?{x1:W,y1:rt,x2:Ot,y2:ce}:new d.PointArray(W).toLine(),this.attr(W))},move:function(W,rt){return this.attr(this.array().move(W,rt).toLine())},size:function(W,rt){var Ot=it(this,W,rt);return this.attr(this.array().size(Ot.width,Ot.height).toLine())}},construct:{line:function(W,rt,Ot,ce){return d.Line.prototype.plot.apply(this.put(new d.Line),W!=null?[W,rt,Ot,ce]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(W){return this.put(new d.Polyline).plot(W||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(W){return this.put(new d.Polygon).plot(W||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(W){return W==null?this.array():this.clear().attr("points",typeof W=="string"?W:this._array=new d.PointArray(W))},clear:function(){return delete this._array,this},move:function(W,rt){return this.attr("points",this.array().move(W,rt))},size:function(W,rt){var Ot=it(this,W,rt);return this.attr("points",this.array().size(Ot.width,Ot.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(W){return W==null?this.bbox().x:this.move(W,this.bbox().y)},y:function(W){return W==null?this.bbox().y:this.move(this.bbox().x,W)},width:function(W){var rt=this.bbox();return W==null?rt.width:this.size(W,rt.height)},height:function(W){var rt=this.bbox();return W==null?rt.height:this.size(rt.width,W)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(W){return W==null?this.array():this.clear().attr("d",typeof W=="string"?W:this._array=new d.PathArray(W))},clear:function(){return delete this._array,this}},construct:{path:function(W){return this.put(new d.Path).plot(W||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(W){if(!W)return this;var rt=this,Ot=new qt.Image;return d.on(Ot,"load",function(){d.off(Ot);var ce=rt.parent(d.Pattern);ce!==null&&(rt.width()==0&&rt.height()==0&&rt.size(Ot.width,Ot.height),ce&&ce.width()==0&&ce.height()==0&&ce.size(rt.width(),rt.height()),typeof rt._loaded=="function"&&rt._loaded.call(rt,{width:Ot.width,height:Ot.height,ratio:Ot.width/Ot.height,url:W}))}),d.on(Ot,"error",function(ce){d.off(Ot),typeof rt._error=="function"&&rt._error.call(rt,ce)}),this.attr("href",Ot.src=this.src=W,d.xlink)},loaded:function(W){return this._loaded=W,this},error:function(W){return this._error=W,this}},construct:{image:function(W,rt,Ot){return this.put(new d.Image).load(W).size(rt||0,Ot||rt||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(W){return W==null?this.attr("x"):this.attr("x",W)},text:function(W){if(W===void 0){W="";for(var rt=this.node.childNodes,Ot=0,ce=rt.length;Ot<ce;++Ot)Ot!=0&&rt[Ot].nodeType!=3&&d.adopt(rt[Ot]).dom.newLined==1&&(W+=`
`),W+=rt[Ot].textContent;return W}if(this.clear().build(!0),typeof W=="function")W.call(this,this);else{Ot=0;for(var xe=(W=W.split(`
`)).length;Ot<xe;Ot++)this.tspan(W[Ot]).newLine()}return this.build(!1).rebuild()},size:function(W){return this.attr("font-size",W).rebuild()},leading:function(W){return W==null?this.dom.leading:(this.dom.leading=new d.Number(W),this.rebuild())},lines:function(){var W=(this.textPath&&this.textPath()||this).node,rt=d.utils.map(d.utils.filterSVGElements(W.childNodes),function(Ot){return d.adopt(Ot)});return new d.Set(rt)},rebuild:function(W){if(typeof W=="boolean"&&(this._rebuild=W),this._rebuild){var rt=this,Ot=0,ce=this.dom.leading*new d.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(rt.textPath()||this.attr("x",rt.attr("x")),this.text()==`
`?Ot+=ce:(this.attr("dy",ce+Ot),Ot=0))}),this.fire("rebuild")}return this},build:function(W){return this._build=!!W,this},setData:function(W){return this.dom=W,this.dom.leading=new d.Number(W.leading||1.3),this}},construct:{text:function(W){return this.put(new d.Text).text(W)},plain:function(W){return this.put(new d.Text).plain(W)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(W){return W==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof W=="function"?W.call(this,this):this.plain(W),this)},dx:function(W){return this.attr("dx",W)},dy:function(W){return this.attr("dy",W)},newLine:function(){var W=this.parent(d.Text);return this.dom.newLined=!0,this.dy(W.dom.leading*W.attr("font-size")).attr("x",W.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(W){return this._build===!1&&this.clear(),this.node.appendChild(h.createTextNode(W)),this},tspan:function(W){var rt=(this.textPath&&this.textPath()||this).node,Ot=new d.Tspan;return this._build===!1&&this.clear(),rt.appendChild(Ot.node),Ot.text(W)},clear:function(){for(var W=(this.textPath&&this.textPath()||this).node;W.hasChildNodes();)W.removeChild(W.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,array:function(){var W=this.track();return W?W.array():null},plot:function(W){var rt=this.track(),Ot=null;return rt&&(Ot=rt.plot(W)),W==null?Ot:this},track:function(){var W=this.textPath();if(W)return W.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}});var N={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(W,rt){return rt=="color"?W:W+"-"+rt}};function V(W,rt,Ot,ce){return Ot+ce.replace(d.regex.dots," .")}function q(W){return W.toLowerCase().replace(/-(.)/g,function(rt,Ot){return Ot.toUpperCase()})}function K(W){return W.charAt(0).toUpperCase()+W.slice(1)}function J(W){var rt=W.toString(16);return rt.length==1?"0"+rt:rt}function it(W,rt,Ot){if(rt==null||Ot==null){var ce=W.bbox();rt==null?rt=ce.width/ce.height*Ot:Ot==null&&(Ot=ce.height/ce.width*rt)}return{width:rt,height:Ot}}function pt(W,rt,Ot){return{x:rt*W.a+Ot*W.c+0,y:rt*W.b+Ot*W.d+0}}function Et(W){return{a:W[0],b:W[1],c:W[2],d:W[3],e:W[4],f:W[5]}}function Nt(W){for(var rt=W.childNodes.length-1;rt>=0;rt--)W.childNodes[rt]instanceof qt.SVGElement&&Nt(W.childNodes[rt]);return d.adopt(W).id(d.eid(W.nodeName))}function ee(W){return Math.abs(W)>1e-37?W:0}["fill","stroke"].forEach(function(W){var rt={};rt[W]=function(Ot){if(Ot===void 0)return this;if(typeof Ot=="string"||d.Color.isRgb(Ot)||Ot&&typeof Ot.fill=="function")this.attr(W,Ot);else for(var ce=N[W].length-1;ce>=0;ce--)Ot[N[W][ce]]!=null&&this.attr(N.prefix(W,N[W][ce]),Ot[N[W][ce]]);return this},d.extend(d.Element,d.FX,rt)}),d.extend(d.Element,d.FX,{translate:function(W,rt){return this.transform({x:W,y:rt})},matrix:function(W){return this.attr("transform",new d.Matrix(arguments.length==6?[].slice.call(arguments):W))},opacity:function(W){return this.attr("opacity",W)},dx:function(W){return this.x(new d.Number(W).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(W){return this.y(new d.Number(W).plus(this instanceof d.FX?0:this.y()),!0)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(W){return this.node.getPointAtLength(W)}}),d.Set=d.invent({create:function(W){Array.isArray(W)?this.members=W:this.clear()},extend:{add:function(){for(var W=[].slice.call(arguments),rt=0,Ot=W.length;rt<Ot;rt++)this.members.push(W[rt]);return this},remove:function(W){var rt=this.index(W);return rt>-1&&this.members.splice(rt,1),this},each:function(W){for(var rt=0,Ot=this.members.length;rt<Ot;rt++)W.apply(this.members[rt],[rt,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(W){return this.index(W)>=0},index:function(W){return this.members.indexOf(W)},get:function(W){return this.members[W]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(W){return new d.Set(W)}}}),d.FX.Set=d.invent({create:function(W){this.set=W}}),d.Set.inherit=function(){var W=[];for(var rt in d.Shape.prototype)typeof d.Shape.prototype[rt]=="function"&&typeof d.Set.prototype[rt]!="function"&&W.push(rt);for(var rt in W.forEach(function(ce){d.Set.prototype[ce]=function(){for(var xe=0,Ie=this.members.length;xe<Ie;xe++)this.members[xe]&&typeof this.members[xe][ce]=="function"&&this.members[xe][ce].apply(this.members[xe],arguments);return ce=="animate"?this.fx||(this.fx=new d.FX.Set(this)):this}}),W=[],d.FX.prototype)typeof d.FX.prototype[rt]=="function"&&typeof d.FX.Set.prototype[rt]!="function"&&W.push(rt);W.forEach(function(Ot){d.FX.Set.prototype[Ot]=function(){for(var ce=0,xe=this.set.members.length;ce<xe;ce++)this.set.members[ce].fx[Ot].apply(this.set.members[ce].fx,arguments);return this}})},d.extend(d.Element,{}),d.extend(d.Element,{remember:function(W,rt){if(Tt(arguments[0])==="object")for(var Ot in W)this.remember(Ot,W[Ot]);else{if(arguments.length==1)return this.memory()[W];this.memory()[W]=rt}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var W=arguments.length-1;W>=0;W--)delete this.memory()[arguments[W]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(W){var rt=h.getElementById(function(Ot){var ce=(Ot||"").toString().match(d.regex.reference);if(ce)return ce[1]}(W)||W);return d.adopt(rt)},d.select=function(W,rt){return new d.Set(d.utils.map((rt||h).querySelectorAll(W),function(Ot){return d.adopt(Ot)}))},d.extend(d.Parent,{select:function(W){return d.select(W,this.node)}});var he="abcdef".split("");if(typeof qt.CustomEvent!="function"){var Ae=function(W,rt){rt=rt||{bubbles:!1,cancelable:!1,detail:void 0};var Ot=h.createEvent("CustomEvent");return Ot.initCustomEvent(W,rt.bubbles,rt.cancelable,rt.detail),Ot};Ae.prototype=qt.Event.prototype,d.CustomEvent=Ae}else d.CustomEvent=qt.CustomEvent;return d},typeof define=="function"&&define.amd?define(function(){return Tr(jr,jr.document)}):(typeof exports>"u"?"undefined":Tt(exports))==="object"&&typeof module<"u"?module.exports=jr.document?Tr(jr,jr.document):function(qt){return Tr(qt,qt.document)}:jr.SVG=Tr(jr,jr.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(O,N){return this.add(O,N),!O.attr("in")&&this.autoSetIn&&O.attr("in",this.source),O.attr("result")||O.attr("result",O),O},blend:function(O,N,V){return this.put(new SVG.BlendEffect(O,N,V))},colorMatrix:function(O,N){return this.put(new SVG.ColorMatrixEffect(O,N))},convolveMatrix:function(O){return this.put(new SVG.ConvolveMatrixEffect(O))},componentTransfer:function(O){return this.put(new SVG.ComponentTransferEffect(O))},composite:function(O,N,V){return this.put(new SVG.CompositeEffect(O,N,V))},flood:function(O,N){return this.put(new SVG.FloodEffect(O,N))},offset:function(O,N){return this.put(new SVG.OffsetEffect(O,N))},image:function(O){return this.put(new SVG.ImageEffect(O))},merge:function(){var O=[void 0];for(var N in arguments)O.push(arguments[N]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,O)))},gaussianBlur:function(O,N){return this.put(new SVG.GaussianBlurEffect(O,N))},morphology:function(O,N){return this.put(new SVG.MorphologyEffect(O,N))},diffuseLighting:function(O,N,V){return this.put(new SVG.DiffuseLightingEffect(O,N,V))},displacementMap:function(O,N,V,q,K){return this.put(new SVG.DisplacementMapEffect(O,N,V,q,K))},specularLighting:function(O,N,V,q){return this.put(new SVG.SpecularLightingEffect(O,N,V,q))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(O,N,V,q,K){return this.put(new SVG.TurbulenceEffect(O,N,V,q,K))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(O){var N=this.put(new SVG.Filter);return typeof O=="function"&&O.call(N,N),N}}),SVG.extend(SVG.Container,{filter:function(O){return this.defs().filter(O)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(O){return this.filterer=O instanceof SVG.Element?O:this.doc().filter(O),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(O){return this.filterer&&O===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(O){return O==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",O)},result:function(O){return O==null?this.attr("result"):this.attr("result",O)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(O){return O==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",O)},result:function(O){return O==null?this.attr("result"):this.attr("result",O)},toString:function(){return this.result()}}});var qt={blend:function(O,N){return this.parent()&&this.parent().blend(this,O,N)},colorMatrix:function(O,N){return this.parent()&&this.parent().colorMatrix(O,N).in(this)},convolveMatrix:function(O){return this.parent()&&this.parent().convolveMatrix(O).in(this)},componentTransfer:function(O){return this.parent()&&this.parent().componentTransfer(O).in(this)},composite:function(O,N){return this.parent()&&this.parent().composite(this,O,N)},flood:function(O,N){return this.parent()&&this.parent().flood(O,N)},offset:function(O,N){return this.parent()&&this.parent().offset(O,N).in(this)},image:function(O){return this.parent()&&this.parent().image(O)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(O,N){return this.parent()&&this.parent().gaussianBlur(O,N).in(this)},morphology:function(O,N){return this.parent()&&this.parent().morphology(O,N).in(this)},diffuseLighting:function(O,N,V){return this.parent()&&this.parent().diffuseLighting(O,N,V).in(this)},displacementMap:function(O,N,V,q){return this.parent()&&this.parent().displacementMap(this,O,N,V,q)},specularLighting:function(O,N,V,q){return this.parent()&&this.parent().specularLighting(O,N,V,q).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(O,N,V,q,K){return this.parent()&&this.parent().turbulence(O,N,V,q,K).in(this)}};SVG.extend(SVG.Effect,qt),SVG.extend(SVG.ParentEffect,qt),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(O){this.attr("in",O)}}});var h={blend:function(O,N,V){this.attr({in:O,in2:N,mode:V||"normal"})},colorMatrix:function(O,N){O=="matrix"&&(N=C(N)),this.attr({type:O,values:N===void 0?null:N})},convolveMatrix:function(O){O=C(O),this.attr({order:Math.sqrt(O.split(" ").length),kernelMatrix:O})},composite:function(O,N,V){this.attr({in:O,in2:N,operator:V})},flood:function(O,N){this.attr("flood-color",O),N!=null&&this.attr("flood-opacity",N)},offset:function(O,N){this.attr({dx:O,dy:N})},image:function(O){this.attr("href",O,SVG.xlink)},displacementMap:function(O,N,V,q,K){this.attr({in:O,in2:N,scale:V,xChannelSelector:q,yChannelSelector:K})},gaussianBlur:function(O,N){O!=null||N!=null?this.attr("stdDeviation",function(V){if(!Array.isArray(V))return V;for(var q=0,K=V.length,J=[];q<K;q++)J.push(V[q]);return J.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(O,N){this.attr({operator:O,radius:N})},tile:function(){},turbulence:function(O,N,V,q,K){this.attr({numOctaves:N,seed:V,stitchTiles:q,baseFrequency:O,type:K})}},d={merge:function(){var O;if(arguments[0]instanceof SVG.Set){var N=this;arguments[0].each(function(q){this instanceof SVG.MergeNode?N.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&N.put(new SVG.MergeNode(this))})}else{O=Array.isArray(arguments[0])?arguments[0]:arguments;for(var V=0;V<O.length;V++)O[V]instanceof SVG.MergeNode?this.put(O[V]):this.put(new SVG.MergeNode(O[V]))}},componentTransfer:function(O){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(V){this[V]=new SVG["Func"+V.toUpperCase()]("identity"),this.rgb.add(this[V]),this.node.appendChild(this[V].node)}.bind(this)),O)for(var N in O.rgb&&(["r","g","b"].forEach(function(V){this[V].attr(O.rgb)}.bind(this)),delete O.rgb),O)this[N].attr(O[N])},diffuseLighting:function(O,N,V){this.attr({surfaceScale:O,diffuseConstant:N,kernelUnitLength:V})},specularLighting:function(O,N,V,q){this.attr({surfaceScale:O,diffuseConstant:N,specularExponent:V,kernelUnitLength:q})}},y={distantLight:function(O,N){this.attr({azimuth:O,elevation:N})},pointLight:function(O,N,V){this.attr({x:O,y:N,z:V})},spotLight:function(O,N,V,q,K,J){this.attr({x:O,y:N,z:V,pointsAtX:q,pointsAtY:K,pointsAtZ:J})},mergeNode:function(O){this.attr("in",O)}};function C(O){return Array.isArray(O)&&(O=new SVG.Array(O)),O.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function M(){var O=function(){};for(var N in typeof arguments[arguments.length-1]=="function"&&(O=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var V in arguments[N])O(arguments[N][V],V,arguments[N])}["r","g","b","a"].forEach(function(O){y["Func"+O.toUpperCase()]=function(N){switch(this.attr("type",N),N){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),M(h,function(O,N){var V=N.charAt(0).toUpperCase()+N.slice(1);SVG[V+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+V)),O.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),M(d,function(O,N){var V=N.charAt(0).toUpperCase()+N.slice(1);SVG[V+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+V)),O.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),M(y,function(O,N){var V=N.charAt(0).toUpperCase()+N.slice(1);SVG[V]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+V)),O.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(O){return O instanceof SVG.MergeNode?this.add(O,0):this.add(new SVG.MergeNode(O),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(O){return O==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",O)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function qt(M,O,N,V,q,K,J){for(var it=M.slice(O,N||J),pt=V.slice(q,K||J),Et=0,Nt={pos:[0,0],start:[0,0]},ee={pos:[0,0],start:[0,0]};it[Et]=h.call(Nt,it[Et]),pt[Et]=h.call(ee,pt[Et]),it[Et][0]!=pt[Et][0]||it[Et][0]=="M"||it[Et][0]=="A"&&(it[Et][4]!=pt[Et][4]||it[Et][5]!=pt[Et][5])?(Array.prototype.splice.apply(it,[Et,1].concat(y.call(Nt,it[Et]))),Array.prototype.splice.apply(pt,[Et,1].concat(y.call(ee,pt[Et])))):(it[Et]=d.call(Nt,it[Et]),pt[Et]=d.call(ee,pt[Et])),!(++Et==it.length&&Et==pt.length);)Et==it.length&&it.push(["C",Nt.pos[0],Nt.pos[1],Nt.pos[0],Nt.pos[1],Nt.pos[0],Nt.pos[1]]),Et==pt.length&&pt.push(["C",ee.pos[0],ee.pos[1],ee.pos[0],ee.pos[1],ee.pos[0],ee.pos[1]]);return{start:it,dest:pt}}function h(M){switch(M[0]){case"z":case"Z":M[0]="L",M[1]=this.start[0],M[2]=this.start[1];break;case"H":M[0]="L",M[2]=this.pos[1];break;case"V":M[0]="L",M[2]=M[1],M[1]=this.pos[0];break;case"T":M[0]="Q",M[3]=M[1],M[4]=M[2],M[1]=this.reflection[1],M[2]=this.reflection[0];break;case"S":M[0]="C",M[6]=M[4],M[5]=M[3],M[4]=M[2],M[3]=M[1],M[2]=this.reflection[1],M[1]=this.reflection[0]}return M}function d(M){var O=M.length;return this.pos=[M[O-2],M[O-1]],"SCQT".indexOf(M[0])!=-1&&(this.reflection=[2*this.pos[0]-M[O-4],2*this.pos[1]-M[O-3]]),M}function y(M){var O=[M];switch(M[0]){case"M":return this.pos=this.start=[M[1],M[2]],O;case"L":M[5]=M[3]=M[1],M[6]=M[4]=M[2],M[1]=this.pos[0],M[2]=this.pos[1];break;case"Q":M[6]=M[4],M[5]=M[3],M[4]=1*M[4]/3+2*M[2]/3,M[3]=1*M[3]/3+2*M[1]/3,M[2]=1*this.pos[1]/3+2*M[2]/3,M[1]=1*this.pos[0]/3+2*M[1]/3;break;case"A":O=function(N,V){var q,K,J,it,pt,Et,Nt,ee,he,Ae,W,rt,Ot,ce,xe,Ie,on,un,Bn,jn,ai,ci,vr,rr,er,Xr,bo=Math.abs(V[1]),qr=Math.abs(V[2]),fo=V[3]%360,Na=V[4],Gi=V[5],Dr=V[6],Ra=V[7],No=new SVG.Point(N),ko=new SVG.Point(Dr,Ra),zn=[];if(bo===0||qr===0||No.x===ko.x&&No.y===ko.y)return[["C",No.x,No.y,ko.x,ko.y,ko.x,ko.y]];for(q=new SVG.Point((No.x-ko.x)/2,(No.y-ko.y)/2).transform(new SVG.Matrix().rotate(fo)),(K=q.x*q.x/(bo*bo)+q.y*q.y/(qr*qr))>1&&(bo*=K=Math.sqrt(K),qr*=K),J=new SVG.Matrix().rotate(fo).scale(1/bo,1/qr).rotate(-fo),No=No.transform(J),ko=ko.transform(J),it=[ko.x-No.x,ko.y-No.y],Et=it[0]*it[0]+it[1]*it[1],pt=Math.sqrt(Et),it[0]/=pt,it[1]/=pt,Nt=Et<4?Math.sqrt(1-Et/4):0,Na===Gi&&(Nt*=-1),ee=new SVG.Point((ko.x+No.x)/2+Nt*-it[1],(ko.y+No.y)/2+Nt*it[0]),he=new SVG.Point(No.x-ee.x,No.y-ee.y),Ae=new SVG.Point(ko.x-ee.x,ko.y-ee.y),W=Math.acos(he.x/Math.sqrt(he.x*he.x+he.y*he.y)),he.y<0&&(W*=-1),rt=Math.acos(Ae.x/Math.sqrt(Ae.x*Ae.x+Ae.y*Ae.y)),Ae.y<0&&(rt*=-1),Gi&&W>rt&&(rt+=2*Math.PI),!Gi&&W<rt&&(rt-=2*Math.PI),ce=Math.ceil(2*Math.abs(W-rt)/Math.PI),Ie=[],on=W,Ot=(rt-W)/ce,xe=4*Math.tan(Ot/4)/3,ai=0;ai<=ce;ai++)Bn=Math.cos(on),un=Math.sin(on),jn=new SVG.Point(ee.x+Bn,ee.y+un),Ie[ai]=[new SVG.Point(jn.x+xe*un,jn.y-xe*Bn),jn,new SVG.Point(jn.x-xe*un,jn.y+xe*Bn)],on+=Ot;for(Ie[0][0]=Ie[0][1].clone(),Ie[Ie.length-1][2]=Ie[Ie.length-1][1].clone(),J=new SVG.Matrix().rotate(fo).scale(bo,qr).rotate(-fo),ai=0,ci=Ie.length;ai<ci;ai++)Ie[ai][0]=Ie[ai][0].transform(J),Ie[ai][1]=Ie[ai][1].transform(J),Ie[ai][2]=Ie[ai][2].transform(J);for(ai=1,ci=Ie.length;ai<ci;ai++)vr=(jn=Ie[ai-1][2]).x,rr=jn.y,er=(jn=Ie[ai][0]).x,Xr=jn.y,Dr=(jn=Ie[ai][1]).x,Ra=jn.y,zn.push(["C",vr,rr,er,Xr,Dr,Ra]);return zn}(this.pos,M),M=O[0]}return M[0]="C",this.pos=[M[5],M[6]],this.reflection=[2*M[5]-M[3],2*M[6]-M[4]],O}function C(M,O){if(O===!1)return!1;for(var N=O,V=M.length;N<V;++N)if(M[N][0]=="M")return N;return!1}SVG.extend(SVG.PathArray,{morph:function(M){for(var O=this.value,N=this.parse(M),V=0,q=0,K=!1,J=!1;V!==!1||q!==!1;){var it;K=C(O,V!==!1&&V+1),J=C(N,q!==!1&&q+1),V===!1&&(V=(it=new SVG.PathArray(pt.start).bbox()).height==0||it.width==0?O.push(O[0])-1:O.push(["M",it.x+it.width/2,it.y+it.height/2])-1),q===!1&&(q=(it=new SVG.PathArray(pt.dest).bbox()).height==0||it.width==0?N.push(N[0])-1:N.push(["M",it.x+it.width/2,it.y+it.height/2])-1);var pt=qt(O,V,K,N,q,J);O=O.slice(0,V).concat(pt.start,K===!1?[]:O.slice(K)),N=N.slice(0,q).concat(pt.dest,J===!1?[]:N.slice(J)),V=K!==!1&&V+pt.start.length,q=J!==!1&&q+pt.dest.length}return this.value=O,this.destination=new SVG.PathArray,this.destination.value=N,this}})}(),function(){function qt(h){h.remember("_draggable",this),this.el=h}qt.prototype.init=function(h,d){var y=this;this.constraint=h,this.value=d,this.el.on("mousedown.drag",function(C){y.start(C)}),this.el.on("touchstart.drag",function(C){y.start(C)})},qt.prototype.transformPoint=function(h,d){var y=(h=h||window.event).changedTouches&&h.changedTouches[0]||h;return this.p.x=y.clientX-(d||0),this.p.y=y.clientY,this.p.matrixTransform(this.m)},qt.prototype.getBBox=function(){var h=this.el.bbox();return this.el instanceof SVG.Nested&&(h=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(h.x=this.el.x(),h.y=this.el.y()),h},qt.prototype.start=function(h){if(h.type!="click"&&h.type!="mousedown"&&h.type!="mousemove"||(h.which||h.buttons)==1){var d=this;if(this.el.fire("beforedrag",{event:h,handler:this}),!this.el.event().defaultPrevented){h.preventDefault(),h.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var y,C=this.getBBox();if(this.el instanceof SVG.Text)switch(y=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":y/=2;break;case"start":y=0}this.startPoints={point:this.transformPoint(h,y),box:C,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(M){d.drag(M)}),SVG.on(window,"touchmove.drag",function(M){d.drag(M)}),SVG.on(window,"mouseup.drag",function(M){d.end(M)}),SVG.on(window,"touchend.drag",function(M){d.end(M)}),this.el.fire("dragstart",{event:h,p:this.startPoints.point,m:this.m,handler:this})}}},qt.prototype.drag=function(h){var d=this.getBBox(),y=this.transformPoint(h),C=this.startPoints.box.x+y.x-this.startPoints.point.x,M=this.startPoints.box.y+y.y-this.startPoints.point.y,O=this.constraint,N=y.x-this.startPoints.point.x,V=y.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:h,p:y,m:this.m,handler:this}),this.el.event().defaultPrevented)return y;if(typeof O=="function"){var q=O.call(this.el,C,M,this.m);typeof q=="boolean"&&(q={x:q,y:q}),q.x===!0?this.el.x(C):q.x!==!1&&this.el.x(q.x),q.y===!0?this.el.y(M):q.y!==!1&&this.el.y(q.y)}else typeof O=="object"&&(O.minX!=null&&C<O.minX?N=(C=O.minX)-this.startPoints.box.x:O.maxX!=null&&C>O.maxX-d.width&&(N=(C=O.maxX-d.width)-this.startPoints.box.x),O.minY!=null&&M<O.minY?V=(M=O.minY)-this.startPoints.box.y:O.maxY!=null&&M>O.maxY-d.height&&(V=(M=O.maxY-d.height)-this.startPoints.box.y),O.snapToGrid!=null&&(C-=C%O.snapToGrid,M-=M%O.snapToGrid,N-=N%O.snapToGrid,V-=V%O.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:N,y:V},!0):this.el.move(C,M));return y},qt.prototype.end=function(h){var d=this.drag(h);this.el.fire("dragend",{event:h,p:d,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(h,d){typeof h!="function"&&typeof h!="object"||(d=h,h=!0);var y=this.remember("_draggable")||new qt(this);return(h=h===void 0||h)?y.init(d||{},h):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function qt(h){this.el=h,h.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(d,y,C){var M=typeof d!="string"?d:y[d];return C?M/2:M},this.pointCoords=function(d,y){var C=this.pointsList[d];return{x:this.pointCoord(C[0],y,d==="t"||d==="b"),y:this.pointCoord(C[1],y,d==="r"||d==="l")}}}qt.prototype.init=function(h,d){var y=this.el.bbox();this.options={};var C=this.el.selectize.defaults.points;for(var M in this.el.selectize.defaults)this.options[M]=this.el.selectize.defaults[M],d[M]!==void 0&&(this.options[M]=d[M]);var O=["points","pointsExclude"];for(var M in O){var N=this.options[O[M]];typeof N=="string"?N=N.length>0?N.split(/\s*,\s*/i):[]:typeof N=="boolean"&&O[M]==="points"&&(N=N?C:[]),this.options[O[M]]=N}this.options.points=[C,this.options.points].reduce(function(V,q){return V.filter(function(K){return q.indexOf(K)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(V,q){return V.filter(function(K){return q.indexOf(K)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(y.x,y.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(h):this.selectRect(h),this.observe(),this.cleanup()},qt.prototype.selectPoints=function(h){return this.pointSelection.isSelected=h,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},qt.prototype.getPointArray=function(){var h=this.el.bbox();return this.el.array().valueOf().map(function(d){return[d[0]-h.x,d[1]-h.y]})},qt.prototype.drawPoints=function(){for(var h=this,d=this.getPointArray(),y=0,C=d.length;y<C;++y){var M=function(N){return function(V){(V=V||window.event).preventDefault?V.preventDefault():V.returnValue=!1,V.stopPropagation();var q=V.pageX||V.touches[0].pageX,K=V.pageY||V.touches[0].pageY;h.el.fire("point",{x:q,y:K,i:N,event:V})}}(y),O=this.drawPoint(d[y][0],d[y][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",M).on("mousedown",M);this.pointSelection.set.add(O)}},qt.prototype.drawPoint=function(h,d){var y=this.options.pointType;switch(y){case"circle":return this.drawCircle(h,d);case"rect":return this.drawRect(h,d);default:if(typeof y=="function")return y.call(this,h,d);throw new Error("Unknown "+y+" point type!")}},qt.prototype.drawCircle=function(h,d){return this.nested.circle(this.options.pointSize).center(h,d)},qt.prototype.drawRect=function(h,d){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(h,d)},qt.prototype.updatePointSelection=function(){var h=this.getPointArray();this.pointSelection.set.each(function(d){this.cx()===h[d][0]&&this.cy()===h[d][1]||this.center(h[d][0],h[d][1])})},qt.prototype.updateRectSelection=function(){var h=this,d=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:d.width,height:d.height}),this.options.points.length&&this.options.points.map(function(C,M){var O=h.pointCoords(C,d);h.rectSelection.set.get(M+1).center(O.x,O.y)}),this.options.rotationPoint){var y=this.rectSelection.set.length();this.rectSelection.set.get(y-1).center(d.width/2,20)}},qt.prototype.selectRect=function(h){var d=this,y=this.el.bbox();function C(N){return function(V){(V=V||window.event).preventDefault?V.preventDefault():V.returnValue=!1,V.stopPropagation();var q=V.pageX||V.touches[0].pageX,K=V.pageY||V.touches[0].pageY;d.el.fire(N,{x:q,y:K,event:V})}}if(this.rectSelection.isSelected=h,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(y.width,y.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(N,V){var q=d.pointCoords(N,y),K=d.drawPoint(q.x,q.y).attr("class",d.options.classPoints+"_"+N).on("mousedown",C(N)).on("touchstart",C(N));d.rectSelection.set.add(K)}),this.rectSelection.set.each(function(){this.addClass(d.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var M=function(N){(N=N||window.event).preventDefault?N.preventDefault():N.returnValue=!1,N.stopPropagation();var V=N.pageX||N.touches[0].pageX,q=N.pageY||N.touches[0].pageY;d.el.fire("rot",{x:V,y:q,event:N})},O=this.drawPoint(y.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",M).on("mousedown",M);this.rectSelection.set.add(O)}},qt.prototype.handler=function(){var h=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(h.x,h.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},qt.prototype.observe=function(){var h=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){h.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){h.handler()})},qt.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(h,d){return typeof h=="object"&&(d=h,h=!0),(this.remember("_selectHandler")||new qt(this)).init(h===void 0||h,d||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function qt(h){h.remember("_resizeHandler",this),this.el=h,this.parameters={},this.lastUpdateCall=null,this.p=h.doc().node.createSVGPoint()}qt.prototype.transformPoint=function(h,d,y){return this.p.x=h-(this.offset.x-window.pageXOffset),this.p.y=d-(this.offset.y-window.pageYOffset),this.p.matrixTransform(y||this.m)},qt.prototype._extractPosition=function(h){return{x:h.clientX!=null?h.clientX:h.touches[0].clientX,y:h.clientY!=null?h.clientY:h.touches[0].clientY}},qt.prototype.init=function(h){var d=this;if(this.stop(),h!=="stop"){for(var y in this.options={},this.el.resize.defaults)this.options[y]=this.el.resize.defaults[y],h[y]!==void 0&&(this.options[y]=h[y]);this.el.on("lt.resize",function(C){d.resize(C||window.event)}),this.el.on("rt.resize",function(C){d.resize(C||window.event)}),this.el.on("rb.resize",function(C){d.resize(C||window.event)}),this.el.on("lb.resize",function(C){d.resize(C||window.event)}),this.el.on("t.resize",function(C){d.resize(C||window.event)}),this.el.on("r.resize",function(C){d.resize(C||window.event)}),this.el.on("b.resize",function(C){d.resize(C||window.event)}),this.el.on("l.resize",function(C){d.resize(C||window.event)}),this.el.on("rot.resize",function(C){d.resize(C||window.event)}),this.el.on("point.resize",function(C){d.resize(C||window.event)}),this.update()}},qt.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},qt.prototype.resize=function(h){var d=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var y=this._extractPosition(h.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(y.x,y.y),x:h.detail.x,y:h.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),h.detail.i!==void 0){var C=this.el.array().valueOf();this.parameters.i=h.detail.i,this.parameters.pointCoords=[C[h.detail.i][0],C[h.detail.i][1]]}switch(h.type){case"lt":this.calc=function(M,O){var N=this.snapToGrid(M,O);if(this.parameters.box.width-N[0]>0&&this.parameters.box.height-N[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-N[0]);N=this.checkAspectRatio(N),this.el.move(this.parameters.box.x+N[0],this.parameters.box.y+N[1]).size(this.parameters.box.width-N[0],this.parameters.box.height-N[1])}};break;case"rt":this.calc=function(M,O){var N=this.snapToGrid(M,O,2);if(this.parameters.box.width+N[0]>0&&this.parameters.box.height-N[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+N[0]);N=this.checkAspectRatio(N,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+N[1]).size(this.parameters.box.width+N[0],this.parameters.box.height-N[1])}};break;case"rb":this.calc=function(M,O){var N=this.snapToGrid(M,O,0);if(this.parameters.box.width+N[0]>0&&this.parameters.box.height+N[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+N[0]);N=this.checkAspectRatio(N),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+N[0],this.parameters.box.height+N[1])}};break;case"lb":this.calc=function(M,O){var N=this.snapToGrid(M,O,1);if(this.parameters.box.width-N[0]>0&&this.parameters.box.height+N[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+N[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-N[0]);N=this.checkAspectRatio(N,!0),this.el.move(this.parameters.box.x+N[0],this.parameters.box.y).size(this.parameters.box.width-N[0],this.parameters.box.height+N[1])}};break;case"t":this.calc=function(M,O){var N=this.snapToGrid(M,O,2);if(this.parameters.box.height-N[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+N[1]).height(this.parameters.box.height-N[1])}};break;case"r":this.calc=function(M,O){var N=this.snapToGrid(M,O,0);if(this.parameters.box.width+N[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+N[0])}};break;case"b":this.calc=function(M,O){var N=this.snapToGrid(M,O,0);if(this.parameters.box.height+N[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+N[1])}};break;case"l":this.calc=function(M,O){var N=this.snapToGrid(M,O,1);if(this.parameters.box.width-N[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+N[0],this.parameters.box.y).width(this.parameters.box.width-N[0])}};break;case"rot":this.calc=function(M,O){var N=M+this.parameters.p.x,V=O+this.parameters.p.y,q=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),K=Math.atan2(V-this.parameters.box.y-this.parameters.box.height/2,N-this.parameters.box.x-this.parameters.box.width/2),J=this.parameters.rotation+180*(K-q)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(J-J%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(M,O){var N=this.snapToGrid(M,O,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),V=this.el.array().valueOf();V[this.parameters.i][0]=this.parameters.pointCoords[0]+N[0],V[this.parameters.i][1]=this.parameters.pointCoords[1]+N[1],this.el.plot(V)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:h}),SVG.on(window,"touchmove.resize",function(M){d.update(M||window.event)}),SVG.on(window,"touchend.resize",function(){d.done()}),SVG.on(window,"mousemove.resize",function(M){d.update(M||window.event)}),SVG.on(window,"mouseup.resize",function(){d.done()})},qt.prototype.update=function(h){if(h){var d=this._extractPosition(h),y=this.transformPoint(d.x,d.y),C=y.x-this.parameters.p.x,M=y.y-this.parameters.p.y;this.lastUpdateCall=[C,M],this.calc(C,M),this.el.fire("resizing",{dx:C,dy:M,event:h})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},qt.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},qt.prototype.snapToGrid=function(h,d,y,C){var M;return C!==void 0?M=[(y+h)%this.options.snapToGrid,(C+d)%this.options.snapToGrid]:(y=y??3,M=[(this.parameters.box.x+h+(1&y?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+d+(2&y?0:this.parameters.box.height))%this.options.snapToGrid]),h<0&&(M[0]-=this.options.snapToGrid),d<0&&(M[1]-=this.options.snapToGrid),h-=Math.abs(M[0])<this.options.snapToGrid/2?M[0]:M[0]-(h<0?-this.options.snapToGrid:this.options.snapToGrid),d-=Math.abs(M[1])<this.options.snapToGrid/2?M[1]:M[1]-(d<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(h,d,y,C)},qt.prototype.constraintToBox=function(h,d,y,C){var M,O,N=this.options.constraint||{};return C!==void 0?(M=y,O=C):(M=this.parameters.box.x+(1&y?0:this.parameters.box.width),O=this.parameters.box.y+(2&y?0:this.parameters.box.height)),N.minX!==void 0&&M+h<N.minX&&(h=N.minX-M),N.maxX!==void 0&&M+h>N.maxX&&(h=N.maxX-M),N.minY!==void 0&&O+d<N.minY&&(d=N.minY-O),N.maxY!==void 0&&O+d>N.maxY&&(d=N.maxY-O),[h,d]},qt.prototype.checkAspectRatio=function(h,d){if(!this.options.saveAspectRatio)return h;var y=h.slice(),C=this.parameters.box.width/this.parameters.box.height,M=this.parameters.box.width+h[0],O=this.parameters.box.height-h[1],N=M/O;return N<C?(y[1]=M/C-this.parameters.box.height,d&&(y[1]=-y[1])):N>C&&(y[0]=this.parameters.box.width-O*C,d&&(y[0]=-y[0])),y},SVG.extend(SVG.Element,{resize:function(h){return(this.remember("_resizeHandler")||new qt(this)).init(h||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var $i=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ie(this.ctx),this.ctx.axes=new hr(this.ctx),this.ctx.core=new Qi(this.ctx.el,this.ctx),this.ctx.config=new gn({}),this.ctx.data=new Qe(this.ctx),this.ctx.grid=new Ge(this.ctx),this.ctx.graphics=new Wt(this.ctx),this.ctx.coreUtils=new te(this.ctx),this.ctx.crosshairs=new wn(this.ctx),this.ctx.events=new di(this.ctx),this.ctx.exports=new _n(this.ctx),this.ctx.localization=new ar(this.ctx),this.ctx.options=new Kt,this.ctx.responsive=new Wn(this.ctx),this.ctx.series=new je(this.ctx),this.ctx.theme=new si(this.ctx),this.ctx.formatters=new me(this.ctx),this.ctx.titleSubtitle=new xi(this.ctx),this.ctx.legend=new At(this.ctx),this.ctx.toolbar=new Dt(this.ctx),this.ctx.tooltip=new Zn(this.ctx),this.ctx.dimensions=new Kr(this.ctx),this.ctx.updateHelpers=new hi(this.ctx),this.ctx.zoomPanSelection=new re(this.ctx),this.ctx.w.globals.tooltip=new Zn(this.ctx)}}]),qt}(),ji=function(){function qt(h){Qt(this,qt),this.ctx=h,this.w=h.w}return $t(qt,[{key:"clear",value:function(h){var d=h.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:d})}},{key:"killSVG",value:function(h){h.each(function(d,y){this.removeClass("*"),this.off(),this.stop()},!0),h.ungroup(),h.clear()}},{key:"clearDomElements",value:function(h){var d=this,y=h.isUpdating,C=this.w.globals.dom.Paper.node;C.parentNode&&C.parentNode.parentNode&&!y&&(C.parentNode.parentNode.style.minHeight="unset");var M=this.w.globals.dom.baseEl;M&&this.ctx.eventList.forEach(function(N){M.removeEventListener(N,d.ctx.events.documentEvent)});var O=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(O.Paper),O.Paper.remove(),O.elWrap=null,O.elGraphical=null,O.elLegendWrap=null,O.elLegendForeign=null,O.baseEl=null,O.elGridRect=null,O.elGridRectMask=null,O.elGridRectMarkerMask=null,O.elForecastMask=null,O.elNonForecastMask=null,O.elDefs=null}}]),qt}(),Wi=new WeakMap,Ui=function(){function qt(h,d){Qt(this,qt),this.opts=d,this.ctx=this,this.w=new Fe(d).init(),this.el=h,this.w.globals.cuid=ct.randomId(),this.w.globals.chartID=this.w.config.chart.id?ct.escapeString(this.w.config.chart.id):this.w.globals.cuid,new $i(this).initModules(),this.create=ct.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return $t(qt,[{key:"render",value:function(){var h=this;return new Promise(function(d,y){if(h.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),h.w.config.chart.id&&Apex._chartInstances.push({id:h.w.globals.chartID,group:h.w.config.chart.group,chart:h}),h.setLocale(h.w.config.chart.defaultLocale);var C=h.w.config.chart.events.beforeMount;if(typeof C=="function"&&C(h,h.w),h.events.fireEvent("beforeMount",[h,h.w]),window.addEventListener("resize",h.windowResizeHandler),function(K,J){var it=!1;if(K.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var pt=K.getBoundingClientRect();K.style.display!=="none"&&pt.width!==0||(it=!0)}var Et=new ResizeObserver(function(Nt){it&&J.call(K,Nt),it=!0});K.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(K.children).forEach(function(Nt){return Et.observe(Nt)}):Et.observe(K),Wi.set(J,Et)}(h.el.parentNode,h.parentResizeHandler),!h.css){var M=h.el.getRootNode&&h.el.getRootNode(),O=ct.is("ShadowRoot",M),N=h.el.ownerDocument,V=N.getElementById("apexcharts-css");!O&&V||(h.css=document.createElement("style"),h.css.id="apexcharts-css",h.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,O?M.prepend(h.css):N.head.appendChild(h.css))}var q=h.create(h.w.config.series,{});if(!q)return d(h);h.mount(q).then(function(){typeof h.w.config.chart.events.mounted=="function"&&h.w.config.chart.events.mounted(h,h.w),h.events.fireEvent("mounted",[h,h.w]),d(q)}).catch(function(K){y(K)})}else y(new Error("Element not found"))})}},{key:"create",value:function(h,d){var y=this.w;new $i(this).initModules();var C=this.w.globals;if(C.noData=!1,C.animationEnded=!1,this.responsive.checkResponsiveConfig(d),y.config.xaxis.convertedCatToNumeric&&new dn(y.config).convertCatToNumericXaxis(y.config,this.ctx),this.el===null||(this.core.setupElements(),y.config.chart.type==="treemap"&&(y.config.grid.show=!1,y.config.yaxis[0].show=!1),C.svgWidth===0))return C.animationEnded=!0,null;var M=te.checkComboSeries(h);C.comboCharts=M.comboCharts,C.comboBarCount=M.comboBarCount;var O=h.every(function(K){return K.data&&K.data.length===0});(h.length===0||O)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(h),this.theme.init(),new lt(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),C.noData&&C.collapsedSeries.length!==C.series.length&&!y.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),C.axisCharts&&(this.core.coreCalculations(),y.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=y.globals.minX,this.ctx.toolbar.maxX=y.globals.maxX),this.formatters.heatmapLabelFormatters(),new te(this).getLargestMarkerSize(),this.dimensions.plotCoords();var N=this.core.xySettings();this.grid.createGridMask();var V=this.core.plotChartType(h,N),q=new en(this);return q.bringForward(),y.config.dataLabels.background.enabled&&q.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:V,xyRatios:N,dimensions:{plot:{left:y.globals.translateX,top:y.globals.translateY,width:y.globals.gridWidth,height:y.globals.gridHeight}}}}},{key:"mount",value:function(){var h=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=this,C=y.w;return new Promise(function(M,O){if(y.el===null)return O(new Error("Not enough data to display or target element not found"));(d===null||C.globals.allSeriesCollapsed)&&y.series.handleNoData(),y.grid=new Ge(y);var N=y.grid.drawGrid();if(y.annotations=new ne(y),y.annotations.drawImageAnnos(),y.annotations.drawTextAnnos(),C.config.grid.position==="back"&&N&&C.globals.dom.elGraphical.add(N.el),Array.isArray(d.elGraph))for(var V=0;V<d.elGraph.length;V++)C.globals.dom.elGraphical.add(d.elGraph[V]);else C.globals.dom.elGraphical.add(d.elGraph);C.config.grid.position==="front"&&N&&C.globals.dom.elGraphical.add(N.el),N&&N.elGridBorders&&N.elGridBorders.node&&C.globals.dom.elGraphical.add(N.elGridBorders),C.config.xaxis.crosshairs.position==="front"&&y.crosshairs.drawXCrosshairs(),C.config.yaxis[0].crosshairs.position==="front"&&y.crosshairs.drawYCrosshairs(),C.config.chart.type!=="treemap"&&y.axes.drawAxis(C.config.chart.type,N);var q=new Be(h.ctx,N),K=new Ln(h.ctx,N);if(N!==null&&(q.xAxisLabelCorrections(N.xAxisTickWidth),K.setYAxisTextAlignments(),C.config.yaxis.map(function(it,pt){C.globals.ignoreYAxisIndexes.indexOf(pt)===-1&&K.yAxisTitleRotate(pt,it.opposite)})),y.annotations.drawAxesAnnotations(),!C.globals.noData){if(C.config.tooltip.enabled&&!C.globals.noData&&y.w.globals.tooltip.drawTooltip(d.xyRatios),C.globals.axisCharts&&(C.globals.isXNumeric||C.config.xaxis.convertedCatToNumeric||C.globals.isRangeBar))(C.config.chart.zoom.enabled||C.config.chart.selection&&C.config.chart.selection.enabled||C.config.chart.pan&&C.config.chart.pan.enabled)&&y.zoomPanSelection.init({xyRatios:d.xyRatios});else{var J=C.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(it){J[it]=!1})}C.config.chart.toolbar.show&&!C.globals.allSeriesCollapsed&&y.toolbar.createToolbar()}C.globals.memory.methodsToExec.length>0&&C.globals.memory.methodsToExec.forEach(function(it){it.method(it.params,!1,it.context)}),C.globals.axisCharts||C.globals.noData||y.core.resizeNonAxisCharts(),M(y)})}},{key:"destroy",value:function(){var h,d;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,h=this.parentResizeHandler,(d=Wi.get(h))&&(d.disconnect(),Wi.delete(h));var y=this.w.config.chart.id;y&&Apex._chartInstances.forEach(function(C,M){C.id===ct.escapeString(y)&&Apex._chartInstances.splice(M,1)}),new ji(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(h){var d=this,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],O=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],N=this.w;return N.globals.selection=void 0,h.series&&(this.series.resetSeries(!1,!0,!1),h.series.length&&h.series[0].data&&(h.series=h.series.map(function(V,q){return d.updateHelpers._extendSeries(V,q)})),this.updateHelpers.revertDefaultAxisMinMax()),h.xaxis&&(h=this.updateHelpers.forceXAxisUpdate(h)),h.yaxis&&(h=this.updateHelpers.forceYAxisUpdate(h)),N.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),h.theme&&(h=this.theme.updateThemeOptions(h)),this.updateHelpers._updateOptions(h,y,C,M,O)}},{key:"updateSeries",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,d,y)}},{key:"appendSeries",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=this.w.config.series.slice();return C.push(h),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(C,d,y)}},{key:"appendData",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=this;y.w.globals.dataChanged=!0,y.series.getPreviousPaths();for(var C=y.w.config.series.slice(),M=0;M<C.length;M++)if(h[M]!==null&&h[M]!==void 0)for(var O=0;O<h[M].data.length;O++)C[M].data.push(h[M].data[O]);return y.w.config.series=C,d&&(y.w.globals.initialSeries=ct.clone(y.w.config.series)),this.update()}},{key:"update",value:function(h){var d=this;return new Promise(function(y,C){new ji(d.ctx).clear({isUpdating:!0});var M=d.create(d.w.config.series,h);if(!M)return y(d);d.mount(M).then(function(){typeof d.w.config.chart.events.updated=="function"&&d.w.config.chart.events.updated(d,d.w),d.events.fireEvent("updated",[d,d.w]),d.w.globals.isDirty=!0,y(d)}).catch(function(O){C(O)})})}},{key:"getSyncedCharts",value:function(){var h=this.getGroupedCharts(),d=[this];return h.length&&(d=[],h.forEach(function(y){d.push(y)})),d}},{key:"getGroupedCharts",value:function(){var h=this;return Apex._chartInstances.filter(function(d){if(d.group)return!0}).map(function(d){return h.w.config.chart.group===d.group?d.chart:h})}},{key:"toggleSeries",value:function(h){return this.series.toggleSeries(h)}},{key:"highlightSeriesOnLegendHover",value:function(h,d){return this.series.toggleSeriesOnHover(h,d)}},{key:"showSeries",value:function(h){this.series.showSeries(h)}},{key:"hideSeries",value:function(h){this.series.hideSeries(h)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(h,d)}},{key:"addEventListener",value:function(h,d){this.events.addEventListener(h,d)}},{key:"removeEventListener",value:function(h,d){this.events.removeEventListener(h,d)}},{key:"addXaxisAnnotation",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=this;y&&(C=y),C.annotations.addXaxisAnnotationExternal(h,d,C)}},{key:"addYaxisAnnotation",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=this;y&&(C=y),C.annotations.addYaxisAnnotationExternal(h,d,C)}},{key:"addPointAnnotation",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=this;y&&(C=y),C.annotations.addPointAnnotationExternal(h,d,C)}},{key:"clearAnnotations",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,d=this;h&&(d=h),d.annotations.clearAnnotations(d)}},{key:"removeAnnotation",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,y=this;d&&(y=d),y.annotations.removeAnnotation(y,h)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(h,d){return this.coreUtils.getSeriesTotalsXRange(h,d)}},{key:"getHighestValueInSeries",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new wr(this.ctx).getMinYMaxY(h).highestY}},{key:"getLowestValueInSeries",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new wr(this.ctx).getMinYMaxY(h).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(h,d){return this.updateHelpers.toggleDataPointSelection(h,d)}},{key:"zoomX",value:function(h,d){this.ctx.toolbar.zoomUpdateOptions(h,d)}},{key:"setLocale",value:function(h){this.localization.setCurrentLocaleValues(h)}},{key:"dataURI",value:function(h){return new _n(this.ctx).dataURI(h)}},{key:"exportToCSV",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _n(this.ctx).exportToCSV(h)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var h=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){h.w.globals.resized=!0,h.w.globals.dataChanged=!1,h.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var h=this.w.config.chart.redrawOnWindowResize;typeof h=="function"&&(h=h()),h&&this._windowResize()}}],[{key:"getChartByID",value:function(h){var d=ct.escapeString(h),y=Apex._chartInstances.filter(function(C){return C.id===d})[0];return y&&y.chart}},{key:"initOnLoad",value:function(){for(var h=document.querySelectorAll("[data-apexcharts]"),d=0;d<h.length;d++)new qt(h[d],JSON.parse(h[d].getAttribute("data-options"))).render()}},{key:"exec",value:function(h,d){var y=this.getChartByID(h);if(y){y.w.globals.isExecCalled=!0;var C=null;if(y.publicMethods.indexOf(d)!==-1){for(var M=arguments.length,O=new Array(M>2?M-2:0),N=2;N<M;N++)O[N-2]=arguments[N];C=y[d].apply(y,O)}return C}}},{key:"merge",value:function(h,d){return ct.extend(h,d)}}]),qt}();return Ui});/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(Ye,Gt){typeof exports=="object"&&typeof module<"u"?module.exports=Gt():typeof define=="function"&&define.amd?define(Gt):(Ye=typeof globalThis<"u"?globalThis:Ye||self).bootstrap=Gt()})(this,function(){"use strict";const Ye=new Map,Gt={set(oe,nt,zt){Ye.has(oe)||Ye.set(oe,new Map);const Ee=Ye.get(oe);Ee.has(nt)||Ee.size===0?Ee.set(nt,zt):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Ee.keys())[0]}.`)},get:(oe,nt)=>Ye.has(oe)&&Ye.get(oe).get(nt)||null,remove(oe,nt){if(!Ye.has(oe))return;const zt=Ye.get(oe);zt.delete(nt),zt.size===0&&Ye.delete(oe)}},Tt="transitionend",Qt=oe=>(oe&&window.CSS&&window.CSS.escape&&(oe=oe.replace(/#([^\s"#']+)/g,(nt,zt)=>`#${CSS.escape(zt)}`)),oe),Oe=oe=>{oe.dispatchEvent(new Event(Tt))},$t=oe=>!(!oe||typeof oe!="object")&&(oe.jquery!==void 0&&(oe=oe[0]),oe.nodeType!==void 0),ue=oe=>$t(oe)?oe.jquery?oe[0]:oe:typeof oe=="string"&&oe.length>0?document.querySelector(Qt(oe)):null,Jt=oe=>{if(!$t(oe)||oe.getClientRects().length===0)return!1;const nt=getComputedStyle(oe).getPropertyValue("visibility")==="visible",zt=oe.closest("details:not([open])");if(!zt)return nt;if(zt!==oe){const Ee=oe.closest("summary");if(Ee&&Ee.parentNode!==zt||Ee===null)return!1}return nt},Vt=oe=>!oe||oe.nodeType!==Node.ELEMENT_NODE||!!oe.classList.contains("disabled")||(oe.disabled!==void 0?oe.disabled:oe.hasAttribute("disabled")&&oe.getAttribute("disabled")!=="false"),bt=oe=>{if(!document.documentElement.attachShadow)return null;if(typeof oe.getRootNode=="function"){const nt=oe.getRootNode();return nt instanceof ShadowRoot?nt:null}return oe instanceof ShadowRoot?oe:oe.parentNode?bt(oe.parentNode):null},ft=()=>{},_t=oe=>{oe.offsetHeight},vt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Pt=[],kt=()=>document.documentElement.dir==="rtl",wt=oe=>{var nt;nt=()=>{const zt=vt();if(zt){const Ee=oe.NAME,bn=zt.fn[Ee];zt.fn[Ee]=oe.jQueryInterface,zt.fn[Ee].Constructor=oe,zt.fn[Ee].noConflict=()=>(zt.fn[Ee]=bn,oe.jQueryInterface)}},document.readyState==="loading"?(Pt.length||document.addEventListener("DOMContentLoaded",()=>{for(const zt of Pt)zt()}),Pt.push(nt)):nt()},ct=(oe,nt=[],zt=oe)=>typeof oe=="function"?oe(...nt):zt,ie=(oe,nt,zt=!0)=>{if(!zt)return void ct(oe);const Ee=(Nn=>{if(!Nn)return 0;let{transitionDuration:Xn,transitionDelay:fi}=window.getComputedStyle(Nn);const Bi=Number.parseFloat(Xn),Xi=Number.parseFloat(fi);return Bi||Xi?(Xn=Xn.split(",")[0],fi=fi.split(",")[0],1e3*(Number.parseFloat(Xn)+Number.parseFloat(fi))):0})(nt)+5;let bn=!1;const We=({target:Nn})=>{Nn===nt&&(bn=!0,nt.removeEventListener(Tt,We),ct(oe))};nt.addEventListener(Tt,We),setTimeout(()=>{bn||Oe(nt)},Ee)},It=(oe,nt,zt,Ee)=>{const bn=oe.length;let We=oe.indexOf(nt);return We===-1?!zt&&Ee?oe[bn-1]:oe[0]:(We+=zt?1:-1,Ee&&(We=(We+bn)%bn),oe[Math.max(0,Math.min(We,bn-1))])},Wt=/[^.]*(?=\..*)\.|.*/,te=/\..*/,fe=/::\d+$/,Me={};let ve=1;const le={mouseenter:"mouseover",mouseleave:"mouseout"},Xt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Kt(oe,nt){return nt&&`${nt}::${ve++}`||oe.uidEvent||ve++}function ne(oe){const nt=Kt(oe);return oe.uidEvent=nt,Me[nt]=Me[nt]||{},Me[nt]}function De(oe,nt,zt=null){return Object.values(oe).find(Ee=>Ee.callable===nt&&Ee.delegationSelector===zt)}function me(oe,nt,zt){const Ee=typeof nt=="string",bn=Ee?zt:nt||zt;let We=gn(oe);return Xt.has(We)||(We=oe),[Ee,bn,We]}function Ne(oe,nt,zt,Ee,bn){if(typeof nt!="string"||!oe)return;let[We,Nn,Xn]=me(nt,zt,Ee);nt in le&&(Nn=(Sn=>function(Pr){if(!Pr.relatedTarget||Pr.relatedTarget!==Pr.delegateTarget&&!Pr.delegateTarget.contains(Pr.relatedTarget))return Sn.call(this,Pr)})(Nn));const fi=ne(oe),Bi=fi[Xn]||(fi[Xn]={}),Xi=De(Bi,Nn,We?zt:null);if(Xi)return void(Xi.oneOff=Xi.oneOff&&bn);const Ci=Kt(Nn,nt.replace(Wt,"")),Br=We?function(_r,Sn,Pr){return function sr(Qr){const Co=_r.querySelectorAll(Sn);for(let{target:Lr}=Qr;Lr&&Lr!==this;Lr=Lr.parentNode)for(const nr of Co)if(nr===Lr)return Fe(Qr,{delegateTarget:Lr}),sr.oneOff&&jt.off(_r,Qr.type,Sn,Pr),Pr.apply(Lr,[Qr])}}(oe,zt,Nn):function(_r,Sn){return function Pr(sr){return Fe(sr,{delegateTarget:_r}),Pr.oneOff&&jt.off(_r,sr.type,Sn),Sn.apply(_r,[sr])}}(oe,Nn);Br.delegationSelector=We?zt:null,Br.callable=Nn,Br.oneOff=bn,Br.uidEvent=Ci,Bi[Ci]=Br,oe.addEventListener(Xn,Br,We)}function Fn(oe,nt,zt,Ee,bn){const We=De(nt[zt],Ee,bn);We&&(oe.removeEventListener(zt,We,!!bn),delete nt[zt][We.uidEvent])}function dn(oe,nt,zt,Ee){const bn=nt[zt]||{};for(const[We,Nn]of Object.entries(bn))We.includes(Ee)&&Fn(oe,nt,zt,Nn.callable,Nn.delegationSelector)}function gn(oe){return oe=oe.replace(te,""),le[oe]||oe}const jt={on(oe,nt,zt,Ee){Ne(oe,nt,zt,Ee,!1)},one(oe,nt,zt,Ee){Ne(oe,nt,zt,Ee,!0)},off(oe,nt,zt,Ee){if(typeof nt!="string"||!oe)return;const[bn,We,Nn]=me(nt,zt,Ee),Xn=Nn!==nt,fi=ne(oe),Bi=fi[Nn]||{},Xi=nt.startsWith(".");if(We===void 0){if(Xi)for(const Ci of Object.keys(fi))dn(oe,fi,Ci,nt.slice(1));for(const[Ci,Br]of Object.entries(Bi)){const _r=Ci.replace(fe,"");Xn&&!nt.includes(_r)||Fn(oe,fi,Nn,Br.callable,Br.delegationSelector)}}else{if(!Object.keys(Bi).length)return;Fn(oe,fi,Nn,We,bn?zt:null)}},trigger(oe,nt,zt){if(typeof nt!="string"||!oe)return null;const Ee=vt();let bn=null,We=!0,Nn=!0,Xn=!1;nt!==gn(nt)&&Ee&&(bn=Ee.Event(nt,zt),Ee(oe).trigger(bn),We=!bn.isPropagationStopped(),Nn=!bn.isImmediatePropagationStopped(),Xn=bn.isDefaultPrevented());const fi=Fe(new Event(nt,{bubbles:We,cancelable:!0}),zt);return Xn&&fi.preventDefault(),Nn&&oe.dispatchEvent(fi),fi.defaultPrevented&&bn&&bn.preventDefault(),fi}};function Fe(oe,nt={}){for(const[zt,Ee]of Object.entries(nt))try{oe[zt]=Ee}catch{Object.defineProperty(oe,zt,{configurable:!0,get:()=>Ee})}return oe}function ht(oe){if(oe==="true")return!0;if(oe==="false")return!1;if(oe===Number(oe).toString())return Number(oe);if(oe===""||oe==="null")return null;if(typeof oe!="string")return oe;try{return JSON.parse(decodeURIComponent(oe))}catch{return oe}}function lt(oe){return oe.replace(/[A-Z]/g,nt=>`-${nt.toLowerCase()}`)}const an={setDataAttribute(oe,nt,zt){oe.setAttribute(`data-bs-${lt(nt)}`,zt)},removeDataAttribute(oe,nt){oe.removeAttribute(`data-bs-${lt(nt)}`)},getDataAttributes(oe){if(!oe)return{};const nt={},zt=Object.keys(oe.dataset).filter(Ee=>Ee.startsWith("bs")&&!Ee.startsWith("bsConfig"));for(const Ee of zt){let bn=Ee.replace(/^bs/,"");bn=bn.charAt(0).toLowerCase()+bn.slice(1,bn.length),nt[bn]=ht(oe.dataset[Ee])}return nt},getDataAttribute:(oe,nt)=>ht(oe.getAttribute(`data-bs-${lt(nt)}`))};class en{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(nt){return nt=this._mergeConfigObj(nt),nt=this._configAfterMerge(nt),this._typeCheckConfig(nt),nt}_configAfterMerge(nt){return nt}_mergeConfigObj(nt,zt){const Ee=$t(zt)?an.getDataAttribute(zt,"config"):{};return{...this.constructor.Default,...typeof Ee=="object"?Ee:{},...$t(zt)?an.getDataAttributes(zt):{},...typeof nt=="object"?nt:{}}}_typeCheckConfig(nt,zt=this.constructor.DefaultType){for(const[bn,We]of Object.entries(zt)){const Nn=nt[bn],Xn=$t(Nn)?"element":(Ee=Nn)==null?`${Ee}`:Object.prototype.toString.call(Ee).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(We).test(Xn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${bn}" provided type "${Xn}" but expected type "${We}".`)}var Ee}}class je extends en{constructor(nt,zt){super(),(nt=ue(nt))&&(this._element=nt,this._config=this._getConfig(zt),Gt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Gt.remove(this._element,this.constructor.DATA_KEY),jt.off(this._element,this.constructor.EVENT_KEY);for(const nt of Object.getOwnPropertyNames(this))this[nt]=null}_queueCallback(nt,zt,Ee=!0){ie(nt,zt,Ee)}_getConfig(nt){return nt=this._mergeConfigObj(nt,this._element),nt=this._configAfterMerge(nt),this._typeCheckConfig(nt),nt}static getInstance(nt){return Gt.get(ue(nt),this.DATA_KEY)}static getOrCreateInstance(nt,zt={}){return this.getInstance(nt)||new this(nt,typeof zt=="object"?zt:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(nt){return`${nt}${this.EVENT_KEY}`}}const Qe=oe=>{let nt=oe.getAttribute("data-bs-target");if(!nt||nt==="#"){let zt=oe.getAttribute("href");if(!zt||!zt.includes("#")&&!zt.startsWith("."))return null;zt.includes("#")&&!zt.startsWith("#")&&(zt=`#${zt.split("#")[1]}`),nt=zt&&zt!=="#"?zt.trim():null}return Qt(nt)},Te={find:(oe,nt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(nt,oe)),findOne:(oe,nt=document.documentElement)=>Element.prototype.querySelector.call(nt,oe),children:(oe,nt)=>[].concat(...oe.children).filter(zt=>zt.matches(nt)),parents(oe,nt){const zt=[];let Ee=oe.parentNode.closest(nt);for(;Ee;)zt.push(Ee),Ee=Ee.parentNode.closest(nt);return zt},prev(oe,nt){let zt=oe.previousElementSibling;for(;zt;){if(zt.matches(nt))return[zt];zt=zt.previousElementSibling}return[]},next(oe,nt){let zt=oe.nextElementSibling;for(;zt;){if(zt.matches(nt))return[zt];zt=zt.nextElementSibling}return[]},focusableChildren(oe){const nt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(zt=>`${zt}:not([tabindex^="-"])`).join(",");return this.find(nt,oe).filter(zt=>!Vt(zt)&&Jt(zt))},getSelectorFromElement(oe){const nt=Qe(oe);return nt&&Te.findOne(nt)?nt:null},getElementFromSelector(oe){const nt=Qe(oe);return nt?Te.findOne(nt):null},getMultipleElementsFromSelector(oe){const nt=Qe(oe);return nt?Te.find(nt):[]}},_n=(oe,nt="hide")=>{const zt=`click.dismiss${oe.EVENT_KEY}`,Ee=oe.NAME;jt.on(document,zt,`[data-bs-dismiss="${Ee}"]`,function(bn){if(["A","AREA"].includes(this.tagName)&&bn.preventDefault(),Vt(this))return;const We=Te.getElementFromSelector(this)||this.closest(`.${Ee}`);oe.getOrCreateInstance(We)[nt]()})};class Be extends je{static get NAME(){return"alert"}close(){if(jt.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const nt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,nt)}_destroyElement(){this._element.remove(),jt.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(nt){return this.each(function(){const zt=Be.getOrCreateInstance(this);if(typeof nt=="string"){if(zt[nt]===void 0||nt.startsWith("_")||nt==="constructor")throw new TypeError(`No method named "${nt}"`);zt[nt](this)}})}}_n(Be,"close"),wt(Be);const Ge='[data-bs-toggle="button"]';class Mn extends je{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(nt){return this.each(function(){const zt=Mn.getOrCreateInstance(this);nt==="toggle"&&zt[nt]()})}}jt.on(document,"click.bs.button.data-api",Ge,oe=>{oe.preventDefault();const nt=oe.target.closest(Ge);Mn.getOrCreateInstance(nt).toggle()}),wt(Mn);const wr={endCallback:null,leftCallback:null,rightCallback:null},Ln={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class di extends en{constructor(nt,zt){super(),this._element=nt,nt&&di.isSupported()&&(this._config=this._getConfig(zt),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wr}static get DefaultType(){return Ln}static get NAME(){return"swipe"}dispose(){jt.off(this._element,".bs.swipe")}_start(nt){this._supportPointerEvents?this._eventIsPointerPenTouch(nt)&&(this._deltaX=nt.clientX):this._deltaX=nt.touches[0].clientX}_end(nt){this._eventIsPointerPenTouch(nt)&&(this._deltaX=nt.clientX-this._deltaX),this._handleSwipe(),ct(this._config.endCallback)}_move(nt){this._deltaX=nt.touches&&nt.touches.length>1?0:nt.touches[0].clientX-this._deltaX}_handleSwipe(){const nt=Math.abs(this._deltaX);if(nt<=40)return;const zt=nt/this._deltaX;this._deltaX=0,zt&&ct(zt>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(jt.on(this._element,"pointerdown.bs.swipe",nt=>this._start(nt)),jt.on(this._element,"pointerup.bs.swipe",nt=>this._end(nt)),this._element.classList.add("pointer-event")):(jt.on(this._element,"touchstart.bs.swipe",nt=>this._start(nt)),jt.on(this._element,"touchmove.bs.swipe",nt=>this._move(nt)),jt.on(this._element,"touchend.bs.swipe",nt=>this._end(nt)))}_eventIsPointerPenTouch(nt){return this._supportPointerEvents&&(nt.pointerType==="pen"||nt.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ar="next",hr="prev",wn="left",Wn="right",si="slid.bs.carousel",xi="carousel",oi="active",zi={ArrowLeft:Wn,ArrowRight:wn},yi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Kr extends je{constructor(nt,zt){super(nt,zt),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Te.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xi&&this.cycle()}static get Default(){return yi}static get DefaultType(){return Ar}static get NAME(){return"carousel"}next(){this._slide(ar)}nextWhenVisible(){!document.hidden&&Jt(this._element)&&this.next()}prev(){this._slide(hr)}pause(){this._isSliding&&Oe(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?jt.one(this._element,si,()=>this.cycle()):this.cycle())}to(nt){const zt=this._getItems();if(nt>zt.length-1||nt<0)return;if(this._isSliding)return void jt.one(this._element,si,()=>this.to(nt));const Ee=this._getItemIndex(this._getActive());if(Ee===nt)return;const bn=nt>Ee?ar:hr;this._slide(bn,zt[nt])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(nt){return nt.defaultInterval=nt.interval,nt}_addEventListeners(){this._config.keyboard&&jt.on(this._element,"keydown.bs.carousel",nt=>this._keydown(nt)),this._config.pause==="hover"&&(jt.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),jt.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&di.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const zt of Te.find(".carousel-item img",this._element))jt.on(zt,"dragstart.bs.carousel",Ee=>Ee.preventDefault());const nt={leftCallback:()=>this._slide(this._directionToOrder(wn)),rightCallback:()=>this._slide(this._directionToOrder(Wn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new di(this._element,nt)}_keydown(nt){if(/input|textarea/i.test(nt.target.tagName))return;const zt=zi[nt.key];zt&&(nt.preventDefault(),this._slide(this._directionToOrder(zt)))}_getItemIndex(nt){return this._getItems().indexOf(nt)}_setActiveIndicatorElement(nt){if(!this._indicatorsElement)return;const zt=Te.findOne(".active",this._indicatorsElement);zt.classList.remove(oi),zt.removeAttribute("aria-current");const Ee=Te.findOne(`[data-bs-slide-to="${nt}"]`,this._indicatorsElement);Ee&&(Ee.classList.add(oi),Ee.setAttribute("aria-current","true"))}_updateInterval(){const nt=this._activeElement||this._getActive();if(!nt)return;const zt=Number.parseInt(nt.getAttribute("data-bs-interval"),10);this._config.interval=zt||this._config.defaultInterval}_slide(nt,zt=null){if(this._isSliding)return;const Ee=this._getActive(),bn=nt===ar,We=zt||It(this._getItems(),Ee,bn,this._config.wrap);if(We===Ee)return;const Nn=this._getItemIndex(We),Xn=Ci=>jt.trigger(this._element,Ci,{relatedTarget:We,direction:this._orderToDirection(nt),from:this._getItemIndex(Ee),to:Nn});if(Xn("slide.bs.carousel").defaultPrevented||!Ee||!We)return;const fi=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Nn),this._activeElement=We;const Bi=bn?"carousel-item-start":"carousel-item-end",Xi=bn?"carousel-item-next":"carousel-item-prev";We.classList.add(Xi),_t(We),Ee.classList.add(Bi),We.classList.add(Bi),this._queueCallback(()=>{We.classList.remove(Bi,Xi),We.classList.add(oi),Ee.classList.remove(oi,Xi,Bi),this._isSliding=!1,Xn(si)},Ee,this._isAnimated()),fi&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Te.findOne(".active.carousel-item",this._element)}_getItems(){return Te.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(nt){return kt()?nt===wn?hr:ar:nt===wn?ar:hr}_orderToDirection(nt){return kt()?nt===hr?wn:Wn:nt===hr?Wn:wn}static jQueryInterface(nt){return this.each(function(){const zt=Kr.getOrCreateInstance(this,nt);if(typeof nt!="number"){if(typeof nt=="string"){if(zt[nt]===void 0||nt.startsWith("_")||nt==="constructor")throw new TypeError(`No method named "${nt}"`);zt[nt]()}}else zt.to(nt)})}}jt.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(oe){const nt=Te.getElementFromSelector(this);if(!nt||!nt.classList.contains(xi))return;oe.preventDefault();const zt=Kr.getOrCreateInstance(nt),Ee=this.getAttribute("data-bs-slide-to");return Ee?(zt.to(Ee),void zt._maybeEnableCycle()):an.getDataAttribute(this,"slide")==="next"?(zt.next(),void zt._maybeEnableCycle()):(zt.prev(),void zt._maybeEnableCycle())}),jt.on(window,"load.bs.carousel.data-api",()=>{const oe=Te.find('[data-bs-ride="carousel"]');for(const nt of oe)Kr.getOrCreateInstance(nt)}),wt(Kr);const Yt="show",At="collapse",Dt="collapsing",re='[data-bs-toggle="collapse"]',Pe={parent:null,toggle:!0},He={parent:"(null|element)",toggle:"boolean"};class ye extends je{constructor(nt,zt){super(nt,zt),this._isTransitioning=!1,this._triggerArray=[];const Ee=Te.find(re);for(const bn of Ee){const We=Te.getSelectorFromElement(bn),Nn=Te.find(We).filter(Xn=>Xn===this._element);We!==null&&Nn.length&&this._triggerArray.push(bn)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pe}static get DefaultType(){return He}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let nt=[];if(this._config.parent&&(nt=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(bn=>bn!==this._element).map(bn=>ye.getOrCreateInstance(bn,{toggle:!1}))),nt.length&&nt[0]._isTransitioning||jt.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const bn of nt)bn.hide();const zt=this._getDimension();this._element.classList.remove(At),this._element.classList.add(Dt),this._element.style[zt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ee=`scroll${zt[0].toUpperCase()+zt.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Dt),this._element.classList.add(At,Yt),this._element.style[zt]="",jt.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[zt]=`${this._element[Ee]}px`}hide(){if(this._isTransitioning||!this._isShown()||jt.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const nt=this._getDimension();this._element.style[nt]=`${this._element.getBoundingClientRect()[nt]}px`,_t(this._element),this._element.classList.add(Dt),this._element.classList.remove(At,Yt);for(const zt of this._triggerArray){const Ee=Te.getElementFromSelector(zt);Ee&&!this._isShown(Ee)&&this._addAriaAndCollapsedClass([zt],!1)}this._isTransitioning=!0,this._element.style[nt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Dt),this._element.classList.add(At),jt.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(nt=this._element){return nt.classList.contains(Yt)}_configAfterMerge(nt){return nt.toggle=!!nt.toggle,nt.parent=ue(nt.parent),nt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const nt=this._getFirstLevelChildren(re);for(const zt of nt){const Ee=Te.getElementFromSelector(zt);Ee&&this._addAriaAndCollapsedClass([zt],this._isShown(Ee))}}_getFirstLevelChildren(nt){const zt=Te.find(":scope .collapse .collapse",this._config.parent);return Te.find(nt,this._config.parent).filter(Ee=>!zt.includes(Ee))}_addAriaAndCollapsedClass(nt,zt){if(nt.length)for(const Ee of nt)Ee.classList.toggle("collapsed",!zt),Ee.setAttribute("aria-expanded",zt)}static jQueryInterface(nt){const zt={};return typeof nt=="string"&&/show|hide/.test(nt)&&(zt.toggle=!1),this.each(function(){const Ee=ye.getOrCreateInstance(this,zt);if(typeof nt=="string"){if(Ee[nt]===void 0)throw new TypeError(`No method named "${nt}"`);Ee[nt]()}})}}jt.on(document,"click.bs.collapse.data-api",re,function(oe){(oe.target.tagName==="A"||oe.delegateTarget&&oe.delegateTarget.tagName==="A")&&oe.preventDefault();for(const nt of Te.getMultipleElementsFromSelector(this))ye.getOrCreateInstance(nt,{toggle:!1}).toggle()}),wt(ye);var Le="top",Ve="bottom",ze="right",Zn="left",Ii="auto",bi=[Le,Ve,ze,Zn],ln="start",Vn="end",ti="clippingParents",Hn="viewport",wi="popper",Dn="reference",Hi=bi.reduce(function(oe,nt){return oe.concat([nt+"-"+ln,nt+"-"+Vn])},[]),Er=[].concat(bi,[Ii]).reduce(function(oe,nt){return oe.concat([nt,nt+"-"+ln,nt+"-"+Vn])},[]),Or="beforeRead",Cr="read",Ji="afterRead",Fi="beforeMain",jr="main",Tr="afterMain",Yi="beforeWrite",gi="write",ii="afterWrite",Qi=[Or,Cr,Ji,Fi,jr,Tr,Yi,gi,ii];function hi(oe){return oe?(oe.nodeName||"").toLowerCase():null}function $i(oe){if(oe==null)return window;if(oe.toString()!=="[object Window]"){var nt=oe.ownerDocument;return nt&&nt.defaultView||window}return oe}function ji(oe){return oe instanceof $i(oe).Element||oe instanceof Element}function Wi(oe){return oe instanceof $i(oe).HTMLElement||oe instanceof HTMLElement}function Ui(oe){return typeof ShadowRoot<"u"&&(oe instanceof $i(oe).ShadowRoot||oe instanceof ShadowRoot)}const qt={name:"applyStyles",enabled:!0,phase:"write",fn:function(oe){var nt=oe.state;Object.keys(nt.elements).forEach(function(zt){var Ee=nt.styles[zt]||{},bn=nt.attributes[zt]||{},We=nt.elements[zt];Wi(We)&&hi(We)&&(Object.assign(We.style,Ee),Object.keys(bn).forEach(function(Nn){var Xn=bn[Nn];Xn===!1?We.removeAttribute(Nn):We.setAttribute(Nn,Xn===!0?"":Xn)}))})},effect:function(oe){var nt=oe.state,zt={popper:{position:nt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(nt.elements.popper.style,zt.popper),nt.styles=zt,nt.elements.arrow&&Object.assign(nt.elements.arrow.style,zt.arrow),function(){Object.keys(nt.elements).forEach(function(Ee){var bn=nt.elements[Ee],We=nt.attributes[Ee]||{},Nn=Object.keys(nt.styles.hasOwnProperty(Ee)?nt.styles[Ee]:zt[Ee]).reduce(function(Xn,fi){return Xn[fi]="",Xn},{});Wi(bn)&&hi(bn)&&(Object.assign(bn.style,Nn),Object.keys(We).forEach(function(Xn){bn.removeAttribute(Xn)}))})}},requires:["computeStyles"]};function h(oe){return oe.split("-")[0]}var d=Math.max,y=Math.min,C=Math.round;function M(){var oe=navigator.userAgentData;return oe!=null&&oe.brands&&Array.isArray(oe.brands)?oe.brands.map(function(nt){return nt.brand+"/"+nt.version}).join(" "):navigator.userAgent}function O(){return!/^((?!chrome|android).)*safari/i.test(M())}function N(oe,nt,zt){nt===void 0&&(nt=!1),zt===void 0&&(zt=!1);var Ee=oe.getBoundingClientRect(),bn=1,We=1;nt&&Wi(oe)&&(bn=oe.offsetWidth>0&&C(Ee.width)/oe.offsetWidth||1,We=oe.offsetHeight>0&&C(Ee.height)/oe.offsetHeight||1);var Nn=(ji(oe)?$i(oe):window).visualViewport,Xn=!O()&&zt,fi=(Ee.left+(Xn&&Nn?Nn.offsetLeft:0))/bn,Bi=(Ee.top+(Xn&&Nn?Nn.offsetTop:0))/We,Xi=Ee.width/bn,Ci=Ee.height/We;return{width:Xi,height:Ci,top:Bi,right:fi+Xi,bottom:Bi+Ci,left:fi,x:fi,y:Bi}}function V(oe){var nt=N(oe),zt=oe.offsetWidth,Ee=oe.offsetHeight;return Math.abs(nt.width-zt)<=1&&(zt=nt.width),Math.abs(nt.height-Ee)<=1&&(Ee=nt.height),{x:oe.offsetLeft,y:oe.offsetTop,width:zt,height:Ee}}function q(oe,nt){var zt=nt.getRootNode&&nt.getRootNode();if(oe.contains(nt))return!0;if(zt&&Ui(zt)){var Ee=nt;do{if(Ee&&oe.isSameNode(Ee))return!0;Ee=Ee.parentNode||Ee.host}while(Ee)}return!1}function K(oe){return $i(oe).getComputedStyle(oe)}function J(oe){return["table","td","th"].indexOf(hi(oe))>=0}function it(oe){return((ji(oe)?oe.ownerDocument:oe.document)||window.document).documentElement}function pt(oe){return hi(oe)==="html"?oe:oe.assignedSlot||oe.parentNode||(Ui(oe)?oe.host:null)||it(oe)}function Et(oe){return Wi(oe)&&K(oe).position!=="fixed"?oe.offsetParent:null}function Nt(oe){for(var nt=$i(oe),zt=Et(oe);zt&&J(zt)&&K(zt).position==="static";)zt=Et(zt);return zt&&(hi(zt)==="html"||hi(zt)==="body"&&K(zt).position==="static")?nt:zt||function(Ee){var bn=/firefox/i.test(M());if(/Trident/i.test(M())&&Wi(Ee)&&K(Ee).position==="fixed")return null;var We=pt(Ee);for(Ui(We)&&(We=We.host);Wi(We)&&["html","body"].indexOf(hi(We))<0;){var Nn=K(We);if(Nn.transform!=="none"||Nn.perspective!=="none"||Nn.contain==="paint"||["transform","perspective"].indexOf(Nn.willChange)!==-1||bn&&Nn.willChange==="filter"||bn&&Nn.filter&&Nn.filter!=="none")return We;We=We.parentNode}return null}(oe)||nt}function ee(oe){return["top","bottom"].indexOf(oe)>=0?"x":"y"}function he(oe,nt,zt){return d(oe,y(nt,zt))}function Ae(oe){return Object.assign({},{top:0,right:0,bottom:0,left:0},oe)}function W(oe,nt){return nt.reduce(function(zt,Ee){return zt[Ee]=oe,zt},{})}const rt={name:"arrow",enabled:!0,phase:"main",fn:function(oe){var nt,zt=oe.state,Ee=oe.name,bn=oe.options,We=zt.elements.arrow,Nn=zt.modifiersData.popperOffsets,Xn=h(zt.placement),fi=ee(Xn),Bi=[Zn,ze].indexOf(Xn)>=0?"height":"width";if(We&&Nn){var Xi=function(go,mo){return Ae(typeof(go=typeof go=="function"?go(Object.assign({},mo.rects,{placement:mo.placement})):go)!="number"?go:W(go,bi))}(bn.padding,zt),Ci=V(We),Br=fi==="y"?Le:Zn,_r=fi==="y"?Ve:ze,Sn=zt.rects.reference[Bi]+zt.rects.reference[fi]-Nn[fi]-zt.rects.popper[Bi],Pr=Nn[fi]-zt.rects.reference[fi],sr=Nt(We),Qr=sr?fi==="y"?sr.clientHeight||0:sr.clientWidth||0:0,Co=Sn/2-Pr/2,Lr=Xi[Br],nr=Qr-Ci[Bi]-Xi[_r],Yr=Qr/2-Ci[Bi]/2+Co,dr=he(Lr,Yr,nr),or=fi;zt.modifiersData[Ee]=((nt={})[or]=dr,nt.centerOffset=dr-Yr,nt)}},effect:function(oe){var nt=oe.state,zt=oe.options.element,Ee=zt===void 0?"[data-popper-arrow]":zt;Ee!=null&&(typeof Ee!="string"||(Ee=nt.elements.popper.querySelector(Ee)))&&q(nt.elements.popper,Ee)&&(nt.elements.arrow=Ee)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ot(oe){return oe.split("-")[1]}var ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xe(oe){var nt,zt=oe.popper,Ee=oe.popperRect,bn=oe.placement,We=oe.variation,Nn=oe.offsets,Xn=oe.position,fi=oe.gpuAcceleration,Bi=oe.adaptive,Xi=oe.roundOffsets,Ci=oe.isFixed,Br=Nn.x,_r=Br===void 0?0:Br,Sn=Nn.y,Pr=Sn===void 0?0:Sn,sr=typeof Xi=="function"?Xi({x:_r,y:Pr}):{x:_r,y:Pr};_r=sr.x,Pr=sr.y;var Qr=Nn.hasOwnProperty("x"),Co=Nn.hasOwnProperty("y"),Lr=Zn,nr=Le,Yr=window;if(Bi){var dr=Nt(zt),or="clientHeight",go="clientWidth";dr===$i(zt)&&K(dr=it(zt)).position!=="static"&&Xn==="absolute"&&(or="scrollHeight",go="scrollWidth"),(bn===Le||(bn===Zn||bn===ze)&&We===Vn)&&(nr=Ve,Pr-=(Ci&&dr===Yr&&Yr.visualViewport?Yr.visualViewport.height:dr[or])-Ee.height,Pr*=fi?1:-1),bn!==Zn&&(bn!==Le&&bn!==Ve||We!==Vn)||(Lr=ze,_r-=(Ci&&dr===Yr&&Yr.visualViewport?Yr.visualViewport.width:dr[go])-Ee.width,_r*=fi?1:-1)}var mo,io=Object.assign({position:Xn},Bi&&ce),Va=Xi===!0?function(Ta,no){var _a=Ta.x,la=Ta.y,xo=no.devicePixelRatio||1;return{x:C(_a*xo)/xo||0,y:C(la*xo)/xo||0}}({x:_r,y:Pr},$i(zt)):{x:_r,y:Pr};return _r=Va.x,Pr=Va.y,fi?Object.assign({},io,((mo={})[nr]=Co?"0":"",mo[Lr]=Qr?"0":"",mo.transform=(Yr.devicePixelRatio||1)<=1?"translate("+_r+"px, "+Pr+"px)":"translate3d("+_r+"px, "+Pr+"px, 0)",mo)):Object.assign({},io,((nt={})[nr]=Co?Pr+"px":"",nt[Lr]=Qr?_r+"px":"",nt.transform="",nt))}const Ie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(oe){var nt=oe.state,zt=oe.options,Ee=zt.gpuAcceleration,bn=Ee===void 0||Ee,We=zt.adaptive,Nn=We===void 0||We,Xn=zt.roundOffsets,fi=Xn===void 0||Xn,Bi={placement:h(nt.placement),variation:Ot(nt.placement),popper:nt.elements.popper,popperRect:nt.rects.popper,gpuAcceleration:bn,isFixed:nt.options.strategy==="fixed"};nt.modifiersData.popperOffsets!=null&&(nt.styles.popper=Object.assign({},nt.styles.popper,xe(Object.assign({},Bi,{offsets:nt.modifiersData.popperOffsets,position:nt.options.strategy,adaptive:Nn,roundOffsets:fi})))),nt.modifiersData.arrow!=null&&(nt.styles.arrow=Object.assign({},nt.styles.arrow,xe(Object.assign({},Bi,{offsets:nt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:fi})))),nt.attributes.popper=Object.assign({},nt.attributes.popper,{"data-popper-placement":nt.placement})},data:{}};var on={passive:!0};const un={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(oe){var nt=oe.state,zt=oe.instance,Ee=oe.options,bn=Ee.scroll,We=bn===void 0||bn,Nn=Ee.resize,Xn=Nn===void 0||Nn,fi=$i(nt.elements.popper),Bi=[].concat(nt.scrollParents.reference,nt.scrollParents.popper);return We&&Bi.forEach(function(Xi){Xi.addEventListener("scroll",zt.update,on)}),Xn&&fi.addEventListener("resize",zt.update,on),function(){We&&Bi.forEach(function(Xi){Xi.removeEventListener("scroll",zt.update,on)}),Xn&&fi.removeEventListener("resize",zt.update,on)}},data:{}};var Bn={left:"right",right:"left",bottom:"top",top:"bottom"};function jn(oe){return oe.replace(/left|right|bottom|top/g,function(nt){return Bn[nt]})}var ai={start:"end",end:"start"};function ci(oe){return oe.replace(/start|end/g,function(nt){return ai[nt]})}function vr(oe){var nt=$i(oe);return{scrollLeft:nt.pageXOffset,scrollTop:nt.pageYOffset}}function rr(oe){return N(it(oe)).left+vr(oe).scrollLeft}function er(oe){var nt=K(oe),zt=nt.overflow,Ee=nt.overflowX,bn=nt.overflowY;return/auto|scroll|overlay|hidden/.test(zt+bn+Ee)}function Xr(oe){return["html","body","#document"].indexOf(hi(oe))>=0?oe.ownerDocument.body:Wi(oe)&&er(oe)?oe:Xr(pt(oe))}function bo(oe,nt){var zt;nt===void 0&&(nt=[]);var Ee=Xr(oe),bn=Ee===((zt=oe.ownerDocument)==null?void 0:zt.body),We=$i(Ee),Nn=bn?[We].concat(We.visualViewport||[],er(Ee)?Ee:[]):Ee,Xn=nt.concat(Nn);return bn?Xn:Xn.concat(bo(pt(Nn)))}function qr(oe){return Object.assign({},oe,{left:oe.x,top:oe.y,right:oe.x+oe.width,bottom:oe.y+oe.height})}function fo(oe,nt,zt){return nt===Hn?qr(function(Ee,bn){var We=$i(Ee),Nn=it(Ee),Xn=We.visualViewport,fi=Nn.clientWidth,Bi=Nn.clientHeight,Xi=0,Ci=0;if(Xn){fi=Xn.width,Bi=Xn.height;var Br=O();(Br||!Br&&bn==="fixed")&&(Xi=Xn.offsetLeft,Ci=Xn.offsetTop)}return{width:fi,height:Bi,x:Xi+rr(Ee),y:Ci}}(oe,zt)):ji(nt)?function(Ee,bn){var We=N(Ee,!1,bn==="fixed");return We.top=We.top+Ee.clientTop,We.left=We.left+Ee.clientLeft,We.bottom=We.top+Ee.clientHeight,We.right=We.left+Ee.clientWidth,We.width=Ee.clientWidth,We.height=Ee.clientHeight,We.x=We.left,We.y=We.top,We}(nt,zt):qr(function(Ee){var bn,We=it(Ee),Nn=vr(Ee),Xn=(bn=Ee.ownerDocument)==null?void 0:bn.body,fi=d(We.scrollWidth,We.clientWidth,Xn?Xn.scrollWidth:0,Xn?Xn.clientWidth:0),Bi=d(We.scrollHeight,We.clientHeight,Xn?Xn.scrollHeight:0,Xn?Xn.clientHeight:0),Xi=-Nn.scrollLeft+rr(Ee),Ci=-Nn.scrollTop;return K(Xn||We).direction==="rtl"&&(Xi+=d(We.clientWidth,Xn?Xn.clientWidth:0)-fi),{width:fi,height:Bi,x:Xi,y:Ci}}(it(oe)))}function Na(oe){var nt,zt=oe.reference,Ee=oe.element,bn=oe.placement,We=bn?h(bn):null,Nn=bn?Ot(bn):null,Xn=zt.x+zt.width/2-Ee.width/2,fi=zt.y+zt.height/2-Ee.height/2;switch(We){case Le:nt={x:Xn,y:zt.y-Ee.height};break;case Ve:nt={x:Xn,y:zt.y+zt.height};break;case ze:nt={x:zt.x+zt.width,y:fi};break;case Zn:nt={x:zt.x-Ee.width,y:fi};break;default:nt={x:zt.x,y:zt.y}}var Bi=We?ee(We):null;if(Bi!=null){var Xi=Bi==="y"?"height":"width";switch(Nn){case ln:nt[Bi]=nt[Bi]-(zt[Xi]/2-Ee[Xi]/2);break;case Vn:nt[Bi]=nt[Bi]+(zt[Xi]/2-Ee[Xi]/2)}}return nt}function Gi(oe,nt){nt===void 0&&(nt={});var zt=nt,Ee=zt.placement,bn=Ee===void 0?oe.placement:Ee,We=zt.strategy,Nn=We===void 0?oe.strategy:We,Xn=zt.boundary,fi=Xn===void 0?ti:Xn,Bi=zt.rootBoundary,Xi=Bi===void 0?Hn:Bi,Ci=zt.elementContext,Br=Ci===void 0?wi:Ci,_r=zt.altBoundary,Sn=_r!==void 0&&_r,Pr=zt.padding,sr=Pr===void 0?0:Pr,Qr=Ae(typeof sr!="number"?sr:W(sr,bi)),Co=Br===wi?Dn:wi,Lr=oe.rects.popper,nr=oe.elements[Sn?Co:Br],Yr=function(no,_a,la,xo){var ls=_a==="clippingParents"?function(_o){var qo=bo(pt(_o)),zo=["absolute","fixed"].indexOf(K(_o).position)>=0&&Wi(_o)?Nt(_o):_o;return ji(zo)?qo.filter(function(fl){return ji(fl)&&q(fl,zo)&&hi(fl)!=="body"}):[]}(no):[].concat(_a),bs=[].concat(ls,[la]),Wo=bs[0],Gr=bs.reduce(function(_o,qo){var zo=fo(no,qo,xo);return _o.top=d(zo.top,_o.top),_o.right=y(zo.right,_o.right),_o.bottom=y(zo.bottom,_o.bottom),_o.left=d(zo.left,_o.left),_o},fo(no,Wo,xo));return Gr.width=Gr.right-Gr.left,Gr.height=Gr.bottom-Gr.top,Gr.x=Gr.left,Gr.y=Gr.top,Gr}(ji(nr)?nr:nr.contextElement||it(oe.elements.popper),fi,Xi,Nn),dr=N(oe.elements.reference),or=Na({reference:dr,element:Lr,strategy:"absolute",placement:bn}),go=qr(Object.assign({},Lr,or)),mo=Br===wi?go:dr,io={top:Yr.top-mo.top+Qr.top,bottom:mo.bottom-Yr.bottom+Qr.bottom,left:Yr.left-mo.left+Qr.left,right:mo.right-Yr.right+Qr.right},Va=oe.modifiersData.offset;if(Br===wi&&Va){var Ta=Va[bn];Object.keys(io).forEach(function(no){var _a=[ze,Ve].indexOf(no)>=0?1:-1,la=[Le,Ve].indexOf(no)>=0?"y":"x";io[no]+=Ta[la]*_a})}return io}function Dr(oe,nt){nt===void 0&&(nt={});var zt=nt,Ee=zt.placement,bn=zt.boundary,We=zt.rootBoundary,Nn=zt.padding,Xn=zt.flipVariations,fi=zt.allowedAutoPlacements,Bi=fi===void 0?Er:fi,Xi=Ot(Ee),Ci=Xi?Xn?Hi:Hi.filter(function(Sn){return Ot(Sn)===Xi}):bi,Br=Ci.filter(function(Sn){return Bi.indexOf(Sn)>=0});Br.length===0&&(Br=Ci);var _r=Br.reduce(function(Sn,Pr){return Sn[Pr]=Gi(oe,{placement:Pr,boundary:bn,rootBoundary:We,padding:Nn})[h(Pr)],Sn},{});return Object.keys(_r).sort(function(Sn,Pr){return _r[Sn]-_r[Pr]})}const Ra={name:"flip",enabled:!0,phase:"main",fn:function(oe){var nt=oe.state,zt=oe.options,Ee=oe.name;if(!nt.modifiersData[Ee]._skip){for(var bn=zt.mainAxis,We=bn===void 0||bn,Nn=zt.altAxis,Xn=Nn===void 0||Nn,fi=zt.fallbackPlacements,Bi=zt.padding,Xi=zt.boundary,Ci=zt.rootBoundary,Br=zt.altBoundary,_r=zt.flipVariations,Sn=_r===void 0||_r,Pr=zt.allowedAutoPlacements,sr=nt.options.placement,Qr=h(sr),Co=fi||(Qr!==sr&&Sn?function(_o){if(h(_o)===Ii)return[];var qo=jn(_o);return[ci(_o),qo,ci(qo)]}(sr):[jn(sr)]),Lr=[sr].concat(Co).reduce(function(_o,qo){return _o.concat(h(qo)===Ii?Dr(nt,{placement:qo,boundary:Xi,rootBoundary:Ci,padding:Bi,flipVariations:Sn,allowedAutoPlacements:Pr}):qo)},[]),nr=nt.rects.reference,Yr=nt.rects.popper,dr=new Map,or=!0,go=Lr[0],mo=0;mo<Lr.length;mo++){var io=Lr[mo],Va=h(io),Ta=Ot(io)===ln,no=[Le,Ve].indexOf(Va)>=0,_a=no?"width":"height",la=Gi(nt,{placement:io,boundary:Xi,rootBoundary:Ci,altBoundary:Br,padding:Bi}),xo=no?Ta?ze:Zn:Ta?Ve:Le;nr[_a]>Yr[_a]&&(xo=jn(xo));var ls=jn(xo),bs=[];if(We&&bs.push(la[Va]<=0),Xn&&bs.push(la[xo]<=0,la[ls]<=0),bs.every(function(_o){return _o})){go=io,or=!1;break}dr.set(io,bs)}if(or)for(var Wo=function(_o){var qo=Lr.find(function(zo){var fl=dr.get(zo);if(fl)return fl.slice(0,_o).every(function(xs){return xs})});if(qo)return go=qo,"break"},Gr=Sn?3:1;Gr>0&&Wo(Gr)!=="break";Gr--);nt.placement!==go&&(nt.modifiersData[Ee]._skip=!0,nt.placement=go,nt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function No(oe,nt,zt){return zt===void 0&&(zt={x:0,y:0}),{top:oe.top-nt.height-zt.y,right:oe.right-nt.width+zt.x,bottom:oe.bottom-nt.height+zt.y,left:oe.left-nt.width-zt.x}}function ko(oe){return[Le,ze,Ve,Zn].some(function(nt){return oe[nt]>=0})}const zn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(oe){var nt=oe.state,zt=oe.name,Ee=nt.rects.reference,bn=nt.rects.popper,We=nt.modifiersData.preventOverflow,Nn=Gi(nt,{elementContext:"reference"}),Xn=Gi(nt,{altBoundary:!0}),fi=No(Nn,Ee),Bi=No(Xn,bn,We),Xi=ko(fi),Ci=ko(Bi);nt.modifiersData[zt]={referenceClippingOffsets:fi,popperEscapeOffsets:Bi,isReferenceHidden:Xi,hasPopperEscaped:Ci},nt.attributes.popper=Object.assign({},nt.attributes.popper,{"data-popper-reference-hidden":Xi,"data-popper-escaped":Ci})}},Zo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(oe){var nt=oe.state,zt=oe.options,Ee=oe.name,bn=zt.offset,We=bn===void 0?[0,0]:bn,Nn=Er.reduce(function(Xi,Ci){return Xi[Ci]=function(Br,_r,Sn){var Pr=h(Br),sr=[Zn,Le].indexOf(Pr)>=0?-1:1,Qr=typeof Sn=="function"?Sn(Object.assign({},_r,{placement:Br})):Sn,Co=Qr[0],Lr=Qr[1];return Co=Co||0,Lr=(Lr||0)*sr,[Zn,ze].indexOf(Pr)>=0?{x:Lr,y:Co}:{x:Co,y:Lr}}(Ci,nt.rects,We),Xi},{}),Xn=Nn[nt.placement],fi=Xn.x,Bi=Xn.y;nt.modifiersData.popperOffsets!=null&&(nt.modifiersData.popperOffsets.x+=fi,nt.modifiersData.popperOffsets.y+=Bi),nt.modifiersData[Ee]=Nn}},Ro={name:"popperOffsets",enabled:!0,phase:"read",fn:function(oe){var nt=oe.state,zt=oe.name;nt.modifiersData[zt]=Na({reference:nt.rects.reference,element:nt.rects.popper,strategy:"absolute",placement:nt.placement})},data:{}},ns={name:"preventOverflow",enabled:!0,phase:"main",fn:function(oe){var nt=oe.state,zt=oe.options,Ee=oe.name,bn=zt.mainAxis,We=bn===void 0||bn,Nn=zt.altAxis,Xn=Nn!==void 0&&Nn,fi=zt.boundary,Bi=zt.rootBoundary,Xi=zt.altBoundary,Ci=zt.padding,Br=zt.tether,_r=Br===void 0||Br,Sn=zt.tetherOffset,Pr=Sn===void 0?0:Sn,sr=Gi(nt,{boundary:fi,rootBoundary:Bi,padding:Ci,altBoundary:Xi}),Qr=h(nt.placement),Co=Ot(nt.placement),Lr=!Co,nr=ee(Qr),Yr=nr==="x"?"y":"x",dr=nt.modifiersData.popperOffsets,or=nt.rects.reference,go=nt.rects.popper,mo=typeof Pr=="function"?Pr(Object.assign({},nt.rects,{placement:nt.placement})):Pr,io=typeof mo=="number"?{mainAxis:mo,altAxis:mo}:Object.assign({mainAxis:0,altAxis:0},mo),Va=nt.modifiersData.offset?nt.modifiersData.offset[nt.placement]:null,Ta={x:0,y:0};if(dr){if(We){var no,_a=nr==="y"?Le:Zn,la=nr==="y"?Ve:ze,xo=nr==="y"?"height":"width",ls=dr[nr],bs=ls+sr[_a],Wo=ls-sr[la],Gr=_r?-go[xo]/2:0,_o=Co===ln?or[xo]:go[xo],qo=Co===ln?-go[xo]:-or[xo],zo=nt.elements.arrow,fl=_r&&zo?V(zo):{width:0,height:0},xs=nt.modifiersData["arrow#persistent"]?nt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},cu=xs[_a],Ws=xs[la],zl=he(0,or[xo],fl[xo]),js=Lr?or[xo]/2-Gr-zl-cu-io.mainAxis:_o-zl-cu-io.mainAxis,uu=Lr?-or[xo]/2+Gr+zl+Ws+io.mainAxis:qo+zl+Ws+io.mainAxis,pc=nt.elements.arrow&&Nt(nt.elements.arrow),fc=pc?nr==="y"?pc.clientTop||0:pc.clientLeft||0:0,Jo=(no=Va?.[nr])!=null?no:0,jo=ls+uu-Jo,gl=he(_r?y(bs,ls+js-Jo-fc):bs,ls,_r?d(Wo,jo):Wo);dr[nr]=gl,Ta[nr]=gl-ls}if(Xn){var Za,Sd=nr==="x"?Le:Zn,Lc=nr==="x"?Ve:ze,_s=dr[Yr],ws=Yr==="y"?"height":"width",Di=_s+sr[Sd],Gu=_s-sr[Lc],Ys=[Le,Zn].indexOf(Qr)!==-1,Fh=(Za=Va?.[Yr])!=null?Za:0,hu=Ys?Di:_s-or[ws]-go[ws]-Fh+io.altAxis,Pc=Ys?_s+or[ws]+go[ws]-Fh-io.altAxis:Gu,Vh=_r&&Ys?function(jp,eo,ei){var Mo=he(jp,eo,ei);return Mo>ei?ei:Mo}(hu,_s,Pc):he(_r?hu:Di,_s,_r?Pc:Gu);dr[Yr]=Vh,Ta[Yr]=Vh-_s}nt.modifiersData[Ee]=Ta}},requiresIfExists:["offset"]};function yr(oe,nt,zt){zt===void 0&&(zt=!1);var Ee,bn,We=Wi(nt),Nn=Wi(nt)&&function(Ci){var Br=Ci.getBoundingClientRect(),_r=C(Br.width)/Ci.offsetWidth||1,Sn=C(Br.height)/Ci.offsetHeight||1;return _r!==1||Sn!==1}(nt),Xn=it(nt),fi=N(oe,Nn,zt),Bi={scrollLeft:0,scrollTop:0},Xi={x:0,y:0};return(We||!We&&!zt)&&((hi(nt)!=="body"||er(Xn))&&(Bi=(Ee=nt)!==$i(Ee)&&Wi(Ee)?{scrollLeft:(bn=Ee).scrollLeft,scrollTop:bn.scrollTop}:vr(Ee)),Wi(nt)?((Xi=N(nt,!0)).x+=nt.clientLeft,Xi.y+=nt.clientTop):Xn&&(Xi.x=rr(Xn))),{x:fi.left+Bi.scrollLeft-Xi.x,y:fi.top+Bi.scrollTop-Xi.y,width:fi.width,height:fi.height}}function pd(oe){var nt=new Map,zt=new Set,Ee=[];function bn(We){zt.add(We.name),[].concat(We.requires||[],We.requiresIfExists||[]).forEach(function(Nn){if(!zt.has(Nn)){var Xn=nt.get(Nn);Xn&&bn(Xn)}}),Ee.push(We)}return oe.forEach(function(We){nt.set(We.name,We)}),oe.forEach(function(We){zt.has(We.name)||bn(We)}),Ee}var og={placement:"bottom",modifiers:[],strategy:"absolute"};function ag(){for(var oe=arguments.length,nt=new Array(oe),zt=0;zt<oe;zt++)nt[zt]=arguments[zt];return!nt.some(function(Ee){return!(Ee&&typeof Ee.getBoundingClientRect=="function")})}function Fr(oe){oe===void 0&&(oe={});var nt=oe,zt=nt.defaultModifiers,Ee=zt===void 0?[]:zt,bn=nt.defaultOptions,We=bn===void 0?og:bn;return function(Nn,Xn,fi){fi===void 0&&(fi=We);var Bi,Xi,Ci={placement:"bottom",orderedModifiers:[],options:Object.assign({},og,We),modifiersData:{},elements:{reference:Nn,popper:Xn},attributes:{},styles:{}},Br=[],_r=!1,Sn={state:Ci,setOptions:function(sr){var Qr=typeof sr=="function"?sr(Ci.options):sr;Pr(),Ci.options=Object.assign({},We,Ci.options,Qr),Ci.scrollParents={reference:ji(Nn)?bo(Nn):Nn.contextElement?bo(Nn.contextElement):[],popper:bo(Xn)};var Co,Lr,nr=function(Yr){var dr=pd(Yr);return Qi.reduce(function(or,go){return or.concat(dr.filter(function(mo){return mo.phase===go}))},[])}((Co=[].concat(Ee,Ci.options.modifiers),Lr=Co.reduce(function(Yr,dr){var or=Yr[dr.name];return Yr[dr.name]=or?Object.assign({},or,dr,{options:Object.assign({},or.options,dr.options),data:Object.assign({},or.data,dr.data)}):dr,Yr},{}),Object.keys(Lr).map(function(Yr){return Lr[Yr]})));return Ci.orderedModifiers=nr.filter(function(Yr){return Yr.enabled}),Ci.orderedModifiers.forEach(function(Yr){var dr=Yr.name,or=Yr.options,go=or===void 0?{}:or,mo=Yr.effect;if(typeof mo=="function"){var io=mo({state:Ci,name:dr,instance:Sn,options:go});Br.push(io||function(){})}}),Sn.update()},forceUpdate:function(){if(!_r){var sr=Ci.elements,Qr=sr.reference,Co=sr.popper;if(ag(Qr,Co)){Ci.rects={reference:yr(Qr,Nt(Co),Ci.options.strategy==="fixed"),popper:V(Co)},Ci.reset=!1,Ci.placement=Ci.options.placement,Ci.orderedModifiers.forEach(function(mo){return Ci.modifiersData[mo.name]=Object.assign({},mo.data)});for(var Lr=0;Lr<Ci.orderedModifiers.length;Lr++)if(Ci.reset!==!0){var nr=Ci.orderedModifiers[Lr],Yr=nr.fn,dr=nr.options,or=dr===void 0?{}:dr,go=nr.name;typeof Yr=="function"&&(Ci=Yr({state:Ci,options:or,name:go,instance:Sn})||Ci)}else Ci.reset=!1,Lr=-1}}},update:(Bi=function(){return new Promise(function(sr){Sn.forceUpdate(),sr(Ci)})},function(){return Xi||(Xi=new Promise(function(sr){Promise.resolve().then(function(){Xi=void 0,sr(Bi())})})),Xi}),destroy:function(){Pr(),_r=!0}};if(!ag(Nn,Xn))return Sn;function Pr(){Br.forEach(function(sr){return sr()}),Br=[]}return Sn.setOptions(fi).then(function(sr){!_r&&fi.onFirstUpdate&&fi.onFirstUpdate(sr)}),Sn}}var nu=Fr(),rc=Fr({defaultModifiers:[un,Ro,Ie,qt]}),Fo=Fr({defaultModifiers:[un,Ro,Ie,qt,Zo,Ra,ns,rt,zn]});const Ba=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Tr,afterRead:Ji,afterWrite:ii,applyStyles:qt,arrow:rt,auto:Ii,basePlacements:bi,beforeMain:Fi,beforeRead:Or,beforeWrite:Yi,bottom:Ve,clippingParents:ti,computeStyles:Ie,createPopper:Fo,createPopperBase:nu,createPopperLite:rc,detectOverflow:Gi,end:Vn,eventListeners:un,flip:Ra,hide:zn,left:Zn,main:jr,modifierPhases:Qi,offset:Zo,placements:Er,popper:wi,popperGenerator:Fr,popperOffsets:Ro,preventOverflow:ns,read:Cr,reference:Dn,right:ze,start:ln,top:Le,variationPlacements:Hi,viewport:Hn,write:gi},Symbol.toStringTag,{value:"Module"})),Bp="dropdown",fd="ArrowUp",Fu="ArrowDown",Rh="click.bs.dropdown.data-api",Xo="keydown.bs.dropdown.data-api",is="show",aa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ms=`${aa}.show`,oc=".dropdown-menu",Ko=kt()?"top-end":"top-start",Bh=kt()?"top-start":"top-end",zp=kt()?"bottom-end":"bottom-start",Ns=kt()?"bottom-start":"bottom-end",iu=kt()?"left-start":"right-start",Vu=kt()?"right-start":"left-start",Il={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},El={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rs extends je{constructor(nt,zt){super(nt,zt),this._popper=null,this._parent=this._element.parentNode,this._menu=Te.next(this._element,oc)[0]||Te.prev(this._element,oc)[0]||Te.findOne(oc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Il}static get DefaultType(){return El}static get NAME(){return Bp}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Vt(this._element)||this._isShown())return;const nt={relatedTarget:this._element};if(!jt.trigger(this._element,"show.bs.dropdown",nt).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const zt of[].concat(...document.body.children))jt.on(zt,"mouseover",ft);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(is),this._element.classList.add(is),jt.trigger(this._element,"shown.bs.dropdown",nt)}}hide(){if(Vt(this._element)||!this._isShown())return;const nt={relatedTarget:this._element};this._completeHide(nt)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(nt){if(!jt.trigger(this._element,"hide.bs.dropdown",nt).defaultPrevented){if("ontouchstart"in document.documentElement)for(const zt of[].concat(...document.body.children))jt.off(zt,"mouseover",ft);this._popper&&this._popper.destroy(),this._menu.classList.remove(is),this._element.classList.remove(is),this._element.setAttribute("aria-expanded","false"),an.removeDataAttribute(this._menu,"popper"),jt.trigger(this._element,"hidden.bs.dropdown",nt)}}_getConfig(nt){if(typeof(nt=super._getConfig(nt)).reference=="object"&&!$t(nt.reference)&&typeof nt.reference.getBoundingClientRect!="function")throw new TypeError(`${Bp.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return nt}_createPopper(){if(Ba===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let nt=this._element;this._config.reference==="parent"?nt=this._parent:$t(this._config.reference)?nt=ue(this._config.reference):typeof this._config.reference=="object"&&(nt=this._config.reference);const zt=this._getPopperConfig();this._popper=Fo(nt,this._menu,zt)}_isShown(){return this._menu.classList.contains(is)}_getPlacement(){const nt=this._parent;if(nt.classList.contains("dropend"))return iu;if(nt.classList.contains("dropstart"))return Vu;if(nt.classList.contains("dropup-center"))return"top";if(nt.classList.contains("dropdown-center"))return"bottom";const zt=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return nt.classList.contains("dropup")?zt?Bh:Ko:zt?Ns:zp}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:nt}=this._config;return typeof nt=="string"?nt.split(",").map(zt=>Number.parseInt(zt,10)):typeof nt=="function"?zt=>nt(zt,this._element):nt}_getPopperConfig(){const nt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(an.setDataAttribute(this._menu,"popper","static"),nt.modifiers=[{name:"applyStyles",enabled:!1}]),{...nt,...ct(this._config.popperConfig,[nt])}}_selectMenuItem({key:nt,target:zt}){const Ee=Te.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(bn=>Jt(bn));Ee.length&&It(Ee,zt,nt===Fu,!Ee.includes(zt)).focus()}static jQueryInterface(nt){return this.each(function(){const zt=rs.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(zt[nt]===void 0)throw new TypeError(`No method named "${nt}"`);zt[nt]()}})}static clearMenus(nt){if(nt.button===2||nt.type==="keyup"&&nt.key!=="Tab")return;const zt=Te.find(ms);for(const Ee of zt){const bn=rs.getInstance(Ee);if(!bn||bn._config.autoClose===!1)continue;const We=nt.composedPath(),Nn=We.includes(bn._menu);if(We.includes(bn._element)||bn._config.autoClose==="inside"&&!Nn||bn._config.autoClose==="outside"&&Nn||bn._menu.contains(nt.target)&&(nt.type==="keyup"&&nt.key==="Tab"||/input|select|option|textarea|form/i.test(nt.target.tagName)))continue;const Xn={relatedTarget:bn._element};nt.type==="click"&&(Xn.clickEvent=nt),bn._completeHide(Xn)}}static dataApiKeydownHandler(nt){const zt=/input|textarea/i.test(nt.target.tagName),Ee=nt.key==="Escape",bn=[fd,Fu].includes(nt.key);if(!bn&&!Ee||zt&&!Ee)return;nt.preventDefault();const We=this.matches(aa)?this:Te.prev(this,aa)[0]||Te.next(this,aa)[0]||Te.findOne(aa,nt.delegateTarget.parentNode),Nn=rs.getOrCreateInstance(We);if(bn)return nt.stopPropagation(),Nn.show(),void Nn._selectMenuItem(nt);Nn._isShown()&&(nt.stopPropagation(),Nn.hide(),We.focus())}}jt.on(document,Xo,aa,rs.dataApiKeydownHandler),jt.on(document,Xo,oc,rs.dataApiKeydownHandler),jt.on(document,Rh,rs.clearMenus),jt.on(document,"keyup.bs.dropdown.data-api",rs.clearMenus),jt.on(document,Rh,aa,function(oe){oe.preventDefault(),rs.getOrCreateInstance(this).toggle()}),wt(rs);const Ol="show",Ec="mousedown.bs.backdrop",Xa={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ha={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class co extends en{constructor(nt){super(),this._config=this._getConfig(nt),this._isAppended=!1,this._element=null}static get Default(){return Xa}static get DefaultType(){return ha}static get NAME(){return"backdrop"}show(nt){if(!this._config.isVisible)return void ct(nt);this._append();const zt=this._getElement();this._config.isAnimated&&_t(zt),zt.classList.add(Ol),this._emulateAnimation(()=>{ct(nt)})}hide(nt){this._config.isVisible?(this._getElement().classList.remove(Ol),this._emulateAnimation(()=>{this.dispose(),ct(nt)})):ct(nt)}dispose(){this._isAppended&&(jt.off(this._element,Ec),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const nt=document.createElement("div");nt.className=this._config.className,this._config.isAnimated&&nt.classList.add("fade"),this._element=nt}return this._element}_configAfterMerge(nt){return nt.rootElement=ue(nt.rootElement),nt}_append(){if(this._isAppended)return;const nt=this._getElement();this._config.rootElement.append(nt),jt.on(nt,Ec,()=>{ct(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(nt){ie(nt,this._getElement(),this._config.isAnimated)}}const qa=".bs.focustrap",Ke="backward",ba={autofocus:!0,trapElement:null},Fp={autofocus:"boolean",trapElement:"element"};class za extends en{constructor(nt){super(),this._config=this._getConfig(nt),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ba}static get DefaultType(){return Fp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),jt.off(document,qa),jt.on(document,"focusin.bs.focustrap",nt=>this._handleFocusin(nt)),jt.on(document,"keydown.tab.bs.focustrap",nt=>this._handleKeydown(nt)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,jt.off(document,qa))}_handleFocusin(nt){const{trapElement:zt}=this._config;if(nt.target===document||nt.target===zt||zt.contains(nt.target))return;const Ee=Te.focusableChildren(zt);Ee.length===0?zt.focus():this._lastTabNavDirection===Ke?Ee[Ee.length-1].focus():Ee[0].focus()}_handleKeydown(nt){nt.key==="Tab"&&(this._lastTabNavDirection=nt.shiftKey?Ke:"forward")}}const gd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ir=".sticky-top",Ua="padding-right",Dl="margin-right";class Vr{constructor(){this._element=document.body}getWidth(){const nt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-nt)}hide(){const nt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ua,zt=>zt+nt),this._setElementAttributes(gd,Ua,zt=>zt+nt),this._setElementAttributes(Ir,Dl,zt=>zt-nt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ua),this._resetElementAttributes(gd,Ua),this._resetElementAttributes(Ir,Dl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(nt,zt,Ee){const bn=this.getWidth();this._applyManipulationCallback(nt,We=>{if(We!==this._element&&window.innerWidth>We.clientWidth+bn)return;this._saveInitialAttribute(We,zt);const Nn=window.getComputedStyle(We).getPropertyValue(zt);We.style.setProperty(zt,`${Ee(Number.parseFloat(Nn))}px`)})}_saveInitialAttribute(nt,zt){const Ee=nt.style.getPropertyValue(zt);Ee&&an.setDataAttribute(nt,zt,Ee)}_resetElementAttributes(nt,zt){this._applyManipulationCallback(nt,Ee=>{const bn=an.getDataAttribute(Ee,zt);bn!==null?(an.removeDataAttribute(Ee,zt),Ee.style.setProperty(zt,bn)):Ee.style.removeProperty(zt)})}_applyManipulationCallback(nt,zt){if($t(nt))zt(nt);else for(const Ee of Te.find(nt,this._element))zt(Ee)}}const Eo=".bs.modal",Ma="hidden.bs.modal",ac="show.bs.modal",Rs="modal-open",os="show",sc="modal-static",Hu={backdrop:!0,focus:!0,keyboard:!0},Vp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Oo extends je{constructor(nt,zt){super(nt,zt),this._dialog=Te.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Vr,this._addEventListeners()}static get Default(){return Hu}static get DefaultType(){return Vp}static get NAME(){return"modal"}toggle(nt){return this._isShown?this.hide():this.show(nt)}show(nt){this._isShown||this._isTransitioning||jt.trigger(this._element,ac,{relatedTarget:nt}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Rs),this._adjustDialog(),this._backdrop.show(()=>this._showElement(nt)))}hide(){this._isShown&&!this._isTransitioning&&(jt.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(os),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){jt.off(window,Eo),jt.off(this._dialog,Eo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new co({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new za({trapElement:this._element})}_showElement(nt){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const zt=Te.findOne(".modal-body",this._dialog);zt&&(zt.scrollTop=0),_t(this._element),this._element.classList.add(os),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,jt.trigger(this._element,"shown.bs.modal",{relatedTarget:nt})},this._dialog,this._isAnimated())}_addEventListeners(){jt.on(this._element,"keydown.dismiss.bs.modal",nt=>{nt.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),jt.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),jt.on(this._element,"mousedown.dismiss.bs.modal",nt=>{jt.one(this._element,"click.dismiss.bs.modal",zt=>{this._element===nt.target&&this._element===zt.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Rs),this._resetAdjustments(),this._scrollBar.reset(),jt.trigger(this._element,Ma)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(jt.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const nt=this._element.scrollHeight>document.documentElement.clientHeight,zt=this._element.style.overflowY;zt==="hidden"||this._element.classList.contains(sc)||(nt||(this._element.style.overflowY="hidden"),this._element.classList.add(sc),this._queueCallback(()=>{this._element.classList.remove(sc),this._queueCallback(()=>{this._element.style.overflowY=zt},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const nt=this._element.scrollHeight>document.documentElement.clientHeight,zt=this._scrollBar.getWidth(),Ee=zt>0;if(Ee&&!nt){const bn=kt()?"paddingLeft":"paddingRight";this._element.style[bn]=`${zt}px`}if(!Ee&&nt){const bn=kt()?"paddingRight":"paddingLeft";this._element.style[bn]=`${zt}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(nt,zt){return this.each(function(){const Ee=Oo.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(Ee[nt]===void 0)throw new TypeError(`No method named "${nt}"`);Ee[nt](zt)}})}}jt.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(oe){const nt=Te.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&oe.preventDefault(),jt.one(nt,ac,Ee=>{Ee.defaultPrevented||jt.one(nt,Ma,()=>{Jt(this)&&this.focus()})});const zt=Te.findOne(".modal.show");zt&&Oo.getInstance(zt).hide(),Oo.getOrCreateInstance(nt).toggle(this)}),_n(Oo),wt(Oo);const ru="show",Ll="showing",Wu="hiding",as=".offcanvas.show",lc="hidePrevented.bs.offcanvas",zh="hidden.bs.offcanvas",ou={backdrop:!0,keyboard:!0,scroll:!1},Pl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qo extends je{constructor(nt,zt){super(nt,zt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ou}static get DefaultType(){return Pl}static get NAME(){return"offcanvas"}toggle(nt){return this._isShown?this.hide():this.show(nt)}show(nt){this._isShown||jt.trigger(this._element,"show.bs.offcanvas",{relatedTarget:nt}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Vr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ll),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(ru),this._element.classList.remove(Ll),jt.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:nt})},this._element,!0))}hide(){this._isShown&&(jt.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wu),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ru,Wu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Vr().reset(),jt.trigger(this._element,zh)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const nt=!!this._config.backdrop;return new co({className:"offcanvas-backdrop",isVisible:nt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:nt?()=>{this._config.backdrop!=="static"?this.hide():jt.trigger(this._element,lc)}:null})}_initializeFocusTrap(){return new za({trapElement:this._element})}_addEventListeners(){jt.on(this._element,"keydown.dismiss.bs.offcanvas",nt=>{nt.key==="Escape"&&(this._config.keyboard?this.hide():jt.trigger(this._element,lc))})}static jQueryInterface(nt){return this.each(function(){const zt=Qo.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(zt[nt]===void 0||nt.startsWith("_")||nt==="constructor")throw new TypeError(`No method named "${nt}"`);zt[nt](this)}})}}jt.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(oe){const nt=Te.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&oe.preventDefault(),Vt(this))return;jt.one(nt,zh,()=>{Jt(this)&&this.focus()});const zt=Te.findOne(as);zt&&zt!==nt&&Qo.getInstance(zt).hide(),Qo.getOrCreateInstance(nt).toggle(this)}),jt.on(window,"load.bs.offcanvas.data-api",()=>{for(const oe of Te.find(as))Qo.getOrCreateInstance(oe).show()}),jt.on(window,"resize.bs.offcanvas",()=>{for(const oe of Te.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(oe).position!=="fixed"&&Qo.getOrCreateInstance(oe).hide()}),_n(Qo),wt(Qo);const $a={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},md=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),vd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Nl=(oe,nt)=>{const zt=oe.nodeName.toLowerCase();return nt.includes(zt)?!md.has(zt)||!!vd.test(oe.nodeValue):nt.filter(Ee=>Ee instanceof RegExp).some(Ee=>Ee.test(zt))},Oc={allowList:$a,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},vs={entry:"(string|element|function|null)",selector:"(string|element)"};class cc extends en{constructor(nt){super(),this._config=this._getConfig(nt)}static get Default(){return Oc}static get DefaultType(){return Vo}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(nt=>this._resolvePossibleFunction(nt)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(nt){return this._checkContent(nt),this._config.content={...this._config.content,...nt},this}toHtml(){const nt=document.createElement("div");nt.innerHTML=this._maybeSanitize(this._config.template);for(const[bn,We]of Object.entries(this._config.content))this._setContent(nt,We,bn);const zt=nt.children[0],Ee=this._resolvePossibleFunction(this._config.extraClass);return Ee&&zt.classList.add(...Ee.split(" ")),zt}_typeCheckConfig(nt){super._typeCheckConfig(nt),this._checkContent(nt.content)}_checkContent(nt){for(const[zt,Ee]of Object.entries(nt))super._typeCheckConfig({selector:zt,entry:Ee},vs)}_setContent(nt,zt,Ee){const bn=Te.findOne(Ee,nt);bn&&((zt=this._resolvePossibleFunction(zt))?$t(zt)?this._putElementInTemplate(ue(zt),bn):this._config.html?bn.innerHTML=this._maybeSanitize(zt):bn.textContent=zt:bn.remove())}_maybeSanitize(nt){return this._config.sanitize?function(zt,Ee,bn){if(!zt.length)return zt;if(bn&&typeof bn=="function")return bn(zt);const We=new window.DOMParser().parseFromString(zt,"text/html"),Nn=[].concat(...We.body.querySelectorAll("*"));for(const Xn of Nn){const fi=Xn.nodeName.toLowerCase();if(!Object.keys(Ee).includes(fi)){Xn.remove();continue}const Bi=[].concat(...Xn.attributes),Xi=[].concat(Ee["*"]||[],Ee[fi]||[]);for(const Ci of Bi)Nl(Ci,Xi)||Xn.removeAttribute(Ci.nodeName)}return We.body.innerHTML}(nt,this._config.allowList,this._config.sanitizeFn):nt}_resolvePossibleFunction(nt){return ct(nt,[this])}_putElementInTemplate(nt,zt){if(this._config.html)return zt.innerHTML="",void zt.append(nt);zt.textContent=nt.textContent}}const ys=new Set(["sanitize","allowList","sanitizeFn"]),uc="fade",Rl="show",Hp=".modal",cl="hide.bs.modal",hc="hover",Oa="focus",ul={AUTO:"auto",TOP:"top",RIGHT:kt()?"left":"right",BOTTOM:"bottom",LEFT:kt()?"right":"left"},hl={allowList:$a,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sa={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fa extends je{constructor(nt,zt){if(Ba===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(nt,zt),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return hl}static get DefaultType(){return sa}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),jt.off(this._element.closest(Hp),cl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const nt=jt.trigger(this._element,this.constructor.eventName("show")),zt=(bt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(nt.defaultPrevented||!zt)return;this._disposePopper();const Ee=this._getTipElement();this._element.setAttribute("aria-describedby",Ee.getAttribute("id"));const{container:bn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(bn.append(Ee),jt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Ee),Ee.classList.add(Rl),"ontouchstart"in document.documentElement)for(const We of[].concat(...document.body.children))jt.on(We,"mouseover",ft);this._queueCallback(()=>{jt.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!jt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Rl),"ontouchstart"in document.documentElement)for(const nt of[].concat(...document.body.children))jt.off(nt,"mouseover",ft);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),jt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(nt){const zt=this._getTemplateFactory(nt).toHtml();if(!zt)return null;zt.classList.remove(uc,Rl),zt.classList.add(`bs-${this.constructor.NAME}-auto`);const Ee=(bn=>{do bn+=Math.floor(1e6*Math.random());while(document.getElementById(bn));return bn})(this.constructor.NAME).toString();return zt.setAttribute("id",Ee),this._isAnimated()&&zt.classList.add(uc),zt}setContent(nt){this._newContent=nt,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(nt){return this._templateFactory?this._templateFactory.changeContent(nt):this._templateFactory=new cc({...this._config,content:nt,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(nt){return this.constructor.getOrCreateInstance(nt.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(uc)}_isShown(){return this.tip&&this.tip.classList.contains(Rl)}_createPopper(nt){const zt=ct(this._config.placement,[this,nt,this._element]),Ee=ul[zt.toUpperCase()];return Fo(this._element,nt,this._getPopperConfig(Ee))}_getOffset(){const{offset:nt}=this._config;return typeof nt=="string"?nt.split(",").map(zt=>Number.parseInt(zt,10)):typeof nt=="function"?zt=>nt(zt,this._element):nt}_resolvePossibleFunction(nt){return ct(nt,[this._element])}_getPopperConfig(nt){const zt={placement:nt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Ee=>{this._getTipElement().setAttribute("data-popper-placement",Ee.state.placement)}}]};return{...zt,...ct(this._config.popperConfig,[zt])}}_setListeners(){const nt=this._config.trigger.split(" ");for(const zt of nt)if(zt==="click")jt.on(this._element,this.constructor.eventName("click"),this._config.selector,Ee=>{this._initializeOnDelegatedTarget(Ee).toggle()});else if(zt!=="manual"){const Ee=zt===hc?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),bn=zt===hc?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");jt.on(this._element,Ee,this._config.selector,We=>{const Nn=this._initializeOnDelegatedTarget(We);Nn._activeTrigger[We.type==="focusin"?Oa:hc]=!0,Nn._enter()}),jt.on(this._element,bn,this._config.selector,We=>{const Nn=this._initializeOnDelegatedTarget(We);Nn._activeTrigger[We.type==="focusout"?Oa:hc]=Nn._element.contains(We.relatedTarget),Nn._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},jt.on(this._element.closest(Hp),cl,this._hideModalHandler)}_fixTitle(){const nt=this._element.getAttribute("title");nt&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",nt),this._element.setAttribute("data-bs-original-title",nt),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(nt,zt){clearTimeout(this._timeout),this._timeout=setTimeout(nt,zt)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(nt){const zt=an.getDataAttributes(this._element);for(const Ee of Object.keys(zt))ys.has(Ee)&&delete zt[Ee];return nt={...zt,...typeof nt=="object"&&nt?nt:{}},nt=this._mergeConfigObj(nt),nt=this._configAfterMerge(nt),this._typeCheckConfig(nt),nt}_configAfterMerge(nt){return nt.container=nt.container===!1?document.body:ue(nt.container),typeof nt.delay=="number"&&(nt.delay={show:nt.delay,hide:nt.delay}),typeof nt.title=="number"&&(nt.title=nt.title.toString()),typeof nt.content=="number"&&(nt.content=nt.content.toString()),nt}_getDelegateConfig(){const nt={};for(const[zt,Ee]of Object.entries(this._config))this.constructor.Default[zt]!==Ee&&(nt[zt]=Ee);return nt.selector=!1,nt.trigger="manual",nt}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(nt){return this.each(function(){const zt=Fa.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(zt[nt]===void 0)throw new TypeError(`No method named "${nt}"`);zt[nt]()}})}}wt(Fa);const Wp={...Fa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Bs={...Fa.DefaultType,content:"(null|string|element|function)"};class xa extends Fa{static get Default(){return Wp}static get DefaultType(){return Bs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(nt){return this.each(function(){const zt=xa.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(zt[nt]===void 0)throw new TypeError(`No method named "${nt}"`);zt[nt]()}})}}wt(xa);const zs="click.bs.scrollspy",au="active",Ho="[href]",su={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Dc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dl extends je{constructor(nt,zt){super(nt,zt),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return su}static get DefaultType(){return Dc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const nt of this._observableSections.values())this._observer.observe(nt)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(nt){return nt.target=ue(nt.target)||document.body,nt.rootMargin=nt.offset?`${nt.offset}px 0px -30%`:nt.rootMargin,typeof nt.threshold=="string"&&(nt.threshold=nt.threshold.split(",").map(zt=>Number.parseFloat(zt))),nt}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(jt.off(this._config.target,zs),jt.on(this._config.target,zs,Ho,nt=>{const zt=this._observableSections.get(nt.target.hash);if(zt){nt.preventDefault();const Ee=this._rootElement||window,bn=zt.offsetTop-this._element.offsetTop;if(Ee.scrollTo)return void Ee.scrollTo({top:bn,behavior:"smooth"});Ee.scrollTop=bn}}))}_getNewObserver(){const nt={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(zt=>this._observerCallback(zt),nt)}_observerCallback(nt){const zt=Nn=>this._targetLinks.get(`#${Nn.target.id}`),Ee=Nn=>{this._previousScrollData.visibleEntryTop=Nn.target.offsetTop,this._process(zt(Nn))},bn=(this._rootElement||document.documentElement).scrollTop,We=bn>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=bn;for(const Nn of nt){if(!Nn.isIntersecting){this._activeTarget=null,this._clearActiveClass(zt(Nn));continue}const Xn=Nn.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(We&&Xn){if(Ee(Nn),!bn)return}else We||Xn||Ee(Nn)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const nt=Te.find(Ho,this._config.target);for(const zt of nt){if(!zt.hash||Vt(zt))continue;const Ee=Te.findOne(decodeURI(zt.hash),this._element);Jt(Ee)&&(this._targetLinks.set(decodeURI(zt.hash),zt),this._observableSections.set(zt.hash,Ee))}}_process(nt){this._activeTarget!==nt&&(this._clearActiveClass(this._config.target),this._activeTarget=nt,nt.classList.add(au),this._activateParents(nt),jt.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:nt}))}_activateParents(nt){if(nt.classList.contains("dropdown-item"))Te.findOne(".dropdown-toggle",nt.closest(".dropdown")).classList.add(au);else for(const zt of Te.parents(nt,".nav, .list-group"))for(const Ee of Te.prev(zt,".nav-link, .nav-item > .nav-link, .list-group-item"))Ee.classList.add(au)}_clearActiveClass(nt){nt.classList.remove(au);const zt=Te.find("[href].active",nt);for(const Ee of zt)Ee.classList.remove(au)}static jQueryInterface(nt){return this.each(function(){const zt=dl.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(zt[nt]===void 0||nt.startsWith("_")||nt==="constructor")throw new TypeError(`No method named "${nt}"`);zt[nt]()}})}}jt.on(window,"load.bs.scrollspy.data-api",()=>{for(const oe of Te.find('[data-bs-spy="scroll"]'))dl.getOrCreateInstance(oe)}),wt(dl);const uo="ArrowLeft",ss="ArrowRight",yd="ArrowUp",bd="ArrowDown",dc="active",xd="fade",Fs="show",ju='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vs=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${ju}`;class Hs extends je{constructor(nt){super(nt),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),jt.on(this._element,"keydown.bs.tab",zt=>this._keydown(zt)))}static get NAME(){return"tab"}show(){const nt=this._element;if(this._elemIsActive(nt))return;const zt=this._getActiveElem(),Ee=zt?jt.trigger(zt,"hide.bs.tab",{relatedTarget:nt}):null;jt.trigger(nt,"show.bs.tab",{relatedTarget:zt}).defaultPrevented||Ee&&Ee.defaultPrevented||(this._deactivate(zt,nt),this._activate(nt,zt))}_activate(nt,zt){nt&&(nt.classList.add(dc),this._activate(Te.getElementFromSelector(nt)),this._queueCallback(()=>{nt.getAttribute("role")==="tab"?(nt.removeAttribute("tabindex"),nt.setAttribute("aria-selected",!0),this._toggleDropDown(nt,!0),jt.trigger(nt,"shown.bs.tab",{relatedTarget:zt})):nt.classList.add(Fs)},nt,nt.classList.contains(xd)))}_deactivate(nt,zt){nt&&(nt.classList.remove(dc),nt.blur(),this._deactivate(Te.getElementFromSelector(nt)),this._queueCallback(()=>{nt.getAttribute("role")==="tab"?(nt.setAttribute("aria-selected",!1),nt.setAttribute("tabindex","-1"),this._toggleDropDown(nt,!1),jt.trigger(nt,"hidden.bs.tab",{relatedTarget:zt})):nt.classList.remove(Fs)},nt,nt.classList.contains(xd)))}_keydown(nt){if(![uo,ss,yd,bd].includes(nt.key))return;nt.stopPropagation(),nt.preventDefault();const zt=[ss,bd].includes(nt.key),Ee=It(this._getChildren().filter(bn=>!Vt(bn)),nt.target,zt,!0);Ee&&(Ee.focus({preventScroll:!0}),Hs.getOrCreateInstance(Ee).show())}_getChildren(){return Te.find(Vs,this._parent)}_getActiveElem(){return this._getChildren().find(nt=>this._elemIsActive(nt))||null}_setInitialAttributes(nt,zt){this._setAttributeIfNotExists(nt,"role","tablist");for(const Ee of zt)this._setInitialAttributesOnChild(Ee)}_setInitialAttributesOnChild(nt){nt=this._getInnerElement(nt);const zt=this._elemIsActive(nt),Ee=this._getOuterElement(nt);nt.setAttribute("aria-selected",zt),Ee!==nt&&this._setAttributeIfNotExists(Ee,"role","presentation"),zt||nt.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(nt,"role","tab"),this._setInitialAttributesOnTargetPanel(nt)}_setInitialAttributesOnTargetPanel(nt){const zt=Te.getElementFromSelector(nt);zt&&(this._setAttributeIfNotExists(zt,"role","tabpanel"),nt.id&&this._setAttributeIfNotExists(zt,"aria-labelledby",`${nt.id}`))}_toggleDropDown(nt,zt){const Ee=this._getOuterElement(nt);if(!Ee.classList.contains("dropdown"))return;const bn=(We,Nn)=>{const Xn=Te.findOne(We,Ee);Xn&&Xn.classList.toggle(Nn,zt)};bn(".dropdown-toggle",dc),bn(".dropdown-menu",Fs),Ee.setAttribute("aria-expanded",zt)}_setAttributeIfNotExists(nt,zt,Ee){nt.hasAttribute(zt)||nt.setAttribute(zt,Ee)}_elemIsActive(nt){return nt.classList.contains(dc)}_getInnerElement(nt){return nt.matches(Vs)?nt:Te.findOne(Vs,nt)}_getOuterElement(nt){return nt.closest(".nav-item, .list-group-item")||nt}static jQueryInterface(nt){return this.each(function(){const zt=Hs.getOrCreateInstance(this);if(typeof nt=="string"){if(zt[nt]===void 0||nt.startsWith("_")||nt==="constructor")throw new TypeError(`No method named "${nt}"`);zt[nt]()}})}}jt.on(document,"click.bs.tab",ju,function(oe){["A","AREA"].includes(this.tagName)&&oe.preventDefault(),Vt(this)||Hs.getOrCreateInstance(this).show()}),jt.on(window,"load.bs.tab",()=>{for(const oe of Te.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Hs.getOrCreateInstance(oe)}),wt(Hs);const _d="hide",lu="show",pl="showing",Yu={animation:"boolean",autohide:"boolean",delay:"number"},wd={animation:!0,autohide:!0,delay:5e3};class Bl extends je{constructor(nt,zt){super(nt,zt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return wd}static get DefaultType(){return Yu}static get NAME(){return"toast"}show(){jt.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(_d),_t(this._element),this._element.classList.add(lu,pl),this._queueCallback(()=>{this._element.classList.remove(pl),jt.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(jt.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(pl),this._queueCallback(()=>{this._element.classList.add(_d),this._element.classList.remove(pl,lu),jt.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lu),super.dispose()}isShown(){return this._element.classList.contains(lu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(nt,zt){switch(nt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=zt;break;case"focusin":case"focusout":this._hasKeyboardInteraction=zt}if(zt)return void this._clearTimeout();const Ee=nt.relatedTarget;this._element===Ee||this._element.contains(Ee)||this._maybeScheduleHide()}_setListeners(){jt.on(this._element,"mouseover.bs.toast",nt=>this._onInteraction(nt,!0)),jt.on(this._element,"mouseout.bs.toast",nt=>this._onInteraction(nt,!1)),jt.on(this._element,"focusin.bs.toast",nt=>this._onInteraction(nt,!0)),jt.on(this._element,"focusout.bs.toast",nt=>this._onInteraction(nt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(nt){return this.each(function(){const zt=Bl.getOrCreateInstance(this,nt);if(typeof nt=="string"){if(zt[nt]===void 0)throw new TypeError(`No method named "${nt}"`);zt[nt](this)}})}}return _n(Bl),wt(Bl),{Alert:Be,Button:Mn,Carousel:Kr,Collapse:ye,Dropdown:rs,Modal:Oo,Offcanvas:Qo,Popover:xa,ScrollSpy:dl,Tab:Hs,Toast:Bl,Tooltip:Fa}});/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */(function(Ye,Gt){typeof exports=="object"&&typeof module<"u"?module.exports=Gt():typeof define=="function"&&define.amd?define(Gt):(Ye=typeof globalThis<"u"?globalThis:Ye||self).Chart=Gt()})(this,function(){"use strict";var Ye=Object.freeze({__proto__:null,get Colors(){return vg},get Decimation(){return ta},get Filler(){return f_},get Legend(){return gu},get SubTitle(){return Ka},get Title(){return Od},get Tooltip(){return Xm}});function Gt(){}const Tt=(()=>{let I=0;return()=>I++})();function Qt(I){return I==null}function Oe(I){if(Array.isArray&&Array.isArray(I))return!0;const b=Object.prototype.toString.call(I);return b.slice(0,7)==="[object"&&b.slice(-6)==="Array]"}function $t(I){return I!==null&&Object.prototype.toString.call(I)==="[object Object]"}function ue(I){return(typeof I=="number"||I instanceof Number)&&isFinite(+I)}function Jt(I,b){return ue(I)?I:b}function Vt(I,b){return I===void 0?b:I}const bt=(I,b)=>typeof I=="string"&&I.endsWith("%")?parseFloat(I)/100:+I/b,ft=(I,b)=>typeof I=="string"&&I.endsWith("%")?parseFloat(I)/100*b:+I;function _t(I,b,k){if(I&&typeof I.call=="function")return I.apply(k,b)}function vt(I,b,k,L){let B,H,X;if(Oe(I))if(H=I.length,L)for(B=H-1;B>=0;B--)b.call(k,I[B],B);else for(B=0;B<H;B++)b.call(k,I[B],B);else if($t(I))for(X=Object.keys(I),H=X.length,B=0;B<H;B++)b.call(k,I[X[B]],X[B])}function Pt(I,b){let k,L,B,H;if(!I||!b||I.length!==b.length)return!1;for(k=0,L=I.length;k<L;++k)if(B=I[k],H=b[k],B.datasetIndex!==H.datasetIndex||B.index!==H.index)return!1;return!0}function kt(I){if(Oe(I))return I.map(kt);if($t(I)){const b=Object.create(null),k=Object.keys(I),L=k.length;let B=0;for(;B<L;++B)b[k[B]]=kt(I[k[B]]);return b}return I}function wt(I){return["__proto__","prototype","constructor"].indexOf(I)===-1}function ct(I,b,k,L){if(!wt(I))return;const B=b[I],H=k[I];$t(B)&&$t(H)?ie(B,H,L):b[I]=kt(H)}function ie(I,b,k){const L=Oe(b)?b:[b],B=L.length;if(!$t(I))return I;const H=(k=k||{}).merger||ct;let X;for(let tt=0;tt<B;++tt){if(X=L[tt],!$t(X))continue;const at=Object.keys(X);for(let mt=0,Ft=at.length;mt<Ft;++mt)H(at[mt],I,X,k)}return I}function It(I,b){return ie(I,b,{merger:Wt})}function Wt(I,b,k){if(!wt(I))return;const L=b[I],B=k[I];$t(L)&&$t(B)?It(L,B):Object.prototype.hasOwnProperty.call(b,I)||(b[I]=kt(B))}const te={"":I=>I,x:I=>I.x,y:I=>I.y};function fe(I){const b=I.split("."),k=[];let L="";for(const B of b)L+=B,L.endsWith("\\")?L=L.slice(0,-1)+".":(k.push(L),L="");return k}function Me(I,b){return(te[b]||(te[b]=function(L){const B=fe(L);return H=>{for(const X of B){if(X==="")break;H=H&&H[X]}return H}}(b)))(I)}function ve(I){return I.charAt(0).toUpperCase()+I.slice(1)}const le=I=>I!==void 0,Xt=I=>typeof I=="function",Kt=(I,b)=>{if(I.size!==b.size)return!1;for(const k of I)if(!b.has(k))return!1;return!0};function ne(I){return I.type==="mouseup"||I.type==="click"||I.type==="contextmenu"}const De=Math.PI,me=2*De,Ne=me+De,Fn=Number.POSITIVE_INFINITY,dn=De/180,gn=De/2,jt=De/4,Fe=2*De/3,ht=Math.log10,lt=Math.sign;function an(I,b,k){return Math.abs(I-b)<k}function en(I){const b=Math.round(I);I=an(I,b,I/1e3)?b:I;const k=Math.pow(10,Math.floor(ht(I))),L=I/k;return(L<=1?1:L<=2?2:L<=5?5:10)*k}function je(I){const b=[],k=Math.sqrt(I);let L;for(L=1;L<k;L++)I%L==0&&(b.push(L),b.push(I/L));return k===(0|k)&&b.push(k),b.sort((B,H)=>B-H).pop(),b}function Qe(I){return!isNaN(parseFloat(I))&&isFinite(I)}function Te(I,b){const k=Math.round(I);return k-b<=I&&k+b>=I}function _n(I,b,k){let L,B,H;for(L=0,B=I.length;L<B;L++)H=I[L][k],isNaN(H)||(b.min=Math.min(b.min,H),b.max=Math.max(b.max,H))}function Be(I){return I*(De/180)}function Ge(I){return I*(180/De)}function Mn(I){if(!ue(I))return;let b=1,k=0;for(;Math.round(I*b)/b!==I;)b*=10,k++;return k}function wr(I,b){const k=b.x-I.x,L=b.y-I.y,B=Math.sqrt(k*k+L*L);let H=Math.atan2(L,k);return H<-.5*De&&(H+=me),{angle:H,distance:B}}function Ln(I,b){return Math.sqrt(Math.pow(b.x-I.x,2)+Math.pow(b.y-I.y,2))}function di(I,b){return(I-b+Ne)%me-De}function ar(I){return(I%me+me)%me}function hr(I,b,k,L){const B=ar(I),H=ar(b),X=ar(k),tt=ar(H-B),at=ar(X-B),mt=ar(B-H),Ft=ar(B-X);return B===H||B===X||L&&H===X||tt>at&&mt<Ft}function wn(I,b,k){return Math.max(b,Math.min(k,I))}function Wn(I){return wn(I,-32768,32767)}function si(I,b,k,L=1e-6){return I>=Math.min(b,k)-L&&I<=Math.max(b,k)+L}function xi(I,b,k){k=k||(X=>I[X]<b);let L,B=I.length-1,H=0;for(;B-H>1;)L=H+B>>1,k(L)?H=L:B=L;return{lo:H,hi:B}}const oi=(I,b,k,L)=>xi(I,k,L?B=>{const H=I[B][b];return H<k||H===k&&I[B+1][b]===k}:B=>I[B][b]<k),zi=(I,b,k)=>xi(I,k,L=>I[L][b]>=k);function yi(I,b,k){let L=0,B=I.length;for(;L<B&&I[L]<b;)L++;for(;B>L&&I[B-1]>k;)B--;return L>0||B<I.length?I.slice(L,B):I}const Ar=["push","pop","shift","splice","unshift"];function Kr(I,b){I._chartjs?I._chartjs.listeners.push(b):(Object.defineProperty(I,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[b]}}),Ar.forEach(k=>{const L="_onData"+ve(k),B=I[k];Object.defineProperty(I,k,{configurable:!0,enumerable:!1,value(...H){const X=B.apply(this,H);return I._chartjs.listeners.forEach(tt=>{typeof tt[L]=="function"&&tt[L](...H)}),X}})}))}function Yt(I,b){const k=I._chartjs;if(!k)return;const L=k.listeners,B=L.indexOf(b);B!==-1&&L.splice(B,1),L.length>0||(Ar.forEach(H=>{delete I[H]}),delete I._chartjs)}function At(I){const b=new Set(I);return b.size===I.length?I:Array.from(b)}const Dt=typeof window>"u"?function(I){return I()}:window.requestAnimationFrame;function re(I,b){let k=[],L=!1;return function(...B){k=B,L||(L=!0,Dt.call(window,()=>{L=!1,I.apply(b,k)}))}}function Pe(I,b){let k;return function(...L){return b?(clearTimeout(k),k=setTimeout(I,b,L)):I.apply(this,L),b}}const He=I=>I==="start"?"left":I==="end"?"right":"center",ye=(I,b,k)=>I==="start"?b:I==="end"?k:(b+k)/2,Le=(I,b,k,L)=>I===(L?"left":"right")?k:I==="center"?(b+k)/2:b;function Ve(I,b,k){const L=b.length;let B=0,H=L;if(I._sorted){const{iScale:X,_parsed:tt}=I,at=X.axis,{min:mt,max:Ft,minDefined:Lt,maxDefined:Ht}=X.getUserBounds();Lt&&(B=wn(Math.min(oi(tt,X.axis,mt).lo,k?L:oi(b,at,X.getPixelForValue(mt)).lo),0,L-1)),H=Ht?wn(Math.max(oi(tt,X.axis,Ft,!0).hi+1,k?0:oi(b,at,X.getPixelForValue(Ft),!0).hi+1),B,L)-B:L-B}return{start:B,count:H}}function ze(I){const{xScale:b,yScale:k,_scaleRanges:L}=I,B={xmin:b.min,xmax:b.max,ymin:k.min,ymax:k.max};if(!L)return I._scaleRanges=B,!0;const H=L.xmin!==b.min||L.xmax!==b.max||L.ymin!==k.min||L.ymax!==k.max;return Object.assign(L,B),H}class Zn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(b,k,L,B){const H=k.listeners[B],X=k.duration;H.forEach(tt=>tt({chart:b,initial:k.initial,numSteps:X,currentStep:Math.min(L-k.start,X)}))}_refresh(){this._request||(this._running=!0,this._request=Dt.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(b=Date.now()){let k=0;this._charts.forEach((L,B)=>{if(!L.running||!L.items.length)return;const H=L.items;let X,tt=H.length-1,at=!1;for(;tt>=0;--tt)X=H[tt],X._active?(X._total>L.duration&&(L.duration=X._total),X.tick(b),at=!0):(H[tt]=H[H.length-1],H.pop());at&&(B.draw(),this._notify(B,L,b,"progress")),H.length||(L.running=!1,this._notify(B,L,b,"complete"),L.initial=!1),k+=H.length}),this._lastDate=b,k===0&&(this._running=!1)}_getAnims(b){const k=this._charts;let L=k.get(b);return L||(L={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},k.set(b,L)),L}listen(b,k,L){this._getAnims(b).listeners[k].push(L)}add(b,k){k&&k.length&&this._getAnims(b).items.push(...k)}has(b){return this._getAnims(b).items.length>0}start(b){const k=this._charts.get(b);k&&(k.running=!0,k.start=Date.now(),k.duration=k.items.reduce((L,B)=>Math.max(L,B._duration),0),this._refresh())}running(b){if(!this._running)return!1;const k=this._charts.get(b);return!!(k&&k.running&&k.items.length)}stop(b){const k=this._charts.get(b);if(!k||!k.items.length)return;const L=k.items;let B=L.length-1;for(;B>=0;--B)L[B].cancel();k.items=[],this._notify(b,k,Date.now(),"complete")}remove(b){return this._charts.delete(b)}}var Ii=new Zn;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function bi(I){return I+.5|0}const ln=(I,b,k)=>Math.max(Math.min(I,k),b);function Vn(I){return ln(bi(2.55*I),0,255)}function ti(I){return ln(bi(255*I),0,255)}function Hn(I){return ln(bi(I/2.55)/100,0,1)}function wi(I){return ln(bi(100*I),0,100)}const Dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hi=[..."0123456789ABCDEF"],Er=I=>Hi[15&I],Or=I=>Hi[(240&I)>>4]+Hi[15&I],Cr=I=>(240&I)>>4==(15&I);function Ji(I){var b=(k=>Cr(k.r)&&Cr(k.g)&&Cr(k.b)&&Cr(k.a))(I)?Er:Or;return I?"#"+b(I.r)+b(I.g)+b(I.b)+((k,L)=>k<255?L(k):"")(I.a,b):void 0}const Fi=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jr(I,b,k){const L=b*Math.min(k,1-k),B=(H,X=(H+I/30)%12)=>k-L*Math.max(Math.min(X-3,9-X,1),-1);return[B(0),B(8),B(4)]}function Tr(I,b,k){const L=(B,H=(B+I/60)%6)=>k-k*b*Math.max(Math.min(H,4-H,1),0);return[L(5),L(3),L(1)]}function Yi(I,b,k){const L=jr(I,1,.5);let B;for(b+k>1&&(B=1/(b+k),b*=B,k*=B),B=0;B<3;B++)L[B]*=1-b-k,L[B]+=b;return L}function gi(I){const b=I.r/255,k=I.g/255,L=I.b/255,B=Math.max(b,k,L),H=Math.min(b,k,L),X=(B+H)/2;let tt,at,mt;return B!==H&&(mt=B-H,at=X>.5?mt/(2-B-H):mt/(B+H),tt=function(Ft,Lt,Ht,ae,Se){return Ft===Se?(Lt-Ht)/ae+(Lt<Ht?6:0):Lt===Se?(Ht-Ft)/ae+2:(Ft-Lt)/ae+4}(b,k,L,mt,B),tt=60*tt+.5),[0|tt,at||0,X]}function ii(I,b,k,L){return(Array.isArray(b)?I(b[0],b[1],b[2]):I(b,k,L)).map(ti)}function Qi(I,b,k){return ii(jr,I,b,k)}function hi(I){return(I%360+360)%360}function $i(I){const b=Fi.exec(I);let k,L=255;if(!b)return;b[5]!==k&&(L=b[6]?Vn(+b[5]):ti(+b[5]));const B=hi(+b[2]),H=+b[3]/100,X=+b[4]/100;return k=b[1]==="hwb"?function(tt,at,mt){return ii(Yi,tt,at,mt)}(B,H,X):b[1]==="hsv"?function(tt,at,mt){return ii(Tr,tt,at,mt)}(B,H,X):Qi(B,H,X),{r:k[0],g:k[1],b:k[2],a:L}}const ji={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wi={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ui;function qt(I){Ui||(Ui=function(){const k={},L=Object.keys(Wi),B=Object.keys(ji);let H,X,tt,at,mt;for(H=0;H<L.length;H++){for(at=mt=L[H],X=0;X<B.length;X++)tt=B[X],mt=mt.replace(tt,ji[tt]);tt=parseInt(Wi[at],16),k[mt]=[tt>>16&255,tt>>8&255,255&tt]}return k}(),Ui.transparent=[0,0,0,0]);const b=Ui[I.toLowerCase()];return b&&{r:b[0],g:b[1],b:b[2],a:b.length===4?b[3]:255}}const h=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,d=I=>I<=.0031308?12.92*I:1.055*Math.pow(I,1/2.4)-.055,y=I=>I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4);function C(I,b,k){if(I){let L=gi(I);L[b]=Math.max(0,Math.min(L[b]+L[b]*k,b===0?360:1)),L=Qi(L),I.r=L[0],I.g=L[1],I.b=L[2]}}function M(I,b){return I&&Object.assign(b||{},I)}function O(I){var b={r:0,g:0,b:0,a:255};return Array.isArray(I)?I.length>=3&&(b={r:I[0],g:I[1],b:I[2],a:255},I.length>3&&(b.a=ti(I[3]))):(b=M(I,{r:0,g:0,b:0,a:1})).a=ti(b.a),b}function N(I){return I.charAt(0)==="r"?function(b){const k=h.exec(b);let L,B,H,X=255;if(k){if(k[7]!==L){const tt=+k[7];X=k[8]?Vn(tt):ln(255*tt,0,255)}return L=+k[1],B=+k[3],H=+k[5],L=255&(k[2]?Vn(L):ln(L,0,255)),B=255&(k[4]?Vn(B):ln(B,0,255)),H=255&(k[6]?Vn(H):ln(H,0,255)),{r:L,g:B,b:H,a:X}}}(I):$i(I)}class V{constructor(b){if(b instanceof V)return b;const k=typeof b;let L;var B,H,X;k==="object"?L=O(b):k==="string"&&(X=(B=b).length,B[0]==="#"&&(X===4||X===5?H={r:255&17*Dn[B[1]],g:255&17*Dn[B[2]],b:255&17*Dn[B[3]],a:X===5?17*Dn[B[4]]:255}:X!==7&&X!==9||(H={r:Dn[B[1]]<<4|Dn[B[2]],g:Dn[B[3]]<<4|Dn[B[4]],b:Dn[B[5]]<<4|Dn[B[6]],a:X===9?Dn[B[7]]<<4|Dn[B[8]]:255})),L=H||qt(b)||N(b)),this._rgb=L,this._valid=!!L}get valid(){return this._valid}get rgb(){var b=M(this._rgb);return b&&(b.a=Hn(b.a)),b}set rgb(b){this._rgb=O(b)}rgbString(){return this._valid?(b=this._rgb)&&(b.a<255?`rgba(${b.r}, ${b.g}, ${b.b}, ${Hn(b.a)})`:`rgb(${b.r}, ${b.g}, ${b.b})`):void 0;var b}hexString(){return this._valid?Ji(this._rgb):void 0}hslString(){return this._valid?function(b){if(!b)return;const k=gi(b),L=k[0],B=wi(k[1]),H=wi(k[2]);return b.a<255?`hsla(${L}, ${B}%, ${H}%, ${Hn(b.a)})`:`hsl(${L}, ${B}%, ${H}%)`}(this._rgb):void 0}mix(b,k){if(b){const L=this.rgb,B=b.rgb;let H;const X=k===H?.5:k,tt=2*X-1,at=L.a-B.a,mt=((tt*at==-1?tt:(tt+at)/(1+tt*at))+1)/2;H=1-mt,L.r=255&mt*L.r+H*B.r+.5,L.g=255&mt*L.g+H*B.g+.5,L.b=255&mt*L.b+H*B.b+.5,L.a=X*L.a+(1-X)*B.a,this.rgb=L}return this}interpolate(b,k){return b&&(this._rgb=function(L,B,H){const X=y(Hn(L.r)),tt=y(Hn(L.g)),at=y(Hn(L.b));return{r:ti(d(X+H*(y(Hn(B.r))-X))),g:ti(d(tt+H*(y(Hn(B.g))-tt))),b:ti(d(at+H*(y(Hn(B.b))-at))),a:L.a+H*(B.a-L.a)}}(this._rgb,b._rgb,k)),this}clone(){return new V(this.rgb)}alpha(b){return this._rgb.a=ti(b),this}clearer(b){return this._rgb.a*=1-b,this}greyscale(){const b=this._rgb,k=bi(.3*b.r+.59*b.g+.11*b.b);return b.r=b.g=b.b=k,this}opaquer(b){return this._rgb.a*=1+b,this}negate(){const b=this._rgb;return b.r=255-b.r,b.g=255-b.g,b.b=255-b.b,this}lighten(b){return C(this._rgb,2,b),this}darken(b){return C(this._rgb,2,-b),this}saturate(b){return C(this._rgb,1,b),this}desaturate(b){return C(this._rgb,1,-b),this}rotate(b){return function(k,L){var B=gi(k);B[0]=hi(B[0]+L),B=Qi(B),k.r=B[0],k.g=B[1],k.b=B[2]}(this._rgb,b),this}}function q(I){if(I&&typeof I=="object"){const b=I.toString();return b==="[object CanvasPattern]"||b==="[object CanvasGradient]"}return!1}function K(I){return q(I)?I:new V(I)}function J(I){return q(I)?I:new V(I).saturate(.5).darken(.1).hexString()}const it=["x","y","borderWidth","radius","tension"],pt=["color","borderColor","backgroundColor"],Et=new Map;function Nt(I,b,k){return function(L,B){B=B||{};const H=L+JSON.stringify(B);let X=Et.get(H);return X||(X=new Intl.NumberFormat(L,B),Et.set(H,X)),X}(b,k).format(I)}const ee={values:I=>Oe(I)?I:""+I,numeric(I,b,k){if(I===0)return"0";const L=this.chart.options.locale;let B,H=I;if(k.length>1){const mt=Math.max(Math.abs(k[0].value),Math.abs(k[k.length-1].value));(mt<1e-4||mt>1e15)&&(B="scientific"),H=function(Ft,Lt){let Ht=Lt.length>3?Lt[2].value-Lt[1].value:Lt[1].value-Lt[0].value;return Math.abs(Ht)>=1&&Ft!==Math.floor(Ft)&&(Ht=Ft-Math.floor(Ft)),Ht}(I,k)}const X=ht(Math.abs(H)),tt=isNaN(X)?1:Math.max(Math.min(-1*Math.floor(X),20),0),at={notation:B,minimumFractionDigits:tt,maximumFractionDigits:tt};return Object.assign(at,this.options.ticks.format),Nt(I,L,at)},logarithmic(I,b,k){if(I===0)return"0";const L=k[b].significand||I/Math.pow(10,Math.floor(ht(I)));return[1,2,3,5,10,15].includes(L)||b>.8*k.length?ee.numeric.call(this,I,b,k):""}};var he={formatters:ee};const Ae=Object.create(null),W=Object.create(null);function rt(I,b){if(!b)return I;const k=b.split(".");for(let L=0,B=k.length;L<B;++L){const H=k[L];I=I[H]||(I[H]=Object.create(null))}return I}function Ot(I,b,k){return typeof b=="string"?ie(rt(I,b),k):ie(rt(I,""),b)}class ce{constructor(b,k){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=L=>L.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(L,B)=>J(B.backgroundColor),this.hoverBorderColor=(L,B)=>J(B.borderColor),this.hoverColor=(L,B)=>J(B.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(b),this.apply(k)}set(b,k){return Ot(this,b,k)}get(b){return rt(this,b)}describe(b,k){return Ot(W,b,k)}override(b,k){return Ot(Ae,b,k)}route(b,k,L,B){const H=rt(this,b),X=rt(this,L),tt="_"+k;Object.defineProperties(H,{[tt]:{value:H[k],writable:!0},[k]:{enumerable:!0,get(){const at=this[tt],mt=X[B];return $t(at)?Object.assign({},mt,at):Vt(at,mt)},set(at){this[tt]=at}}})}apply(b){b.forEach(k=>k(this))}}var xe=new ce({_scriptable:I=>!I.startsWith("on"),_indexable:I=>I!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(I){I.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),I.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:b=>b!=="onProgress"&&b!=="onComplete"&&b!=="fn"}),I.set("animations",{colors:{type:"color",properties:pt},numbers:{type:"number",properties:it}}),I.describe("animations",{_fallback:"animation"}),I.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:b=>0|b}}}})},function(I){I.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(I){I.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(b,k)=>k.lineWidth,tickColor:(b,k)=>k.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:he.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),I.route("scale.ticks","color","","color"),I.route("scale.grid","color","","borderColor"),I.route("scale.border","color","","borderColor"),I.route("scale.title","color","","color"),I.describe("scale",{_fallback:!1,_scriptable:b=>!b.startsWith("before")&&!b.startsWith("after")&&b!=="callback"&&b!=="parser",_indexable:b=>b!=="borderDash"&&b!=="tickBorderDash"&&b!=="dash"}),I.describe("scales",{_fallback:"scale"}),I.describe("scale.ticks",{_scriptable:b=>b!=="backdropPadding"&&b!=="callback",_indexable:b=>b!=="backdropPadding"})}]);function Ie(){return typeof window<"u"&&typeof document<"u"}function on(I){let b=I.parentNode;return b&&b.toString()==="[object ShadowRoot]"&&(b=b.host),b}function un(I,b,k){let L;return typeof I=="string"?(L=parseInt(I,10),I.indexOf("%")!==-1&&(L=L/100*b.parentNode[k])):L=I,L}const Bn=I=>I.ownerDocument.defaultView.getComputedStyle(I,null);function jn(I,b){return Bn(I).getPropertyValue(b)}const ai=["top","right","bottom","left"];function ci(I,b,k){const L={};k=k?"-"+k:"";for(let B=0;B<4;B++){const H=ai[B];L[H]=parseFloat(I[b+"-"+H+k])||0}return L.width=L.left+L.right,L.height=L.top+L.bottom,L}const vr=(I,b,k)=>(I>0||b>0)&&(!k||!k.shadowRoot);function rr(I,b){if("native"in I)return I;const{canvas:k,currentDevicePixelRatio:L}=b,B=Bn(k),H=B.boxSizing==="border-box",X=ci(B,"padding"),tt=ci(B,"border","width"),{x:at,y:mt,box:Ft}=function(ge,Ce){const Ue=ge.touches,xn=Ue&&Ue.length?Ue[0]:ge,{offsetX:yn,offsetY:mn}=xn;let Rn,$n,mi=!1;if(vr(yn,mn,ge.target))Rn=yn,$n=mn;else{const Ei=Ce.getBoundingClientRect();Rn=xn.clientX-Ei.left,$n=xn.clientY-Ei.top,mi=!0}return{x:Rn,y:$n,box:mi}}(I,k),Lt=X.left+(Ft&&tt.left),Ht=X.top+(Ft&&tt.top);let{width:ae,height:Se}=b;return H&&(ae-=X.width+tt.width,Se-=X.height+tt.height),{x:Math.round((at-Lt)/ae*k.width/L),y:Math.round((mt-Ht)/Se*k.height/L)}}const er=I=>Math.round(10*I)/10;function Xr(I,b,k,L){const B=Bn(I),H=ci(B,"margin"),X=un(B.maxWidth,I,"clientWidth")||Fn,tt=un(B.maxHeight,I,"clientHeight")||Fn,at=function(Lt,Ht,ae){let Se,ge;if(Ht===void 0||ae===void 0){const Ce=on(Lt);if(Ce){const Ue=Ce.getBoundingClientRect(),xn=Bn(Ce),yn=ci(xn,"border","width"),mn=ci(xn,"padding");Ht=Ue.width-mn.width-yn.width,ae=Ue.height-mn.height-yn.height,Se=un(xn.maxWidth,Ce,"clientWidth"),ge=un(xn.maxHeight,Ce,"clientHeight")}else Ht=Lt.clientWidth,ae=Lt.clientHeight}return{width:Ht,height:ae,maxWidth:Se||Fn,maxHeight:ge||Fn}}(I,b,k);let{width:mt,height:Ft}=at;if(B.boxSizing==="content-box"){const Lt=ci(B,"border","width"),Ht=ci(B,"padding");mt-=Ht.width+Lt.width,Ft-=Ht.height+Lt.height}return mt=Math.max(0,mt-H.width),Ft=Math.max(0,L?mt/L:Ft-H.height),mt=er(Math.min(mt,X,at.maxWidth)),Ft=er(Math.min(Ft,tt,at.maxHeight)),mt&&!Ft&&(Ft=er(mt/2)),(b!==void 0||k!==void 0)&&L&&at.height&&Ft>at.height&&(Ft=at.height,mt=er(Math.floor(Ft*L))),{width:mt,height:Ft}}function bo(I,b,k){const L=b||1,B=Math.floor(I.height*L),H=Math.floor(I.width*L);I.height=Math.floor(I.height),I.width=Math.floor(I.width);const X=I.canvas;return X.style&&(k||!X.style.height&&!X.style.width)&&(X.style.height=`${I.height}px`,X.style.width=`${I.width}px`),(I.currentDevicePixelRatio!==L||X.height!==B||X.width!==H)&&(I.currentDevicePixelRatio=L,X.height=B,X.width=H,I.ctx.setTransform(L,0,0,L,0,0),!0)}const qr=function(){let I=!1;try{const b={get passive(){return I=!0,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{}return I}();function fo(I,b){const k=jn(I,b),L=k&&k.match(/^(\d+)(\.\d+)?px$/);return L?+L[1]:void 0}function Na(I){return!I||Qt(I.size)||Qt(I.family)?null:(I.style?I.style+" ":"")+(I.weight?I.weight+" ":"")+I.size+"px "+I.family}function Gi(I,b,k,L,B){let H=b[B];return H||(H=b[B]=I.measureText(B).width,k.push(B)),H>L&&(L=H),L}function Dr(I,b,k,L){let B=(L=L||{}).data=L.data||{},H=L.garbageCollect=L.garbageCollect||[];L.font!==b&&(B=L.data={},H=L.garbageCollect=[],L.font=b),I.save(),I.font=b;let X=0;const tt=k.length;let at,mt,Ft,Lt,Ht;for(at=0;at<tt;at++)if(Lt=k[at],Lt==null||Oe(Lt)){if(Oe(Lt))for(mt=0,Ft=Lt.length;mt<Ft;mt++)Ht=Lt[mt],Ht==null||Oe(Ht)||(X=Gi(I,B,H,X,Ht))}else X=Gi(I,B,H,X,Lt);I.restore();const ae=H.length/2;if(ae>k.length){for(at=0;at<ae;at++)delete B[H[at]];H.splice(0,ae)}return X}function Ra(I,b,k){const L=I.currentDevicePixelRatio,B=k!==0?Math.max(k/2,.5):0;return Math.round((b-B)*L)/L+B}function No(I,b){(b=b||I.getContext("2d")).save(),b.resetTransform(),b.clearRect(0,0,I.width,I.height),b.restore()}function ko(I,b,k,L){zn(I,b,k,L,null)}function zn(I,b,k,L,B){let H,X,tt,at,mt,Ft,Lt,Ht;const ae=b.pointStyle,Se=b.rotation,ge=b.radius;let Ce=(Se||0)*dn;if(ae&&typeof ae=="object"&&(H=ae.toString(),H==="[object HTMLImageElement]"||H==="[object HTMLCanvasElement]"))return I.save(),I.translate(k,L),I.rotate(Ce),I.drawImage(ae,-ae.width/2,-ae.height/2,ae.width,ae.height),void I.restore();if(!(isNaN(ge)||ge<=0)){switch(I.beginPath(),ae){default:B?I.ellipse(k,L,B/2,ge,0,0,me):I.arc(k,L,ge,0,me),I.closePath();break;case"triangle":Ft=B?B/2:ge,I.moveTo(k+Math.sin(Ce)*Ft,L-Math.cos(Ce)*ge),Ce+=Fe,I.lineTo(k+Math.sin(Ce)*Ft,L-Math.cos(Ce)*ge),Ce+=Fe,I.lineTo(k+Math.sin(Ce)*Ft,L-Math.cos(Ce)*ge),I.closePath();break;case"rectRounded":mt=.516*ge,at=ge-mt,X=Math.cos(Ce+jt)*at,Lt=Math.cos(Ce+jt)*(B?B/2-mt:at),tt=Math.sin(Ce+jt)*at,Ht=Math.sin(Ce+jt)*(B?B/2-mt:at),I.arc(k-Lt,L-tt,mt,Ce-De,Ce-gn),I.arc(k+Ht,L-X,mt,Ce-gn,Ce),I.arc(k+Lt,L+tt,mt,Ce,Ce+gn),I.arc(k-Ht,L+X,mt,Ce+gn,Ce+De),I.closePath();break;case"rect":if(!Se){at=Math.SQRT1_2*ge,Ft=B?B/2:at,I.rect(k-Ft,L-at,2*Ft,2*at);break}Ce+=jt;case"rectRot":Lt=Math.cos(Ce)*(B?B/2:ge),X=Math.cos(Ce)*ge,tt=Math.sin(Ce)*ge,Ht=Math.sin(Ce)*(B?B/2:ge),I.moveTo(k-Lt,L-tt),I.lineTo(k+Ht,L-X),I.lineTo(k+Lt,L+tt),I.lineTo(k-Ht,L+X),I.closePath();break;case"crossRot":Ce+=jt;case"cross":Lt=Math.cos(Ce)*(B?B/2:ge),X=Math.cos(Ce)*ge,tt=Math.sin(Ce)*ge,Ht=Math.sin(Ce)*(B?B/2:ge),I.moveTo(k-Lt,L-tt),I.lineTo(k+Lt,L+tt),I.moveTo(k+Ht,L-X),I.lineTo(k-Ht,L+X);break;case"star":Lt=Math.cos(Ce)*(B?B/2:ge),X=Math.cos(Ce)*ge,tt=Math.sin(Ce)*ge,Ht=Math.sin(Ce)*(B?B/2:ge),I.moveTo(k-Lt,L-tt),I.lineTo(k+Lt,L+tt),I.moveTo(k+Ht,L-X),I.lineTo(k-Ht,L+X),Ce+=jt,Lt=Math.cos(Ce)*(B?B/2:ge),X=Math.cos(Ce)*ge,tt=Math.sin(Ce)*ge,Ht=Math.sin(Ce)*(B?B/2:ge),I.moveTo(k-Lt,L-tt),I.lineTo(k+Lt,L+tt),I.moveTo(k+Ht,L-X),I.lineTo(k-Ht,L+X);break;case"line":X=B?B/2:Math.cos(Ce)*ge,tt=Math.sin(Ce)*ge,I.moveTo(k-X,L-tt),I.lineTo(k+X,L+tt);break;case"dash":I.moveTo(k,L),I.lineTo(k+Math.cos(Ce)*(B?B/2:ge),L+Math.sin(Ce)*ge);break;case!1:I.closePath()}I.fill(),b.borderWidth>0&&I.stroke()}}function Zo(I,b,k){return k=k||.5,!b||I&&I.x>b.left-k&&I.x<b.right+k&&I.y>b.top-k&&I.y<b.bottom+k}function Ro(I,b){I.save(),I.beginPath(),I.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),I.clip()}function ns(I){I.restore()}function yr(I,b,k,L,B){if(!b)return I.lineTo(k.x,k.y);if(B==="middle"){const H=(b.x+k.x)/2;I.lineTo(H,b.y),I.lineTo(H,k.y)}else B==="after"!=!!L?I.lineTo(b.x,k.y):I.lineTo(k.x,b.y);I.lineTo(k.x,k.y)}function pd(I,b,k,L){if(!b)return I.lineTo(k.x,k.y);I.bezierCurveTo(L?b.cp1x:b.cp2x,L?b.cp1y:b.cp2y,L?k.cp2x:k.cp1x,L?k.cp2y:k.cp1y,k.x,k.y)}function og(I,b,k,L,B){if(B.strikethrough||B.underline){const H=I.measureText(L),X=b-H.actualBoundingBoxLeft,tt=b+H.actualBoundingBoxRight,at=k-H.actualBoundingBoxAscent,mt=k+H.actualBoundingBoxDescent,Ft=B.strikethrough?(at+mt)/2:mt;I.strokeStyle=I.fillStyle,I.beginPath(),I.lineWidth=B.decorationWidth||2,I.moveTo(X,Ft),I.lineTo(tt,Ft),I.stroke()}}function ag(I,b){const k=I.fillStyle;I.fillStyle=b.color,I.fillRect(b.left,b.top,b.width,b.height),I.fillStyle=k}function Fr(I,b,k,L,B,H={}){const X=Oe(b)?b:[b],tt=H.strokeWidth>0&&H.strokeColor!=="";let at,mt;for(I.save(),I.font=B.string,function(Ft,Lt){Lt.translation&&Ft.translate(Lt.translation[0],Lt.translation[1]),Qt(Lt.rotation)||Ft.rotate(Lt.rotation),Lt.color&&(Ft.fillStyle=Lt.color),Lt.textAlign&&(Ft.textAlign=Lt.textAlign),Lt.textBaseline&&(Ft.textBaseline=Lt.textBaseline)}(I,H),at=0;at<X.length;++at)mt=X[at],H.backdrop&&ag(I,H.backdrop),tt&&(H.strokeColor&&(I.strokeStyle=H.strokeColor),Qt(H.strokeWidth)||(I.lineWidth=H.strokeWidth),I.strokeText(mt,k,L,H.maxWidth)),I.fillText(mt,k,L,H.maxWidth),og(I,k,L,mt,H),L+=Number(B.lineHeight);I.restore()}function nu(I,b){const{x:k,y:L,w:B,h:H,radius:X}=b;I.arc(k+X.topLeft,L+X.topLeft,X.topLeft,-gn,De,!0),I.lineTo(k,L+H-X.bottomLeft),I.arc(k+X.bottomLeft,L+H-X.bottomLeft,X.bottomLeft,De,gn,!0),I.lineTo(k+B-X.bottomRight,L+H),I.arc(k+B-X.bottomRight,L+H-X.bottomRight,X.bottomRight,gn,0,!0),I.lineTo(k+B,L+X.topRight),I.arc(k+B-X.topRight,L+X.topRight,X.topRight,0,-gn,!0),I.lineTo(k+X.topLeft,L)}function rc(I,b=[""],k,L,B=()=>I[0]){const H=k||I;L===void 0&&(L=oc("_fallback",I));const X={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:I,_rootScopes:H,_fallback:L,_getTarget:B,override:tt=>rc([tt,...I],b,H,L)};return new Proxy(X,{deleteProperty:(tt,at)=>(delete tt[at],delete tt._keys,delete I[0][at],!0),get:(tt,at)=>Fu(tt,at,()=>function(mt,Ft,Lt,Ht){let ae;for(const Se of Ft)if(ae=oc(Bp(Se,mt),Lt),ae!==void 0)return fd(mt,ae)?aa(Lt,Ht,mt,ae):ae}(at,b,I,tt)),getOwnPropertyDescriptor:(tt,at)=>Reflect.getOwnPropertyDescriptor(tt._scopes[0],at),getPrototypeOf:()=>Reflect.getPrototypeOf(I[0]),has:(tt,at)=>Ko(tt).includes(at),ownKeys:tt=>Ko(tt),set(tt,at,mt){const Ft=tt._storage||(tt._storage=B());return tt[at]=Ft[at]=mt,delete tt._keys,!0}})}function Fo(I,b,k,L){const B={_cacheable:!1,_proxy:I,_context:b,_subProxy:k,_stack:new Set,_descriptors:Ba(I,L),setContext:H=>Fo(I,H,k,L),override:H=>Fo(I.override(H),b,k,L)};return new Proxy(B,{deleteProperty:(H,X)=>(delete H[X],delete I[X],!0),get:(H,X,tt)=>Fu(H,X,()=>function(at,mt,Ft){const{_proxy:Lt,_context:Ht,_subProxy:ae,_descriptors:Se}=at;let ge=Lt[mt];return Xt(ge)&&Se.isScriptable(mt)&&(ge=function(Ce,Ue,xn,yn){const{_proxy:mn,_context:Rn,_subProxy:$n,_stack:mi}=xn;if(mi.has(Ce))throw new Error("Recursion detected: "+Array.from(mi).join("->")+"->"+Ce);mi.add(Ce);let Ei=Ue(Rn,$n||yn);return mi.delete(Ce),fd(Ce,Ei)&&(Ei=aa(mn._scopes,mn,Ce,Ei)),Ei}(mt,ge,at,Ft)),Oe(ge)&&ge.length&&(ge=function(Ce,Ue,xn,yn){const{_proxy:mn,_context:Rn,_subProxy:$n,_descriptors:mi}=xn;if(Rn.index!==void 0&&yn(Ce))return Ue[Rn.index%Ue.length];if($t(Ue[0])){const Ei=Ue,Mi=mn._scopes.filter(Si=>Si!==Ei);Ue=[];for(const Si of Ei){const tr=aa(Mi,mn,Ce,Si);Ue.push(Fo(tr,Rn,$n&&$n[Ce],mi))}}return Ue}(mt,ge,at,Se.isIndexable)),fd(mt,ge)&&(ge=Fo(ge,Ht,ae&&ae[mt],Se)),ge}(H,X,tt)),getOwnPropertyDescriptor:(H,X)=>H._descriptors.allKeys?Reflect.has(I,X)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(I,X),getPrototypeOf:()=>Reflect.getPrototypeOf(I),has:(H,X)=>Reflect.has(I,X),ownKeys:()=>Reflect.ownKeys(I),set:(H,X,tt)=>(I[X]=tt,delete H[X],!0)})}function Ba(I,b={scriptable:!0,indexable:!0}){const{_scriptable:k=b.scriptable,_indexable:L=b.indexable,_allKeys:B=b.allKeys}=I;return{allKeys:B,scriptable:k,indexable:L,isScriptable:Xt(k)?k:()=>k,isIndexable:Xt(L)?L:()=>L}}const Bp=(I,b)=>I?I+ve(b):b,fd=(I,b)=>$t(b)&&I!=="adapters"&&(Object.getPrototypeOf(b)===null||b.constructor===Object);function Fu(I,b,k){if(Object.prototype.hasOwnProperty.call(I,b))return I[b];const L=k();return I[b]=L,L}function Rh(I,b,k){return Xt(I)?I(b,k):I}const Xo=(I,b)=>I===!0?b:typeof I=="string"?Me(b,I):void 0;function is(I,b,k,L,B){for(const H of b){const X=Xo(k,H);if(X){I.add(X);const tt=Rh(X._fallback,k,B);if(tt!==void 0&&tt!==k&&tt!==L)return tt}else if(X===!1&&L!==void 0&&k!==L)return null}return!1}function aa(I,b,k,L){const B=b._rootScopes,H=Rh(b._fallback,k,L),X=[...I,...B],tt=new Set;tt.add(L);let at=ms(tt,X,k,H||k,L);return at!==null&&(H===void 0||H===k||(at=ms(tt,X,H,at,L),at!==null))&&rc(Array.from(tt),[""],B,H,()=>function(mt,Ft,Lt){const Ht=mt._getTarget();Ft in Ht||(Ht[Ft]={});const ae=Ht[Ft];return Oe(ae)&&$t(Lt)?Lt:ae||{}}(b,k,L))}function ms(I,b,k,L,B){for(;k;)k=is(I,b,k,L,B);return k}function oc(I,b){for(const k of b){if(!k)continue;const L=k[I];if(L!==void 0)return L}}function Ko(I){let b=I._keys;return b||(b=I._keys=function(k){const L=new Set;for(const B of k)for(const H of Object.keys(B).filter(X=>!X.startsWith("_")))L.add(H);return Array.from(L)}(I._scopes)),b}function Bh(I,b,k,L){const{iScale:B}=I,{key:H="r"}=this._parsing,X=new Array(L);let tt,at,mt,Ft;for(tt=0,at=L;tt<at;++tt)mt=tt+k,Ft=b[mt],X[tt]={r:B.parse(Me(Ft,H),mt)};return X}const zp=Number.EPSILON||1e-14,Ns=(I,b)=>b<I.length&&!I[b].skip&&I[b],iu=I=>I==="x"?"y":"x";function Vu(I,b,k,L){const B=I.skip?b:I,H=b,X=k.skip?b:k,tt=Ln(H,B),at=Ln(X,H);let mt=tt/(tt+at),Ft=at/(tt+at);mt=isNaN(mt)?0:mt,Ft=isNaN(Ft)?0:Ft;const Lt=L*mt,Ht=L*Ft;return{previous:{x:H.x-Lt*(X.x-B.x),y:H.y-Lt*(X.y-B.y)},next:{x:H.x+Ht*(X.x-B.x),y:H.y+Ht*(X.y-B.y)}}}function Il(I,b="x"){const k=iu(b),L=I.length,B=Array(L).fill(0),H=Array(L);let X,tt,at,mt=Ns(I,0);for(X=0;X<L;++X)if(tt=at,at=mt,mt=Ns(I,X+1),at){if(mt){const Ft=mt[b]-at[b];B[X]=Ft!==0?(mt[k]-at[k])/Ft:0}H[X]=tt?mt?lt(B[X-1])!==lt(B[X])?0:(B[X-1]+B[X])/2:B[X-1]:B[X]}(function(Ft,Lt,Ht){const ae=Ft.length;let Se,ge,Ce,Ue,xn,yn=Ns(Ft,0);for(let mn=0;mn<ae-1;++mn)xn=yn,yn=Ns(Ft,mn+1),xn&&yn&&(an(Lt[mn],0,zp)?Ht[mn]=Ht[mn+1]=0:(Se=Ht[mn]/Lt[mn],ge=Ht[mn+1]/Lt[mn],Ue=Math.pow(Se,2)+Math.pow(ge,2),Ue<=9||(Ce=3/Math.sqrt(Ue),Ht[mn]=Se*Ce*Lt[mn],Ht[mn+1]=ge*Ce*Lt[mn])))})(I,B,H),function(Ft,Lt,Ht="x"){const ae=iu(Ht),Se=Ft.length;let ge,Ce,Ue,xn=Ns(Ft,0);for(let yn=0;yn<Se;++yn){if(Ce=Ue,Ue=xn,xn=Ns(Ft,yn+1),!Ue)continue;const mn=Ue[Ht],Rn=Ue[ae];Ce&&(ge=(mn-Ce[Ht])/3,Ue[`cp1${Ht}`]=mn-ge,Ue[`cp1${ae}`]=Rn-ge*Lt[yn]),xn&&(ge=(xn[Ht]-mn)/3,Ue[`cp2${Ht}`]=mn+ge,Ue[`cp2${ae}`]=Rn+ge*Lt[yn])}}(I,H,b)}function El(I,b,k){return Math.max(Math.min(I,k),b)}function rs(I,b,k,L,B){let H,X,tt,at;if(b.spanGaps&&(I=I.filter(mt=>!mt.skip)),b.cubicInterpolationMode==="monotone")Il(I,B);else{let mt=L?I[I.length-1]:I[0];for(H=0,X=I.length;H<X;++H)tt=I[H],at=Vu(mt,tt,I[Math.min(H+1,X-(L?0:1))%X],b.tension),tt.cp1x=at.previous.x,tt.cp1y=at.previous.y,tt.cp2x=at.next.x,tt.cp2y=at.next.y,mt=tt}b.capBezierPoints&&function(mt,Ft){let Lt,Ht,ae,Se,ge,Ce=Zo(mt[0],Ft);for(Lt=0,Ht=mt.length;Lt<Ht;++Lt)ge=Se,Se=Ce,Ce=Lt<Ht-1&&Zo(mt[Lt+1],Ft),Se&&(ae=mt[Lt],ge&&(ae.cp1x=El(ae.cp1x,Ft.left,Ft.right),ae.cp1y=El(ae.cp1y,Ft.top,Ft.bottom)),Ce&&(ae.cp2x=El(ae.cp2x,Ft.left,Ft.right),ae.cp2y=El(ae.cp2y,Ft.top,Ft.bottom)))}(I,k)}const Ol=I=>I===0||I===1,Ec=(I,b,k)=>-Math.pow(2,10*(I-=1))*Math.sin((I-b)*me/k),Xa=(I,b,k)=>Math.pow(2,-10*I)*Math.sin((I-b)*me/k)+1,ha={linear:I=>I,easeInQuad:I=>I*I,easeOutQuad:I=>-I*(I-2),easeInOutQuad:I=>(I/=.5)<1?.5*I*I:-.5*(--I*(I-2)-1),easeInCubic:I=>I*I*I,easeOutCubic:I=>(I-=1)*I*I+1,easeInOutCubic:I=>(I/=.5)<1?.5*I*I*I:.5*((I-=2)*I*I+2),easeInQuart:I=>I*I*I*I,easeOutQuart:I=>-((I-=1)*I*I*I-1),easeInOutQuart:I=>(I/=.5)<1?.5*I*I*I*I:-.5*((I-=2)*I*I*I-2),easeInQuint:I=>I*I*I*I*I,easeOutQuint:I=>(I-=1)*I*I*I*I+1,easeInOutQuint:I=>(I/=.5)<1?.5*I*I*I*I*I:.5*((I-=2)*I*I*I*I+2),easeInSine:I=>1-Math.cos(I*gn),easeOutSine:I=>Math.sin(I*gn),easeInOutSine:I=>-.5*(Math.cos(De*I)-1),easeInExpo:I=>I===0?0:Math.pow(2,10*(I-1)),easeOutExpo:I=>I===1?1:1-Math.pow(2,-10*I),easeInOutExpo:I=>Ol(I)?I:I<.5?.5*Math.pow(2,10*(2*I-1)):.5*(2-Math.pow(2,-10*(2*I-1))),easeInCirc:I=>I>=1?I:-(Math.sqrt(1-I*I)-1),easeOutCirc:I=>Math.sqrt(1-(I-=1)*I),easeInOutCirc:I=>(I/=.5)<1?-.5*(Math.sqrt(1-I*I)-1):.5*(Math.sqrt(1-(I-=2)*I)+1),easeInElastic:I=>Ol(I)?I:Ec(I,.075,.3),easeOutElastic:I=>Ol(I)?I:Xa(I,.075,.3),easeInOutElastic(I){return Ol(I)?I:I<.5?.5*Ec(2*I,.1125,.45):.5+.5*Xa(2*I-1,.1125,.45)},easeInBack(I){return I*I*((1.70158+1)*I-1.70158)},easeOutBack(I){return(I-=1)*I*((1.70158+1)*I+1.70158)+1},easeInOutBack(I){let b=1.70158;return(I/=.5)<1?I*I*((1+(b*=1.525))*I-b)*.5:.5*((I-=2)*I*((1+(b*=1.525))*I+b)+2)},easeInBounce:I=>1-ha.easeOutBounce(1-I),easeOutBounce(I){return I<1/2.75?7.5625*I*I:I<2/2.75?7.5625*(I-=1.5/2.75)*I+.75:I<2.5/2.75?7.5625*(I-=2.25/2.75)*I+.9375:7.5625*(I-=2.625/2.75)*I+.984375},easeInOutBounce:I=>I<.5?.5*ha.easeInBounce(2*I):.5*ha.easeOutBounce(2*I-1)+.5};function co(I,b,k,L){return{x:I.x+k*(b.x-I.x),y:I.y+k*(b.y-I.y)}}function qa(I,b,k,L){return{x:I.x+k*(b.x-I.x),y:L==="middle"?k<.5?I.y:b.y:L==="after"?k<1?I.y:b.y:k>0?b.y:I.y}}function Ke(I,b,k,L){const B={x:I.cp2x,y:I.cp2y},H={x:b.cp1x,y:b.cp1y},X=co(I,B,k),tt=co(B,H,k),at=co(H,b,k),mt=co(X,tt,k),Ft=co(tt,at,k);return co(mt,Ft,k)}const ba=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fp=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function za(I,b){const k=(""+I).match(ba);if(!k||k[1]==="normal")return 1.2*b;switch(I=+k[2],k[3]){case"px":return I;case"%":I/=100}return b*I}const gd=I=>+I||0;function Ir(I,b){const k={},L=$t(b),B=L?Object.keys(b):b,H=$t(I)?L?X=>Vt(I[X],I[b[X]]):X=>I[X]:()=>I;for(const X of B)k[X]=gd(H(X));return k}function Ua(I){return Ir(I,{top:"y",right:"x",bottom:"y",left:"x"})}function Dl(I){return Ir(I,["topLeft","topRight","bottomLeft","bottomRight"])}function Vr(I){const b=Ua(I);return b.width=b.left+b.right,b.height=b.top+b.bottom,b}function Eo(I,b){I=I||{},b=b||xe.font;let k=Vt(I.size,b.size);typeof k=="string"&&(k=parseInt(k,10));let L=Vt(I.style,b.style);L&&!(""+L).match(Fp)&&(console.warn('Invalid font style specified: "'+L+'"'),L=void 0);const B={family:Vt(I.family,b.family),lineHeight:za(Vt(I.lineHeight,b.lineHeight),k),size:k,style:L,weight:Vt(I.weight,b.weight),string:""};return B.string=Na(B),B}function Ma(I,b,k,L){let B,H,X,tt=!0;for(B=0,H=I.length;B<H;++B)if(X=I[B],X!==void 0&&(b!==void 0&&typeof X=="function"&&(X=X(b),tt=!1),k!==void 0&&Oe(X)&&(X=X[k%X.length],tt=!1),X!==void 0))return L&&!tt&&(L.cacheable=!1),X}function ac(I,b,k){const{min:L,max:B}=I,H=ft(b,(B-L)/2),X=(tt,at)=>k&&tt===0?0:tt+at;return{min:X(L,-Math.abs(H)),max:X(B,H)}}function Rs(I,b){return Object.assign(Object.create(I),b)}function os(I,b,k){return I?function(L,B){return{x:H=>L+L+B-H,setWidth(H){B=H},textAlign:H=>H==="center"?H:H==="right"?"left":"right",xPlus:(H,X)=>H-X,leftForLtr:(H,X)=>H-X}}(b,k):{x:L=>L,setWidth(L){},textAlign:L=>L,xPlus:(L,B)=>L+B,leftForLtr:(L,B)=>L}}function sc(I,b){let k,L;b!=="ltr"&&b!=="rtl"||(k=I.canvas.style,L=[k.getPropertyValue("direction"),k.getPropertyPriority("direction")],k.setProperty("direction",b,"important"),I.prevTextDirection=L)}function Hu(I,b){b!==void 0&&(delete I.prevTextDirection,I.canvas.style.setProperty("direction",b[0],b[1]))}function Vp(I){return I==="angle"?{between:hr,compare:di,normalize:ar}:{between:si,compare:(b,k)=>b-k,normalize:b=>b}}function Oo({start:I,end:b,count:k,loop:L,style:B}){return{start:I%k,end:b%k,loop:L&&(b-I+1)%k==0,style:B}}function ru(I,b,k){if(!k)return[I];const{property:L,start:B,end:H}=k,X=b.length,{compare:tt,between:at,normalize:mt}=Vp(L),{start:Ft,end:Lt,loop:Ht,style:ae}=function($n,mi,Ei){const{property:Mi,start:Si,end:tr}=Ei,{between:Vi,normalize:Oi}=Vp(Mi),Ri=mi.length;let _i,br,{start:vo,end:yo,loop:Ca}=$n;if(Ca){for(vo+=Ri,yo+=Ri,_i=0,br=Ri;_i<br&&Vi(Oi(mi[vo%Ri][Mi]),Si,tr);++_i)vo--,yo--;vo%=Ri,yo%=Ri}return yo<vo&&(yo+=Ri),{start:vo,end:yo,loop:Ca,style:$n.style}}(I,b,k),Se=[];let ge,Ce,Ue,xn=!1,yn=null;const mn=()=>xn||at(B,Ue,ge)&&tt(B,Ue)!==0,Rn=()=>!xn||tt(H,ge)===0||at(H,Ue,ge);for(let $n=Ft,mi=Ft;$n<=Lt;++$n)Ce=b[$n%X],Ce.skip||(ge=mt(Ce[L]),ge!==Ue&&(xn=at(ge,B,H),yn===null&&mn()&&(yn=tt(ge,B)===0?$n:mi),yn!==null&&Rn()&&(Se.push(Oo({start:yn,end:$n,loop:Ht,count:X,style:ae})),yn=null),mi=$n,Ue=ge));return yn!==null&&Se.push(Oo({start:yn,end:Lt,loop:Ht,count:X,style:ae})),Se}function Ll(I,b){const k=[],L=I.segments;for(let B=0;B<L.length;B++){const H=ru(L[B],I.points,b);H.length&&k.push(...H)}return k}function Wu(I,b){const k=I.points,L=I.options.spanGaps,B=k.length;if(!B)return[];const H=!!I._loop,{start:X,end:tt}=function(at,mt,Ft,Lt){let Ht=0,ae=mt-1;if(Ft&&!Lt)for(;Ht<mt&&!at[Ht].skip;)Ht++;for(;Ht<mt&&at[Ht].skip;)Ht++;for(Ht%=mt,Ft&&(ae+=Ht);ae>Ht&&at[ae%mt].skip;)ae--;return ae%=mt,{start:Ht,end:ae}}(k,B,H,L);return L===!0?as(I,[{start:X,end:tt,loop:H}],k,b):as(I,function(at,mt,Ft,Lt){const Ht=at.length,ae=[];let Se,ge=mt,Ce=at[mt];for(Se=mt+1;Se<=Ft;++Se){const Ue=at[Se%Ht];Ue.skip||Ue.stop?Ce.skip||(Lt=!1,ae.push({start:mt%Ht,end:(Se-1)%Ht,loop:Lt}),mt=ge=Ue.stop?Se:null):(ge=Se,Ce.skip&&(mt=Se)),Ce=Ue}return ge!==null&&ae.push({start:mt%Ht,end:ge%Ht,loop:Lt}),ae}(k,X,tt<X?tt+B:tt,!!I._fullLoop&&X===0&&tt===B-1),k,b)}function as(I,b,k,L){return L&&L.setContext&&k?function(B,H,X,tt){const at=B._chart.getContext(),mt=lc(B.options),{_datasetIndex:Ft,options:{spanGaps:Lt}}=B,Ht=X.length,ae=[];let Se=mt,ge=H[0].start,Ce=ge;function Ue(xn,yn,mn,Rn){const $n=Lt?-1:1;if(xn!==yn){for(xn+=Ht;X[xn%Ht].skip;)xn-=$n;for(;X[yn%Ht].skip;)yn+=$n;xn%Ht!=yn%Ht&&(ae.push({start:xn%Ht,end:yn%Ht,loop:mn,style:Rn}),Se=Rn,ge=yn%Ht)}}for(const xn of H){ge=Lt?ge:xn.start;let yn,mn=X[ge%Ht];for(Ce=ge+1;Ce<=xn.end;Ce++){const Rn=X[Ce%Ht];yn=lc(tt.setContext(Rs(at,{type:"segment",p0:mn,p1:Rn,p0DataIndex:(Ce-1)%Ht,p1DataIndex:Ce%Ht,datasetIndex:Ft}))),zh(yn,Se)&&Ue(ge,Ce-1,xn.loop,Se),mn=Rn,Se=yn}ge<Ce-1&&Ue(ge,Ce-1,xn.loop,Se)}return ae}(I,b,k,L):b}function lc(I){return{backgroundColor:I.backgroundColor,borderCapStyle:I.borderCapStyle,borderDash:I.borderDash,borderDashOffset:I.borderDashOffset,borderJoinStyle:I.borderJoinStyle,borderWidth:I.borderWidth,borderColor:I.borderColor}}function zh(I,b){if(!b)return!1;const k=[],L=function(B,H){return q(H)?(k.includes(H)||k.push(H),k.indexOf(H)):H};return JSON.stringify(I,L)!==JSON.stringify(b,L)}var ou=Object.freeze({__proto__:null,HALF_PI:gn,INFINITY:Fn,PI:De,PITAU:Ne,QUARTER_PI:jt,RAD_PER_DEG:dn,TAU:me,TWO_THIRDS_PI:Fe,_addGrace:ac,_alignPixel:Ra,_alignStartEnd:ye,_angleBetween:hr,_angleDiff:di,_arrayUnique:At,_attachContext:Fo,_bezierCurveTo:pd,_bezierInterpolation:Ke,_boundSegment:ru,_boundSegments:Ll,_capitalize:ve,_computeSegments:Wu,_createResolver:rc,_decimalPlaces:Mn,_deprecated:function(I,b,k,L){b!==void 0&&console.warn(I+': "'+k+'" is deprecated. Please use "'+L+'" instead')},_descriptors:Ba,_elementsEqual:Pt,_factorize:je,_filterBetween:yi,_getParentNode:on,_getStartAndCountOfVisiblePoints:Ve,_int16Range:Wn,_isBetween:si,_isClickEvent:ne,_isDomSupported:Ie,_isPointInArea:Zo,_limitValue:wn,_longestText:Dr,_lookup:xi,_lookupByKey:oi,_measureText:Gi,_merger:ct,_mergerIf:Wt,_normalizeAngle:ar,_parseObjectDataRadialScale:Bh,_pointInLine:co,_readValueToProps:Ir,_rlookupByKey:zi,_scaleRangesChanged:ze,_setMinAndMaxByKey:_n,_splitKey:fe,_steppedInterpolation:qa,_steppedLineTo:yr,_textX:Le,_toLeftRightCenter:He,_updateBezierControlPoints:rs,addRoundedRectPath:nu,almostEquals:an,almostWhole:Te,callback:_t,clearCanvas:No,clipArea:Ro,clone:kt,color:K,createContext:Rs,debounce:Pe,defined:le,distanceBetweenPoints:Ln,drawPoint:ko,drawPointLegend:zn,each:vt,easingEffects:ha,finiteOrDefault:Jt,fontString:function(I,b,k){return b+" "+I+"px "+k},formatNumber:Nt,getAngleFromPoint:wr,getHoverColor:J,getMaximumSize:Xr,getRelativePosition:rr,getRtlAdapter:os,getStyle:jn,isArray:Oe,isFinite:ue,isFunction:Xt,isNullOrUndef:Qt,isNumber:Qe,isObject:$t,isPatternOrGradient:q,listenArrayEvents:Kr,log10:ht,merge:ie,mergeIf:It,niceNum:en,noop:Gt,overrideTextDirection:sc,readUsedSize:fo,renderText:Fr,requestAnimFrame:Dt,resolve:Ma,resolveObjectKey:Me,restoreTextDirection:Hu,retinaScale:bo,setsEqual:Kt,sign:lt,splineCurve:Vu,splineCurveMonotone:Il,supportsEventListenerOptions:qr,throttled:re,toDegrees:Ge,toDimension:ft,toFont:Eo,toFontString:Na,toLineHeight:za,toPadding:Vr,toPercentage:bt,toRadians:Be,toTRBL:Ua,toTRBLCorners:Dl,uid:Tt,unclipArea:ns,unlistenArrayEvents:Yt,valueOrDefault:Vt});function Pl(I,b,k,L){const{controller:B,data:H,_sorted:X}=I,tt=B._cachedMeta.iScale;if(tt&&b===tt.axis&&b!=="r"&&X&&H.length){const at=tt._reversePixels?zi:oi;if(!L)return at(H,b,k);if(B._sharedOptions){const mt=H[0],Ft=typeof mt.getRange=="function"&&mt.getRange(b);if(Ft){const Lt=at(H,b,k-Ft),Ht=at(H,b,k+Ft);return{lo:Lt.lo,hi:Ht.hi}}}}return{lo:0,hi:H.length-1}}function Qo(I,b,k,L,B){const H=I.getSortedVisibleDatasetMetas(),X=k[b];for(let tt=0,at=H.length;tt<at;++tt){const{index:mt,data:Ft}=H[tt],{lo:Lt,hi:Ht}=Pl(H[tt],b,X,B);for(let ae=Lt;ae<=Ht;++ae){const Se=Ft[ae];Se.skip||L(Se,mt,ae)}}}function $a(I,b,k,L,B){const H=[];return!B&&!I.isPointInArea(b)||Qo(I,k,b,function(X,tt,at){(B||Zo(X,I.chartArea,0))&&X.inRange(b.x,b.y,L)&&H.push({element:X,datasetIndex:tt,index:at})},!0),H}function md(I,b,k,L,B,H){let X=[];const tt=function(mt){const Ft=mt.indexOf("x")!==-1,Lt=mt.indexOf("y")!==-1;return function(Ht,ae){const Se=Ft?Math.abs(Ht.x-ae.x):0,ge=Lt?Math.abs(Ht.y-ae.y):0;return Math.sqrt(Math.pow(Se,2)+Math.pow(ge,2))}}(k);let at=Number.POSITIVE_INFINITY;return Qo(I,k,b,function(mt,Ft,Lt){const Ht=mt.inRange(b.x,b.y,B);if(L&&!Ht)return;const ae=mt.getCenterPoint(B);if(!(H||I.isPointInArea(ae))&&!Ht)return;const Se=tt(b,ae);Se<at?(X=[{element:mt,datasetIndex:Ft,index:Lt}],at=Se):Se===at&&X.push({element:mt,datasetIndex:Ft,index:Lt})}),X}function vd(I,b,k,L,B,H){return H||I.isPointInArea(b)?k!=="r"||L?md(I,b,k,L,B,H):function(X,tt,at,mt){let Ft=[];return Qo(X,at,tt,function(Lt,Ht,ae){const{startAngle:Se,endAngle:ge}=Lt.getProps(["startAngle","endAngle"],mt),{angle:Ce}=wr(Lt,{x:tt.x,y:tt.y});hr(Ce,Se,ge)&&Ft.push({element:Lt,datasetIndex:Ht,index:ae})}),Ft}(I,b,k,B):[]}function Nl(I,b,k,L,B){const H=[],X=k==="x"?"inXRange":"inYRange";let tt=!1;return Qo(I,k,b,(at,mt,Ft)=>{at[X](b[k],B)&&(H.push({element:at,datasetIndex:mt,index:Ft}),tt=tt||at.inRange(b.x,b.y,B))}),L&&!tt?[]:H}var Oc={evaluateInteractionItems:Qo,modes:{index(I,b,k,L){const B=rr(b,I),H=k.axis||"x",X=k.includeInvisible||!1,tt=k.intersect?$a(I,B,H,L,X):vd(I,B,H,!1,L,X),at=[];return tt.length?(I.getSortedVisibleDatasetMetas().forEach(mt=>{const Ft=tt[0].index,Lt=mt.data[Ft];Lt&&!Lt.skip&&at.push({element:Lt,datasetIndex:mt.index,index:Ft})}),at):[]},dataset(I,b,k,L){const B=rr(b,I),H=k.axis||"xy",X=k.includeInvisible||!1;let tt=k.intersect?$a(I,B,H,L,X):vd(I,B,H,!1,L,X);if(tt.length>0){const at=tt[0].datasetIndex,mt=I.getDatasetMeta(at).data;tt=[];for(let Ft=0;Ft<mt.length;++Ft)tt.push({element:mt[Ft],datasetIndex:at,index:Ft})}return tt},point:(I,b,k,L)=>$a(I,rr(b,I),k.axis||"xy",L,k.includeInvisible||!1),nearest(I,b,k,L){const B=rr(b,I),H=k.axis||"xy",X=k.includeInvisible||!1;return vd(I,B,H,k.intersect,L,X)},x:(I,b,k,L)=>Nl(I,rr(b,I),"x",k.intersect,L),y:(I,b,k,L)=>Nl(I,rr(b,I),"y",k.intersect,L)}};const Vo=["left","top","right","bottom"];function vs(I,b){return I.filter(k=>k.pos===b)}function cc(I,b){return I.filter(k=>Vo.indexOf(k.pos)===-1&&k.box.axis===b)}function ys(I,b){return I.sort((k,L)=>{const B=b?L:k,H=b?k:L;return B.weight===H.weight?B.index-H.index:B.weight-H.weight})}function uc(I,b){const k=function(at){const mt={};for(const Ft of at){const{stack:Lt,pos:Ht,stackWeight:ae}=Ft;if(!Lt||!Vo.includes(Ht))continue;const Se=mt[Lt]||(mt[Lt]={count:0,placed:0,weight:0,size:0});Se.count++,Se.weight+=ae}return mt}(I),{vBoxMaxWidth:L,hBoxMaxHeight:B}=b;let H,X,tt;for(H=0,X=I.length;H<X;++H){tt=I[H];const{fullSize:at}=tt.box,mt=k[tt.stack],Ft=mt&&tt.stackWeight/mt.weight;tt.horizontal?(tt.width=Ft?Ft*L:at&&b.availableWidth,tt.height=B):(tt.width=L,tt.height=Ft?Ft*B:at&&b.availableHeight)}return k}function Rl(I,b,k,L){return Math.max(I[k],b[k])+Math.max(I[L],b[L])}function Hp(I,b){I.top=Math.max(I.top,b.top),I.left=Math.max(I.left,b.left),I.bottom=Math.max(I.bottom,b.bottom),I.right=Math.max(I.right,b.right)}function cl(I,b,k,L){const{pos:B,box:H}=k,X=I.maxPadding;if(!$t(B)){k.size&&(I[B]-=k.size);const Lt=L[k.stack]||{size:0,count:1};Lt.size=Math.max(Lt.size,k.horizontal?H.height:H.width),k.size=Lt.size/Lt.count,I[B]+=k.size}H.getPadding&&Hp(X,H.getPadding());const tt=Math.max(0,b.outerWidth-Rl(X,I,"left","right")),at=Math.max(0,b.outerHeight-Rl(X,I,"top","bottom")),mt=tt!==I.w,Ft=at!==I.h;return I.w=tt,I.h=at,k.horizontal?{same:mt,other:Ft}:{same:Ft,other:mt}}function hc(I,b){const k=b.maxPadding;function L(B){const H={left:0,top:0,right:0,bottom:0};return B.forEach(X=>{H[X]=Math.max(b[X],k[X])}),H}return L(I?["left","right"]:["top","bottom"])}function Oa(I,b,k,L){const B=[];let H,X,tt,at,mt,Ft;for(H=0,X=I.length,mt=0;H<X;++H){tt=I[H],at=tt.box,at.update(tt.width||b.w,tt.height||b.h,hc(tt.horizontal,b));const{same:Lt,other:Ht}=cl(b,k,tt,L);mt|=Lt&&B.length,Ft=Ft||Ht,at.fullSize||B.push(tt)}return mt&&Oa(B,b,k,L)||Ft}function ul(I,b,k,L,B){I.top=k,I.left=b,I.right=b+L,I.bottom=k+B,I.width=L,I.height=B}function hl(I,b,k,L){const B=k.padding;let{x:H,y:X}=b;for(const tt of I){const at=tt.box,mt=L[tt.stack]||{count:1,placed:0,weight:1},Ft=tt.stackWeight/mt.weight||1;if(tt.horizontal){const Lt=b.w*Ft,Ht=mt.size||at.height;le(mt.start)&&(X=mt.start),at.fullSize?ul(at,B.left,X,k.outerWidth-B.right-B.left,Ht):ul(at,b.left+mt.placed,X,Lt,Ht),mt.start=X,mt.placed+=Lt,X=at.bottom}else{const Lt=b.h*Ft,Ht=mt.size||at.width;le(mt.start)&&(H=mt.start),at.fullSize?ul(at,H,B.top,Ht,k.outerHeight-B.bottom-B.top):ul(at,H,b.top+mt.placed,Ht,Lt),mt.start=H,mt.placed+=Lt,H=at.right}}b.x=H,b.y=X}var sa={addBox(I,b){I.boxes||(I.boxes=[]),b.fullSize=b.fullSize||!1,b.position=b.position||"top",b.weight=b.weight||0,b._layers=b._layers||function(){return[{z:0,draw(k){b.draw(k)}}]},I.boxes.push(b)},removeBox(I,b){const k=I.boxes?I.boxes.indexOf(b):-1;k!==-1&&I.boxes.splice(k,1)},configure(I,b,k){b.fullSize=k.fullSize,b.position=k.position,b.weight=k.weight},update(I,b,k,L){if(!I)return;const B=Vr(I.options.layout.padding),H=Math.max(b-B.width,0),X=Math.max(k-B.height,0),tt=function(ge){const Ce=function(Ei){const Mi=[];let Si,tr,Vi,Oi,Ri,_i;for(Si=0,tr=(Ei||[]).length;Si<tr;++Si)Vi=Ei[Si],{position:Oi,options:{stack:Ri,stackWeight:_i=1}}=Vi,Mi.push({index:Si,box:Vi,pos:Oi,horizontal:Vi.isHorizontal(),weight:Vi.weight,stack:Ri&&Oi+Ri,stackWeight:_i});return Mi}(ge),Ue=ys(Ce.filter(Ei=>Ei.box.fullSize),!0),xn=ys(vs(Ce,"left"),!0),yn=ys(vs(Ce,"right")),mn=ys(vs(Ce,"top"),!0),Rn=ys(vs(Ce,"bottom")),$n=cc(Ce,"x"),mi=cc(Ce,"y");return{fullSize:Ue,leftAndTop:xn.concat(mn),rightAndBottom:yn.concat(mi).concat(Rn).concat($n),chartArea:vs(Ce,"chartArea"),vertical:xn.concat(yn).concat(mi),horizontal:mn.concat(Rn).concat($n)}}(I.boxes),at=tt.vertical,mt=tt.horizontal;vt(I.boxes,ge=>{typeof ge.beforeLayout=="function"&&ge.beforeLayout()});const Ft=at.reduce((ge,Ce)=>Ce.box.options&&Ce.box.options.display===!1?ge:ge+1,0)||1,Lt=Object.freeze({outerWidth:b,outerHeight:k,padding:B,availableWidth:H,availableHeight:X,vBoxMaxWidth:H/2/Ft,hBoxMaxHeight:X/2}),Ht=Object.assign({},B);Hp(Ht,Vr(L));const ae=Object.assign({maxPadding:Ht,w:H,h:X,x:B.left,y:B.top},B),Se=uc(at.concat(mt),Lt);Oa(tt.fullSize,ae,Lt,Se),Oa(at,ae,Lt,Se),Oa(mt,ae,Lt,Se)&&Oa(at,ae,Lt,Se),function(ge){const Ce=ge.maxPadding;function Ue(xn){const yn=Math.max(Ce[xn]-ge[xn],0);return ge[xn]+=yn,yn}ge.y+=Ue("top"),ge.x+=Ue("left"),Ue("right"),Ue("bottom")}(ae),hl(tt.leftAndTop,ae,Lt,Se),ae.x+=ae.w,ae.y+=ae.h,hl(tt.rightAndBottom,ae,Lt,Se),I.chartArea={left:ae.left,top:ae.top,right:ae.left+ae.w,bottom:ae.top+ae.h,height:ae.h,width:ae.w},vt(tt.chartArea,ge=>{const Ce=ge.box;Object.assign(Ce,I.chartArea),Ce.update(ae.w,ae.h,{left:0,top:0,right:0,bottom:0})})}};class Fa{acquireContext(b,k){}releaseContext(b){return!1}addEventListener(b,k,L){}removeEventListener(b,k,L){}getDevicePixelRatio(){return 1}getMaximumSize(b,k,L,B){return k=Math.max(0,k||b.width),L=L||b.height,{width:k,height:Math.max(0,B?Math.floor(k/B):L)}}isAttached(b){return!0}updateConfig(b){}}class Wp extends Fa{acquireContext(b){return b&&b.getContext&&b.getContext("2d")||null}updateConfig(b){b.options.animation=!1}}const Bs="$chartjs",xa={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zs=I=>I===null||I==="",au=!!qr&&{passive:!0};function Ho(I,b,k){I.canvas.removeEventListener(b,k,au)}function su(I,b){for(const k of I)if(k===b||k.contains(b))return!0}function Dc(I,b,k){const L=I.canvas,B=new MutationObserver(H=>{let X=!1;for(const tt of H)X=X||su(tt.addedNodes,L),X=X&&!su(tt.removedNodes,L);X&&k()});return B.observe(document,{childList:!0,subtree:!0}),B}function dl(I,b,k){const L=I.canvas,B=new MutationObserver(H=>{let X=!1;for(const tt of H)X=X||su(tt.removedNodes,L),X=X&&!su(tt.addedNodes,L);X&&k()});return B.observe(document,{childList:!0,subtree:!0}),B}const uo=new Map;let ss=0;function yd(){const I=window.devicePixelRatio;I!==ss&&(ss=I,uo.forEach((b,k)=>{k.currentDevicePixelRatio!==I&&b()}))}function bd(I,b,k){const L=I.canvas,B=L&&on(L);if(!B)return;const H=re((tt,at)=>{const mt=B.clientWidth;k(tt,at),mt<B.clientWidth&&k()},window),X=new ResizeObserver(tt=>{const at=tt[0],mt=at.contentRect.width,Ft=at.contentRect.height;mt===0&&Ft===0||H(mt,Ft)});return X.observe(B),function(tt,at){uo.size||window.addEventListener("resize",yd),uo.set(tt,at)}(I,H),X}function dc(I,b,k){k&&k.disconnect(),b==="resize"&&function(L){uo.delete(L),uo.size||window.removeEventListener("resize",yd)}(I)}function xd(I,b,k){const L=I.canvas,B=re(H=>{I.ctx!==null&&k(function(X,tt){const at=xa[X.type]||X.type,{x:mt,y:Ft}=rr(X,tt);return{type:at,chart:tt,native:X,x:mt!==void 0?mt:null,y:Ft!==void 0?Ft:null}}(H,I))},I);return function(H,X,tt){H.addEventListener(X,tt,au)}(L,b,B),B}class Fs extends Fa{acquireContext(b,k){const L=b&&b.getContext&&b.getContext("2d");return L&&L.canvas===b?(function(B,H){const X=B.style,tt=B.getAttribute("height"),at=B.getAttribute("width");if(B[Bs]={initial:{height:tt,width:at,style:{display:X.display,height:X.height,width:X.width}}},X.display=X.display||"block",X.boxSizing=X.boxSizing||"border-box",zs(at)){const mt=fo(B,"width");mt!==void 0&&(B.width=mt)}if(zs(tt))if(B.style.height==="")B.height=B.width/(H||2);else{const mt=fo(B,"height");mt!==void 0&&(B.height=mt)}}(b,k),L):null}releaseContext(b){const k=b.canvas;if(!k[Bs])return!1;const L=k[Bs].initial;["height","width"].forEach(H=>{const X=L[H];Qt(X)?k.removeAttribute(H):k.setAttribute(H,X)});const B=L.style||{};return Object.keys(B).forEach(H=>{k.style[H]=B[H]}),k.width=k.width,delete k[Bs],!0}addEventListener(b,k,L){this.removeEventListener(b,k);const B=b.$proxies||(b.$proxies={}),H={attach:Dc,detach:dl,resize:bd}[k]||xd;B[k]=H(b,k,L)}removeEventListener(b,k){const L=b.$proxies||(b.$proxies={}),B=L[k];B&&(({attach:dc,detach:dc,resize:dc}[k]||Ho)(b,k,B),L[k]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(b,k,L,B){return Xr(b,k,L,B)}isAttached(b){const k=on(b);return!(!k||!k.isConnected)}}function ju(I){return!Ie()||typeof OffscreenCanvas<"u"&&I instanceof OffscreenCanvas?Wp:Fs}var Vs=Object.freeze({__proto__:null,BasePlatform:Fa,BasicPlatform:Wp,DomPlatform:Fs,_detectPlatform:ju});const Hs="transparent",_d={boolean:(I,b,k)=>k>.5?b:I,color(I,b,k){const L=K(I||Hs),B=L.valid&&K(b||Hs);return B&&B.valid?B.mix(L,k).hexString():b},number:(I,b,k)=>I+(b-I)*k};class lu{constructor(b,k,L,B){const H=k[L];B=Ma([b.to,B,H,b.from]);const X=Ma([b.from,H,B]);this._active=!0,this._fn=b.fn||_d[b.type||typeof X],this._easing=ha[b.easing]||ha.linear,this._start=Math.floor(Date.now()+(b.delay||0)),this._duration=this._total=Math.floor(b.duration),this._loop=!!b.loop,this._target=k,this._prop=L,this._from=X,this._to=B,this._promises=void 0}active(){return this._active}update(b,k,L){if(this._active){this._notify(!1);const B=this._target[this._prop],H=L-this._start,X=this._duration-H;this._start=L,this._duration=Math.floor(Math.max(X,b.duration)),this._total+=H,this._loop=!!b.loop,this._to=Ma([b.to,k,B,b.from]),this._from=Ma([b.from,B,k])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(b){const k=b-this._start,L=this._duration,B=this._prop,H=this._from,X=this._loop,tt=this._to;let at;if(this._active=H!==tt&&(X||k<L),!this._active)return this._target[B]=tt,void this._notify(!0);k<0?this._target[B]=H:(at=k/L%2,at=X&&at>1?2-at:at,at=this._easing(Math.min(1,Math.max(0,at))),this._target[B]=this._fn(H,tt,at))}wait(){const b=this._promises||(this._promises=[]);return new Promise((k,L)=>{b.push({res:k,rej:L})})}_notify(b){const k=b?"res":"rej",L=this._promises||[];for(let B=0;B<L.length;B++)L[B][k]()}}class pl{constructor(b,k){this._chart=b,this._properties=new Map,this.configure(k)}configure(b){if(!$t(b))return;const k=Object.keys(xe.animation),L=this._properties;Object.getOwnPropertyNames(b).forEach(B=>{const H=b[B];if(!$t(H))return;const X={};for(const tt of k)X[tt]=H[tt];(Oe(H.properties)&&H.properties||[B]).forEach(tt=>{tt!==B&&L.has(tt)||L.set(tt,X)})})}_animateOptions(b,k){const L=k.options,B=function(X,tt){if(!tt)return;let at=X.options;return at?(at.$shared&&(X.options=at=Object.assign({},at,{$shared:!1,$animations:{}})),at):void(X.options=tt)}(b,L);if(!B)return[];const H=this._createAnimations(B,L);return L.$shared&&function(X,tt){const at=[],mt=Object.keys(tt);for(let Ft=0;Ft<mt.length;Ft++){const Lt=X[mt[Ft]];Lt&&Lt.active()&&at.push(Lt.wait())}return Promise.all(at)}(b.options.$animations,L).then(()=>{b.options=L},()=>{}),H}_createAnimations(b,k){const L=this._properties,B=[],H=b.$animations||(b.$animations={}),X=Object.keys(k),tt=Date.now();let at;for(at=X.length-1;at>=0;--at){const mt=X[at];if(mt.charAt(0)==="$")continue;if(mt==="options"){B.push(...this._animateOptions(b,k));continue}const Ft=k[mt];let Lt=H[mt];const Ht=L.get(mt);if(Lt){if(Ht&&Lt.active()){Lt.update(Ht,Ft,tt);continue}Lt.cancel()}Ht&&Ht.duration?(H[mt]=Lt=new lu(Ht,b,mt,Ft),B.push(Lt)):b[mt]=Ft}return B}update(b,k){if(this._properties.size===0)return void Object.assign(b,k);const L=this._createAnimations(b,k);return L.length?(Ii.add(this._chart,L),!0):void 0}}function Yu(I,b){const k=I&&I.options||{},L=k.reverse,B=k.min===void 0?b:0,H=k.max===void 0?b:0;return{start:L?H:B,end:L?B:H}}function wd(I,b){const k=[],L=I._getSortedDatasetMetas(b);let B,H;for(B=0,H=L.length;B<H;++B)k.push(L[B].index);return k}function Bl(I,b,k,L={}){const B=I.keys,H=L.mode==="single";let X,tt,at,mt;if(b!==null){for(X=0,tt=B.length;X<tt;++X){if(at=+B[X],at===k){if(L.all)continue;break}mt=I.values[at],ue(mt)&&(H||b===0||lt(b)===lt(mt))&&(b+=mt)}return b}}function oe(I,b){const k=I&&I.options.stacked;return k||k===void 0&&b.stack!==void 0}function nt(I,b,k){const L=I[b]||(I[b]={});return L[k]||(L[k]={})}function zt(I,b,k,L){for(const B of b.getMatchingVisibleMetas(L).reverse()){const H=I[B.index];if(k&&H>0||!k&&H<0)return B.index}return null}function Ee(I,b){const{chart:k,_cachedMeta:L}=I,B=k._stacks||(k._stacks={}),{iScale:H,vScale:X,index:tt}=L,at=H.axis,mt=X.axis,Ft=function(ae,Se,ge){return`${ae.id}.${Se.id}.${ge.stack||ge.type}`}(H,X,L),Lt=b.length;let Ht;for(let ae=0;ae<Lt;++ae){const Se=b[ae],{[at]:ge,[mt]:Ce}=Se;Ht=(Se._stacks||(Se._stacks={}))[mt]=nt(B,Ft,ge),Ht[tt]=Ce,Ht._top=zt(Ht,X,!0,L.type),Ht._bottom=zt(Ht,X,!1,L.type),(Ht._visualValues||(Ht._visualValues={}))[tt]=Ce}}function bn(I,b){const k=I.scales;return Object.keys(k).filter(L=>k[L].axis===b).shift()}function We(I,b){const k=I.controller.index,L=I.vScale&&I.vScale.axis;if(L){b=b||I._parsed;for(const B of b){const H=B._stacks;if(!H||H[L]===void 0||H[L][k]===void 0)return;delete H[L][k],H[L]._visualValues!==void 0&&H[L]._visualValues[k]!==void 0&&delete H[L]._visualValues[k]}}}const Nn=I=>I==="reset"||I==="none",Xn=(I,b)=>b?I:Object.assign({},I);class fi{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(b,k){this.chart=b,this._ctx=b.ctx,this.index=k,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const b=this._cachedMeta;this.configure(),this.linkScales(),b._stacked=oe(b.vScale,b),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(b){this.index!==b&&We(this._cachedMeta),this.index=b}linkScales(){const b=this.chart,k=this._cachedMeta,L=this.getDataset(),B=(Lt,Ht,ae,Se)=>Lt==="x"?Ht:Lt==="r"?Se:ae,H=k.xAxisID=Vt(L.xAxisID,bn(b,"x")),X=k.yAxisID=Vt(L.yAxisID,bn(b,"y")),tt=k.rAxisID=Vt(L.rAxisID,bn(b,"r")),at=k.indexAxis,mt=k.iAxisID=B(at,H,X,tt),Ft=k.vAxisID=B(at,X,H,tt);k.xScale=this.getScaleForId(H),k.yScale=this.getScaleForId(X),k.rScale=this.getScaleForId(tt),k.iScale=this.getScaleForId(mt),k.vScale=this.getScaleForId(Ft)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(b){return this.chart.scales[b]}_getOtherScale(b){const k=this._cachedMeta;return b===k.iScale?k.vScale:k.iScale}reset(){this._update("reset")}_destroy(){const b=this._cachedMeta;this._data&&Yt(this._data,this),b._stacked&&We(b)}_dataCheck(){const b=this.getDataset(),k=b.data||(b.data=[]),L=this._data;if($t(k))this._data=function(B){const H=Object.keys(B),X=new Array(H.length);let tt,at,mt;for(tt=0,at=H.length;tt<at;++tt)mt=H[tt],X[tt]={x:mt,y:B[mt]};return X}(k);else if(L!==k){if(L){Yt(L,this);const B=this._cachedMeta;We(B),B._parsed=[]}k&&Object.isExtensible(k)&&Kr(k,this),this._syncList=[],this._data=k}}addElements(){const b=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(b.dataset=new this.datasetElementType)}buildOrUpdateElements(b){const k=this._cachedMeta,L=this.getDataset();let B=!1;this._dataCheck();const H=k._stacked;k._stacked=oe(k.vScale,k),k.stack!==L.stack&&(B=!0,We(k),k.stack=L.stack),this._resyncElements(b),(B||H!==k._stacked)&&Ee(this,k._parsed)}configure(){const b=this.chart.config,k=b.datasetScopeKeys(this._type),L=b.getOptionScopes(this.getDataset(),k,!0);this.options=b.createResolver(L,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(b,k){const{_cachedMeta:L,_data:B}=this,{iScale:H,_stacked:X}=L,tt=H.axis;let at,mt,Ft,Lt=b===0&&k===B.length||L._sorted,Ht=b>0&&L._parsed[b-1];if(this._parsing===!1)L._parsed=B,L._sorted=!0,Ft=B;else{Ft=Oe(B[b])?this.parseArrayData(L,B,b,k):$t(B[b])?this.parseObjectData(L,B,b,k):this.parsePrimitiveData(L,B,b,k);const ae=()=>mt[tt]===null||Ht&&mt[tt]<Ht[tt];for(at=0;at<k;++at)L._parsed[at+b]=mt=Ft[at],Lt&&(ae()&&(Lt=!1),Ht=mt);L._sorted=Lt}X&&Ee(this,Ft)}parsePrimitiveData(b,k,L,B){const{iScale:H,vScale:X}=b,tt=H.axis,at=X.axis,mt=H.getLabels(),Ft=H===X,Lt=new Array(B);let Ht,ae,Se;for(Ht=0,ae=B;Ht<ae;++Ht)Se=Ht+L,Lt[Ht]={[tt]:Ft||H.parse(mt[Se],Se),[at]:X.parse(k[Se],Se)};return Lt}parseArrayData(b,k,L,B){const{xScale:H,yScale:X}=b,tt=new Array(B);let at,mt,Ft,Lt;for(at=0,mt=B;at<mt;++at)Ft=at+L,Lt=k[Ft],tt[at]={x:H.parse(Lt[0],Ft),y:X.parse(Lt[1],Ft)};return tt}parseObjectData(b,k,L,B){const{xScale:H,yScale:X}=b,{xAxisKey:tt="x",yAxisKey:at="y"}=this._parsing,mt=new Array(B);let Ft,Lt,Ht,ae;for(Ft=0,Lt=B;Ft<Lt;++Ft)Ht=Ft+L,ae=k[Ht],mt[Ft]={x:H.parse(Me(ae,tt),Ht),y:X.parse(Me(ae,at),Ht)};return mt}getParsed(b){return this._cachedMeta._parsed[b]}getDataElement(b){return this._cachedMeta.data[b]}applyStack(b,k,L){const B=this.chart,H=this._cachedMeta,X=k[b.axis];return Bl({keys:wd(B,!0),values:k._stacks[b.axis]._visualValues},X,H.index,{mode:L})}updateRangeFromParsed(b,k,L,B){const H=L[k.axis];let X=H===null?NaN:H;const tt=B&&L._stacks[k.axis];B&&tt&&(B.values=tt,X=Bl(B,H,this._cachedMeta.index)),b.min=Math.min(b.min,X),b.max=Math.max(b.max,X)}getMinMax(b,k){const L=this._cachedMeta,B=L._parsed,H=L._sorted&&b===L.iScale,X=B.length,tt=this._getOtherScale(b),at=((ge,Ce,Ue)=>ge&&!Ce.hidden&&Ce._stacked&&{keys:wd(Ue,!0),values:null})(k,L,this.chart),mt={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Ft,max:Lt}=function(ge){const{min:Ce,max:Ue,minDefined:xn,maxDefined:yn}=ge.getUserBounds();return{min:xn?Ce:Number.NEGATIVE_INFINITY,max:yn?Ue:Number.POSITIVE_INFINITY}}(tt);let Ht,ae;function Se(){ae=B[Ht];const ge=ae[tt.axis];return!ue(ae[b.axis])||Ft>ge||Lt<ge}for(Ht=0;Ht<X&&(Se()||(this.updateRangeFromParsed(mt,b,ae,at),!H));++Ht);if(H){for(Ht=X-1;Ht>=0;--Ht)if(!Se()){this.updateRangeFromParsed(mt,b,ae,at);break}}return mt}getAllParsedValues(b){const k=this._cachedMeta._parsed,L=[];let B,H,X;for(B=0,H=k.length;B<H;++B)X=k[B][b.axis],ue(X)&&L.push(X);return L}getMaxOverflow(){return!1}getLabelAndValue(b){const k=this._cachedMeta,L=k.iScale,B=k.vScale,H=this.getParsed(b);return{label:L?""+L.getLabelForValue(H[L.axis]):"",value:B?""+B.getLabelForValue(H[B.axis]):""}}_update(b){const k=this._cachedMeta;this.update(b||"default"),k._clip=function(L){let B,H,X,tt;return $t(L)?(B=L.top,H=L.right,X=L.bottom,tt=L.left):B=H=X=tt=L,{top:B,right:H,bottom:X,left:tt,disabled:L===!1}}(Vt(this.options.clip,function(L,B,H){if(H===!1)return!1;const X=Yu(L,H),tt=Yu(B,H);return{top:tt.end,right:X.end,bottom:tt.start,left:X.start}}(k.xScale,k.yScale,this.getMaxOverflow())))}update(b){}draw(){const b=this._ctx,k=this.chart,L=this._cachedMeta,B=L.data||[],H=k.chartArea,X=[],tt=this._drawStart||0,at=this._drawCount||B.length-tt,mt=this.options.drawActiveElementsOnTop;let Ft;for(L.dataset&&L.dataset.draw(b,H,tt,at),Ft=tt;Ft<tt+at;++Ft){const Lt=B[Ft];Lt.hidden||(Lt.active&&mt?X.push(Lt):Lt.draw(b,H))}for(Ft=0;Ft<X.length;++Ft)X[Ft].draw(b,H)}getStyle(b,k){const L=k?"active":"default";return b===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(L):this.resolveDataElementOptions(b||0,L)}getContext(b,k,L){const B=this.getDataset();let H;if(b>=0&&b<this._cachedMeta.data.length){const X=this._cachedMeta.data[b];H=X.$context||(X.$context=function(tt,at,mt){return Rs(tt,{active:!1,dataIndex:at,parsed:void 0,raw:void 0,element:mt,index:at,mode:"default",type:"data"})}(this.getContext(),b,X)),H.parsed=this.getParsed(b),H.raw=B.data[b],H.index=H.dataIndex=b}else H=this.$context||(this.$context=function(X,tt){return Rs(X,{active:!1,dataset:void 0,datasetIndex:tt,index:tt,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),H.dataset=B,H.index=H.datasetIndex=this.index;return H.active=!!k,H.mode=L,H}resolveDatasetElementOptions(b){return this._resolveElementOptions(this.datasetElementType.id,b)}resolveDataElementOptions(b,k){return this._resolveElementOptions(this.dataElementType.id,k,b)}_resolveElementOptions(b,k="default",L){const B=k==="active",H=this._cachedDataOpts,X=b+"-"+k,tt=H[X],at=this.enableOptionSharing&&le(L);if(tt)return Xn(tt,at);const mt=this.chart.config,Ft=mt.datasetElementScopeKeys(this._type,b),Lt=B?[`${b}Hover`,"hover",b,""]:[b,""],Ht=mt.getOptionScopes(this.getDataset(),Ft),ae=Object.keys(xe.elements[b]),Se=mt.resolveNamedOptions(Ht,ae,()=>this.getContext(L,B,k),Lt);return Se.$shared&&(Se.$shared=at,H[X]=Object.freeze(Xn(Se,at))),Se}_resolveAnimations(b,k,L){const B=this.chart,H=this._cachedDataOpts,X=`animation-${k}`,tt=H[X];if(tt)return tt;let at;if(B.options.animation!==!1){const Ft=this.chart.config,Lt=Ft.datasetAnimationScopeKeys(this._type,k),Ht=Ft.getOptionScopes(this.getDataset(),Lt);at=Ft.createResolver(Ht,this.getContext(b,L,k))}const mt=new pl(B,at&&at.animations);return at&&at._cacheable&&(H[X]=Object.freeze(mt)),mt}getSharedOptions(b){if(b.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},b))}includeOptions(b,k){return!k||Nn(b)||this.chart._animationsDisabled}_getSharedOptions(b,k){const L=this.resolveDataElementOptions(b,k),B=this._sharedOptions,H=this.getSharedOptions(L),X=this.includeOptions(k,H)||H!==B;return this.updateSharedOptions(H,k,L),{sharedOptions:H,includeOptions:X}}updateElement(b,k,L,B){Nn(B)?Object.assign(b,L):this._resolveAnimations(k,B).update(b,L)}updateSharedOptions(b,k,L){b&&!Nn(k)&&this._resolveAnimations(void 0,k).update(b,L)}_setStyle(b,k,L,B){b.active=B;const H=this.getStyle(k,B);this._resolveAnimations(k,L,B).update(b,{options:!B&&this.getSharedOptions(H)||H})}removeHoverStyle(b,k,L){this._setStyle(b,L,"active",!1)}setHoverStyle(b,k,L){this._setStyle(b,L,"active",!0)}_removeDatasetHoverStyle(){const b=this._cachedMeta.dataset;b&&this._setStyle(b,void 0,"active",!1)}_setDatasetHoverStyle(){const b=this._cachedMeta.dataset;b&&this._setStyle(b,void 0,"active",!0)}_resyncElements(b){const k=this._data,L=this._cachedMeta.data;for(const[tt,at,mt]of this._syncList)this[tt](at,mt);this._syncList=[];const B=L.length,H=k.length,X=Math.min(H,B);X&&this.parse(0,X),H>B?this._insertElements(B,H-B,b):H<B&&this._removeElements(H,B-H)}_insertElements(b,k,L=!0){const B=this._cachedMeta,H=B.data,X=b+k;let tt;const at=mt=>{for(mt.length+=k,tt=mt.length-1;tt>=X;tt--)mt[tt]=mt[tt-k]};for(at(H),tt=b;tt<X;++tt)H[tt]=new this.dataElementType;this._parsing&&at(B._parsed),this.parse(b,k),L&&this.updateElements(H,b,k,"reset")}updateElements(b,k,L,B){}_removeElements(b,k){const L=this._cachedMeta;if(this._parsing){const B=L._parsed.splice(b,k);L._stacked&&We(L,B)}L.data.splice(b,k)}_sync(b){if(this._parsing)this._syncList.push(b);else{const[k,L,B]=b;this[k](L,B)}this.chart._dataChanges.push([this.index,...b])}_onDataPush(){const b=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-b,b])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(b,k){k&&this._sync(["_removeElements",b,k]);const L=arguments.length-2;L&&this._sync(["_insertElements",b,L])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Bi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(b){const{x:k,y:L}=this.getProps(["x","y"],b);return{x:k,y:L}}hasValue(){return Qe(this.x)&&Qe(this.y)}getProps(b,k){const L=this.$animations;if(!k||!L)return this;const B={};return b.forEach(H=>{B[H]=L[H]&&L[H].active()?L[H]._to:this[H]}),B}}function Xi(I,b){const k=I.options.ticks,L=function(Lt){const Ht=Lt.options.offset,ae=Lt._tickSize(),Se=Lt._length/ae+(Ht?0:1),ge=Lt._maxLength/ae;return Math.floor(Math.min(Se,ge))}(I),B=Math.min(k.maxTicksLimit||L,L),H=k.major.enabled?function(Lt){const Ht=[];let ae,Se;for(ae=0,Se=Lt.length;ae<Se;ae++)Lt[ae].major&&Ht.push(ae);return Ht}(b):[],X=H.length,tt=H[0],at=H[X-1],mt=[];if(X>B)return function(Lt,Ht,ae,Se){let ge,Ce=0,Ue=ae[0];for(Se=Math.ceil(Se),ge=0;ge<Lt.length;ge++)ge===Ue&&(Ht.push(Lt[ge]),Ce++,Ue=ae[Ce*Se])}(b,mt,H,X/B),mt;const Ft=function(Lt,Ht,ae){const Se=function(Ue){const xn=Ue.length;let yn,mn;if(xn<2)return!1;for(mn=Ue[0],yn=1;yn<xn;++yn)if(Ue[yn]-Ue[yn-1]!==mn)return!1;return mn}(Lt),ge=Ht.length/ae;if(!Se)return Math.max(ge,1);const Ce=je(Se);for(let Ue=0,xn=Ce.length-1;Ue<xn;Ue++){const yn=Ce[Ue];if(yn>ge)return yn}return Math.max(ge,1)}(H,b,B);if(X>0){let Lt,Ht;const ae=X>1?Math.round((at-tt)/(X-1)):null;for(Ci(b,mt,Ft,Qt(ae)?0:tt-ae,tt),Lt=0,Ht=X-1;Lt<Ht;Lt++)Ci(b,mt,Ft,H[Lt],H[Lt+1]);return Ci(b,mt,Ft,at,Qt(ae)?b.length:at+ae),mt}return Ci(b,mt,Ft),mt}function Ci(I,b,k,L,B){const H=Vt(L,0),X=Math.min(Vt(B,I.length),I.length);let tt,at,mt,Ft=0;for(k=Math.ceil(k),B&&(tt=B-L,k=tt/Math.floor(tt/k)),mt=H;mt<0;)Ft++,mt=Math.round(H+Ft*k);for(at=Math.max(H,0);at<X;at++)at===mt&&(b.push(I[at]),Ft++,mt=Math.round(H+Ft*k))}const Br=(I,b,k)=>b==="top"||b==="left"?I[b]+k:I[b]-k,_r=(I,b)=>Math.min(b||I,I);function Sn(I,b){const k=[],L=I.length/b,B=I.length;let H=0;for(;H<B;H+=L)k.push(I[Math.floor(H)]);return k}function Pr(I,b,k){const L=I.ticks.length,B=Math.min(b,L-1),H=I._startPixel,X=I._endPixel,tt=1e-6;let at,mt=I.getPixelForTick(B);if(!(k&&(at=L===1?Math.max(mt-H,X-mt):b===0?(I.getPixelForTick(1)-mt)/2:(mt-I.getPixelForTick(B-1))/2,mt+=B<b?at:-at,mt<H-tt||mt>X+tt)))return mt}function sr(I){return I.drawTicks?I.tickLength:0}function Qr(I,b){if(!I.display)return 0;const k=Eo(I.font,b),L=Vr(I.padding);return(Oe(I.text)?I.text.length:1)*k.lineHeight+L.height}function Co(I,b,k){let L=He(I);return(k&&b!=="right"||!k&&b==="right")&&(L=(B=>B==="left"?"right":B==="right"?"left":B)(L)),L}class Lr extends Bi{constructor(b){super(),this.id=b.id,this.type=b.type,this.options=void 0,this.ctx=b.ctx,this.chart=b.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(b){this.options=b.setContext(this.getContext()),this.axis=b.axis,this._userMin=this.parse(b.min),this._userMax=this.parse(b.max),this._suggestedMin=this.parse(b.suggestedMin),this._suggestedMax=this.parse(b.suggestedMax)}parse(b,k){return b}getUserBounds(){let{_userMin:b,_userMax:k,_suggestedMin:L,_suggestedMax:B}=this;return b=Jt(b,Number.POSITIVE_INFINITY),k=Jt(k,Number.NEGATIVE_INFINITY),L=Jt(L,Number.POSITIVE_INFINITY),B=Jt(B,Number.NEGATIVE_INFINITY),{min:Jt(b,L),max:Jt(k,B),minDefined:ue(b),maxDefined:ue(k)}}getMinMax(b){let k,{min:L,max:B,minDefined:H,maxDefined:X}=this.getUserBounds();if(H&&X)return{min:L,max:B};const tt=this.getMatchingVisibleMetas();for(let at=0,mt=tt.length;at<mt;++at)k=tt[at].controller.getMinMax(this,b),H||(L=Math.min(L,k.min)),X||(B=Math.max(B,k.max));return L=X&&L>B?B:L,B=H&&L>B?L:B,{min:Jt(L,Jt(B,L)),max:Jt(B,Jt(L,B))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const b=this.chart.data;return this.options.labels||(this.isHorizontal()?b.xLabels:b.yLabels)||b.labels||[]}getLabelItems(b=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(b))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_t(this.options.beforeUpdate,[this])}update(b,k,L){const{beginAtZero:B,grace:H,ticks:X}=this.options,tt=X.sampleSize;this.beforeUpdate(),this.maxWidth=b,this.maxHeight=k,this._margins=L=Object.assign({left:0,right:0,top:0,bottom:0},L),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+L.left+L.right:this.height+L.top+L.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ac(this,H,B),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const at=tt<this.ticks.length;this._convertTicksToLabels(at?Sn(this.ticks,tt):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),X.display&&(X.autoSkip||X.source==="auto")&&(this.ticks=Xi(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),at&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let b,k,L=this.options.reverse;this.isHorizontal()?(b=this.left,k=this.right):(b=this.top,k=this.bottom,L=!L),this._startPixel=b,this._endPixel=k,this._reversePixels=L,this._length=k-b,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_t(this.options.afterUpdate,[this])}beforeSetDimensions(){_t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_t(this.options.afterSetDimensions,[this])}_callHooks(b){this.chart.notifyPlugins(b,this.getContext()),_t(this.options[b],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(b){const k=this.options.ticks;let L,B,H;for(L=0,B=b.length;L<B;L++)H=b[L],H.label=_t(k.callback,[H.value,L,b],this)}afterTickToLabelConversion(){_t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const b=this.options,k=b.ticks,L=_r(this.ticks.length,b.ticks.maxTicksLimit),B=k.minRotation||0,H=k.maxRotation;let X,tt,at,mt=B;if(!this._isVisible()||!k.display||B>=H||L<=1||!this.isHorizontal())return void(this.labelRotation=B);const Ft=this._getLabelSizes(),Lt=Ft.widest.width,Ht=Ft.highest.height,ae=wn(this.chart.width-Lt,0,this.maxWidth);X=b.offset?this.maxWidth/L:ae/(L-1),Lt+6>X&&(X=ae/(L-(b.offset?.5:1)),tt=this.maxHeight-sr(b.grid)-k.padding-Qr(b.title,this.chart.options.font),at=Math.sqrt(Lt*Lt+Ht*Ht),mt=Ge(Math.min(Math.asin(wn((Ft.highest.height+6)/X,-1,1)),Math.asin(wn(tt/at,-1,1))-Math.asin(wn(Ht/at,-1,1)))),mt=Math.max(B,Math.min(H,mt))),this.labelRotation=mt}afterCalculateLabelRotation(){_t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_t(this.options.beforeFit,[this])}fit(){const b={width:0,height:0},{chart:k,options:{ticks:L,title:B,grid:H}}=this,X=this._isVisible(),tt=this.isHorizontal();if(X){const at=Qr(B,k.options.font);if(tt?(b.width=this.maxWidth,b.height=sr(H)+at):(b.height=this.maxHeight,b.width=sr(H)+at),L.display&&this.ticks.length){const{first:mt,last:Ft,widest:Lt,highest:Ht}=this._getLabelSizes(),ae=2*L.padding,Se=Be(this.labelRotation),ge=Math.cos(Se),Ce=Math.sin(Se);if(tt){const Ue=L.mirror?0:Ce*Lt.width+ge*Ht.height;b.height=Math.min(this.maxHeight,b.height+Ue+ae)}else{const Ue=L.mirror?0:ge*Lt.width+Ce*Ht.height;b.width=Math.min(this.maxWidth,b.width+Ue+ae)}this._calculatePadding(mt,Ft,Ce,ge)}}this._handleMargins(),tt?(this.width=this._length=k.width-this._margins.left-this._margins.right,this.height=b.height):(this.width=b.width,this.height=this._length=k.height-this._margins.top-this._margins.bottom)}_calculatePadding(b,k,L,B){const{ticks:{align:H,padding:X},position:tt}=this.options,at=this.labelRotation!==0,mt=tt!=="top"&&this.axis==="x";if(this.isHorizontal()){const Ft=this.getPixelForTick(0)-this.left,Lt=this.right-this.getPixelForTick(this.ticks.length-1);let Ht=0,ae=0;at?mt?(Ht=B*b.width,ae=L*k.height):(Ht=L*b.height,ae=B*k.width):H==="start"?ae=k.width:H==="end"?Ht=b.width:H!=="inner"&&(Ht=b.width/2,ae=k.width/2),this.paddingLeft=Math.max((Ht-Ft+X)*this.width/(this.width-Ft),0),this.paddingRight=Math.max((ae-Lt+X)*this.width/(this.width-Lt),0)}else{let Ft=k.height/2,Lt=b.height/2;H==="start"?(Ft=0,Lt=b.height):H==="end"&&(Ft=k.height,Lt=0),this.paddingTop=Ft+X,this.paddingBottom=Lt+X}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_t(this.options.afterFit,[this])}isHorizontal(){const{axis:b,position:k}=this.options;return k==="top"||k==="bottom"||b==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(b){let k,L;for(this.beforeTickToLabelConversion(),this.generateTickLabels(b),k=0,L=b.length;k<L;k++)Qt(b[k].label)&&(b.splice(k,1),L--,k--);this.afterTickToLabelConversion()}_getLabelSizes(){let b=this._labelSizes;if(!b){const k=this.options.ticks.sampleSize;let L=this.ticks;k<L.length&&(L=Sn(L,k)),this._labelSizes=b=this._computeLabelSizes(L,L.length,this.options.ticks.maxTicksLimit)}return b}_computeLabelSizes(b,k,L){const{ctx:B,_longestTextCache:H}=this,X=[],tt=[],at=Math.floor(k/_r(k,L));let mt,Ft,Lt,Ht,ae,Se,ge,Ce,Ue,xn,yn,mn=0,Rn=0;for(mt=0;mt<k;mt+=at){if(Ht=b[mt].label,ae=this._resolveTickFontOptions(mt),B.font=Se=ae.string,ge=H[Se]=H[Se]||{data:{},gc:[]},Ce=ae.lineHeight,Ue=xn=0,Qt(Ht)||Oe(Ht)){if(Oe(Ht))for(Ft=0,Lt=Ht.length;Ft<Lt;++Ft)yn=Ht[Ft],Qt(yn)||Oe(yn)||(Ue=Gi(B,ge.data,ge.gc,Ue,yn),xn+=Ce)}else Ue=Gi(B,ge.data,ge.gc,Ue,Ht),xn=Ce;X.push(Ue),tt.push(xn),mn=Math.max(Ue,mn),Rn=Math.max(xn,Rn)}(function(Mi,Si){vt(Mi,tr=>{const Vi=tr.gc,Oi=Vi.length/2;let Ri;if(Oi>Si){for(Ri=0;Ri<Oi;++Ri)delete tr.data[Vi[Ri]];Vi.splice(0,Oi)}})})(H,k);const $n=X.indexOf(mn),mi=tt.indexOf(Rn),Ei=Mi=>({width:X[Mi]||0,height:tt[Mi]||0});return{first:Ei(0),last:Ei(k-1),widest:Ei($n),highest:Ei(mi),widths:X,heights:tt}}getLabelForValue(b){return b}getPixelForValue(b,k){return NaN}getValueForPixel(b){}getPixelForTick(b){const k=this.ticks;return b<0||b>k.length-1?null:this.getPixelForValue(k[b].value)}getPixelForDecimal(b){this._reversePixels&&(b=1-b);const k=this._startPixel+b*this._length;return Wn(this._alignToPixels?Ra(this.chart,k,0):k)}getDecimalForPixel(b){const k=(b-this._startPixel)/this._length;return this._reversePixels?1-k:k}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:b,max:k}=this;return b<0&&k<0?k:b>0&&k>0?b:0}getContext(b){const k=this.ticks||[];if(b>=0&&b<k.length){const L=k[b];return L.$context||(L.$context=function(B,H,X){return Rs(B,{tick:X,index:H,type:"tick"})}(this.getContext(),b,L))}return this.$context||(this.$context=Rs(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const b=this.options.ticks,k=Be(this.labelRotation),L=Math.abs(Math.cos(k)),B=Math.abs(Math.sin(k)),H=this._getLabelSizes(),X=b.autoSkipPadding||0,tt=H?H.widest.width+X:0,at=H?H.highest.height+X:0;return this.isHorizontal()?at*L>tt*B?tt/L:at/B:at*B<tt*L?at/L:tt/B}_isVisible(){const b=this.options.display;return b!=="auto"?!!b:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(b){const k=this.axis,L=this.chart,B=this.options,{grid:H,position:X,border:tt}=B,at=H.offset,mt=this.isHorizontal(),Ft=this.ticks.length+(at?1:0),Lt=sr(H),Ht=[],ae=tt.setContext(this.getContext()),Se=ae.display?ae.width:0,ge=Se/2,Ce=function(_i){return Ra(L,_i,Se)};let Ue,xn,yn,mn,Rn,$n,mi,Ei,Mi,Si,tr,Vi;if(X==="top")Ue=Ce(this.bottom),$n=this.bottom-Lt,Ei=Ue-ge,Si=Ce(b.top)+ge,Vi=b.bottom;else if(X==="bottom")Ue=Ce(this.top),Si=b.top,Vi=Ce(b.bottom)-ge,$n=Ue+ge,Ei=this.top+Lt;else if(X==="left")Ue=Ce(this.right),Rn=this.right-Lt,mi=Ue-ge,Mi=Ce(b.left)+ge,tr=b.right;else if(X==="right")Ue=Ce(this.left),Mi=b.left,tr=Ce(b.right)-ge,Rn=Ue+ge,mi=this.left+Lt;else if(k==="x"){if(X==="center")Ue=Ce((b.top+b.bottom)/2+.5);else if($t(X)){const _i=Object.keys(X)[0],br=X[_i];Ue=Ce(this.chart.scales[_i].getPixelForValue(br))}Si=b.top,Vi=b.bottom,$n=Ue+ge,Ei=$n+Lt}else if(k==="y"){if(X==="center")Ue=Ce((b.left+b.right)/2);else if($t(X)){const _i=Object.keys(X)[0],br=X[_i];Ue=Ce(this.chart.scales[_i].getPixelForValue(br))}Rn=Ue-ge,mi=Rn-Lt,Mi=b.left,tr=b.right}const Oi=Vt(B.ticks.maxTicksLimit,Ft),Ri=Math.max(1,Math.ceil(Ft/Oi));for(xn=0;xn<Ft;xn+=Ri){const _i=this.getContext(xn),br=H.setContext(_i),vo=tt.setContext(_i),yo=br.lineWidth,Ca=br.color,cs=vo.dash||[],Qa=vo.dashOffset,ks=br.tickWidth,As=br.tickColor,pr=br.tickBorderDash||[],Yl=br.tickBorderDashOffset;yn=Pr(this,xn,at),yn!==void 0&&(mn=Ra(L,yn,yo),mt?Rn=mi=Mi=tr=mn:$n=Ei=Si=Vi=mn,Ht.push({tx1:Rn,ty1:$n,tx2:mi,ty2:Ei,x1:Mi,y1:Si,x2:tr,y2:Vi,width:yo,color:Ca,borderDash:cs,borderDashOffset:Qa,tickWidth:ks,tickColor:As,tickBorderDash:pr,tickBorderDashOffset:Yl}))}return this._ticksLength=Ft,this._borderValue=Ue,Ht}_computeLabelItems(b){const k=this.axis,L=this.options,{position:B,ticks:H}=L,X=this.isHorizontal(),tt=this.ticks,{align:at,crossAlign:mt,padding:Ft,mirror:Lt}=H,Ht=sr(L.grid),ae=Ht+Ft,Se=Lt?-Ft:ae,ge=-Be(this.labelRotation),Ce=[];let Ue,xn,yn,mn,Rn,$n,mi,Ei,Mi,Si,tr,Vi,Oi="middle";if(B==="top")$n=this.bottom-Se,mi=this._getXAxisLabelAlignment();else if(B==="bottom")$n=this.top+Se,mi=this._getXAxisLabelAlignment();else if(B==="left"){const _i=this._getYAxisLabelAlignment(Ht);mi=_i.textAlign,Rn=_i.x}else if(B==="right"){const _i=this._getYAxisLabelAlignment(Ht);mi=_i.textAlign,Rn=_i.x}else if(k==="x"){if(B==="center")$n=(b.top+b.bottom)/2+ae;else if($t(B)){const _i=Object.keys(B)[0],br=B[_i];$n=this.chart.scales[_i].getPixelForValue(br)+ae}mi=this._getXAxisLabelAlignment()}else if(k==="y"){if(B==="center")Rn=(b.left+b.right)/2-ae;else if($t(B)){const _i=Object.keys(B)[0],br=B[_i];Rn=this.chart.scales[_i].getPixelForValue(br)}mi=this._getYAxisLabelAlignment(Ht).textAlign}k==="y"&&(at==="start"?Oi="top":at==="end"&&(Oi="bottom"));const Ri=this._getLabelSizes();for(Ue=0,xn=tt.length;Ue<xn;++Ue){yn=tt[Ue],mn=yn.label;const _i=H.setContext(this.getContext(Ue));Ei=this.getPixelForTick(Ue)+H.labelOffset,Mi=this._resolveTickFontOptions(Ue),Si=Mi.lineHeight,tr=Oe(mn)?mn.length:1;const br=tr/2,vo=_i.color,yo=_i.textStrokeColor,Ca=_i.textStrokeWidth;let cs,Qa=mi;if(X?(Rn=Ei,mi==="inner"&&(Qa=Ue===xn-1?this.options.reverse?"left":"right":Ue===0?this.options.reverse?"right":"left":"center"),Vi=B==="top"?mt==="near"||ge!==0?-tr*Si+Si/2:mt==="center"?-Ri.highest.height/2-br*Si+Si:-Ri.highest.height+Si/2:mt==="near"||ge!==0?Si/2:mt==="center"?Ri.highest.height/2-br*Si:Ri.highest.height-tr*Si,Lt&&(Vi*=-1),ge===0||_i.showLabelBackdrop||(Rn+=Si/2*Math.sin(ge))):($n=Ei,Vi=(1-tr)*Si/2),_i.showLabelBackdrop){const ks=Vr(_i.backdropPadding),As=Ri.heights[Ue],pr=Ri.widths[Ue];let Yl=Vi-ks.top,us=0-ks.left;switch(Oi){case"middle":Yl-=As/2;break;case"bottom":Yl-=As}switch(mi){case"center":us-=pr/2;break;case"right":us-=pr}cs={left:us,top:Yl,width:pr+ks.width,height:As+ks.height,color:_i.backdropColor}}Ce.push({label:mn,font:Mi,textOffset:Vi,options:{rotation:ge,color:vo,strokeColor:yo,strokeWidth:Ca,textAlign:Qa,textBaseline:Oi,translation:[Rn,$n],backdrop:cs}})}return Ce}_getXAxisLabelAlignment(){const{position:b,ticks:k}=this.options;if(-Be(this.labelRotation))return b==="top"?"left":"right";let L="center";return k.align==="start"?L="left":k.align==="end"?L="right":k.align==="inner"&&(L="inner"),L}_getYAxisLabelAlignment(b){const{position:k,ticks:{crossAlign:L,mirror:B,padding:H}}=this.options,X=b+H,tt=this._getLabelSizes().widest.width;let at,mt;return k==="left"?B?(mt=this.right+H,L==="near"?at="left":L==="center"?(at="center",mt+=tt/2):(at="right",mt+=tt)):(mt=this.right-X,L==="near"?at="right":L==="center"?(at="center",mt-=tt/2):(at="left",mt=this.left)):k==="right"?B?(mt=this.left+H,L==="near"?at="right":L==="center"?(at="center",mt-=tt/2):(at="left",mt-=tt)):(mt=this.left+X,L==="near"?at="left":L==="center"?(at="center",mt+=tt/2):(at="right",mt=this.right)):at="right",{textAlign:at,x:mt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const b=this.chart,k=this.options.position;return k==="left"||k==="right"?{top:0,left:this.left,bottom:b.height,right:this.right}:k==="top"||k==="bottom"?{top:this.top,left:0,bottom:this.bottom,right:b.width}:void 0}drawBackground(){const{ctx:b,options:{backgroundColor:k},left:L,top:B,width:H,height:X}=this;k&&(b.save(),b.fillStyle=k,b.fillRect(L,B,H,X),b.restore())}getLineWidthForValue(b){const k=this.options.grid;if(!this._isVisible()||!k.display)return 0;const L=this.ticks.findIndex(B=>B.value===b);return L>=0?k.setContext(this.getContext(L)).lineWidth:0}drawGrid(b){const k=this.options.grid,L=this.ctx,B=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(b));let H,X;const tt=(at,mt,Ft)=>{Ft.width&&Ft.color&&(L.save(),L.lineWidth=Ft.width,L.strokeStyle=Ft.color,L.setLineDash(Ft.borderDash||[]),L.lineDashOffset=Ft.borderDashOffset,L.beginPath(),L.moveTo(at.x,at.y),L.lineTo(mt.x,mt.y),L.stroke(),L.restore())};if(k.display)for(H=0,X=B.length;H<X;++H){const at=B[H];k.drawOnChartArea&&tt({x:at.x1,y:at.y1},{x:at.x2,y:at.y2},at),k.drawTicks&&tt({x:at.tx1,y:at.ty1},{x:at.tx2,y:at.ty2},{color:at.tickColor,width:at.tickWidth,borderDash:at.tickBorderDash,borderDashOffset:at.tickBorderDashOffset})}}drawBorder(){const{chart:b,ctx:k,options:{border:L,grid:B}}=this,H=L.setContext(this.getContext()),X=L.display?H.width:0;if(!X)return;const tt=B.setContext(this.getContext(0)).lineWidth,at=this._borderValue;let mt,Ft,Lt,Ht;this.isHorizontal()?(mt=Ra(b,this.left,X)-X/2,Ft=Ra(b,this.right,tt)+tt/2,Lt=Ht=at):(Lt=Ra(b,this.top,X)-X/2,Ht=Ra(b,this.bottom,tt)+tt/2,mt=Ft=at),k.save(),k.lineWidth=H.width,k.strokeStyle=H.color,k.beginPath(),k.moveTo(mt,Lt),k.lineTo(Ft,Ht),k.stroke(),k.restore()}drawLabels(b){if(!this.options.ticks.display)return;const k=this.ctx,L=this._computeLabelArea();L&&Ro(k,L);const B=this.getLabelItems(b);for(const H of B){const X=H.options,tt=H.font;Fr(k,H.label,0,H.textOffset,tt,X)}L&&ns(k)}drawTitle(){const{ctx:b,options:{position:k,title:L,reverse:B}}=this;if(!L.display)return;const H=Eo(L.font),X=Vr(L.padding),tt=L.align;let at=H.lineHeight/2;k==="bottom"||k==="center"||$t(k)?(at+=X.bottom,Oe(L.text)&&(at+=H.lineHeight*(L.text.length-1))):at+=X.top;const{titleX:mt,titleY:Ft,maxWidth:Lt,rotation:Ht}=function(ae,Se,ge,Ce){const{top:Ue,left:xn,bottom:yn,right:mn,chart:Rn}=ae,{chartArea:$n,scales:mi}=Rn;let Ei,Mi,Si,tr=0;const Vi=yn-Ue,Oi=mn-xn;if(ae.isHorizontal()){if(Mi=ye(Ce,xn,mn),$t(ge)){const Ri=Object.keys(ge)[0],_i=ge[Ri];Si=mi[Ri].getPixelForValue(_i)+Vi-Se}else Si=ge==="center"?($n.bottom+$n.top)/2+Vi-Se:Br(ae,ge,Se);Ei=mn-xn}else{if($t(ge)){const Ri=Object.keys(ge)[0],_i=ge[Ri];Mi=mi[Ri].getPixelForValue(_i)-Oi+Se}else Mi=ge==="center"?($n.left+$n.right)/2-Oi+Se:Br(ae,ge,Se);Si=ye(Ce,yn,Ue),tr=ge==="left"?-gn:gn}return{titleX:Mi,titleY:Si,maxWidth:Ei,rotation:tr}}(this,at,k,tt);Fr(b,L.text,0,0,H,{color:L.color,maxWidth:Lt,rotation:Ht,textAlign:Co(tt,k,B),textBaseline:"middle",translation:[mt,Ft]})}draw(b){this._isVisible()&&(this.drawBackground(),this.drawGrid(b),this.drawBorder(),this.drawTitle(),this.drawLabels(b))}_layers(){const b=this.options,k=b.ticks&&b.ticks.z||0,L=Vt(b.grid&&b.grid.z,-1),B=Vt(b.border&&b.border.z,0);return this._isVisible()&&this.draw===Lr.prototype.draw?[{z:L,draw:H=>{this.drawBackground(),this.drawGrid(H),this.drawTitle()}},{z:B,draw:()=>{this.drawBorder()}},{z:k,draw:H=>{this.drawLabels(H)}}]:[{z:k,draw:H=>{this.draw(H)}}]}getMatchingVisibleMetas(b){const k=this.chart.getSortedVisibleDatasetMetas(),L=this.axis+"AxisID",B=[];let H,X;for(H=0,X=k.length;H<X;++H){const tt=k[H];tt[L]!==this.id||b&&tt.type!==b||B.push(tt)}return B}_resolveTickFontOptions(b){return Eo(this.options.ticks.setContext(this.getContext(b)).font)}_maxDigits(){const b=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/b}}class nr{constructor(b,k,L){this.type=b,this.scope=k,this.override=L,this.items=Object.create(null)}isForType(b){return Object.prototype.isPrototypeOf.call(this.type.prototype,b.prototype)}register(b){const k=Object.getPrototypeOf(b);let L;(function(tt){return"id"in tt&&"defaults"in tt})(k)&&(L=this.register(k));const B=this.items,H=b.id,X=this.scope+"."+H;if(!H)throw new Error("class does not have id: "+b);return H in B||(B[H]=b,function(tt,at,mt){const Ft=ie(Object.create(null),[mt?xe.get(mt):{},xe.get(at),tt.defaults]);xe.set(at,Ft),tt.defaultRoutes&&function(Lt,Ht){Object.keys(Ht).forEach(ae=>{const Se=ae.split("."),ge=Se.pop(),Ce=[Lt].concat(Se).join("."),Ue=Ht[ae].split("."),xn=Ue.pop(),yn=Ue.join(".");xe.route(Ce,ge,yn,xn)})}(at,tt.defaultRoutes),tt.descriptors&&xe.describe(at,tt.descriptors)}(b,X,L),this.override&&xe.override(b.id,b.overrides)),X}get(b){return this.items[b]}unregister(b){const k=this.items,L=b.id,B=this.scope;L in k&&delete k[L],B&&L in xe[B]&&(delete xe[B][L],this.override&&delete Ae[L])}}class Yr{constructor(){this.controllers=new nr(fi,"datasets",!0),this.elements=new nr(Bi,"elements"),this.plugins=new nr(Object,"plugins"),this.scales=new nr(Lr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...b){this._each("register",b)}remove(...b){this._each("unregister",b)}addControllers(...b){this._each("register",b,this.controllers)}addElements(...b){this._each("register",b,this.elements)}addPlugins(...b){this._each("register",b,this.plugins)}addScales(...b){this._each("register",b,this.scales)}getController(b){return this._get(b,this.controllers,"controller")}getElement(b){return this._get(b,this.elements,"element")}getPlugin(b){return this._get(b,this.plugins,"plugin")}getScale(b){return this._get(b,this.scales,"scale")}removeControllers(...b){this._each("unregister",b,this.controllers)}removeElements(...b){this._each("unregister",b,this.elements)}removePlugins(...b){this._each("unregister",b,this.plugins)}removeScales(...b){this._each("unregister",b,this.scales)}_each(b,k,L){[...k].forEach(B=>{const H=L||this._getRegistryForType(B);L||H.isForType(B)||H===this.plugins&&B.id?this._exec(b,H,B):vt(B,X=>{const tt=L||this._getRegistryForType(X);this._exec(b,tt,X)})})}_exec(b,k,L){const B=ve(b);_t(L["before"+B],[],L),k[b](L),_t(L["after"+B],[],L)}_getRegistryForType(b){for(let k=0;k<this._typedRegistries.length;k++){const L=this._typedRegistries[k];if(L.isForType(b))return L}return this.plugins}_get(b,k,L){const B=k.get(b);if(B===void 0)throw new Error('"'+b+'" is not a registered '+L+".");return B}}var dr=new Yr;class or{constructor(){this._init=[]}notify(b,k,L,B){k==="beforeInit"&&(this._init=this._createDescriptors(b,!0),this._notify(this._init,b,"install"));const H=B?this._descriptors(b).filter(B):this._descriptors(b),X=this._notify(H,b,k,L);return k==="afterDestroy"&&(this._notify(H,b,"stop"),this._notify(this._init,b,"uninstall")),X}_notify(b,k,L,B){B=B||{};for(const H of b){const X=H.plugin;if(_t(X[L],[k,B,H.options],X)===!1&&B.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(b){if(this._cache)return this._cache;const k=this._cache=this._createDescriptors(b);return this._notifyStateChanges(b),k}_createDescriptors(b,k){const L=b&&b.config,B=Vt(L.options&&L.options.plugins,{}),H=function(X){const tt={},at=[],mt=Object.keys(dr.plugins.items);for(let Lt=0;Lt<mt.length;Lt++)at.push(dr.getPlugin(mt[Lt]));const Ft=X.plugins||[];for(let Lt=0;Lt<Ft.length;Lt++){const Ht=Ft[Lt];at.indexOf(Ht)===-1&&(at.push(Ht),tt[Ht.id]=!0)}return{plugins:at,localIds:tt}}(L);return B!==!1||k?function(X,{plugins:tt,localIds:at},mt,Ft){const Lt=[],Ht=X.getContext();for(const ae of tt){const Se=ae.id,ge=go(mt[Se],Ft);ge!==null&&Lt.push({plugin:ae,options:mo(X.config,{plugin:ae,local:at[Se]},ge,Ht)})}return Lt}(b,H,B,k):[]}_notifyStateChanges(b){const k=this._oldCache||[],L=this._cache,B=(H,X)=>H.filter(tt=>!X.some(at=>tt.plugin.id===at.plugin.id));this._notify(B(k,L),b,"stop"),this._notify(B(L,k),b,"start")}}function go(I,b){return b||I!==!1?I===!0?{}:I:null}function mo(I,{plugin:b,local:k},L,B){const H=I.pluginScopeKeys(b),X=I.getOptionScopes(L,H);return k&&b.defaults&&X.push(b.defaults),I.createResolver(X,B,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function io(I,b){const k=xe.datasets[I]||{};return((b.datasets||{})[I]||{}).indexAxis||b.indexAxis||k.indexAxis||"x"}function Va(I){if(I==="x"||I==="y"||I==="r")return I}function Ta(I,...b){if(Va(I))return I;for(const L of b){const B=L.axis||((k=L.position)==="top"||k==="bottom"?"x":k==="left"||k==="right"?"y":void 0)||I.length>1&&Va(I[0].toLowerCase());if(B)return B}var k;throw new Error(`Cannot determine type of '${I}' axis. Please provide 'axis' or 'position' option.`)}function no(I,b,k){if(k[b+"AxisID"]===I)return{axis:b}}function _a(I,b){const k=Ae[I.type]||{scales:{}},L=b.scales||{},B=io(I.type,b),H=Object.create(null);return Object.keys(L).forEach(X=>{const tt=L[X];if(!$t(tt))return console.error(`Invalid scale configuration for scale: ${X}`);if(tt._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${X}`);const at=Ta(X,tt,function(Lt,Ht){if(Ht.data&&Ht.data.datasets){const ae=Ht.data.datasets.filter(Se=>Se.xAxisID===Lt||Se.yAxisID===Lt);if(ae.length)return no(Lt,"x",ae[0])||no(Lt,"y",ae[0])}return{}}(X,I),xe.scales[tt.type]),mt=function(Lt,Ht){return Lt===Ht?"_index_":"_value_"}(at,B),Ft=k.scales||{};H[X]=It(Object.create(null),[{axis:at},tt,Ft[at],Ft[mt]])}),I.data.datasets.forEach(X=>{const tt=X.type||I.type,at=X.indexAxis||io(tt,b),mt=(Ae[tt]||{}).scales||{};Object.keys(mt).forEach(Ft=>{const Lt=function(ae,Se){let ge=ae;return ae==="_index_"?ge=Se:ae==="_value_"&&(ge=Se==="x"?"y":"x"),ge}(Ft,at),Ht=X[Lt+"AxisID"]||Lt;H[Ht]=H[Ht]||Object.create(null),It(H[Ht],[{axis:Lt},L[Ht],mt[Ft]])})}),Object.keys(H).forEach(X=>{const tt=H[X];It(tt,[xe.scales[tt.type],xe.scale])}),H}function la(I){const b=I.options||(I.options={});b.plugins=Vt(b.plugins,{}),b.scales=_a(I,b)}function xo(I){return(I=I||{}).datasets=I.datasets||[],I.labels=I.labels||[],I}const ls=new Map,bs=new Set;function Wo(I,b){let k=ls.get(I);return k||(k=b(),ls.set(I,k),bs.add(k)),k}const Gr=(I,b,k)=>{const L=Me(b,k);L!==void 0&&I.add(L)};class _o{constructor(b){this._config=function(k){return(k=k||{}).data=xo(k.data),la(k),k}(b),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(b){this._config.type=b}get data(){return this._config.data}set data(b){this._config.data=xo(b)}get options(){return this._config.options}set options(b){this._config.options=b}get plugins(){return this._config.plugins}update(){const b=this._config;this.clearCache(),la(b)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(b){return Wo(b,()=>[[`datasets.${b}`,""]])}datasetAnimationScopeKeys(b,k){return Wo(`${b}.transition.${k}`,()=>[[`datasets.${b}.transitions.${k}`,`transitions.${k}`],[`datasets.${b}`,""]])}datasetElementScopeKeys(b,k){return Wo(`${b}-${k}`,()=>[[`datasets.${b}.elements.${k}`,`datasets.${b}`,`elements.${k}`,""]])}pluginScopeKeys(b){const k=b.id;return Wo(`${this.type}-plugin-${k}`,()=>[[`plugins.${k}`,...b.additionalOptionScopes||[]]])}_cachedScopes(b,k){const L=this._scopeCache;let B=L.get(b);return B&&!k||(B=new Map,L.set(b,B)),B}getOptionScopes(b,k,L){const{options:B,type:H}=this,X=this._cachedScopes(b,L),tt=X.get(k);if(tt)return tt;const at=new Set;k.forEach(Ft=>{b&&(at.add(b),Ft.forEach(Lt=>Gr(at,b,Lt))),Ft.forEach(Lt=>Gr(at,B,Lt)),Ft.forEach(Lt=>Gr(at,Ae[H]||{},Lt)),Ft.forEach(Lt=>Gr(at,xe,Lt)),Ft.forEach(Lt=>Gr(at,W,Lt))});const mt=Array.from(at);return mt.length===0&&mt.push(Object.create(null)),bs.has(k)&&X.set(k,mt),mt}chartOptionScopes(){const{options:b,type:k}=this;return[b,Ae[k]||{},xe.datasets[k]||{},{type:k},xe,W]}resolveNamedOptions(b,k,L,B=[""]){const H={$shared:!0},{resolver:X,subPrefixes:tt}=qo(this._resolverCache,b,B);let at=X;(function(mt,Ft){const{isScriptable:Lt,isIndexable:Ht}=Ba(mt);for(const ae of Ft){const Se=Lt(ae),ge=Ht(ae),Ce=(ge||Se)&&mt[ae];if(Se&&(Xt(Ce)||zo(Ce))||ge&&Oe(Ce))return!0}return!1})(X,k)&&(H.$shared=!1,at=Fo(X,L=Xt(L)?L():L,this.createResolver(b,L,tt)));for(const mt of k)H[mt]=at[mt];return H}createResolver(b,k,L=[""],B){const{resolver:H}=qo(this._resolverCache,b,L);return $t(k)?Fo(H,k,void 0,B):H}}function qo(I,b,k){let L=I.get(b);L||(L=new Map,I.set(b,L));const B=k.join();let H=L.get(B);return H||(H={resolver:rc(b,k),subPrefixes:k.filter(X=>!X.toLowerCase().includes("hover"))},L.set(B,H)),H}const zo=I=>$t(I)&&Object.getOwnPropertyNames(I).reduce((b,k)=>b||Xt(I[k]),!1),fl=["top","bottom","left","right","chartArea"];function xs(I,b){return I==="top"||I==="bottom"||fl.indexOf(I)===-1&&b==="x"}function cu(I,b){return function(k,L){return k[I]===L[I]?k[b]-L[b]:k[I]-L[I]}}function Ws(I){const b=I.chart,k=b.options.animation;b.notifyPlugins("afterRender"),_t(k&&k.onComplete,[I],b)}function zl(I){const b=I.chart,k=b.options.animation;_t(k&&k.onProgress,[I],b)}function js(I){return Ie()&&typeof I=="string"?I=document.getElementById(I):I&&I.length&&(I=I[0]),I&&I.canvas&&(I=I.canvas),I}const uu={},pc=I=>{const b=js(I);return Object.values(uu).filter(k=>k.canvas===b).pop()};function fc(I,b,k){const L=Object.keys(I);for(const B of L){const H=+B;if(H>=b){const X=I[B];delete I[B],(k>0||H>b)&&(I[H+k]=X)}}}class Jo{static defaults=xe;static instances=uu;static overrides=Ae;static registry=dr;static version="4.3.0";static getChart=pc;static register(...b){dr.add(...b),jo()}static unregister(...b){dr.remove(...b),jo()}constructor(b,k){const L=this.config=new _o(k),B=js(b),H=pc(B);if(H)throw new Error("Canvas is already in use. Chart with ID '"+H.id+"' must be destroyed before the canvas with ID '"+H.canvas.id+"' can be reused.");const X=L.createResolver(L.chartOptionScopes(),this.getContext());this.platform=new(L.platform||ju(B)),this.platform.updateConfig(L);const tt=this.platform.acquireContext(B,X.aspectRatio),at=tt&&tt.canvas,mt=at&&at.height,Ft=at&&at.width;this.id=Tt(),this.ctx=tt,this.canvas=at,this.width=Ft,this.height=mt,this._options=X,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new or,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pe(Lt=>this.update(Lt),X.resizeDelay||0),this._dataChanges=[],uu[this.id]=this,tt&&at?(Ii.listen(this,"complete",Ws),Ii.listen(this,"progress",zl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:b,maintainAspectRatio:k},width:L,height:B,_aspectRatio:H}=this;return Qt(b)?k&&H?H:B?L/B:null:b}get data(){return this.config.data}set data(b){this.config.data=b}get options(){return this._options}set options(b){this.config.options=b}get registry(){return dr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return No(this.canvas,this.ctx),this}stop(){return Ii.stop(this),this}resize(b,k){Ii.running(this)?this._resizeBeforeDraw={width:b,height:k}:this._resize(b,k)}_resize(b,k){const L=this.options,B=this.canvas,H=L.maintainAspectRatio&&this.aspectRatio,X=this.platform.getMaximumSize(B,b,k,H),tt=L.devicePixelRatio||this.platform.getDevicePixelRatio(),at=this.width?"resize":"attach";this.width=X.width,this.height=X.height,this._aspectRatio=this.aspectRatio,bo(this,tt,!0)&&(this.notifyPlugins("resize",{size:X}),_t(L.onResize,[this,X],this),this.attached&&this._doResize(at)&&this.render())}ensureScalesHaveIDs(){vt(this.options.scales||{},(b,k)=>{b.id=k})}buildOrUpdateScales(){const b=this.options,k=b.scales,L=this.scales,B=Object.keys(L).reduce((X,tt)=>(X[tt]=!1,X),{});let H=[];k&&(H=H.concat(Object.keys(k).map(X=>{const tt=k[X],at=Ta(X,tt),mt=at==="r",Ft=at==="x";return{options:tt,dposition:mt?"chartArea":Ft?"bottom":"left",dtype:mt?"radialLinear":Ft?"category":"linear"}}))),vt(H,X=>{const tt=X.options,at=tt.id,mt=Ta(at,tt),Ft=Vt(tt.type,X.dtype);tt.position!==void 0&&xs(tt.position,mt)===xs(X.dposition)||(tt.position=X.dposition),B[at]=!0;let Lt=null;at in L&&L[at].type===Ft?Lt=L[at]:(Lt=new(dr.getScale(Ft))({id:at,type:Ft,ctx:this.ctx,chart:this}),L[Lt.id]=Lt),Lt.init(tt,b)}),vt(B,(X,tt)=>{X||delete L[tt]}),vt(L,X=>{sa.configure(this,X,X.options),sa.addBox(this,X)})}_updateMetasets(){const b=this._metasets,k=this.data.datasets.length,L=b.length;if(b.sort((B,H)=>B.index-H.index),L>k){for(let B=k;B<L;++B)this._destroyDatasetMeta(B);b.splice(k,L-k)}this._sortedMetasets=b.slice(0).sort(cu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:b,data:{datasets:k}}=this;b.length>k.length&&delete this._stacks,b.forEach((L,B)=>{k.filter(H=>H===L._dataset).length===0&&this._destroyDatasetMeta(B)})}buildOrUpdateControllers(){const b=[],k=this.data.datasets;let L,B;for(this._removeUnreferencedMetasets(),L=0,B=k.length;L<B;L++){const H=k[L];let X=this.getDatasetMeta(L);const tt=H.type||this.config.type;if(X.type&&X.type!==tt&&(this._destroyDatasetMeta(L),X=this.getDatasetMeta(L)),X.type=tt,X.indexAxis=H.indexAxis||io(tt,this.options),X.order=H.order||0,X.index=L,X.label=""+H.label,X.visible=this.isDatasetVisible(L),X.controller)X.controller.updateIndex(L),X.controller.linkScales();else{const at=dr.getController(tt),{datasetElementType:mt,dataElementType:Ft}=xe.datasets[tt];Object.assign(at,{dataElementType:dr.getElement(Ft),datasetElementType:mt&&dr.getElement(mt)}),X.controller=new at(this,L),b.push(X.controller)}}return this._updateMetasets(),b}_resetElements(){vt(this.data.datasets,(b,k)=>{this.getDatasetMeta(k).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(b){const k=this.config;k.update();const L=this._options=k.createResolver(k.chartOptionScopes(),this.getContext()),B=this._animationsDisabled=!L.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:b,cancelable:!0})===!1)return;const H=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let X=0;for(let mt=0,Ft=this.data.datasets.length;mt<Ft;mt++){const{controller:Lt}=this.getDatasetMeta(mt),Ht=!B&&H.indexOf(Lt)===-1;Lt.buildOrUpdateElements(Ht),X=Math.max(+Lt.getMaxOverflow(),X)}X=this._minPadding=L.layout.autoPadding?X:0,this._updateLayout(X),B||vt(H,mt=>{mt.reset()}),this._updateDatasets(b),this.notifyPlugins("afterUpdate",{mode:b}),this._layers.sort(cu("z","_idx"));const{_active:tt,_lastEvent:at}=this;at?this._eventHandler(at,!0):tt.length&&this._updateHoverStyles(tt,tt,!0),this.render()}_updateScales(){vt(this.scales,b=>{sa.removeBox(this,b)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const b=this.options,k=new Set(Object.keys(this._listeners)),L=new Set(b.events);Kt(k,L)&&!!this._responsiveListeners===b.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:b}=this,k=this._getUniformDataChanges()||[];for(const{method:L,start:B,count:H}of k)fc(b,B,L==="_removeElements"?-H:H)}_getUniformDataChanges(){const b=this._dataChanges;if(!b||!b.length)return;this._dataChanges=[];const k=this.data.datasets.length,L=H=>new Set(b.filter(X=>X[0]===H).map((X,tt)=>tt+","+X.splice(1).join(","))),B=L(0);for(let H=1;H<k;H++)if(!Kt(B,L(H)))return;return Array.from(B).map(H=>H.split(",")).map(H=>({method:H[1],start:+H[2],count:+H[3]}))}_updateLayout(b){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;sa.update(this,this.width,this.height,b);const k=this.chartArea,L=k.width<=0||k.height<=0;this._layers=[],vt(this.boxes,B=>{L&&B.position==="chartArea"||(B.configure&&B.configure(),this._layers.push(...B._layers()))},this),this._layers.forEach((B,H)=>{B._idx=H}),this.notifyPlugins("afterLayout")}_updateDatasets(b){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:b,cancelable:!0})!==!1){for(let k=0,L=this.data.datasets.length;k<L;++k)this.getDatasetMeta(k).controller.configure();for(let k=0,L=this.data.datasets.length;k<L;++k)this._updateDataset(k,Xt(b)?b({datasetIndex:k}):b);this.notifyPlugins("afterDatasetsUpdate",{mode:b})}}_updateDataset(b,k){const L=this.getDatasetMeta(b),B={meta:L,index:b,mode:k,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",B)!==!1&&(L.controller._update(k),B.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",B))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ii.has(this)?this.attached&&!Ii.running(this)&&Ii.start(this):(this.draw(),Ws({chart:this})))}draw(){let b;if(this._resizeBeforeDraw){const{width:L,height:B}=this._resizeBeforeDraw;this._resize(L,B),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const k=this._layers;for(b=0;b<k.length&&k[b].z<=0;++b)k[b].draw(this.chartArea);for(this._drawDatasets();b<k.length;++b)k[b].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(b){const k=this._sortedMetasets,L=[];let B,H;for(B=0,H=k.length;B<H;++B){const X=k[B];b&&!X.visible||L.push(X)}return L}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const b=this.getSortedVisibleDatasetMetas();for(let k=b.length-1;k>=0;--k)this._drawDataset(b[k]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(b){const k=this.ctx,L=b._clip,B=!L.disabled,H=function(tt){const{xScale:at,yScale:mt}=tt;if(at&&mt)return{left:at.left,right:at.right,top:mt.top,bottom:mt.bottom}}(b)||this.chartArea,X={meta:b,index:b.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",X)!==!1&&(B&&Ro(k,{left:L.left===!1?0:H.left-L.left,right:L.right===!1?this.width:H.right+L.right,top:L.top===!1?0:H.top-L.top,bottom:L.bottom===!1?this.height:H.bottom+L.bottom}),b.controller.draw(),B&&ns(k),X.cancelable=!1,this.notifyPlugins("afterDatasetDraw",X))}isPointInArea(b){return Zo(b,this.chartArea,this._minPadding)}getElementsAtEventForMode(b,k,L,B){const H=Oc.modes[k];return typeof H=="function"?H(this,b,L,B):[]}getDatasetMeta(b){const k=this.data.datasets[b],L=this._metasets;let B=L.filter(H=>H&&H._dataset===k).pop();return B||(B={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:k&&k.order||0,index:b,_dataset:k,_parsed:[],_sorted:!1},L.push(B)),B}getContext(){return this.$context||(this.$context=Rs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(b){const k=this.data.datasets[b];if(!k)return!1;const L=this.getDatasetMeta(b);return typeof L.hidden=="boolean"?!L.hidden:!k.hidden}setDatasetVisibility(b,k){this.getDatasetMeta(b).hidden=!k}toggleDataVisibility(b){this._hiddenIndices[b]=!this._hiddenIndices[b]}getDataVisibility(b){return!this._hiddenIndices[b]}_updateVisibility(b,k,L){const B=L?"show":"hide",H=this.getDatasetMeta(b),X=H.controller._resolveAnimations(void 0,B);le(k)?(H.data[k].hidden=!L,this.update()):(this.setDatasetVisibility(b,L),X.update(H,{visible:L}),this.update(tt=>tt.datasetIndex===b?B:void 0))}hide(b,k){this._updateVisibility(b,k,!1)}show(b,k){this._updateVisibility(b,k,!0)}_destroyDatasetMeta(b){const k=this._metasets[b];k&&k.controller&&k.controller._destroy(),delete this._metasets[b]}_stop(){let b,k;for(this.stop(),Ii.remove(this),b=0,k=this.data.datasets.length;b<k;++b)this._destroyDatasetMeta(b)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:b,ctx:k}=this;this._stop(),this.config.clearCache(),b&&(this.unbindEvents(),No(b,k),this.platform.releaseContext(k),this.canvas=null,this.ctx=null),delete uu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...b){return this.canvas.toDataURL(...b)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const b=this._listeners,k=this.platform,L=(H,X)=>{k.addEventListener(this,H,X),b[H]=X},B=(H,X,tt)=>{H.offsetX=X,H.offsetY=tt,this._eventHandler(H)};vt(this.options.events,H=>L(H,B))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const b=this._responsiveListeners,k=this.platform,L=(at,mt)=>{k.addEventListener(this,at,mt),b[at]=mt},B=(at,mt)=>{b[at]&&(k.removeEventListener(this,at,mt),delete b[at])},H=(at,mt)=>{this.canvas&&this.resize(at,mt)};let X;const tt=()=>{B("attach",tt),this.attached=!0,this.resize(),L("resize",H),L("detach",X)};X=()=>{this.attached=!1,B("resize",H),this._stop(),this._resize(0,0),L("attach",tt)},k.isAttached(this.canvas)?tt():X()}unbindEvents(){vt(this._listeners,(b,k)=>{this.platform.removeEventListener(this,k,b)}),this._listeners={},vt(this._responsiveListeners,(b,k)=>{this.platform.removeEventListener(this,k,b)}),this._responsiveListeners=void 0}updateHoverStyle(b,k,L){const B=L?"set":"remove";let H,X,tt,at;for(k==="dataset"&&(H=this.getDatasetMeta(b[0].datasetIndex),H.controller["_"+B+"DatasetHoverStyle"]()),tt=0,at=b.length;tt<at;++tt){X=b[tt];const mt=X&&this.getDatasetMeta(X.datasetIndex).controller;mt&&mt[B+"HoverStyle"](X.element,X.datasetIndex,X.index)}}getActiveElements(){return this._active||[]}setActiveElements(b){const k=this._active||[],L=b.map(({datasetIndex:B,index:H})=>{const X=this.getDatasetMeta(B);if(!X)throw new Error("No dataset found at index "+B);return{datasetIndex:B,element:X.data[H],index:H}});!Pt(L,k)&&(this._active=L,this._lastEvent=null,this._updateHoverStyles(L,k))}notifyPlugins(b,k,L){return this._plugins.notify(this,b,k,L)}isPluginEnabled(b){return this._plugins._cache.filter(k=>k.plugin.id===b).length===1}_updateHoverStyles(b,k,L){const B=this.options.hover,H=(at,mt)=>at.filter(Ft=>!mt.some(Lt=>Ft.datasetIndex===Lt.datasetIndex&&Ft.index===Lt.index)),X=H(k,b),tt=L?b:H(b,k);X.length&&this.updateHoverStyle(X,B.mode,!1),tt.length&&B.mode&&this.updateHoverStyle(tt,B.mode,!0)}_eventHandler(b,k){const L={event:b,replay:k,cancelable:!0,inChartArea:this.isPointInArea(b)},B=X=>(X.options.events||this.options.events).includes(b.native.type);if(this.notifyPlugins("beforeEvent",L,B)===!1)return;const H=this._handleEvent(b,k,L.inChartArea);return L.cancelable=!1,this.notifyPlugins("afterEvent",L,B),(H||L.changed)&&this.render(),this}_handleEvent(b,k,L){const{_active:B=[],options:H}=this,X=k,tt=this._getActiveElements(b,B,L,X),at=ne(b),mt=function(Lt,Ht,ae,Se){return ae&&Lt.type!=="mouseout"?Se?Ht:Lt:null}(b,this._lastEvent,L,at);L&&(this._lastEvent=null,_t(H.onHover,[b,tt,this],this),at&&_t(H.onClick,[b,tt,this],this));const Ft=!Pt(tt,B);return(Ft||k)&&(this._active=tt,this._updateHoverStyles(tt,B,k)),this._lastEvent=mt,Ft}_getActiveElements(b,k,L,B){if(b.type==="mouseout")return[];if(!L)return k;const H=this.options.hover;return this.getElementsAtEventForMode(b,H.mode,H,B)}}function jo(){return vt(Jo.instances,I=>I._plugins.invalidate())}function gl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Za{static override(b){Object.assign(Za.prototype,b)}options;constructor(b){this.options=b||{}}init(){}formats(){return gl()}parse(){return gl()}format(){return gl()}add(){return gl()}diff(){return gl()}startOf(){return gl()}endOf(){return gl()}}var Sd={_date:Za};function Lc(I){const b=I.iScale,k=function(mt,Ft){if(!mt._cache.$bar){const Lt=mt.getMatchingVisibleMetas(Ft);let Ht=[];for(let ae=0,Se=Lt.length;ae<Se;ae++)Ht=Ht.concat(Lt[ae].controller.getAllParsedValues(mt));mt._cache.$bar=At(Ht.sort((ae,Se)=>ae-Se))}return mt._cache.$bar}(b,I.type);let L,B,H,X,tt=b._length;const at=()=>{H!==32767&&H!==-32768&&(le(X)&&(tt=Math.min(tt,Math.abs(H-X)||tt)),X=H)};for(L=0,B=k.length;L<B;++L)H=b.getPixelForValue(k[L]),at();for(X=void 0,L=0,B=b.ticks.length;L<B;++L)H=b.getPixelForTick(L),at();return tt}function _s(I,b,k,L){return Oe(I)?function(B,H,X,tt){const at=X.parse(B[0],tt),mt=X.parse(B[1],tt),Ft=Math.min(at,mt),Lt=Math.max(at,mt);let Ht=Ft,ae=Lt;Math.abs(Ft)>Math.abs(Lt)&&(Ht=Lt,ae=Ft),H[X.axis]=ae,H._custom={barStart:Ht,barEnd:ae,start:at,end:mt,min:Ft,max:Lt}}(I,b,k,L):b[k.axis]=k.parse(I,L),b}function ws(I,b,k,L){const B=I.iScale,H=I.vScale,X=B.getLabels(),tt=B===H,at=[];let mt,Ft,Lt,Ht;for(mt=k,Ft=k+L;mt<Ft;++mt)Ht=b[mt],Lt={},Lt[B.axis]=tt||B.parse(X[mt],mt),at.push(_s(Ht,Lt,H,mt));return at}function Di(I){return I&&I.barStart!==void 0&&I.barEnd!==void 0}function Gu(I,b,k,L){let B=b.borderSkipped;const H={};if(!B)return void(I.borderSkipped=H);if(B===!0)return void(I.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:X,end:tt,reverse:at,top:mt,bottom:Ft}=function(Lt){let Ht,ae,Se,ge,Ce;return Lt.horizontal?(Ht=Lt.base>Lt.x,ae="left",Se="right"):(Ht=Lt.base<Lt.y,ae="bottom",Se="top"),Ht?(ge="end",Ce="start"):(ge="start",Ce="end"),{start:ae,end:Se,reverse:Ht,top:ge,bottom:Ce}}(I);B==="middle"&&k&&(I.enableBorderRadius=!0,(k._top||0)===L?B=mt:(k._bottom||0)===L?B=Ft:(H[Ys(Ft,X,tt,at)]=!0,B=mt)),H[Ys(B,X,tt,at)]=!0,I.borderSkipped=H}function Ys(I,b,k,L){var B,H,X;return L?(X=k,I=Fh(I=(B=I)===(H=b)?X:B===X?H:B,k,b)):I=Fh(I,b,k),I}function Fh(I,b,k){return I==="start"?b:I==="end"?k:I}function hu(I,{inflateAmount:b},k){I.inflateAmount=b==="auto"?k===1?.33:0:b}class Pc extends fi{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:b=>b!=="spacing",_indexable:b=>b!=="spacing"&&!b.startsWith("borderDash")&&!b.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(b){const k=b.data;if(k.labels.length&&k.datasets.length){const{labels:{pointStyle:L,color:B}}=b.legend.options;return k.labels.map((H,X)=>{const tt=b.getDatasetMeta(0).controller.getStyle(X);return{text:H,fillStyle:tt.backgroundColor,strokeStyle:tt.borderColor,fontColor:B,lineWidth:tt.borderWidth,pointStyle:L,hidden:!b.getDataVisibility(X),index:X}})}return[]}},onClick(b,k,L){L.chart.toggleDataVisibility(k.index),L.chart.update()}}}};constructor(b,k){super(b,k),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(b,k){const L=this.getDataset().data,B=this._cachedMeta;if(this._parsing===!1)B._parsed=L;else{let H,X,tt=at=>+L[at];if($t(L[b])){const{key:at="value"}=this._parsing;tt=mt=>+Me(L[mt],at)}for(H=b,X=b+k;H<X;++H)B._parsed[H]=tt(H)}}_getRotation(){return Be(this.options.rotation-90)}_getCircumference(){return Be(this.options.circumference)}_getRotationExtents(){let b=me,k=-me;for(let L=0;L<this.chart.data.datasets.length;++L)if(this.chart.isDatasetVisible(L)&&this.chart.getDatasetMeta(L).type===this._type){const B=this.chart.getDatasetMeta(L).controller,H=B._getRotation(),X=B._getCircumference();b=Math.min(b,H),k=Math.max(k,H+X)}return{rotation:b,circumference:k-b}}update(b){const k=this.chart,{chartArea:L}=k,B=this._cachedMeta,H=B.data,X=this.getMaxBorderWidth()+this.getMaxOffset(H)+this.options.spacing,tt=Math.max((Math.min(L.width,L.height)-X)/2,0),at=Math.min(bt(this.options.cutout,tt),1),mt=this._getRingWeight(this.index),{circumference:Ft,rotation:Lt}=this._getRotationExtents(),{ratioX:Ht,ratioY:ae,offsetX:Se,offsetY:ge}=function(Rn,$n,mi){let Ei=1,Mi=1,Si=0,tr=0;if($n<me){const Vi=Rn,Oi=Vi+$n,Ri=Math.cos(Vi),_i=Math.sin(Vi),br=Math.cos(Oi),vo=Math.sin(Oi),yo=(pr,Yl,us)=>hr(pr,Vi,Oi,!0)?1:Math.max(Yl,Yl*mi,us,us*mi),Ca=(pr,Yl,us)=>hr(pr,Vi,Oi,!0)?-1:Math.min(Yl,Yl*mi,us,us*mi),cs=yo(0,Ri,br),Qa=yo(gn,_i,vo),ks=Ca(De,Ri,br),As=Ca(De+gn,_i,vo);Ei=(cs-ks)/2,Mi=(Qa-As)/2,Si=-(cs+ks)/2,tr=-(Qa+As)/2}return{ratioX:Ei,ratioY:Mi,offsetX:Si,offsetY:tr}}(Lt,Ft,at),Ce=(L.width-X)/Ht,Ue=(L.height-X)/ae,xn=Math.max(Math.min(Ce,Ue)/2,0),yn=ft(this.options.radius,xn),mn=(yn-Math.max(yn*at,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Se*yn,this.offsetY=ge*yn,B.total=this.calculateTotal(),this.outerRadius=yn-mn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-mn*mt,0),this.updateElements(H,0,H.length,b)}_circumference(b,k){const L=this.options,B=this._cachedMeta,H=this._getCircumference();return k&&L.animation.animateRotate||!this.chart.getDataVisibility(b)||B._parsed[b]===null||B.data[b].hidden?0:this.calculateCircumference(B._parsed[b]*H/me)}updateElements(b,k,L,B){const H=B==="reset",X=this.chart,tt=X.chartArea,at=X.options.animation,mt=(tt.left+tt.right)/2,Ft=(tt.top+tt.bottom)/2,Lt=H&&at.animateScale,Ht=Lt?0:this.innerRadius,ae=Lt?0:this.outerRadius,{sharedOptions:Se,includeOptions:ge}=this._getSharedOptions(k,B);let Ce,Ue=this._getRotation();for(Ce=0;Ce<k;++Ce)Ue+=this._circumference(Ce,H);for(Ce=k;Ce<k+L;++Ce){const xn=this._circumference(Ce,H),yn=b[Ce],mn={x:mt+this.offsetX,y:Ft+this.offsetY,startAngle:Ue,endAngle:Ue+xn,circumference:xn,outerRadius:ae,innerRadius:Ht};ge&&(mn.options=Se||this.resolveDataElementOptions(Ce,yn.active?"active":B)),Ue+=xn,this.updateElement(yn,Ce,mn,B)}}calculateTotal(){const b=this._cachedMeta,k=b.data;let L,B=0;for(L=0;L<k.length;L++){const H=b._parsed[L];H===null||isNaN(H)||!this.chart.getDataVisibility(L)||k[L].hidden||(B+=Math.abs(H))}return B}calculateCircumference(b){const k=this._cachedMeta.total;return k>0&&!isNaN(b)?me*(Math.abs(b)/k):0}getLabelAndValue(b){const k=this._cachedMeta,L=this.chart,B=L.data.labels||[],H=Nt(k._parsed[b],L.options.locale);return{label:B[b]||"",value:H}}getMaxBorderWidth(b){let k=0;const L=this.chart;let B,H,X,tt,at;if(!b){for(B=0,H=L.data.datasets.length;B<H;++B)if(L.isDatasetVisible(B)){X=L.getDatasetMeta(B),b=X.data,tt=X.controller;break}}if(!b)return 0;for(B=0,H=b.length;B<H;++B)at=tt.resolveDataElementOptions(B),at.borderAlign!=="inner"&&(k=Math.max(k,at.borderWidth||0,at.hoverBorderWidth||0));return k}getMaxOffset(b){let k=0;for(let L=0,B=b.length;L<B;++L){const H=this.resolveDataElementOptions(L);k=Math.max(k,H.offset||0,H.hoverOffset||0)}return k}_getRingWeightOffset(b){let k=0;for(let L=0;L<b;++L)this.chart.isDatasetVisible(L)&&(k+=this._getRingWeight(L));return k}_getRingWeight(b){return Math.max(Vt(this.chart.data.datasets[b].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Vh extends fi{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(b){const k=b.data;if(k.labels.length&&k.datasets.length){const{labels:{pointStyle:L,color:B}}=b.legend.options;return k.labels.map((H,X)=>{const tt=b.getDatasetMeta(0).controller.getStyle(X);return{text:H,fillStyle:tt.backgroundColor,strokeStyle:tt.borderColor,fontColor:B,lineWidth:tt.borderWidth,pointStyle:L,hidden:!b.getDataVisibility(X),index:X}})}return[]}},onClick(b,k,L){L.chart.toggleDataVisibility(k.index),L.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(b,k){super(b,k),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(b){const k=this._cachedMeta,L=this.chart,B=L.data.labels||[],H=Nt(k._parsed[b].r,L.options.locale);return{label:B[b]||"",value:H}}parseObjectData(b,k,L,B){return Bh.bind(this)(b,k,L,B)}update(b){const k=this._cachedMeta.data;this._updateRadius(),this.updateElements(k,0,k.length,b)}getMinMax(){const b=this._cachedMeta,k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return b.data.forEach((L,B)=>{const H=this.getParsed(B).r;!isNaN(H)&&this.chart.getDataVisibility(B)&&(H<k.min&&(k.min=H),H>k.max&&(k.max=H))}),k}_updateRadius(){const b=this.chart,k=b.chartArea,L=b.options,B=Math.min(k.right-k.left,k.bottom-k.top),H=Math.max(B/2,0),X=(H-Math.max(L.cutoutPercentage?H/100*L.cutoutPercentage:1,0))/b.getVisibleDatasetCount();this.outerRadius=H-X*this.index,this.innerRadius=this.outerRadius-X}updateElements(b,k,L,B){const H=B==="reset",X=this.chart,tt=X.options.animation,at=this._cachedMeta.rScale,mt=at.xCenter,Ft=at.yCenter,Lt=at.getIndexAngle(0)-.5*De;let Ht,ae=Lt;const Se=360/this.countVisibleElements();for(Ht=0;Ht<k;++Ht)ae+=this._computeAngle(Ht,B,Se);for(Ht=k;Ht<k+L;Ht++){const ge=b[Ht];let Ce=ae,Ue=ae+this._computeAngle(Ht,B,Se),xn=X.getDataVisibility(Ht)?at.getDistanceFromCenterForValue(this.getParsed(Ht).r):0;ae=Ue,H&&(tt.animateScale&&(xn=0),tt.animateRotate&&(Ce=Ue=Lt));const yn={x:mt,y:Ft,innerRadius:0,outerRadius:xn,startAngle:Ce,endAngle:Ue,options:this.resolveDataElementOptions(Ht,ge.active?"active":B)};this.updateElement(ge,Ht,yn,B)}}countVisibleElements(){const b=this._cachedMeta;let k=0;return b.data.forEach((L,B)=>{!isNaN(this.getParsed(B).r)&&this.chart.getDataVisibility(B)&&k++}),k}_computeAngle(b,k,L){return this.chart.getDataVisibility(b)?Be(this.resolveDataElementOptions(b,k).angle||L):0}}var jp=Object.freeze({__proto__:null,BarController:class extends fi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(I,b,k,L){return ws(I,b,k,L)}parseArrayData(I,b,k,L){return ws(I,b,k,L)}parseObjectData(I,b,k,L){const{iScale:B,vScale:H}=I,{xAxisKey:X="x",yAxisKey:tt="y"}=this._parsing,at=B.axis==="x"?X:tt,mt=H.axis==="x"?X:tt,Ft=[];let Lt,Ht,ae,Se;for(Lt=k,Ht=k+L;Lt<Ht;++Lt)Se=b[Lt],ae={},ae[B.axis]=B.parse(Me(Se,at),Lt),Ft.push(_s(Me(Se,mt),ae,H,Lt));return Ft}updateRangeFromParsed(I,b,k,L){super.updateRangeFromParsed(I,b,k,L);const B=k._custom;B&&b===this._cachedMeta.vScale&&(I.min=Math.min(I.min,B.min),I.max=Math.max(I.max,B.max))}getMaxOverflow(){return 0}getLabelAndValue(I){const b=this._cachedMeta,{iScale:k,vScale:L}=b,B=this.getParsed(I),H=B._custom,X=Di(H)?"["+H.start+", "+H.end+"]":""+L.getLabelForValue(B[L.axis]);return{label:""+k.getLabelForValue(B[k.axis]),value:X}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(I){const b=this._cachedMeta;this.updateElements(b.data,0,b.data.length,I)}updateElements(I,b,k,L){const B=L==="reset",{index:H,_cachedMeta:{vScale:X}}=this,tt=X.getBasePixel(),at=X.isHorizontal(),mt=this._getRuler(),{sharedOptions:Ft,includeOptions:Lt}=this._getSharedOptions(b,L);for(let Ht=b;Ht<b+k;Ht++){const ae=this.getParsed(Ht),Se=B||Qt(ae[X.axis])?{base:tt,head:tt}:this._calculateBarValuePixels(Ht),ge=this._calculateBarIndexPixels(Ht,mt),Ce=(ae._stacks||{})[X.axis],Ue={horizontal:at,base:Se.base,enableBorderRadius:!Ce||Di(ae._custom)||H===Ce._top||H===Ce._bottom,x:at?Se.head:ge.center,y:at?ge.center:Se.head,height:at?ge.size:Math.abs(Se.size),width:at?Math.abs(Se.size):ge.size};Lt&&(Ue.options=Ft||this.resolveDataElementOptions(Ht,I[Ht].active?"active":L));const xn=Ue.options||I[Ht].options;Gu(Ue,xn,Ce,H),hu(Ue,xn,mt.ratio),this.updateElement(I[Ht],Ht,Ue,L)}}_getStacks(I,b){const{iScale:k}=this._cachedMeta,L=k.getMatchingVisibleMetas(this._type).filter(tt=>tt.controller.options.grouped),B=k.options.stacked,H=[],X=tt=>{const at=tt.controller.getParsed(b),mt=at&&at[tt.vScale.axis];if(Qt(mt)||isNaN(mt))return!0};for(const tt of L)if((b===void 0||!X(tt))&&((B===!1||H.indexOf(tt.stack)===-1||B===void 0&&tt.stack===void 0)&&H.push(tt.stack),tt.index===I))break;return H.length||H.push(void 0),H}_getStackCount(I){return this._getStacks(void 0,I).length}_getStackIndex(I,b,k){const L=this._getStacks(I,k),B=b!==void 0?L.indexOf(b):-1;return B===-1?L.length-1:B}_getRuler(){const I=this.options,b=this._cachedMeta,k=b.iScale,L=[];let B,H;for(B=0,H=b.data.length;B<H;++B)L.push(k.getPixelForValue(this.getParsed(B)[k.axis],B));const X=I.barThickness;return{min:X||Lc(b),pixels:L,start:k._startPixel,end:k._endPixel,stackCount:this._getStackCount(),scale:k,grouped:I.grouped,ratio:X?1:I.categoryPercentage*I.barPercentage}}_calculateBarValuePixels(I){const{_cachedMeta:{vScale:b,_stacked:k,index:L},options:{base:B,minBarLength:H}}=this,X=B||0,tt=this.getParsed(I),at=tt._custom,mt=Di(at);let Ft,Lt,Ht=tt[b.axis],ae=0,Se=k?this.applyStack(b,tt,k):Ht;Se!==Ht&&(ae=Se-Ht,Se=Ht),mt&&(Ht=at.barStart,Se=at.barEnd-at.barStart,Ht!==0&&lt(Ht)!==lt(at.barEnd)&&(ae=0),ae+=Ht);const ge=Qt(B)||mt?ae:B;let Ce=b.getPixelForValue(ge);if(Ft=this.chart.getDataVisibility(I)?b.getPixelForValue(ae+Se):Ce,Lt=Ft-Ce,Math.abs(Lt)<H){Lt=function(Rn,$n,mi){return Rn!==0?lt(Rn):($n.isHorizontal()?1:-1)*($n.min>=mi?1:-1)}(Lt,b,X)*H,Ht===X&&(Ce-=Lt/2);const Ue=b.getPixelForDecimal(0),xn=b.getPixelForDecimal(1),yn=Math.min(Ue,xn),mn=Math.max(Ue,xn);Ce=Math.max(Math.min(Ce,mn),yn),Ft=Ce+Lt,k&&!mt&&(tt._stacks[b.axis]._visualValues[L]=b.getValueForPixel(Ft)-b.getValueForPixel(Ce))}if(Ce===b.getPixelForValue(X)){const Ue=lt(Lt)*b.getLineWidthForValue(X)/2;Ce+=Ue,Lt-=Ue}return{size:Lt,base:Ce,head:Ft,center:Ft+Lt/2}}_calculateBarIndexPixels(I,b){const k=b.scale,L=this.options,B=L.skipNull,H=Vt(L.maxBarThickness,1/0);let X,tt;if(b.grouped){const at=B?this._getStackCount(I):b.stackCount,mt=L.barThickness==="flex"?function(Lt,Ht,ae,Se){const ge=Ht.pixels,Ce=ge[Lt];let Ue=Lt>0?ge[Lt-1]:null,xn=Lt<ge.length-1?ge[Lt+1]:null;const yn=ae.categoryPercentage;Ue===null&&(Ue=Ce-(xn===null?Ht.end-Ht.start:xn-Ce)),xn===null&&(xn=Ce+Ce-Ue);const mn=Ce-(Ce-Math.min(Ue,xn))/2*yn;return{chunk:Math.abs(xn-Ue)/2*yn/Se,ratio:ae.barPercentage,start:mn}}(I,b,L,at):function(Lt,Ht,ae,Se){const ge=ae.barThickness;let Ce,Ue;return Qt(ge)?(Ce=Ht.min*ae.categoryPercentage,Ue=ae.barPercentage):(Ce=ge*Se,Ue=1),{chunk:Ce/Se,ratio:Ue,start:Ht.pixels[Lt]-Ce/2}}(I,b,L,at),Ft=this._getStackIndex(this.index,this._cachedMeta.stack,B?I:void 0);X=mt.start+mt.chunk*Ft+mt.chunk/2,tt=Math.min(H,mt.chunk*mt.ratio)}else X=k.getPixelForValue(this.getParsed(I)[k.axis],I),tt=Math.min(H,b.min*b.ratio);return{base:X-tt/2,head:X+tt/2,center:X,size:tt}}draw(){const I=this._cachedMeta,b=I.vScale,k=I.data,L=k.length;let B=0;for(;B<L;++B)this.getParsed(B)[b.axis]!==null&&k[B].draw(this._ctx)}},BubbleController:class extends fi{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(I,b,k,L){const B=super.parsePrimitiveData(I,b,k,L);for(let H=0;H<B.length;H++)B[H]._custom=this.resolveDataElementOptions(H+k).radius;return B}parseArrayData(I,b,k,L){const B=super.parseArrayData(I,b,k,L);for(let H=0;H<B.length;H++){const X=b[k+H];B[H]._custom=Vt(X[2],this.resolveDataElementOptions(H+k).radius)}return B}parseObjectData(I,b,k,L){const B=super.parseObjectData(I,b,k,L);for(let H=0;H<B.length;H++){const X=b[k+H];B[H]._custom=Vt(X&&X.r&&+X.r,this.resolveDataElementOptions(H+k).radius)}return B}getMaxOverflow(){const I=this._cachedMeta.data;let b=0;for(let k=I.length-1;k>=0;--k)b=Math.max(b,I[k].size(this.resolveDataElementOptions(k))/2);return b>0&&b}getLabelAndValue(I){const b=this._cachedMeta,k=this.chart.data.labels||[],{xScale:L,yScale:B}=b,H=this.getParsed(I),X=L.getLabelForValue(H.x),tt=B.getLabelForValue(H.y),at=H._custom;return{label:k[I]||"",value:"("+X+", "+tt+(at?", "+at:"")+")"}}update(I){const b=this._cachedMeta.data;this.updateElements(b,0,b.length,I)}updateElements(I,b,k,L){const B=L==="reset",{iScale:H,vScale:X}=this._cachedMeta,{sharedOptions:tt,includeOptions:at}=this._getSharedOptions(b,L),mt=H.axis,Ft=X.axis;for(let Lt=b;Lt<b+k;Lt++){const Ht=I[Lt],ae=!B&&this.getParsed(Lt),Se={},ge=Se[mt]=B?H.getPixelForDecimal(.5):H.getPixelForValue(ae[mt]),Ce=Se[Ft]=B?X.getBasePixel():X.getPixelForValue(ae[Ft]);Se.skip=isNaN(ge)||isNaN(Ce),at&&(Se.options=tt||this.resolveDataElementOptions(Lt,Ht.active?"active":L),B&&(Se.options.radius=0)),this.updateElement(Ht,Lt,Se,L)}}resolveDataElementOptions(I,b){const k=this.getParsed(I);let L=super.resolveDataElementOptions(I,b);L.$shared&&(L=Object.assign({},L,{$shared:!1}));const B=L.radius;return b!=="active"&&(L.radius=0),L.radius+=Vt(k&&k._custom,B),L}},DoughnutController:Pc,LineController:class extends fi{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(I){const b=this._cachedMeta,{dataset:k,data:L=[],_dataset:B}=b,H=this.chart._animationsDisabled;let{start:X,count:tt}=Ve(b,L,H);this._drawStart=X,this._drawCount=tt,ze(b)&&(X=0,tt=L.length),k._chart=this.chart,k._datasetIndex=this.index,k._decimated=!!B._decimated,k.points=L;const at=this.resolveDatasetElementOptions(I);this.options.showLine||(at.borderWidth=0),at.segment=this.options.segment,this.updateElement(k,void 0,{animated:!H,options:at},I),this.updateElements(L,X,tt,I)}updateElements(I,b,k,L){const B=L==="reset",{iScale:H,vScale:X,_stacked:tt,_dataset:at}=this._cachedMeta,{sharedOptions:mt,includeOptions:Ft}=this._getSharedOptions(b,L),Lt=H.axis,Ht=X.axis,{spanGaps:ae,segment:Se}=this.options,ge=Qe(ae)?ae:Number.POSITIVE_INFINITY,Ce=this.chart._animationsDisabled||B||L==="none",Ue=b+k,xn=I.length;let yn=b>0&&this.getParsed(b-1);for(let mn=0;mn<xn;++mn){const Rn=I[mn],$n=Ce?Rn:{};if(mn<b||mn>=Ue){$n.skip=!0;continue}const mi=this.getParsed(mn),Ei=Qt(mi[Ht]),Mi=$n[Lt]=H.getPixelForValue(mi[Lt],mn),Si=$n[Ht]=B||Ei?X.getBasePixel():X.getPixelForValue(tt?this.applyStack(X,mi,tt):mi[Ht],mn);$n.skip=isNaN(Mi)||isNaN(Si)||Ei,$n.stop=mn>0&&Math.abs(mi[Lt]-yn[Lt])>ge,Se&&($n.parsed=mi,$n.raw=at.data[mn]),Ft&&($n.options=mt||this.resolveDataElementOptions(mn,Rn.active?"active":L)),Ce||this.updateElement(Rn,mn,$n,L),yn=mi}}getMaxOverflow(){const I=this._cachedMeta,b=I.dataset,k=b.options&&b.options.borderWidth||0,L=I.data||[];if(!L.length)return k;const B=L[0].size(this.resolveDataElementOptions(0)),H=L[L.length-1].size(this.resolveDataElementOptions(L.length-1));return Math.max(k,B,H)/2}draw(){const I=this._cachedMeta;I.dataset.updateControlPoints(this.chart.chartArea,I.iScale.axis),super.draw()}},PieController:class extends Pc{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Vh,RadarController:class extends fi{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(I){const b=this._cachedMeta.vScale,k=this.getParsed(I);return{label:b.getLabels()[I],value:""+b.getLabelForValue(k[b.axis])}}parseObjectData(I,b,k,L){return Bh.bind(this)(I,b,k,L)}update(I){const b=this._cachedMeta,k=b.dataset,L=b.data||[],B=b.iScale.getLabels();if(k.points=L,I!=="resize"){const H=this.resolveDatasetElementOptions(I);this.options.showLine||(H.borderWidth=0);const X={_loop:!0,_fullLoop:B.length===L.length,options:H};this.updateElement(k,void 0,X,I)}this.updateElements(L,0,L.length,I)}updateElements(I,b,k,L){const B=this._cachedMeta.rScale,H=L==="reset";for(let X=b;X<b+k;X++){const tt=I[X],at=this.resolveDataElementOptions(X,tt.active?"active":L),mt=B.getPointPositionForValue(X,this.getParsed(X).r),Ft=H?B.xCenter:mt.x,Lt=H?B.yCenter:mt.y,Ht={x:Ft,y:Lt,angle:mt.angle,skip:isNaN(Ft)||isNaN(Lt),options:at};this.updateElement(tt,X,Ht,L)}}},ScatterController:class extends fi{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(I){const b=this._cachedMeta,k=this.chart.data.labels||[],{xScale:L,yScale:B}=b,H=this.getParsed(I),X=L.getLabelForValue(H.x),tt=B.getLabelForValue(H.y);return{label:k[I]||"",value:"("+X+", "+tt+")"}}update(I){const b=this._cachedMeta,{data:k=[]}=b,L=this.chart._animationsDisabled;let{start:B,count:H}=Ve(b,k,L);if(this._drawStart=B,this._drawCount=H,ze(b)&&(B=0,H=k.length),this.options.showLine){const{dataset:X,_dataset:tt}=b;X._chart=this.chart,X._datasetIndex=this.index,X._decimated=!!tt._decimated,X.points=k;const at=this.resolveDatasetElementOptions(I);at.segment=this.options.segment,this.updateElement(X,void 0,{animated:!L,options:at},I)}this.updateElements(k,B,H,I)}addElements(){const{showLine:I}=this.options;!this.datasetElementType&&I&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(I,b,k,L){const B=L==="reset",{iScale:H,vScale:X,_stacked:tt,_dataset:at}=this._cachedMeta,mt=this.resolveDataElementOptions(b,L),Ft=this.getSharedOptions(mt),Lt=this.includeOptions(L,Ft),Ht=H.axis,ae=X.axis,{spanGaps:Se,segment:ge}=this.options,Ce=Qe(Se)?Se:Number.POSITIVE_INFINITY,Ue=this.chart._animationsDisabled||B||L==="none";let xn=b>0&&this.getParsed(b-1);for(let yn=b;yn<b+k;++yn){const mn=I[yn],Rn=this.getParsed(yn),$n=Ue?mn:{},mi=Qt(Rn[ae]),Ei=$n[Ht]=H.getPixelForValue(Rn[Ht],yn),Mi=$n[ae]=B||mi?X.getBasePixel():X.getPixelForValue(tt?this.applyStack(X,Rn,tt):Rn[ae],yn);$n.skip=isNaN(Ei)||isNaN(Mi)||mi,$n.stop=yn>0&&Math.abs(Rn[Ht]-xn[Ht])>Ce,ge&&($n.parsed=Rn,$n.raw=at.data[yn]),Lt&&($n.options=Ft||this.resolveDataElementOptions(yn,mn.active?"active":L)),Ue||this.updateElement(mn,yn,$n,L),xn=Rn}this.updateSharedOptions(Ft,L,mt)}getMaxOverflow(){const I=this._cachedMeta,b=I.data||[];if(!this.options.showLine){let X=0;for(let tt=b.length-1;tt>=0;--tt)X=Math.max(X,b[tt].size(this.resolveDataElementOptions(tt))/2);return X>0&&X}const k=I.dataset,L=k.options&&k.options.borderWidth||0;if(!b.length)return L;const B=b[0].size(this.resolveDataElementOptions(0)),H=b[b.length-1].size(this.resolveDataElementOptions(b.length-1));return Math.max(L,B,H)/2}}});function eo(I,b,k,L){const B=Ir(I.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),H=(k-b)/2,X=Math.min(H,L*b/2),tt=at=>{const mt=(k-Math.min(H,at))*L/2;return wn(at,0,Math.min(H,mt))};return{outerStart:tt(B.outerStart),outerEnd:tt(B.outerEnd),innerStart:wn(B.innerStart,0,X),innerEnd:wn(B.innerEnd,0,X)}}function ei(I,b,k,L){return{x:k+I*Math.cos(b),y:L+I*Math.sin(b)}}function Mo(I,b,k,L,B,H){const{x:X,y:tt,startAngle:at,pixelMargin:mt,innerRadius:Ft}=b,Lt=Math.max(b.outerRadius+L+k-mt,0),Ht=Ft>0?Ft+L+k+mt:0;let ae=0;const Se=B-at;if(L){const Ri=((Ft>0?Ft-L:0)+(Lt>0?Lt-L:0))/2;ae=(Se-(Ri!==0?Se*Ri/(Ri+L):Se))/2}const ge=(Se-Math.max(.001,Se*Lt-k/De)/Lt)/2,Ce=at+ge+ae,Ue=B-ge-ae,{outerStart:xn,outerEnd:yn,innerStart:mn,innerEnd:Rn}=eo(b,Ht,Lt,Ue-Ce),$n=Lt-xn,mi=Lt-yn,Ei=Ce+xn/$n,Mi=Ue-yn/mi,Si=Ht+mn,tr=Ht+Rn,Vi=Ce+mn/Si,Oi=Ue-Rn/tr;if(I.beginPath(),H){const Ri=(Ei+Mi)/2;if(I.arc(X,tt,Lt,Ei,Ri),I.arc(X,tt,Lt,Ri,Mi),yn>0){const yo=ei(mi,Mi,X,tt);I.arc(yo.x,yo.y,yn,Mi,Ue+gn)}const _i=ei(tr,Ue,X,tt);if(I.lineTo(_i.x,_i.y),Rn>0){const yo=ei(tr,Oi,X,tt);I.arc(yo.x,yo.y,Rn,Ue+gn,Oi+Math.PI)}const br=(Ue-Rn/Ht+(Ce+mn/Ht))/2;if(I.arc(X,tt,Ht,Ue-Rn/Ht,br,!0),I.arc(X,tt,Ht,br,Ce+mn/Ht,!0),mn>0){const yo=ei(Si,Vi,X,tt);I.arc(yo.x,yo.y,mn,Vi+Math.PI,Ce-gn)}const vo=ei($n,Ce,X,tt);if(I.lineTo(vo.x,vo.y),xn>0){const yo=ei($n,Ei,X,tt);I.arc(yo.x,yo.y,xn,Ce-gn,Ei)}}else{I.moveTo(X,tt);const Ri=Math.cos(Ei)*Lt+X,_i=Math.sin(Ei)*Lt+tt;I.lineTo(Ri,_i);const br=Math.cos(Mi)*Lt+X,vo=Math.sin(Mi)*Lt+tt;I.lineTo(br,vo)}I.closePath()}function ml(I,b,k,L,B){const{fullCircles:H,startAngle:X,circumference:tt,options:at}=b,{borderWidth:mt,borderJoinStyle:Ft,borderDash:Lt,borderDashOffset:Ht}=at,ae=at.borderAlign==="inner";if(!mt)return;I.setLineDash(Lt||[]),I.lineDashOffset=Ht,ae?(I.lineWidth=2*mt,I.lineJoin=Ft||"round"):(I.lineWidth=mt,I.lineJoin=Ft||"bevel");let Se=b.endAngle;if(H){Mo(I,b,k,L,Se,B);for(let ge=0;ge<H;++ge)I.stroke();isNaN(tt)||(Se=X+(tt%me||me))}ae&&function(ge,Ce,Ue){const{startAngle:xn,pixelMargin:yn,x:mn,y:Rn,outerRadius:$n,innerRadius:mi}=Ce;let Ei=yn/$n;ge.beginPath(),ge.arc(mn,Rn,$n,xn-Ei,Ue+Ei),mi>yn?(Ei=yn/mi,ge.arc(mn,Rn,mi,Ue+Ei,xn-Ei,!0)):ge.arc(mn,Rn,yn,Ue+gn,xn-gn),ge.closePath(),ge.clip()}(I,b,Se),H||(Mo(I,b,k,L,Se,B),I.stroke())}function Fl(I,b,k=b){I.lineCap=Vt(k.borderCapStyle,b.borderCapStyle),I.setLineDash(Vt(k.borderDash,b.borderDash)),I.lineDashOffset=Vt(k.borderDashOffset,b.borderDashOffset),I.lineJoin=Vt(k.borderJoinStyle,b.borderJoinStyle),I.lineWidth=Vt(k.borderWidth,b.borderWidth),I.strokeStyle=Vt(k.borderColor,b.borderColor)}function Bm(I,b,k){I.lineTo(k.x,k.y)}function sg(I,b,k={}){const L=I.length,{start:B=0,end:H=L-1}=k,{start:X,end:tt}=b,at=Math.max(B,X),mt=Math.min(H,tt),Ft=B<X&&H<X||B>tt&&H>tt;return{count:L,start:at,loop:b.loop,ilen:mt<at&&!Ft?L+mt-at:mt-at}}function y0(I,b,k,L){const{points:B,options:H}=b,{count:X,start:tt,loop:at,ilen:mt}=sg(B,k,L),Ft=function(Ce){return Ce.stepped?yr:Ce.tension||Ce.cubicInterpolationMode==="monotone"?pd:Bm}(H);let Lt,Ht,ae,{move:Se=!0,reverse:ge}=L||{};for(Lt=0;Lt<=mt;++Lt)Ht=B[(tt+(ge?mt-Lt:Lt))%X],Ht.skip||(Se?(I.moveTo(Ht.x,Ht.y),Se=!1):Ft(I,ae,Ht,ge,H.stepped),ae=Ht);return at&&(Ht=B[(tt+(ge?mt:0))%X],Ft(I,ae,Ht,ge,H.stepped)),!!at}function Vl(I,b,k,L){const B=b.points,{count:H,start:X,ilen:tt}=sg(B,k,L),{move:at=!0,reverse:mt}=L||{};let Ft,Lt,Ht,ae,Se,ge,Ce=0,Ue=0;const xn=mn=>(X+(mt?tt-mn:mn))%H,yn=()=>{ae!==Se&&(I.lineTo(Ce,Se),I.lineTo(Ce,ae),I.lineTo(Ce,ge))};for(at&&(Lt=B[xn(0)],I.moveTo(Lt.x,Lt.y)),Ft=0;Ft<=tt;++Ft){if(Lt=B[xn(Ft)],Lt.skip)continue;const mn=Lt.x,Rn=Lt.y,$n=0|mn;$n===Ht?(Rn<ae?ae=Rn:Rn>Se&&(Se=Rn),Ce=(Ue*Ce+mn)/++Ue):(yn(),I.lineTo(mn,Rn),Ht=$n,Ue=0,ae=Se=Rn),ge=Rn}yn()}function Hh(I){const b=I.options,k=b.borderDash&&b.borderDash.length;return I._decimated||I._loop||b.tension||b.cubicInterpolationMode==="monotone"||b.stepped||k?y0:Vl}const lg=typeof Path2D=="function";function Yp(I,b,k,L){lg&&!b.options.segment?function(B,H,X,tt){let at=H._path;at||(at=H._path=new Path2D,H.path(at,X,tt)&&at.closePath()),Fl(B,H.options),B.stroke(at)}(I,b,k,L):function(B,H,X,tt){const{segments:at,options:mt}=H,Ft=Hh(H);for(const Lt of at)Fl(B,mt,Lt.style),B.beginPath(),Ft(B,H,Lt,{start:X,end:X+tt-1})&&B.closePath(),B.stroke()}(I,b,k,L)}class Nc extends Bi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:b=>b!=="borderDash"&&b!=="fill"};constructor(b){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,b&&Object.assign(this,b)}updateControlPoints(b,k){const L=this.options;if((L.tension||L.cubicInterpolationMode==="monotone")&&!L.stepped&&!this._pointsUpdated){const B=L.spanGaps?this._loop:this._fullLoop;rs(this._points,L,b,B,k),this._pointsUpdated=!0}}set points(b){this._points=b,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wu(this,this.options.segment))}first(){const b=this.segments,k=this.points;return b.length&&k[b[0].start]}last(){const b=this.segments,k=this.points,L=b.length;return L&&k[b[L-1].end]}interpolate(b,k){const L=this.options,B=b[k],H=this.points,X=Ll(this,{property:k,start:B,end:B});if(!X.length)return;const tt=[],at=function(Lt){return Lt.stepped?qa:Lt.tension||Lt.cubicInterpolationMode==="monotone"?Ke:co}(L);let mt,Ft;for(mt=0,Ft=X.length;mt<Ft;++mt){const{start:Lt,end:Ht}=X[mt],ae=H[Lt],Se=H[Ht];if(ae===Se){tt.push(ae);continue}const ge=at(ae,Se,Math.abs((B-ae[k])/(Se[k]-ae[k])),L.stepped);ge[k]=b[k],tt.push(ge)}return tt.length===1?tt[0]:tt}pathSegment(b,k,L){return Hh(this)(b,this,k,L)}path(b,k,L){const B=this.segments,H=Hh(this);let X=this._loop;k=k||0,L=L||this.points.length-k;for(const tt of B)X&=H(b,this,tt,{start:k,end:k+L-1});return!!X}draw(b,k,L,B){const H=this.options||{};(this.points||[]).length&&H.borderWidth&&(b.save(),Yp(b,this,L,B),b.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ss(I,b,k,L){const B=I.options,{[k]:H}=I.getProps([k],L);return Math.abs(b-H)<B.radius+B.hitRadius}function cg(I,b){const{x:k,y:L,base:B,width:H,height:X}=I.getProps(["x","y","base","width","height"],b);let tt,at,mt,Ft,Lt;return I.horizontal?(Lt=X/2,tt=Math.min(k,B),at=Math.max(k,B),mt=L-Lt,Ft=L+Lt):(Lt=H/2,tt=k-Lt,at=k+Lt,mt=Math.min(L,B),Ft=Math.max(L,B)),{left:tt,top:mt,right:at,bottom:Ft}}function Gs(I,b,k,L){return I?0:wn(b,k,L)}function zm(I){const b=cg(I),k=b.right-b.left,L=b.bottom-b.top,B=function(X,tt,at){const mt=X.options.borderWidth,Ft=X.borderSkipped,Lt=Ua(mt);return{t:Gs(Ft.top,Lt.top,0,at),r:Gs(Ft.right,Lt.right,0,tt),b:Gs(Ft.bottom,Lt.bottom,0,at),l:Gs(Ft.left,Lt.left,0,tt)}}(I,k/2,L/2),H=function(X,tt,at){const{enableBorderRadius:mt}=X.getProps(["enableBorderRadius"]),Ft=X.options.borderRadius,Lt=Dl(Ft),Ht=Math.min(tt,at),ae=X.borderSkipped,Se=mt||$t(Ft);return{topLeft:Gs(!Se||ae.top||ae.left,Lt.topLeft,0,Ht),topRight:Gs(!Se||ae.top||ae.right,Lt.topRight,0,Ht),bottomLeft:Gs(!Se||ae.bottom||ae.left,Lt.bottomLeft,0,Ht),bottomRight:Gs(!Se||ae.bottom||ae.right,Lt.bottomRight,0,Ht)}}(I,k/2,L/2);return{outer:{x:b.left,y:b.top,w:k,h:L,radius:H},inner:{x:b.left+B.l,y:b.top+B.t,w:k-B.l-B.r,h:L-B.t-B.b,radius:{topLeft:Math.max(0,H.topLeft-Math.max(B.t,B.l)),topRight:Math.max(0,H.topRight-Math.max(B.t,B.r)),bottomLeft:Math.max(0,H.bottomLeft-Math.max(B.b,B.l)),bottomRight:Math.max(0,H.bottomRight-Math.max(B.b,B.r))}}}}function Cd(I,b,k,L){const B=b===null,H=k===null,X=I&&!(B&&H)&&cg(I,L);return X&&(B||si(b,X.left,X.right))&&(H||si(k,X.top,X.bottom))}function Fm(I,b){I.rect(b.x,b.y,b.w,b.h)}function ho(I,b,k={}){const L=I.x!==k.x?-b:0,B=I.y!==k.y?-b:0,H=(I.x+I.w!==k.x+k.w?b:0)-L,X=(I.y+I.h!==k.y+k.h?b:0)-B;return{x:I.x+L,y:I.y+B,w:I.w+H,h:I.h+X,radius:I.radius}}var du=Object.freeze({__proto__:null,ArcElement:class extends Bi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:I=>I!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(I){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,I&&Object.assign(this,I)}inRange(I,b,k){const L=this.getProps(["x","y"],k),{angle:B,distance:H}=wr(L,{x:I,y:b}),{startAngle:X,endAngle:tt,innerRadius:at,outerRadius:mt,circumference:Ft}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],k),Lt=(this.options.spacing+this.options.borderWidth)/2,Ht=Vt(Ft,tt-X)>=me||hr(B,X,tt),ae=si(H,at+Lt,mt+Lt);return Ht&&ae}getCenterPoint(I){const{x:b,y:k,startAngle:L,endAngle:B,innerRadius:H,outerRadius:X}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],I),{offset:tt,spacing:at}=this.options,mt=(L+B)/2,Ft=(H+X+at+tt)/2;return{x:b+Math.cos(mt)*Ft,y:k+Math.sin(mt)*Ft}}tooltipPosition(I){return this.getCenterPoint(I)}draw(I){const{options:b,circumference:k}=this,L=(b.offset||0)/4,B=(b.spacing||0)/2,H=b.circular;if(this.pixelMargin=b.borderAlign==="inner"?.33:0,this.fullCircles=k>me?Math.floor(k/me):0,k===0||this.innerRadius<0||this.outerRadius<0)return;I.save();const X=(this.startAngle+this.endAngle)/2;I.translate(Math.cos(X)*L,Math.sin(X)*L);const tt=L*(1-Math.sin(Math.min(De,k||0)));I.fillStyle=b.backgroundColor,I.strokeStyle=b.borderColor,function(at,mt,Ft,Lt,Ht){const{fullCircles:ae,startAngle:Se,circumference:ge}=mt;let Ce=mt.endAngle;if(ae){Mo(at,mt,Ft,Lt,Ce,Ht);for(let Ue=0;Ue<ae;++Ue)at.fill();isNaN(ge)||(Ce=Se+(ge%me||me))}Mo(at,mt,Ft,Lt,Ce,Ht),at.fill()}(I,this,tt,B,H),ml(I,this,tt,B,H),I.restore()}},BarElement:class extends Bi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(I){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,I&&Object.assign(this,I)}draw(I){const{inflateAmount:b,options:{borderColor:k,backgroundColor:L}}=this,{inner:B,outer:H}=zm(this),X=(tt=H.radius).topLeft||tt.topRight||tt.bottomLeft||tt.bottomRight?nu:Fm;var tt;I.save(),H.w===B.w&&H.h===B.h||(I.beginPath(),X(I,ho(H,b,B)),I.clip(),X(I,ho(B,-b,H)),I.fillStyle=k,I.fill("evenodd")),I.beginPath(),X(I,ho(B,b)),I.fillStyle=L,I.fill(),I.restore()}inRange(I,b,k){return Cd(this,I,b,k)}inXRange(I,b){return Cd(this,I,null,b)}inYRange(I,b){return Cd(this,null,I,b)}getCenterPoint(I){const{x:b,y:k,base:L,horizontal:B}=this.getProps(["x","y","base","horizontal"],I);return{x:B?(b+L)/2:b,y:B?k:(k+L)/2}}getRange(I){return I==="x"?this.width/2:this.height/2}},LineElement:Nc,PointElement:class extends Bi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(I){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,I&&Object.assign(this,I)}inRange(I,b,k){const L=this.options,{x:B,y:H}=this.getProps(["x","y"],k);return Math.pow(I-B,2)+Math.pow(b-H,2)<Math.pow(L.hitRadius+L.radius,2)}inXRange(I,b){return Ss(this,I,"x",b)}inYRange(I,b){return Ss(this,I,"y",b)}getCenterPoint(I){const{x:b,y:k}=this.getProps(["x","y"],I);return{x:b,y:k}}size(I){let b=(I=I||this.options||{}).radius||0;return b=Math.max(b,b&&I.hoverRadius||0),2*(b+(b&&I.borderWidth||0))}draw(I,b){const k=this.options;this.skip||k.radius<.1||!Zo(this,b,this.size(k)/2)||(I.strokeStyle=k.borderColor,I.lineWidth=k.borderWidth,I.fillStyle=k.backgroundColor,ko(I,k,this.x,this.y))}getRange(){const I=this.options||{};return I.radius+I.hitRadius}}});function ug(I,b,k,L){const B=I.indexOf(b);return B===-1?((H,X,tt,at)=>(typeof X=="string"?(tt=H.push(X)-1,at.unshift({index:tt,label:X})):isNaN(X)&&(tt=null),tt))(I,b,k,L):B!==I.lastIndexOf(b)?k:B}function hg(I){const b=this.getLabels();return I>=0&&I<b.length?b[I]:I}function dg(I,b,{horizontal:k,minRotation:L}){const B=Be(L),H=(k?Math.sin(B):Math.cos(B))||.001,X=.75*b*(""+I).length;return Math.min(b/H,X)}class pg extends Lr{constructor(b){super(b),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(b,k){return Qt(b)||(typeof b=="number"||b instanceof Number)&&!isFinite(+b)?null:+b}handleTickRangeOptions(){const{beginAtZero:b}=this.options,{minDefined:k,maxDefined:L}=this.getUserBounds();let{min:B,max:H}=this;const X=at=>B=k?B:at,tt=at=>H=L?H:at;if(b){const at=lt(B),mt=lt(H);at<0&&mt<0?tt(0):at>0&&mt>0&&X(0)}if(B===H){let at=H===0?1:Math.abs(.05*H);tt(H+at),b||X(B-at)}this.min=B,this.max=H}getTickLimit(){const b=this.options.ticks;let k,{maxTicksLimit:L,stepSize:B}=b;return B?(k=Math.ceil(this.max/B)-Math.floor(this.min/B)+1,k>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${B} would result generating up to ${k} ticks. Limiting to 1000.`),k=1e3)):(k=this.computeTickLimit(),L=L||11),L&&(k=Math.min(L,k)),k}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const b=this.options,k=b.ticks;let L=this.getTickLimit();L=Math.max(2,L);const B=function(H,X){const tt=[],{bounds:at,step:mt,min:Ft,max:Lt,precision:Ht,count:ae,maxTicks:Se,maxDigits:ge,includeBounds:Ce}=H,Ue=mt||1,xn=Se-1,{min:yn,max:mn}=X,Rn=!Qt(Ft),$n=!Qt(Lt),mi=!Qt(ae),Ei=(mn-yn)/(ge+1);let Mi,Si,tr,Vi,Oi=en((mn-yn)/xn/Ue)*Ue;if(Oi<1e-14&&!Rn&&!$n)return[{value:yn},{value:mn}];Vi=Math.ceil(mn/Oi)-Math.floor(yn/Oi),Vi>xn&&(Oi=en(Vi*Oi/xn/Ue)*Ue),Qt(Ht)||(Mi=Math.pow(10,Ht),Oi=Math.ceil(Oi*Mi)/Mi),at==="ticks"?(Si=Math.floor(yn/Oi)*Oi,tr=Math.ceil(mn/Oi)*Oi):(Si=yn,tr=mn),Rn&&$n&&mt&&Te((Lt-Ft)/mt,Oi/1e3)?(Vi=Math.round(Math.min((Lt-Ft)/Oi,Se)),Oi=(Lt-Ft)/Vi,Si=Ft,tr=Lt):mi?(Si=Rn?Ft:Si,tr=$n?Lt:tr,Vi=ae-1,Oi=(tr-Si)/Vi):(Vi=(tr-Si)/Oi,Vi=an(Vi,Math.round(Vi),Oi/1e3)?Math.round(Vi):Math.ceil(Vi));const Ri=Math.max(Mn(Oi),Mn(Si));Mi=Math.pow(10,Qt(Ht)?Ri:Ht),Si=Math.round(Si*Mi)/Mi,tr=Math.round(tr*Mi)/Mi;let _i=0;for(Rn&&(Ce&&Si!==Ft?(tt.push({value:Ft}),Si<Ft&&_i++,an(Math.round((Si+_i*Oi)*Mi)/Mi,Ft,dg(Ft,Ei,H))&&_i++):Si<Ft&&_i++);_i<Vi;++_i){const br=Math.round((Si+_i*Oi)*Mi)/Mi;if($n&&br>Lt)break;tt.push({value:br})}return $n&&Ce&&tr!==Lt?tt.length&&an(tt[tt.length-1].value,Lt,dg(Lt,Ei,H))?tt[tt.length-1].value=Lt:tt.push({value:Lt}):$n&&tr!==Lt||tt.push({value:tr}),tt}({maxTicks:L,bounds:b.bounds,min:b.min,max:b.max,precision:k.precision,step:k.stepSize,count:k.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:k.minRotation||0,includeBounds:k.includeBounds!==!1},this._range||this);return b.bounds==="ticks"&&_n(B,this,"value"),b.reverse?(B.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),B}configure(){const b=this.ticks;let k=this.min,L=this.max;if(super.configure(),this.options.offset&&b.length){const B=(L-k)/Math.max(b.length-1,1)/2;k-=B,L+=B}this._startValue=k,this._endValue=L,this._valueRange=L-k}getLabelForValue(b){return Nt(b,this.chart.options.locale,this.options.ticks.format)}}class ro extends pg{static id="linear";static defaults={ticks:{callback:he.formatters.numeric}};determineDataLimits(){const{min:b,max:k}=this.getMinMax(!0);this.min=ue(b)?b:0,this.max=ue(k)?k:1,this.handleTickRangeOptions()}computeTickLimit(){const b=this.isHorizontal(),k=b?this.width:this.height,L=Be(this.options.ticks.minRotation),B=(b?Math.sin(L):Math.cos(L))||.001,H=this._resolveTickFontOptions(0);return Math.ceil(k/Math.min(40,H.lineHeight/B))}getPixelForValue(b){return b===null?NaN:this.getPixelForDecimal((b-this._startValue)/this._valueRange)}getValueForPixel(b){return this._startValue+this.getDecimalForPixel(b)*this._valueRange}}const Xu=I=>Math.floor(ht(I)),qu=(I,b)=>Math.pow(10,Xu(I)+b);function Gp(I){return I/Math.pow(10,Xu(I))===1}function oo(I,b,k){const L=Math.pow(10,k),B=Math.floor(I/L);return Math.ceil(b/L)-B}function pu(I,{min:b,max:k}){b=Jt(I.min,b);const L=[],B=Xu(b);let H=function(Se,ge){let Ce=Xu(ge-Se);for(;oo(Se,ge,Ce)>10;)Ce++;for(;oo(Se,ge,Ce)<10;)Ce--;return Math.min(Ce,Xu(Se))}(b,k),X=H<0?Math.pow(10,Math.abs(H)):1;const tt=Math.pow(10,H),at=B>H?Math.pow(10,B):0,mt=Math.round((b-at)*X)/X,Ft=Math.floor((b-at)/tt/10)*tt*10;let Lt=Math.floor((mt-Ft)/Math.pow(10,H)),Ht=Jt(I.min,Math.round((at+Ft+Lt*Math.pow(10,H))*X)/X);for(;Ht<k;)L.push({value:Ht,major:Gp(Ht),significand:Lt}),Lt>=10?Lt=Lt<15?15:20:Lt++,Lt>=20&&(H++,Lt=2,X=H>=0?1:X),Ht=Math.round((at+Ft+Lt*Math.pow(10,H))*X)/X;const ae=Jt(I.max,Ht);return L.push({value:ae,major:Gp(ae),significand:Lt}),L}class Uu extends Lr{static id="logarithmic";static defaults={ticks:{callback:he.formatters.logarithmic,major:{enabled:!0}}};constructor(b){super(b),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(b,k){const L=pg.prototype.parse.apply(this,[b,k]);if(L!==0)return ue(L)&&L>0?L:null;this._zero=!0}determineDataLimits(){const{min:b,max:k}=this.getMinMax(!0);this.min=ue(b)?Math.max(0,b):null,this.max=ue(k)?Math.max(0,k):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ue(this._userMin)&&(this.min=b===qu(this.min,0)?qu(this.min,-1):qu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:b,maxDefined:k}=this.getUserBounds();let L=this.min,B=this.max;const H=tt=>L=b?L:tt,X=tt=>B=k?B:tt;L===B&&(L<=0?(H(1),X(10)):(H(qu(L,-1)),X(qu(B,1)))),L<=0&&H(qu(B,-1)),B<=0&&X(qu(L,1)),this.min=L,this.max=B}buildTicks(){const b=this.options,k=pu({min:this._userMin,max:this._userMax},this);return b.bounds==="ticks"&&_n(k,this,"value"),b.reverse?(k.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),k}getLabelForValue(b){return b===void 0?"0":Nt(b,this.chart.options.locale,this.options.ticks.format)}configure(){const b=this.min;super.configure(),this._startValue=ht(b),this._valueRange=ht(this.max)-ht(b)}getPixelForValue(b){return b!==void 0&&b!==0||(b=this.min),b===null||isNaN(b)?NaN:this.getPixelForDecimal(b===this.min?0:(ht(b)-this._startValue)/this._valueRange)}getValueForPixel(b){const k=this.getDecimalForPixel(b);return Math.pow(10,this._startValue+k*this._valueRange)}}function $u(I){const b=I.ticks;if(b.display&&I.display){const k=Vr(b.backdropPadding);return Vt(b.font&&b.font.size,xe.font.size)+k.height}return 0}function Vm(I,b,k,L,B){return I===L||I===B?{start:b-k/2,end:b+k/2}:I<L||I>B?{start:b-k,end:b}:{start:b,end:b+k}}function b0(I){const b={l:I.left+I._padding.left,r:I.right-I._padding.right,t:I.top+I._padding.top,b:I.bottom-I._padding.bottom},k=Object.assign({},b),L=[],B=[],H=I._pointLabels.length,X=I.options.pointLabels,tt=X.centerPointLabels?De/H:0;for(let Lt=0;Lt<H;Lt++){const Ht=X.setContext(I.getPointLabelContext(Lt));B[Lt]=Ht.padding;const ae=I.getPointPosition(Lt,I.drawingArea+B[Lt],tt),Se=Eo(Ht.font),ge=(at=I.ctx,mt=Se,Ft=Oe(Ft=I._pointLabels[Lt])?Ft:[Ft],{w:Dr(at,mt.string,Ft),h:Ft.length*mt.lineHeight});L[Lt]=ge;const Ce=ar(I.getIndexAngle(Lt)+tt),Ue=Math.round(Ge(Ce));Hm(k,b,Ce,Vm(Ue,ae.x,ge.w,0,180),Vm(Ue,ae.y,ge.h,90,270))}var at,mt,Ft;I.setCenterPoint(b.l-k.l,k.r-b.r,b.t-k.t,k.b-b.b),I._pointLabelItems=function(Lt,Ht,ae){const Se=[],ge=Lt._pointLabels.length,Ce=Lt.options,{centerPointLabels:Ue,display:xn}=Ce.pointLabels,yn={extra:$u(Ce)/2,additionalAngle:Ue?De/ge:0};let mn;for(let Rn=0;Rn<ge;Rn++){yn.padding=ae[Rn],yn.size=Ht[Rn];const $n=kd(Lt,Rn,yn);Se.push($n),xn==="auto"&&($n.visible=wa($n,mn),$n.visible&&(mn=$n))}return Se}(I,L,B)}function Hm(I,b,k,L,B){const H=Math.abs(Math.sin(k)),X=Math.abs(Math.cos(k));let tt=0,at=0;L.start<b.l?(tt=(b.l-L.start)/H,I.l=Math.min(I.l,b.l-tt)):L.end>b.r&&(tt=(L.end-b.r)/H,I.r=Math.max(I.r,b.r+tt)),B.start<b.t?(at=(b.t-B.start)/X,I.t=Math.min(I.t,b.t-at)):B.end>b.b&&(at=(B.end-b.b)/X,I.b=Math.max(I.b,b.b+at))}function kd(I,b,k){const L=I.drawingArea,{extra:B,additionalAngle:H,padding:X,size:tt}=k,at=I.getPointPosition(b,L+B+X,H),mt=Math.round(Ge(ar(at.angle+gn))),Ft=function(ae,Se,ge){return ge===90||ge===270?ae-=Se/2:(ge>270||ge<90)&&(ae-=Se),ae}(at.y,tt.h,mt),Lt=function(ae){return ae===0||ae===180?"center":ae<180?"left":"right"}(mt),Ht=function(ae,Se,ge){return ge==="right"?ae-=Se:ge==="center"&&(ae-=Se/2),ae}(at.x,tt.w,Lt);return{visible:!0,x:at.x,y:Ft,textAlign:Lt,left:Ht,top:Ft,right:Ht+tt.w,bottom:Ft+tt.h}}function wa(I,b){if(!b)return!0;const{left:k,top:L,right:B,bottom:H}=I;return!(Zo({x:k,y:L},b)||Zo({x:k,y:H},b)||Zo({x:B,y:L},b)||Zo({x:B,y:H},b))}function fg(I,b,k){const{left:L,top:B,right:H,bottom:X}=k,{backdropColor:tt}=b;if(!Qt(tt)){const at=Dl(b.borderRadius),mt=Vr(b.backdropPadding);I.fillStyle=tt;const Ft=L-mt.left,Lt=B-mt.top,Ht=H-L+mt.width,ae=X-B+mt.height;Object.values(at).some(Se=>Se!==0)?(I.beginPath(),nu(I,{x:Ft,y:Lt,w:Ht,h:ae,radius:at}),I.fill()):I.fillRect(Ft,Lt,Ht,ae)}}function Wh(I,b,k,L){const{ctx:B}=I;if(k)B.arc(I.xCenter,I.yCenter,b,0,me);else{let H=I.getPointPosition(0,b);B.moveTo(H.x,H.y);for(let X=1;X<L;X++)H=I.getPointPosition(X,b),B.lineTo(H.x,H.y)}}class Zu extends pg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:he.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:b=>b,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(b){super(b),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const b=this._padding=Vr($u(this.options)/2),k=this.width=this.maxWidth-b.width,L=this.height=this.maxHeight-b.height;this.xCenter=Math.floor(this.left+k/2+b.left),this.yCenter=Math.floor(this.top+L/2+b.top),this.drawingArea=Math.floor(Math.min(k,L)/2)}determineDataLimits(){const{min:b,max:k}=this.getMinMax(!1);this.min=ue(b)&&!isNaN(b)?b:0,this.max=ue(k)&&!isNaN(k)?k:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$u(this.options))}generateTickLabels(b){pg.prototype.generateTickLabels.call(this,b),this._pointLabels=this.getLabels().map((k,L)=>{const B=_t(this.options.pointLabels.callback,[k,L],this);return B||B===0?B:""}).filter((k,L)=>this.chart.getDataVisibility(L))}fit(){const b=this.options;b.display&&b.pointLabels.display?b0(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(b,k,L,B){this.xCenter+=Math.floor((b-k)/2),this.yCenter+=Math.floor((L-B)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(b,k,L,B))}getIndexAngle(b){return ar(b*(me/(this._pointLabels.length||1))+Be(this.options.startAngle||0))}getDistanceFromCenterForValue(b){if(Qt(b))return NaN;const k=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-b)*k:(b-this.min)*k}getValueForDistanceFromCenter(b){if(Qt(b))return NaN;const k=b/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-k:this.min+k}getPointLabelContext(b){const k=this._pointLabels||[];if(b>=0&&b<k.length){const L=k[b];return function(B,H,X){return Rs(B,{label:X,index:H,type:"pointLabel"})}(this.getContext(),b,L)}}getPointPosition(b,k,L=0){const B=this.getIndexAngle(b)-gn+L;return{x:Math.cos(B)*k+this.xCenter,y:Math.sin(B)*k+this.yCenter,angle:B}}getPointPositionForValue(b,k){return this.getPointPosition(b,this.getDistanceFromCenterForValue(k))}getBasePosition(b){return this.getPointPositionForValue(b||0,this.getBaseValue())}getPointLabelPosition(b){const{left:k,top:L,right:B,bottom:H}=this._pointLabelItems[b];return{left:k,top:L,right:B,bottom:H}}drawBackground(){const{backgroundColor:b,grid:{circular:k}}=this.options;if(b){const L=this.ctx;L.save(),L.beginPath(),Wh(this,this.getDistanceFromCenterForValue(this._endValue),k,this._pointLabels.length),L.closePath(),L.fillStyle=b,L.fill(),L.restore()}}drawGrid(){const b=this.ctx,k=this.options,{angleLines:L,grid:B,border:H}=k,X=this._pointLabels.length;let tt,at,mt;if(k.pointLabels.display&&function(Ft,Lt){const{ctx:Ht,options:{pointLabels:ae}}=Ft;for(let Se=Lt-1;Se>=0;Se--){const ge=Ft._pointLabelItems[Se];if(!ge.visible)continue;const Ce=ae.setContext(Ft.getPointLabelContext(Se));fg(Ht,Ce,ge);const Ue=Eo(Ce.font),{x:xn,y:yn,textAlign:mn}=ge;Fr(Ht,Ft._pointLabels[Se],xn,yn+Ue.lineHeight/2,Ue,{color:Ce.color,textAlign:mn,textBaseline:"middle"})}}(this,X),B.display&&this.ticks.forEach((Ft,Lt)=>{if(Lt!==0){at=this.getDistanceFromCenterForValue(Ft.value);const Ht=this.getContext(Lt),ae=B.setContext(Ht),Se=H.setContext(Ht);(function(ge,Ce,Ue,xn,yn){const mn=ge.ctx,Rn=Ce.circular,{color:$n,lineWidth:mi}=Ce;!Rn&&!xn||!$n||!mi||Ue<0||(mn.save(),mn.strokeStyle=$n,mn.lineWidth=mi,mn.setLineDash(yn.dash),mn.lineDashOffset=yn.dashOffset,mn.beginPath(),Wh(ge,Ue,Rn,xn),mn.closePath(),mn.stroke(),mn.restore())})(this,ae,at,X,Se)}}),L.display){for(b.save(),tt=X-1;tt>=0;tt--){const Ft=L.setContext(this.getPointLabelContext(tt)),{color:Lt,lineWidth:Ht}=Ft;Ht&&Lt&&(b.lineWidth=Ht,b.strokeStyle=Lt,b.setLineDash(Ft.borderDash),b.lineDashOffset=Ft.borderDashOffset,at=this.getDistanceFromCenterForValue(k.ticks.reverse?this.min:this.max),mt=this.getPointPosition(tt,at),b.beginPath(),b.moveTo(this.xCenter,this.yCenter),b.lineTo(mt.x,mt.y),b.stroke())}b.restore()}}drawBorder(){}drawLabels(){const b=this.ctx,k=this.options,L=k.ticks;if(!L.display)return;const B=this.getIndexAngle(0);let H,X;b.save(),b.translate(this.xCenter,this.yCenter),b.rotate(B),b.textAlign="center",b.textBaseline="middle",this.ticks.forEach((tt,at)=>{if(at===0&&!k.reverse)return;const mt=L.setContext(this.getContext(at)),Ft=Eo(mt.font);if(H=this.getDistanceFromCenterForValue(this.ticks[at].value),mt.showLabelBackdrop){b.font=Ft.string,X=b.measureText(tt.label).width,b.fillStyle=mt.backdropColor;const Lt=Vr(mt.backdropPadding);b.fillRect(-X/2-Lt.left,-H-Ft.size/2-Lt.top,X+Lt.width,Ft.size+Lt.height)}Fr(b,tt.label,0,-H,Ft,{color:mt.color})}),b.restore()}drawTitle(){}}const Hr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xs=Object.keys(Hr);function Ku(I,b){return I-b}function jh(I,b){if(Qt(b))return null;const k=I._adapter,{parser:L,round:B,isoWeekday:H}=I._parseOpts;let X=b;return typeof L=="function"&&(X=L(X)),ue(X)||(X=typeof L=="string"?k.parse(X,L):k.parse(X)),X===null?null:(B&&(X=B!=="week"||!Qe(H)&&H!==!0?k.startOf(X,B):k.startOf(X,"isoWeek",H)),+X)}function da(I,b,k,L){const B=Xs.length;for(let H=Xs.indexOf(I);H<B-1;++H){const X=Hr[Xs[H]],tt=X.steps?X.steps:Number.MAX_SAFE_INTEGER;if(X.common&&Math.ceil((k-b)/(tt*X.size))<=L)return Xs[H]}return Xs[B-1]}function x0(I,b,k){if(k){if(k.length){const{lo:L,hi:B}=xi(k,b);I[k[L]>=b?k[L]:k[B]]=!0}}else I[b]=!0}function Ad(I,b,k){const L=[],B={},H=b.length;let X,tt;for(X=0;X<H;++X)tt=b[X],B[tt]=X,L.push({value:tt,major:!1});return H!==0&&k?function(at,mt,Ft,Lt){const Ht=at._adapter,ae=+Ht.startOf(mt[0].value,Lt),Se=mt[mt.length-1].value;let ge,Ce;for(ge=ae;ge<=Se;ge=+Ht.add(ge,1,Lt))Ce=Ft[ge],Ce>=0&&(mt[Ce].major=!0);return mt}(I,L,B,k):L}class Rc extends Lr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(b){super(b),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(b,k={}){const L=b.time||(b.time={}),B=this._adapter=new Sd._date(b.adapters.date);B.init(k),It(L.displayFormats,B.formats()),this._parseOpts={parser:L.parser,round:L.round,isoWeekday:L.isoWeekday},super.init(b),this._normalized=k.normalized}parse(b,k){return b===void 0?null:jh(this,b)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const b=this.options,k=this._adapter,L=b.time.unit||"day";let{min:B,max:H,minDefined:X,maxDefined:tt}=this.getUserBounds();function at(mt){X||isNaN(mt.min)||(B=Math.min(B,mt.min)),tt||isNaN(mt.max)||(H=Math.max(H,mt.max))}X&&tt||(at(this._getLabelBounds()),b.bounds==="ticks"&&b.ticks.source==="labels"||at(this.getMinMax(!1))),B=ue(B)&&!isNaN(B)?B:+k.startOf(Date.now(),L),H=ue(H)&&!isNaN(H)?H:+k.endOf(Date.now(),L)+1,this.min=Math.min(B,H-1),this.max=Math.max(B+1,H)}_getLabelBounds(){const b=this.getLabelTimestamps();let k=Number.POSITIVE_INFINITY,L=Number.NEGATIVE_INFINITY;return b.length&&(k=b[0],L=b[b.length-1]),{min:k,max:L}}buildTicks(){const b=this.options,k=b.time,L=b.ticks,B=L.source==="labels"?this.getLabelTimestamps():this._generate();b.bounds==="ticks"&&B.length&&(this.min=this._userMin||B[0],this.max=this._userMax||B[B.length-1]);const H=this.min,X=yi(B,H,this.max);return this._unit=k.unit||(L.autoSkip?da(k.minUnit,this.min,this.max,this._getLabelCapacity(H)):function(tt,at,mt,Ft,Lt){for(let Ht=Xs.length-1;Ht>=Xs.indexOf(mt);Ht--){const ae=Xs[Ht];if(Hr[ae].common&&tt._adapter.diff(Lt,Ft,ae)>=at-1)return ae}return Xs[mt?Xs.indexOf(mt):0]}(this,X.length,k.minUnit,this.min,this.max)),this._majorUnit=L.major.enabled&&this._unit!=="year"?function(tt){for(let at=Xs.indexOf(tt)+1,mt=Xs.length;at<mt;++at)if(Hr[Xs[at]].common)return Xs[at]}(this._unit):void 0,this.initOffsets(B),b.reverse&&X.reverse(),Ad(this,X,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(b=>+b.value))}initOffsets(b=[]){let k,L,B=0,H=0;this.options.offset&&b.length&&(k=this.getDecimalForValue(b[0]),B=b.length===1?1-k:(this.getDecimalForValue(b[1])-k)/2,L=this.getDecimalForValue(b[b.length-1]),H=b.length===1?L:(L-this.getDecimalForValue(b[b.length-2]))/2);const X=b.length<3?.5:.25;B=wn(B,0,X),H=wn(H,0,X),this._offsets={start:B,end:H,factor:1/(B+1+H)}}_generate(){const b=this._adapter,k=this.min,L=this.max,B=this.options,H=B.time,X=H.unit||da(H.minUnit,k,L,this._getLabelCapacity(k)),tt=Vt(B.ticks.stepSize,1),at=X==="week"&&H.isoWeekday,mt=Qe(at)||at===!0,Ft={};let Lt,Ht,ae=k;if(mt&&(ae=+b.startOf(ae,"isoWeek",at)),ae=+b.startOf(ae,mt?"day":X),b.diff(L,k,X)>1e5*tt)throw new Error(k+" and "+L+" are too far apart with stepSize of "+tt+" "+X);const Se=B.ticks.source==="data"&&this.getDataTimestamps();for(Lt=ae,Ht=0;Lt<L;Lt=+b.add(Lt,tt,X),Ht++)x0(Ft,Lt,Se);return Lt!==L&&B.bounds!=="ticks"&&Ht!==1||x0(Ft,Lt,Se),Object.keys(Ft).sort((ge,Ce)=>ge-Ce).map(ge=>+ge)}getLabelForValue(b){const k=this._adapter,L=this.options.time;return L.tooltipFormat?k.format(b,L.tooltipFormat):k.format(b,L.displayFormats.datetime)}format(b,k){const L=this.options.time.displayFormats,B=this._unit,H=k||L[B];return this._adapter.format(b,H)}_tickFormatFunction(b,k,L,B){const H=this.options,X=H.ticks.callback;if(X)return _t(X,[b,k,L],this);const tt=H.time.displayFormats,at=this._unit,mt=this._majorUnit,Ft=at&&tt[at],Lt=mt&&tt[mt],Ht=L[k],ae=mt&&Lt&&Ht&&Ht.major;return this._adapter.format(b,B||(ae?Lt:Ft))}generateTickLabels(b){let k,L,B;for(k=0,L=b.length;k<L;++k)B=b[k],B.label=this._tickFormatFunction(B.value,k,b)}getDecimalForValue(b){return b===null?NaN:(b-this.min)/(this.max-this.min)}getPixelForValue(b){const k=this._offsets,L=this.getDecimalForValue(b);return this.getPixelForDecimal((k.start+L)*k.factor)}getValueForPixel(b){const k=this._offsets,L=this.getDecimalForPixel(b)/k.factor-k.end;return this.min+L*(this.max-this.min)}_getLabelSize(b){const k=this.options.ticks,L=this.ctx.measureText(b).width,B=Be(this.isHorizontal()?k.maxRotation:k.minRotation),H=Math.cos(B),X=Math.sin(B),tt=this._resolveTickFontOptions(0).size;return{w:L*H+tt*X,h:L*X+tt*H}}_getLabelCapacity(b){const k=this.options.time,L=k.displayFormats,B=L[k.unit]||L.millisecond,H=this._tickFormatFunction(b,0,Ad(this,[b],this._majorUnit),B),X=this._getLabelSize(H),tt=Math.floor(this.isHorizontal()?this.width/X.w:this.height/X.h)-1;return tt>0?tt:1}getDataTimestamps(){let b,k,L=this._cache.data||[];if(L.length)return L;const B=this.getMatchingVisibleMetas();if(this._normalized&&B.length)return this._cache.data=B[0].controller.getAllParsedValues(this);for(b=0,k=B.length;b<k;++b)L=L.concat(B[b].controller.getAllParsedValues(this));return this._cache.data=this.normalize(L)}getLabelTimestamps(){const b=this._cache.labels||[];let k,L;if(b.length)return b;const B=this.getLabels();for(k=0,L=B.length;k<L;++k)b.push(jh(this,B[k]));return this._cache.labels=this._normalized?b:this.normalize(b)}normalize(b){return At(b.sort(Ku))}}function Md(I,b,k){let L,B,H,X,tt=0,at=I.length-1;k?(b>=I[tt].pos&&b<=I[at].pos&&({lo:tt,hi:at}=oi(I,"pos",b)),{pos:L,time:H}=I[tt],{pos:B,time:X}=I[at]):(b>=I[tt].time&&b<=I[at].time&&({lo:tt,hi:at}=oi(I,"time",b)),{time:L,pos:H}=I[tt],{time:B,pos:X}=I[at]);const mt=B-L;return mt?H+(X-H)*(b-L)/mt:H}var gg=Object.freeze({__proto__:null,CategoryScale:class extends Lr{static id="category";static defaults={ticks:{callback:hg}};constructor(I){super(I),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(I){const b=this._addedLabels;if(b.length){const k=this.getLabels();for(const{index:L,label:B}of b)k[L]===B&&k.splice(L,1);this._addedLabels=[]}super.init(I)}parse(I,b){if(Qt(I))return null;const k=this.getLabels();return((L,B)=>L===null?null:wn(Math.round(L),0,B))(b=isFinite(b)&&k[b]===I?b:ug(k,I,Vt(b,I),this._addedLabels),k.length-1)}determineDataLimits(){const{minDefined:I,maxDefined:b}=this.getUserBounds();let{min:k,max:L}=this.getMinMax(!0);this.options.bounds==="ticks"&&(I||(k=0),b||(L=this.getLabels().length-1)),this.min=k,this.max=L}buildTicks(){const I=this.min,b=this.max,k=this.options.offset,L=[];let B=this.getLabels();B=I===0&&b===B.length-1?B:B.slice(I,b+1),this._valueRange=Math.max(B.length-(k?0:1),1),this._startValue=this.min-(k?.5:0);for(let H=I;H<=b;H++)L.push({value:H});return L}getLabelForValue(I){return hg.call(this,I)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(I){return typeof I!="number"&&(I=this.parse(I)),I===null?NaN:this.getPixelForDecimal((I-this._startValue)/this._valueRange)}getPixelForTick(I){const b=this.ticks;return I<0||I>b.length-1?null:this.getPixelForValue(b[I].value)}getValueForPixel(I){return Math.round(this._startValue+this.getDecimalForPixel(I)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:ro,LogarithmicScale:Uu,RadialLinearScale:Zu,TimeScale:Rc,TimeSeriesScale:class extends Rc{static id="timeseries";static defaults=Rc.defaults;constructor(I){super(I),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const I=this._getTimestampsForTable(),b=this._table=this.buildLookupTable(I);this._minPos=Md(b,this.min),this._tableRange=Md(b,this.max)-this._minPos,super.initOffsets(I)}buildLookupTable(I){const{min:b,max:k}=this,L=[],B=[];let H,X,tt,at,mt;for(H=0,X=I.length;H<X;++H)at=I[H],at>=b&&at<=k&&L.push(at);if(L.length<2)return[{time:b,pos:0},{time:k,pos:1}];for(H=0,X=L.length;H<X;++H)mt=L[H+1],tt=L[H-1],at=L[H],Math.round((mt+tt)/2)!==at&&B.push({time:at,pos:H/(X-1)});return B}_getTimestampsForTable(){let I=this._cache.all||[];if(I.length)return I;const b=this.getDataTimestamps(),k=this.getLabelTimestamps();return I=b.length&&k.length?this.normalize(b.concat(k)):b.length?b:k,I=this._cache.all=I,I}getDecimalForValue(I){return(Md(this._table,I)-this._minPos)/this._tableRange}getValueForPixel(I){const b=this._offsets,k=this.getDecimalForPixel(I)/b.factor-b.end;return Md(this._table,k*this._tableRange+this._minPos,!0)}}});const gc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],mg=gc.map(I=>I.replace("rgb(","rgba(").replace(")",", 0.5)"));function Hl(I){return gc[I%gc.length]}function Td(I){return mg[I%mg.length]}function fu(I){let b=0;return(k,L)=>{const B=I.getDatasetMeta(L).controller;B instanceof Pc?b=function(H,X){return H.backgroundColor=H.data.map(()=>Hl(X++)),X}(k,b):B instanceof Vh?b=function(H,X){return H.backgroundColor=H.data.map(()=>Td(X++)),X}(k,b):B&&(b=function(H,X){return H.borderColor=Hl(X),H.backgroundColor=Td(X),++X}(k,b))}}function Xp(I){let b;for(b in I)if(I[b].borderColor||I[b].backgroundColor)return!0;return!1}var vg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(I,b,k){if(!k.enabled)return;const{data:{datasets:L},options:B}=I.config,{elements:H}=B;if(!k.forceOverride&&(Xp(L)||(X=B)&&(X.borderColor||X.backgroundColor)||H&&Xp(H)))return;var X;const tt=fu(I);L.forEach(tt)}};function _0(I){if(I._decimated){const b=I._data;delete I._decimated,delete I._data,Object.defineProperty(I,"data",{configurable:!0,enumerable:!0,writable:!0,value:b})}}function Bc(I){I.data.datasets.forEach(b=>{_0(b)})}var ta={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(I,b,k)=>{if(!k.enabled)return void Bc(I);const L=I.width;I.data.datasets.forEach((B,H)=>{const{_data:X,indexAxis:tt}=B,at=I.getDatasetMeta(H),mt=X||B.data;if(Ma([tt,I.options.indexAxis])==="y"||!at.controller.supportsDecimation)return;const Ft=I.scales[at.xAxisID];if(Ft.type!=="linear"&&Ft.type!=="time"||I.options.parsing)return;let{start:Lt,count:Ht}=function(Se,ge){const Ce=ge.length;let Ue,xn=0;const{iScale:yn}=Se,{min:mn,max:Rn,minDefined:$n,maxDefined:mi}=yn.getUserBounds();return $n&&(xn=wn(oi(ge,yn.axis,mn).lo,0,Ce-1)),Ue=mi?wn(oi(ge,yn.axis,Rn).hi+1,xn,Ce)-xn:Ce-xn,{start:xn,count:Ue}}(at,mt);if(Ht<=(k.threshold||4*L))return void _0(B);let ae;switch(Qt(X)&&(B._data=mt,delete B.data,Object.defineProperty(B,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Se){this._data=Se}})),k.algorithm){case"lttb":ae=function(Se,ge,Ce,Ue,xn){const yn=xn.samples||Ue;if(yn>=Ce)return Se.slice(ge,ge+Ce);const mn=[],Rn=(Ce-2)/(yn-2);let $n=0;const mi=ge+Ce-1;let Ei,Mi,Si,tr,Vi,Oi=ge;for(mn[$n++]=Se[Oi],Ei=0;Ei<yn-2;Ei++){let Ri,_i=0,br=0;const vo=Math.floor((Ei+1)*Rn)+1+ge,yo=Math.min(Math.floor((Ei+2)*Rn)+1,Ce)+ge,Ca=yo-vo;for(Ri=vo;Ri<yo;Ri++)_i+=Se[Ri].x,br+=Se[Ri].y;_i/=Ca,br/=Ca;const cs=Math.floor(Ei*Rn)+1+ge,Qa=Math.min(Math.floor((Ei+1)*Rn)+1,Ce)+ge,{x:ks,y:As}=Se[Oi];for(Si=tr=-1,Ri=cs;Ri<Qa;Ri++)tr=.5*Math.abs((ks-_i)*(Se[Ri].y-As)-(ks-Se[Ri].x)*(br-As)),tr>Si&&(Si=tr,Mi=Se[Ri],Vi=Ri);mn[$n++]=Mi,Oi=Vi}return mn[$n++]=Se[mi],mn}(mt,Lt,Ht,L,k);break;case"min-max":ae=function(Se,ge,Ce,Ue){let xn,yn,mn,Rn,$n,mi,Ei,Mi,Si,tr,Vi=0,Oi=0;const Ri=[],_i=ge+Ce-1,br=Se[ge].x,vo=Se[_i].x-br;for(xn=ge;xn<ge+Ce;++xn){yn=Se[xn],mn=(yn.x-br)/vo*Ue,Rn=yn.y;const yo=0|mn;if(yo===$n)Rn<Si?(Si=Rn,mi=xn):Rn>tr&&(tr=Rn,Ei=xn),Vi=(Oi*Vi+yn.x)/++Oi;else{const Ca=xn-1;if(!Qt(mi)&&!Qt(Ei)){const cs=Math.min(mi,Ei),Qa=Math.max(mi,Ei);cs!==Mi&&cs!==Ca&&Ri.push({...Se[cs],x:Vi}),Qa!==Mi&&Qa!==Ca&&Ri.push({...Se[Qa],x:Vi})}xn>0&&Ca!==Mi&&Ri.push(Se[Ca]),Ri.push(yn),$n=yo,Oi=0,Si=tr=Rn,mi=Ei=Mi=xn}}return Ri}(mt,Lt,Ht,L);break;default:throw new Error(`Unsupported decimation algorithm '${k.algorithm}'`)}B._decimated=ae})},destroy(I){Bc(I)}};function qp(I,b,k,L){if(L)return;let B=b[I],H=k[I];return I==="angle"&&(B=ar(B),H=ar(H)),{property:I,start:B,end:H}}function yg(I,b,k){for(;b>I;b--){const L=k[b];if(!isNaN(L.x)&&!isNaN(L.y))break}return b}function bg(I,b,k,L){return I&&b?L(I[k],b[k]):I?I[k]:b?b[k]:0}function Ia(I,b){let k=[],L=!1;return Oe(I)?(L=!0,k=I):k=function(B,H){const{x:X=null,y:tt=null}=B||{},at=H.points,mt=[];return H.segments.forEach(({start:Ft,end:Lt})=>{Lt=yg(Ft,Lt,at);const Ht=at[Ft],ae=at[Lt];tt!==null?(mt.push({x:Ht.x,y:tt}),mt.push({x:ae.x,y:tt})):X!==null&&(mt.push({x:X,y:Ht.y}),mt.push({x:X,y:ae.y}))}),mt}(I,b),k.length?new Nc({points:k,options:{tension:0},_loop:L,_fullLoop:L}):null}function Up(I){return I&&I.fill!==!1}function Wm(I,b,k){let L=I[b].fill;const B=[b];let H;if(!k)return L;for(;L!==!1&&B.indexOf(L)===-1;){if(!ue(L))return L;if(H=I[L],!H)return!1;if(H.visible)return L;B.push(L),L=H.fill}return!1}function Id(I,b,k){const L=function(H){const X=H.options,tt=X.fill;let at=Vt(tt&&tt.target,tt);return at===void 0&&(at=!!X.backgroundColor),at===!1||at===null?!1:at===!0?"origin":at}(I);if($t(L))return!isNaN(L.value)&&L;let B=parseFloat(L);return ue(B)&&Math.floor(B)===B?function(H,X,tt,at){return H!=="-"&&H!=="+"||(tt=X+tt),tt===X||tt<0||tt>=at?!1:tt}(L[0],b,B,k):["origin","start","end","stack","shape"].indexOf(L)>=0&&L}function zc(I,b,k){const L=[];for(let B=0;B<k.length;B++){const H=k[B],{first:X,last:tt,point:at}=xg(H,b,"x");if(!(!at||X&&tt)){if(X)L.unshift(at);else if(I.push(at),!tt)break}}I.push(...L)}function xg(I,b,k){const L=I.interpolate(b,k);if(!L)return{};const B=L[k],H=I.segments,X=I.points;let tt=!1,at=!1;for(let mt=0;mt<H.length;mt++){const Ft=H[mt],Lt=X[Ft.start][k],Ht=X[Ft.end][k];if(si(B,Lt,Ht)){tt=B===Lt,at=B===Ht;break}}return{first:tt,last:at,point:L}}class jm{constructor(b){this.x=b.x,this.y=b.y,this.radius=b.radius}pathSegment(b,k,L){const{x:B,y:H,radius:X}=this;return k=k||{start:0,end:me},b.arc(B,H,X,k.end,k.start,!0),!L.bounds}interpolate(b){const{x:k,y:L,radius:B}=this,H=b.angle;return{x:k+Math.cos(H)*B,y:L+Math.sin(H)*B,angle:H}}}function Ym(I){const{chart:b,fill:k,line:L}=I;if(ue(k))return function(H,X){const tt=H.getDatasetMeta(X);return tt&&H.isDatasetVisible(X)?tt.dataset:null}(b,k);if(k==="stack")return function(H){const{scale:X,index:tt,line:at}=H,mt=[],Ft=at.segments,Lt=at.points,Ht=function(ae,Se){const ge=[],Ce=ae.getMatchingVisibleMetas("line");for(let Ue=0;Ue<Ce.length;Ue++){const xn=Ce[Ue];if(xn.index===Se)break;xn.hidden||ge.unshift(xn.dataset)}return ge}(X,tt);Ht.push(Ia({x:null,y:X.bottom},at));for(let ae=0;ae<Ft.length;ae++){const Se=Ft[ae];for(let ge=Se.start;ge<=Se.end;ge++)zc(mt,Lt[ge],Ht)}return new Nc({points:mt,options:{}})}(I);if(k==="shape")return!0;const B=function(H){return(H.scale||{}).getPointPositionForValue?function(tt){const{scale:at,fill:mt}=tt,Ft=at.options,Lt=at.getLabels().length,Ht=Ft.reverse?at.max:at.min,ae=function(ge,Ce,Ue){let xn;return xn=ge==="start"?Ue:ge==="end"?Ce.options.reverse?Ce.min:Ce.max:$t(ge)?ge.value:Ce.getBaseValue(),xn}(mt,at,Ht),Se=[];if(Ft.grid.circular){const ge=at.getPointPositionForValue(0,Ht);return new jm({x:ge.x,y:ge.y,radius:at.getDistanceFromCenterForValue(ae)})}for(let ge=0;ge<Lt;++ge)Se.push(at.getPointPositionForValue(ge,ae));return Se}(H):function(tt){const{scale:at={},fill:mt}=tt,Ft=function(Lt,Ht){let ae=null;return Lt==="start"?ae=Ht.bottom:Lt==="end"?ae=Ht.top:$t(Lt)?ae=Ht.getPixelForValue(Lt.value):Ht.getBasePixel&&(ae=Ht.getBasePixel()),ae}(mt,at);if(ue(Ft)){const Lt=at.isHorizontal();return{x:Lt?Ft:null,y:Lt?null:Ft}}return null}(H)}(I);return B instanceof jm?B:Ia(B,L)}function $p(I,b,k){const L=Ym(b),{line:B,scale:H,axis:X}=b,tt=B.options,at=tt.fill,mt=tt.backgroundColor,{above:Ft=mt,below:Lt=mt}=at||{};L&&B.points.length&&(Ro(I,k),function(Ht,ae){const{line:Se,target:ge,above:Ce,below:Ue,area:xn,scale:yn}=ae,mn=Se._loop?"angle":ae.axis;Ht.save(),mn==="x"&&Ue!==Ce&&(w0(Ht,ge,xn.top),Zp(Ht,{line:Se,target:ge,color:Ce,scale:yn,property:mn}),Ht.restore(),Ht.save(),w0(Ht,ge,xn.bottom)),Zp(Ht,{line:Se,target:ge,color:Ue,scale:yn,property:mn}),Ht.restore()}(I,{line:B,target:L,above:Ft,below:Lt,area:k,scale:H,axis:X}),ns(I))}function w0(I,b,k){const{segments:L,points:B}=b;let H=!0,X=!1;I.beginPath();for(const tt of L){const{start:at,end:mt}=tt,Ft=B[at],Lt=B[yg(at,mt,B)];H?(I.moveTo(Ft.x,Ft.y),H=!1):(I.lineTo(Ft.x,k),I.lineTo(Ft.x,Ft.y)),X=!!b.pathSegment(I,tt,{move:X}),X?I.closePath():I.lineTo(Lt.x,k)}I.lineTo(b.first().x,k),I.closePath(),I.clip()}function Zp(I,b){const{line:k,target:L,property:B,color:H,scale:X}=b,tt=function(at,mt,Ft){const Lt=at.segments,Ht=at.points,ae=mt.points,Se=[];for(const ge of Lt){let{start:Ce,end:Ue}=ge;Ue=yg(Ce,Ue,Ht);const xn=qp(Ft,Ht[Ce],Ht[Ue],ge.loop);if(!mt.segments){Se.push({source:ge,target:xn,start:Ht[Ce],end:Ht[Ue]});continue}const yn=Ll(mt,xn);for(const mn of yn){const Rn=qp(Ft,ae[mn.start],ae[mn.end],mn.loop),$n=ru(ge,Ht,Rn);for(const mi of $n)Se.push({source:mi,target:mn,start:{[Ft]:bg(xn,Rn,"start",Math.max)},end:{[Ft]:bg(xn,Rn,"end",Math.min)}})}}return Se}(k,L,B);for(const{source:at,target:mt,start:Ft,end:Lt}of tt){const{style:{backgroundColor:Ht=H}={}}=at,ae=L!==!0;I.save(),I.fillStyle=Ht,_g(I,X,ae&&qp(B,Ft,Lt)),I.beginPath();const Se=!!k.pathSegment(I,at);let ge;if(ae){Se?I.closePath():Qu(I,L,Lt,B);const Ce=!!L.pathSegment(I,mt,{move:Se,reverse:!0});ge=Se&&Ce,ge||Qu(I,L,Ft,B)}I.closePath(),I.fill(ge?"evenodd":"nonzero"),I.restore()}}function _g(I,b,k){const{top:L,bottom:B}=b.chart.chartArea,{property:H,start:X,end:tt}=k||{};H==="x"&&(I.beginPath(),I.rect(X,L,tt-X,B-L),I.clip())}function Qu(I,b,k,L){const B=b.interpolate(k,L);B&&I.lineTo(B.x,B.y)}var f_={id:"filler",afterDatasetsUpdate(I,b,k){const L=(I.data.datasets||[]).length,B=[];let H,X,tt,at;for(X=0;X<L;++X)H=I.getDatasetMeta(X),tt=H.dataset,at=null,tt&&tt.options&&tt instanceof Nc&&(at={visible:I.isDatasetVisible(X),index:X,fill:Id(tt,X,L),chart:I,axis:H.controller.options.indexAxis,scale:H.vScale,line:tt}),H.$filler=at,B.push(at);for(X=0;X<L;++X)at=B[X],at&&at.fill!==!1&&(at.fill=Wm(B,X,k.propagate))},beforeDraw(I,b,k){const L=k.drawTime==="beforeDraw",B=I.getSortedVisibleDatasetMetas(),H=I.chartArea;for(let X=B.length-1;X>=0;--X){const tt=B[X].$filler;tt&&(tt.line.updateControlPoints(H,tt.axis),L&&tt.fill&&$p(I.ctx,tt,H))}},beforeDatasetsDraw(I,b,k){if(k.drawTime!=="beforeDatasetsDraw")return;const L=I.getSortedVisibleDatasetMetas();for(let B=L.length-1;B>=0;--B){const H=L[B].$filler;Up(H)&&$p(I.ctx,H,I.chartArea)}},beforeDatasetDraw(I,b,k){const L=b.meta.$filler;Up(L)&&k.drawTime==="beforeDatasetDraw"&&$p(I.ctx,L,I.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ju=(I,b)=>{let{boxHeight:k=b,boxWidth:L=b}=I;return I.usePointStyle&&(k=Math.min(k,b),L=I.pointStyleWidth||Math.min(L,b)),{boxWidth:L,boxHeight:k,itemHeight:Math.max(b,k)}};class Kp extends Bi{constructor(b){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=b.chart,this.options=b.options,this.ctx=b.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(b,k,L){this.maxWidth=b,this.maxHeight=k,this._margins=L,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const b=this.options.labels||{};let k=_t(b.generateLabels,[this.chart],this)||[];b.filter&&(k=k.filter(L=>b.filter(L,this.chart.data))),b.sort&&(k=k.sort((L,B)=>b.sort(L,B,this.chart.data))),this.options.reverse&&k.reverse(),this.legendItems=k}fit(){const{options:b,ctx:k}=this;if(!b.display)return void(this.width=this.height=0);const L=b.labels,B=Eo(L.font),H=B.size,X=this._computeTitleHeight(),{boxWidth:tt,itemHeight:at}=Ju(L,H);let mt,Ft;k.font=B.string,this.isHorizontal()?(mt=this.maxWidth,Ft=this._fitRows(X,H,tt,at)+10):(Ft=this.maxHeight,mt=this._fitCols(X,B,tt,at)+10),this.width=Math.min(mt,b.maxWidth||this.maxWidth),this.height=Math.min(Ft,b.maxHeight||this.maxHeight)}_fitRows(b,k,L,B){const{ctx:H,maxWidth:X,options:{labels:{padding:tt}}}=this,at=this.legendHitBoxes=[],mt=this.lineWidths=[0],Ft=B+tt;let Lt=b;H.textAlign="left",H.textBaseline="middle";let Ht=-1,ae=-Ft;return this.legendItems.forEach((Se,ge)=>{const Ce=L+k/2+H.measureText(Se.text).width;(ge===0||mt[mt.length-1]+Ce+2*tt>X)&&(Lt+=Ft,mt[mt.length-(ge>0?0:1)]=0,ae+=Ft,Ht++),at[ge]={left:0,top:ae,row:Ht,width:Ce,height:B},mt[mt.length-1]+=Ce+tt}),Lt}_fitCols(b,k,L,B){const{ctx:H,maxHeight:X,options:{labels:{padding:tt}}}=this,at=this.legendHitBoxes=[],mt=this.columnSizes=[],Ft=X-b;let Lt=tt,Ht=0,ae=0,Se=0,ge=0;return this.legendItems.forEach((Ce,Ue)=>{const{itemWidth:xn,itemHeight:yn}=function(mn,Rn,$n,mi,Ei){const Mi=function(tr,Vi,Oi,Ri){let _i=tr.text;return _i&&typeof _i!="string"&&(_i=_i.reduce((br,vo)=>br.length>vo.length?br:vo)),Vi+Oi.size/2+Ri.measureText(_i).width}(mi,mn,Rn,$n),Si=function(tr,Vi,Oi){let Ri=tr;return typeof Vi.text!="string"&&(Ri=wg(Vi,Oi)),Ri}(Ei,mi,Rn.lineHeight);return{itemWidth:Mi,itemHeight:Si}}(L,k,H,Ce,B);Ue>0&&ae+yn+2*tt>Ft&&(Lt+=Ht+tt,mt.push({width:Ht,height:ae}),Se+=Ht+tt,ge++,Ht=ae=0),at[Ue]={left:Se,top:ae,col:ge,width:xn,height:yn},Ht=Math.max(Ht,xn),ae+=yn+tt}),Lt+=Ht,mt.push({width:Ht,height:ae}),Lt}adjustHitBoxes(){if(!this.options.display)return;const b=this._computeTitleHeight(),{legendHitBoxes:k,options:{align:L,labels:{padding:B},rtl:H}}=this,X=os(H,this.left,this.width);if(this.isHorizontal()){let tt=0,at=ye(L,this.left+B,this.right-this.lineWidths[tt]);for(const mt of k)tt!==mt.row&&(tt=mt.row,at=ye(L,this.left+B,this.right-this.lineWidths[tt])),mt.top+=this.top+b+B,mt.left=X.leftForLtr(X.x(at),mt.width),at+=mt.width+B}else{let tt=0,at=ye(L,this.top+b+B,this.bottom-this.columnSizes[tt].height);for(const mt of k)mt.col!==tt&&(tt=mt.col,at=ye(L,this.top+b+B,this.bottom-this.columnSizes[tt].height)),mt.top=at,mt.left+=this.left+B,mt.left=X.leftForLtr(X.x(mt.left),mt.width),at+=mt.height+B}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const b=this.ctx;Ro(b,this),this._draw(),ns(b)}}_draw(){const{options:b,columnSizes:k,lineWidths:L,ctx:B}=this,{align:H,labels:X}=b,tt=xe.color,at=os(b.rtl,this.left,this.width),mt=Eo(X.font),{padding:Ft}=X,Lt=mt.size,Ht=Lt/2;let ae;this.drawTitle(),B.textAlign=at.textAlign("left"),B.textBaseline="middle",B.lineWidth=.5,B.font=mt.string;const{boxWidth:Se,boxHeight:ge,itemHeight:Ce}=Ju(X,Lt),Ue=this.isHorizontal(),xn=this._computeTitleHeight();ae=Ue?{x:ye(H,this.left+Ft,this.right-L[0]),y:this.top+Ft+xn,line:0}:{x:this.left+Ft,y:ye(H,this.top+xn+Ft,this.bottom-k[0].height),line:0},sc(this.ctx,b.textDirection);const yn=Ce+Ft;this.legendItems.forEach((mn,Rn)=>{B.strokeStyle=mn.fontColor,B.fillStyle=mn.fontColor;const $n=B.measureText(mn.text).width,mi=at.textAlign(mn.textAlign||(mn.textAlign=X.textAlign)),Ei=Se+Ht+$n;let Mi=ae.x,Si=ae.y;if(at.setWidth(this.width),Ue?Rn>0&&Mi+Ei+Ft>this.right&&(Si=ae.y+=yn,ae.line++,Mi=ae.x=ye(H,this.left+Ft,this.right-L[ae.line])):Rn>0&&Si+yn>this.bottom&&(Mi=ae.x=Mi+k[ae.line].width+Ft,ae.line++,Si=ae.y=ye(H,this.top+xn+Ft,this.bottom-k[ae.line].height)),function(tr,Vi,Oi){if(isNaN(Se)||Se<=0||isNaN(ge)||ge<0)return;B.save();const Ri=Vt(Oi.lineWidth,1);if(B.fillStyle=Vt(Oi.fillStyle,tt),B.lineCap=Vt(Oi.lineCap,"butt"),B.lineDashOffset=Vt(Oi.lineDashOffset,0),B.lineJoin=Vt(Oi.lineJoin,"miter"),B.lineWidth=Ri,B.strokeStyle=Vt(Oi.strokeStyle,tt),B.setLineDash(Vt(Oi.lineDash,[])),X.usePointStyle){const _i={radius:ge*Math.SQRT2/2,pointStyle:Oi.pointStyle,rotation:Oi.rotation,borderWidth:Ri},br=at.xPlus(tr,Se/2);zn(B,_i,br,Vi+Ht,X.pointStyleWidth&&Se)}else{const _i=Vi+Math.max((Lt-ge)/2,0),br=at.leftForLtr(tr,Se),vo=Dl(Oi.borderRadius);B.beginPath(),Object.values(vo).some(yo=>yo!==0)?nu(B,{x:br,y:_i,w:Se,h:ge,radius:vo}):B.rect(br,_i,Se,ge),B.fill(),Ri!==0&&B.stroke()}B.restore()}(at.x(Mi),Si,mn),Mi=Le(mi,Mi+Se+Ht,Ue?Mi+Ei:this.right,b.rtl),function(tr,Vi,Oi){Fr(B,Oi.text,tr,Vi+Ce/2,mt,{strikethrough:Oi.hidden,textAlign:at.textAlign(Oi.textAlign)})}(at.x(Mi),Si,mn),Ue)ae.x+=Ei+Ft;else if(typeof mn.text!="string"){const tr=mt.lineHeight;ae.y+=wg(mn,tr)}else ae.y+=yn}),Hu(this.ctx,b.textDirection)}drawTitle(){const b=this.options,k=b.title,L=Eo(k.font),B=Vr(k.padding);if(!k.display)return;const H=os(b.rtl,this.left,this.width),X=this.ctx,tt=k.position,at=L.size/2,mt=B.top+at;let Ft,Lt=this.left,Ht=this.width;if(this.isHorizontal())Ht=Math.max(...this.lineWidths),Ft=this.top+mt,Lt=ye(b.align,Lt,this.right-Ht);else{const Se=this.columnSizes.reduce((ge,Ce)=>Math.max(ge,Ce.height),0);Ft=mt+ye(b.align,this.top,this.bottom-Se-b.labels.padding-this._computeTitleHeight())}const ae=ye(tt,Lt,Lt+Ht);X.textAlign=H.textAlign(He(tt)),X.textBaseline="middle",X.strokeStyle=k.color,X.fillStyle=k.color,X.font=L.string,Fr(X,k.text,ae,Ft,L)}_computeTitleHeight(){const b=this.options.title,k=Eo(b.font),L=Vr(b.padding);return b.display?k.lineHeight+L.height:0}_getLegendItemAt(b,k){let L,B,H;if(si(b,this.left,this.right)&&si(k,this.top,this.bottom)){for(H=this.legendHitBoxes,L=0;L<H.length;++L)if(B=H[L],si(b,B.left,B.left+B.width)&&si(k,B.top,B.top+B.height))return this.legendItems[L]}return null}handleEvent(b){const k=this.options;if(!function(X,tt){return!!((X==="mousemove"||X==="mouseout")&&(tt.onHover||tt.onLeave)||tt.onClick&&(X==="click"||X==="mouseup"))}(b.type,k))return;const L=this._getLegendItemAt(b.x,b.y);if(b.type==="mousemove"||b.type==="mouseout"){const X=this._hoveredItem,tt=(H=L,(B=X)!==null&&H!==null&&B.datasetIndex===H.datasetIndex&&B.index===H.index);X&&!tt&&_t(k.onLeave,[b,X,this],this),this._hoveredItem=L,L&&!tt&&_t(k.onHover,[b,L,this],this)}else L&&_t(k.onClick,[b,L,this],this);var B,H}}function wg(I,b){return b*(I.text?I.text.length+.5:0)}var gu={id:"legend",_element:Kp,start(I,b,k){const L=I.legend=new Kp({ctx:I.ctx,options:k,chart:I});sa.configure(I,L,k),sa.addBox(I,L)},stop(I){sa.removeBox(I,I.legend),delete I.legend},beforeUpdate(I,b,k){const L=I.legend;sa.configure(I,L,k),L.options=k},afterUpdate(I){const b=I.legend;b.buildLabels(),b.adjustHitBoxes()},afterEvent(I,b){b.replay||I.legend.handleEvent(b.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(I,b,k){const L=b.datasetIndex,B=k.chart;B.isDatasetVisible(L)?(B.hide(L),b.hidden=!0):(B.show(L),b.hidden=!1)},onHover:null,onLeave:null,labels:{color:I=>I.chart.options.color,boxWidth:40,padding:10,generateLabels(I){const b=I.data.datasets,{labels:{usePointStyle:k,pointStyle:L,textAlign:B,color:H,useBorderRadius:X,borderRadius:tt}}=I.legend.options;return I._getSortedDatasetMetas().map(at=>{const mt=at.controller.getStyle(k?0:void 0),Ft=Vr(mt.borderWidth);return{text:b[at.index].label,fillStyle:mt.backgroundColor,fontColor:H,hidden:!at.visible,lineCap:mt.borderCapStyle,lineDash:mt.borderDash,lineDashOffset:mt.borderDashOffset,lineJoin:mt.borderJoinStyle,lineWidth:(Ft.width+Ft.height)/4,strokeStyle:mt.borderColor,pointStyle:L||mt.pointStyle,rotation:mt.rotation,textAlign:B||mt.textAlign,borderRadius:X&&(tt||mt.borderRadius),datasetIndex:at.index}},this)}},title:{color:I=>I.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:I=>!I.startsWith("on"),labels:{_scriptable:I=>!["generateLabels","filter","sort"].includes(I)}}};class Ed extends Bi{constructor(b){super(),this.chart=b.chart,this.options=b.options,this.ctx=b.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(b,k){const L=this.options;if(this.left=0,this.top=0,!L.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=b,this.height=this.bottom=k;const B=Oe(L.text)?L.text.length:1;this._padding=Vr(L.padding);const H=B*Eo(L.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=H:this.width=H}isHorizontal(){const b=this.options.position;return b==="top"||b==="bottom"}_drawArgs(b){const{top:k,left:L,bottom:B,right:H,options:X}=this,tt=X.align;let at,mt,Ft,Lt=0;return this.isHorizontal()?(mt=ye(tt,L,H),Ft=k+b,at=H-L):(X.position==="left"?(mt=L+b,Ft=ye(tt,B,k),Lt=-.5*De):(mt=H-b,Ft=ye(tt,k,B),Lt=.5*De),at=B-k),{titleX:mt,titleY:Ft,maxWidth:at,rotation:Lt}}draw(){const b=this.ctx,k=this.options;if(!k.display)return;const L=Eo(k.font),B=L.lineHeight/2+this._padding.top,{titleX:H,titleY:X,maxWidth:tt,rotation:at}=this._drawArgs(B);Fr(b,k.text,0,0,L,{color:k.color,maxWidth:tt,rotation:at,textAlign:He(k.align),textBaseline:"middle",translation:[H,X]})}}var Od={id:"title",_element:Ed,start(I,b,k){(function(L,B){const H=new Ed({ctx:L.ctx,options:B,chart:L});sa.configure(L,H,B),sa.addBox(L,H),L.titleBlock=H})(I,k)},stop(I){const b=I.titleBlock;sa.removeBox(I,b),delete I.titleBlock},beforeUpdate(I,b,k){const L=I.titleBlock;sa.configure(I,L,k),L.options=k},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qp=new WeakMap;var Ka={id:"subtitle",start(I,b,k){const L=new Ed({ctx:I.ctx,options:k,chart:I});sa.configure(I,L,k),sa.addBox(I,L),Qp.set(I,L)},stop(I){sa.removeBox(I,Qp.get(I)),Qp.delete(I)},beforeUpdate(I,b,k){const L=Qp.get(I);sa.configure(I,L,k),L.options=k},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const th={average(I){if(!I.length)return!1;let b,k,L=0,B=0,H=0;for(b=0,k=I.length;b<k;++b){const X=I[b].element;if(X&&X.hasValue()){const tt=X.tooltipPosition();L+=tt.x,B+=tt.y,++H}}return{x:L/H,y:B/H}},nearest(I,b){if(!I.length)return!1;let k,L,B,H=b.x,X=b.y,tt=Number.POSITIVE_INFINITY;for(k=0,L=I.length;k<L;++k){const at=I[k].element;if(at&&at.hasValue()){const mt=Ln(b,at.getCenterPoint());mt<tt&&(tt=mt,B=at)}}if(B){const at=B.tooltipPosition();H=at.x,X=at.y}return{x:H,y:X}}};function vl(I,b){return b&&(Oe(b)?Array.prototype.push.apply(I,b):I.push(b)),I}function Sr(I){return(typeof I=="string"||I instanceof String)&&I.indexOf(`
`)>-1?I.split(`
`):I}function qs(I,b){const{element:k,datasetIndex:L,index:B}=b,H=I.getDatasetMeta(L).controller,{label:X,value:tt}=H.getLabelAndValue(B);return{chart:I,label:X,parsed:H.getParsed(B),raw:I.data.datasets[L].data[B],formattedValue:tt,dataset:H.getDataset(),dataIndex:B,datasetIndex:L,element:k}}function Wl(I,b){const k=I.chart.ctx,{body:L,footer:B,title:H}=I,{boxWidth:X,boxHeight:tt}=b,at=Eo(b.bodyFont),mt=Eo(b.titleFont),Ft=Eo(b.footerFont),Lt=H.length,Ht=B.length,ae=L.length,Se=Vr(b.padding);let ge=Se.height,Ce=0,Ue=L.reduce((mn,Rn)=>mn+Rn.before.length+Rn.lines.length+Rn.after.length,0);Ue+=I.beforeBody.length+I.afterBody.length,Lt&&(ge+=Lt*mt.lineHeight+(Lt-1)*b.titleSpacing+b.titleMarginBottom),Ue&&(ge+=ae*(b.displayColors?Math.max(tt,at.lineHeight):at.lineHeight)+(Ue-ae)*at.lineHeight+(Ue-1)*b.bodySpacing),Ht&&(ge+=b.footerMarginTop+Ht*Ft.lineHeight+(Ht-1)*b.footerSpacing);let xn=0;const yn=function(mn){Ce=Math.max(Ce,k.measureText(mn).width+xn)};return k.save(),k.font=mt.string,vt(I.title,yn),k.font=at.string,vt(I.beforeBody.concat(I.afterBody),yn),xn=b.displayColors?X+2+b.boxPadding:0,vt(L,mn=>{vt(mn.before,yn),vt(mn.lines,yn),vt(mn.after,yn)}),xn=0,k.font=Ft.string,vt(I.footer,yn),k.restore(),Ce+=Se.width,{width:Ce,height:ge}}function ca(I,b,k,L){const{x:B,width:H}=k,{width:X,chartArea:{left:tt,right:at}}=I;let mt="center";return L==="center"?mt=B<=(tt+at)/2?"left":"right":B<=H/2?mt="left":B>=X-H/2&&(mt="right"),function(Ft,Lt,Ht,ae){const{x:Se,width:ge}=ae,Ce=Ht.caretSize+Ht.caretPadding;return Ft==="left"&&Se+ge+Ce>Lt.width||Ft==="right"&&Se-ge-Ce<0||void 0}(mt,I,b,k)&&(mt="center"),mt}function jl(I,b,k){const L=k.yAlign||b.yAlign||function(B,H){const{y:X,height:tt}=H;return X<tt/2?"top":X>B.height-tt/2?"bottom":"center"}(I,k);return{xAlign:k.xAlign||b.xAlign||ca(I,b,k,L),yAlign:L}}function Yh(I,b,k,L){const{caretSize:B,caretPadding:H,cornerRadius:X}=I,{xAlign:tt,yAlign:at}=k,mt=B+H,{topLeft:Ft,topRight:Lt,bottomLeft:Ht,bottomRight:ae}=Dl(X);let Se=function(Ce,Ue){let{x:xn,width:yn}=Ce;return Ue==="right"?xn-=yn:Ue==="center"&&(xn-=yn/2),xn}(b,tt);const ge=function(Ce,Ue,xn){let{y:yn,height:mn}=Ce;return Ue==="top"?yn+=xn:yn-=Ue==="bottom"?mn+xn:mn/2,yn}(b,at,mt);return at==="center"?tt==="left"?Se+=mt:tt==="right"&&(Se-=mt):tt==="left"?Se-=Math.max(Ft,Ht)+B:tt==="right"&&(Se+=Math.max(Lt,ae)+B),{x:wn(Se,0,L.width-b.width),y:wn(ge,0,L.height-b.height)}}function eh(I,b,k){const L=Vr(k.padding);return b==="center"?I.x+I.width/2:b==="right"?I.x+I.width-L.right:I.x+L.left}function Cs(I){return vl([],Sr(I))}function Sa(I,b){const k=b&&b.dataset&&b.dataset.tooltip&&b.dataset.tooltip.callbacks;return k?I.override(k):I}const Gm={beforeTitle:Gt,title(I){if(I.length>0){const b=I[0],k=b.chart.data.labels,L=k?k.length:0;if(this&&this.options&&this.options.mode==="dataset")return b.dataset.label||"";if(b.label)return b.label;if(L>0&&b.dataIndex<L)return k[b.dataIndex]}return""},afterTitle:Gt,beforeBody:Gt,beforeLabel:Gt,label(I){if(this&&this.options&&this.options.mode==="dataset")return I.label+": "+I.formattedValue||I.formattedValue;let b=I.dataset.label||"";b&&(b+=": ");const k=I.formattedValue;return Qt(k)||(b+=k),b},labelColor(I){const b=I.chart.getDatasetMeta(I.datasetIndex).controller.getStyle(I.dataIndex);return{borderColor:b.borderColor,backgroundColor:b.backgroundColor,borderWidth:b.borderWidth,borderDash:b.borderDash,borderDashOffset:b.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(I){const b=I.chart.getDatasetMeta(I.datasetIndex).controller.getStyle(I.dataIndex);return{pointStyle:b.pointStyle,rotation:b.rotation}},afterLabel:Gt,afterBody:Gt,beforeFooter:Gt,footer:Gt,afterFooter:Gt};function pa(I,b,k,L){const B=I[b].call(k,L);return B===void 0?Gm[b].call(k,L):B}class Dd extends Bi{static positioners=th;constructor(b){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=b.chart,this.options=b.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(b){this.options=b,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const b=this._cachedAnimations;if(b)return b;const k=this.chart,L=this.options.setContext(this.getContext()),B=L.enabled&&k.options.animation&&L.animations,H=new pl(this.chart,B);return B._cacheable&&(this._cachedAnimations=Object.freeze(H)),H}getContext(){return this.$context||(this.$context=(b=this.chart.getContext(),k=this,L=this._tooltipItems,Rs(b,{tooltip:k,tooltipItems:L,type:"tooltip"})));var b,k,L}getTitle(b,k){const{callbacks:L}=k,B=pa(L,"beforeTitle",this,b),H=pa(L,"title",this,b),X=pa(L,"afterTitle",this,b);let tt=[];return tt=vl(tt,Sr(B)),tt=vl(tt,Sr(H)),tt=vl(tt,Sr(X)),tt}getBeforeBody(b,k){return Cs(pa(k.callbacks,"beforeBody",this,b))}getBody(b,k){const{callbacks:L}=k,B=[];return vt(b,H=>{const X={before:[],lines:[],after:[]},tt=Sa(L,H);vl(X.before,Sr(pa(tt,"beforeLabel",this,H))),vl(X.lines,pa(tt,"label",this,H)),vl(X.after,Sr(pa(tt,"afterLabel",this,H))),B.push(X)}),B}getAfterBody(b,k){return Cs(pa(k.callbacks,"afterBody",this,b))}getFooter(b,k){const{callbacks:L}=k,B=pa(L,"beforeFooter",this,b),H=pa(L,"footer",this,b),X=pa(L,"afterFooter",this,b);let tt=[];return tt=vl(tt,Sr(B)),tt=vl(tt,Sr(H)),tt=vl(tt,Sr(X)),tt}_createItems(b){const k=this._active,L=this.chart.data,B=[],H=[],X=[];let tt,at,mt=[];for(tt=0,at=k.length;tt<at;++tt)mt.push(qs(this.chart,k[tt]));return b.filter&&(mt=mt.filter((Ft,Lt,Ht)=>b.filter(Ft,Lt,Ht,L))),b.itemSort&&(mt=mt.sort((Ft,Lt)=>b.itemSort(Ft,Lt,L))),vt(mt,Ft=>{const Lt=Sa(b.callbacks,Ft);B.push(pa(Lt,"labelColor",this,Ft)),H.push(pa(Lt,"labelPointStyle",this,Ft)),X.push(pa(Lt,"labelTextColor",this,Ft))}),this.labelColors=B,this.labelPointStyles=H,this.labelTextColors=X,this.dataPoints=mt,mt}update(b,k){const L=this.options.setContext(this.getContext()),B=this._active;let H,X=[];if(B.length){const tt=th[L.position].call(this,B,this._eventPosition);X=this._createItems(L),this.title=this.getTitle(X,L),this.beforeBody=this.getBeforeBody(X,L),this.body=this.getBody(X,L),this.afterBody=this.getAfterBody(X,L),this.footer=this.getFooter(X,L);const at=this._size=Wl(this,L),mt=Object.assign({},tt,at),Ft=jl(this.chart,L,mt),Lt=Yh(L,mt,Ft,this.chart);this.xAlign=Ft.xAlign,this.yAlign=Ft.yAlign,H={opacity:1,x:Lt.x,y:Lt.y,width:at.width,height:at.height,caretX:tt.x,caretY:tt.y}}else this.opacity!==0&&(H={opacity:0});this._tooltipItems=X,this.$context=void 0,H&&this._resolveAnimations().update(this,H),b&&L.external&&L.external.call(this,{chart:this.chart,tooltip:this,replay:k})}drawCaret(b,k,L,B){const H=this.getCaretPosition(b,L,B);k.lineTo(H.x1,H.y1),k.lineTo(H.x2,H.y2),k.lineTo(H.x3,H.y3)}getCaretPosition(b,k,L){const{xAlign:B,yAlign:H}=this,{caretSize:X,cornerRadius:tt}=L,{topLeft:at,topRight:mt,bottomLeft:Ft,bottomRight:Lt}=Dl(tt),{x:Ht,y:ae}=b,{width:Se,height:ge}=k;let Ce,Ue,xn,yn,mn,Rn;return H==="center"?(mn=ae+ge/2,B==="left"?(Ce=Ht,Ue=Ce-X,yn=mn+X,Rn=mn-X):(Ce=Ht+Se,Ue=Ce+X,yn=mn-X,Rn=mn+X),xn=Ce):(Ue=B==="left"?Ht+Math.max(at,Ft)+X:B==="right"?Ht+Se-Math.max(mt,Lt)-X:this.caretX,H==="top"?(yn=ae,mn=yn-X,Ce=Ue-X,xn=Ue+X):(yn=ae+ge,mn=yn+X,Ce=Ue+X,xn=Ue-X),Rn=yn),{x1:Ce,x2:Ue,x3:xn,y1:yn,y2:mn,y3:Rn}}drawTitle(b,k,L){const B=this.title,H=B.length;let X,tt,at;if(H){const mt=os(L.rtl,this.x,this.width);for(b.x=eh(this,L.titleAlign,L),k.textAlign=mt.textAlign(L.titleAlign),k.textBaseline="middle",X=Eo(L.titleFont),tt=L.titleSpacing,k.fillStyle=L.titleColor,k.font=X.string,at=0;at<H;++at)k.fillText(B[at],mt.x(b.x),b.y+X.lineHeight/2),b.y+=X.lineHeight+tt,at+1===H&&(b.y+=L.titleMarginBottom-tt)}}_drawColorBox(b,k,L,B,H){const X=this.labelColors[L],tt=this.labelPointStyles[L],{boxHeight:at,boxWidth:mt}=H,Ft=Eo(H.bodyFont),Lt=eh(this,"left",H),Ht=B.x(Lt),ae=at<Ft.lineHeight?(Ft.lineHeight-at)/2:0,Se=k.y+ae;if(H.usePointStyle){const ge={radius:Math.min(mt,at)/2,pointStyle:tt.pointStyle,rotation:tt.rotation,borderWidth:1},Ce=B.leftForLtr(Ht,mt)+mt/2,Ue=Se+at/2;b.strokeStyle=H.multiKeyBackground,b.fillStyle=H.multiKeyBackground,ko(b,ge,Ce,Ue),b.strokeStyle=X.borderColor,b.fillStyle=X.backgroundColor,ko(b,ge,Ce,Ue)}else{b.lineWidth=$t(X.borderWidth)?Math.max(...Object.values(X.borderWidth)):X.borderWidth||1,b.strokeStyle=X.borderColor,b.setLineDash(X.borderDash||[]),b.lineDashOffset=X.borderDashOffset||0;const ge=B.leftForLtr(Ht,mt),Ce=B.leftForLtr(B.xPlus(Ht,1),mt-2),Ue=Dl(X.borderRadius);Object.values(Ue).some(xn=>xn!==0)?(b.beginPath(),b.fillStyle=H.multiKeyBackground,nu(b,{x:ge,y:Se,w:mt,h:at,radius:Ue}),b.fill(),b.stroke(),b.fillStyle=X.backgroundColor,b.beginPath(),nu(b,{x:Ce,y:Se+1,w:mt-2,h:at-2,radius:Ue}),b.fill()):(b.fillStyle=H.multiKeyBackground,b.fillRect(ge,Se,mt,at),b.strokeRect(ge,Se,mt,at),b.fillStyle=X.backgroundColor,b.fillRect(Ce,Se+1,mt-2,at-2))}b.fillStyle=this.labelTextColors[L]}drawBody(b,k,L){const{body:B}=this,{bodySpacing:H,bodyAlign:X,displayColors:tt,boxHeight:at,boxWidth:mt,boxPadding:Ft}=L,Lt=Eo(L.bodyFont);let Ht=Lt.lineHeight,ae=0;const Se=os(L.rtl,this.x,this.width),ge=function(Ei){k.fillText(Ei,Se.x(b.x+ae),b.y+Ht/2),b.y+=Ht+H},Ce=Se.textAlign(X);let Ue,xn,yn,mn,Rn,$n,mi;for(k.textAlign=X,k.textBaseline="middle",k.font=Lt.string,b.x=eh(this,Ce,L),k.fillStyle=L.bodyColor,vt(this.beforeBody,ge),ae=tt&&Ce!=="right"?X==="center"?mt/2+Ft:mt+2+Ft:0,mn=0,$n=B.length;mn<$n;++mn){for(Ue=B[mn],xn=this.labelTextColors[mn],k.fillStyle=xn,vt(Ue.before,ge),yn=Ue.lines,tt&&yn.length&&(this._drawColorBox(k,b,mn,Se,L),Ht=Math.max(Lt.lineHeight,at)),Rn=0,mi=yn.length;Rn<mi;++Rn)ge(yn[Rn]),Ht=Lt.lineHeight;vt(Ue.after,ge)}ae=0,Ht=Lt.lineHeight,vt(this.afterBody,ge),b.y-=H}drawFooter(b,k,L){const B=this.footer,H=B.length;let X,tt;if(H){const at=os(L.rtl,this.x,this.width);for(b.x=eh(this,L.footerAlign,L),b.y+=L.footerMarginTop,k.textAlign=at.textAlign(L.footerAlign),k.textBaseline="middle",X=Eo(L.footerFont),k.fillStyle=L.footerColor,k.font=X.string,tt=0;tt<H;++tt)k.fillText(B[tt],at.x(b.x),b.y+X.lineHeight/2),b.y+=X.lineHeight+L.footerSpacing}}drawBackground(b,k,L,B){const{xAlign:H,yAlign:X}=this,{x:tt,y:at}=b,{width:mt,height:Ft}=L,{topLeft:Lt,topRight:Ht,bottomLeft:ae,bottomRight:Se}=Dl(B.cornerRadius);k.fillStyle=B.backgroundColor,k.strokeStyle=B.borderColor,k.lineWidth=B.borderWidth,k.beginPath(),k.moveTo(tt+Lt,at),X==="top"&&this.drawCaret(b,k,L,B),k.lineTo(tt+mt-Ht,at),k.quadraticCurveTo(tt+mt,at,tt+mt,at+Ht),X==="center"&&H==="right"&&this.drawCaret(b,k,L,B),k.lineTo(tt+mt,at+Ft-Se),k.quadraticCurveTo(tt+mt,at+Ft,tt+mt-Se,at+Ft),X==="bottom"&&this.drawCaret(b,k,L,B),k.lineTo(tt+ae,at+Ft),k.quadraticCurveTo(tt,at+Ft,tt,at+Ft-ae),X==="center"&&H==="left"&&this.drawCaret(b,k,L,B),k.lineTo(tt,at+Lt),k.quadraticCurveTo(tt,at,tt+Lt,at),k.closePath(),k.fill(),B.borderWidth>0&&k.stroke()}_updateAnimationTarget(b){const k=this.chart,L=this.$animations,B=L&&L.x,H=L&&L.y;if(B||H){const X=th[b.position].call(this,this._active,this._eventPosition);if(!X)return;const tt=this._size=Wl(this,b),at=Object.assign({},X,this._size),mt=jl(k,b,at),Ft=Yh(b,at,mt,k);B._to===Ft.x&&H._to===Ft.y||(this.xAlign=mt.xAlign,this.yAlign=mt.yAlign,this.width=tt.width,this.height=tt.height,this.caretX=X.x,this.caretY=X.y,this._resolveAnimations().update(this,Ft))}}_willRender(){return!!this.opacity}draw(b){const k=this.options.setContext(this.getContext());let L=this.opacity;if(!L)return;this._updateAnimationTarget(k);const B={width:this.width,height:this.height},H={x:this.x,y:this.y};L=Math.abs(L)<.001?0:L;const X=Vr(k.padding),tt=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;k.enabled&&tt&&(b.save(),b.globalAlpha=L,this.drawBackground(H,b,B,k),sc(b,k.textDirection),H.y+=X.top,this.drawTitle(H,b,k),this.drawBody(H,b,k),this.drawFooter(H,b,k),Hu(b,k.textDirection),b.restore())}getActiveElements(){return this._active||[]}setActiveElements(b,k){const L=this._active,B=b.map(({datasetIndex:tt,index:at})=>{const mt=this.chart.getDatasetMeta(tt);if(!mt)throw new Error("Cannot find a dataset at index "+tt);return{datasetIndex:tt,element:mt.data[at],index:at}}),H=!Pt(L,B),X=this._positionChanged(B,k);(H||X)&&(this._active=B,this._eventPosition=k,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(b,k,L=!0){if(k&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const B=this.options,H=this._active||[],X=this._getActiveElements(b,H,k,L),tt=this._positionChanged(X,b),at=k||!Pt(X,H)||tt;return at&&(this._active=X,(B.enabled||B.external)&&(this._eventPosition={x:b.x,y:b.y},this.update(!0,k))),at}_getActiveElements(b,k,L,B){const H=this.options;if(b.type==="mouseout")return[];if(!B)return k;const X=this.chart.getElementsAtEventForMode(b,H.mode,H,L);return H.reverse&&X.reverse(),X}_positionChanged(b,k){const{caretX:L,caretY:B,options:H}=this,X=th[H.position].call(this,b,k);return X!==!1&&(L!==X.x||B!==X.y)}}var Xm={id:"tooltip",_element:Dd,positioners:th,afterInit(I,b,k){k&&(I.tooltip=new Dd({chart:I,options:k}))},beforeUpdate(I,b,k){I.tooltip&&I.tooltip.initialize(k)},reset(I,b,k){I.tooltip&&I.tooltip.initialize(k)},afterDraw(I){const b=I.tooltip;if(b&&b._willRender()){const k={tooltip:b};if(I.notifyPlugins("beforeTooltipDraw",{...k,cancelable:!0})===!1)return;b.draw(I.ctx),I.notifyPlugins("afterTooltipDraw",k)}},afterEvent(I,b){if(I.tooltip){const k=b.replay;I.tooltip.handleEvent(b.event,k,b.inChartArea)&&(b.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(I,b)=>b.bodyFont.size,boxWidth:(I,b)=>b.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Gm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:I=>I!=="filter"&&I!=="itemSort"&&I!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return Jo.register(jp,gg,du,Ye),Jo.helpers={...ou},Jo._adapters=Sd,Jo.Animation=lu,Jo.Animations=pl,Jo.animator=Ii,Jo.controllers=dr.controllers.items,Jo.DatasetController=fi,Jo.Element=Bi,Jo.elements=du,Jo.Interaction=Oc,Jo.layouts=sa,Jo.platforms=Vs,Jo.Scale=Lr,Jo.Ticks=he,Object.assign(Jo,jp,gg,du,Ye,Vs),Jo.Chart=Jo,typeof window<"u"&&(window.Chart=Jo),Jo}),function(Ye,Gt){typeof exports=="object"&&typeof module<"u"?Gt(exports):typeof define=="function"&&define.amd?define(["exports"],Gt):Gt((Ye=typeof globalThis<"u"?globalThis:Ye||self).echarts={})}(this,function(Ye){"use strict";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Gt=function(n,e){return Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},Gt(n,e)};function Tt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Gt(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qt=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Oe=new function(){this.browser=new Qt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Oe.wxa=!0,Oe.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Oe.worker=!0:typeof navigator>"u"?(Oe.node=!0,Oe.svgSupported=!0):function(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),a&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,Oe);var $t="sans-serif",ue="12px "+$t,Jt,Vt,bt=function(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ft={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(n,e){if(!Jt){var t=ft.createCanvas();Jt=t&&t.getContext("2d")}if(Jt)return Vt!==e&&(Vt=Jt.font=e||ue),Jt.measureText(n);n=n||"";var i=/(\d+)px/.exec(e=e||ue),r=i&&+i[1]||12,o=0;if(e.indexOf("mono")>=0)o=r*n.length;else for(var a=0;a<n.length;a++){var l=bt[n[a]];o+=l==null?r:l*r}return{width:o}},loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}};function _t(n){for(var e in ft)n[e]&&(ft[e]=n[e])}var vt=an(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),Pt=an(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),kt=Object.prototype.toString,wt=Array.prototype,ct=wt.forEach,ie=wt.filter,It=wt.slice,Wt=wt.map,te=function(){}.constructor,fe=te?te.prototype:null,Me="__proto__",ve=2311;function le(){return ve++}function Xt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function Kt(n){if(n==null||typeof n!="object")return n;var e=n,t=kt.call(n);if(t==="[object Array]"){if(!He(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=Kt(n[i])}}else if(Pt[t]){if(!He(n)){var o=n.constructor;if(o.from)e=o.from(n);else for(e=new o(n.length),i=0,r=n.length;i<r;i++)e[i]=n[i]}}else if(!vt[t]&&!He(n)&&!wn(n))for(var a in e={},n)n.hasOwnProperty(a)&&a!==Me&&(e[a]=Kt(n[a]));return e}function ne(n,e,t){if(!di(e)||!di(n))return t?Kt(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==Me){var r=n[i],o=e[i];!di(o)||!di(r)||Be(o)||Be(r)||wn(o)||wn(r)||ar(o)||ar(r)||He(o)||He(r)?!t&&i in n||(n[i]=Kt(e[i])):ne(r,o,t)}return n}function De(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=ne(t,n[i],e);return t}function me(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Me&&(n[t]=e[t]);return n}function Ne(n,e,t){for(var i=Qe(e),r=0;r<i.length;r++){var o=i[r];(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}return n}var Fn=ft.createCanvas;function dn(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function gn(n,e){var t=n.prototype;function i(){}for(var r in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}function jt(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];o!=="constructor"&&(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}else Ne(n,e,t)}function Fe(n){return!!n&&typeof n!="string"&&typeof n.length=="number"}function ht(n,e,t){if(n&&e)if(n.forEach&&n.forEach===ct)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function lt(n,e,t){if(!n)return[];if(!e)return Kr(n);if(n.map&&n.map===Wt)return n.map(e,t);for(var i=[],r=0,o=n.length;r<o;r++)i.push(e.call(t,n[r],r,n));return i}function an(n,e,t,i){if(n&&e){for(var r=0,o=n.length;r<o;r++)t=e.call(i,t,n[r],r,n);return t}}function en(n,e,t){if(!n)return[];if(!e)return Kr(n);if(n.filter&&n.filter===ie)return n.filter(e,t);for(var i=[],r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function je(n,e,t){if(n&&e){for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}}function Qe(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var Te=fe&&Ge(fe.bind)?fe.call.bind(fe.bind):function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(It.call(arguments)))}};function _n(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(It.call(arguments)))}}function Be(n){return Array.isArray?Array.isArray(n):kt.call(n)==="[object Array]"}function Ge(n){return typeof n=="function"}function Mn(n){return typeof n=="string"}function wr(n){return kt.call(n)==="[object String]"}function Ln(n){return typeof n=="number"}function di(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function ar(n){return!!vt[kt.call(n)]}function hr(n){return!!Pt[kt.call(n)]}function wn(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function Wn(n){return n.colorStops!=null}function si(n){return n.image!=null}function xi(n){return kt.call(n)==="[object RegExp]"}function oi(n){return n!=n}function zi(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(n[t]!=null)return n[t]}function yi(n,e){return n??e}function Ar(n,e,t){return n??e??t}function Kr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return It.apply(n,e)}function Yt(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function At(n,e){if(!n)throw new Error(e)}function Dt(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var re="__ec_primitive__";function Pe(n){n[re]=!0}function He(n){return n[re]}var ye=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Qe(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),Le=typeof Map=="function",Ve=function(){function n(e){var t=Be(e);this.data=Le?new Map:new ye;var i=this;function r(o,a){t?i.set(o,a):i.set(a,o)}e instanceof n?e.each(r):e&&ht(e,r)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return Le?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function ze(n){return new Ve(n)}function Zn(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var r=n.length;for(i=0;i<e.length;i++)t[i+r]=e[i];return t}function Ii(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&me(t,e),t}function bi(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ln(n,e){return n.hasOwnProperty(e)}function Vn(){}var ti=180/Math.PI,Hn=Object.freeze({__proto__:null,guid:le,logError:Xt,clone:Kt,merge:ne,mergeAll:De,extend:me,defaults:Ne,createCanvas:Fn,indexOf:dn,inherits:gn,mixin:jt,isArrayLike:Fe,each:ht,map:lt,reduce:an,filter:en,find:je,keys:Qe,bind:Te,curry:_n,isArray:Be,isFunction:Ge,isString:Mn,isStringSafe:wr,isNumber:Ln,isObject:di,isBuiltInObject:ar,isTypedArray:hr,isDom:wn,isGradientObject:Wn,isImagePatternObject:si,isRegExp:xi,eqNaN:oi,retrieve:zi,retrieve2:yi,retrieve3:Ar,slice:Kr,normalizeCssArray:Yt,assert:At,trim:Dt,setAsPrimitive:Pe,isPrimitive:He,HashMap:Ve,createHashMap:ze,concatArray:Zn,createObject:Ii,disableUserSelect:bi,hasOwn:ln,noop:Vn,RADIAN_TO_DEGREE:ti});function wi(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function Dn(n,e){return n[0]=e[0],n[1]=e[1],n}function Hi(n){return[n[0],n[1]]}function Er(n,e,t){return n[0]=e,n[1]=t,n}function Or(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function Cr(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function Ji(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Fi(n){return Math.sqrt(Tr(n))}var jr=Fi;function Tr(n){return n[0]*n[0]+n[1]*n[1]}var Yi=Tr;function gi(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function ii(n,e){var t=Fi(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function Qi(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var hi=Qi;function $i(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var ji=$i;function Wi(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function Ui(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function qt(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function h(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var d=Object.freeze({__proto__:null,create:wi,copy:Dn,clone:Hi,set:Er,add:Or,scaleAndAdd:Cr,sub:Ji,len:Fi,length:jr,lenSquare:Tr,lengthSquare:Yi,mul:function(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n},div:function(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n},dot:function(n,e){return n[0]*e[0]+n[1]*e[1]},scale:gi,normalize:ii,distance:Qi,dist:hi,distanceSquare:$i,distSquare:ji,negate:function(n,e){return n[0]=-e[0],n[1]=-e[1],n},lerp:Wi,applyTransform:Ui,min:qt,max:h}),y=function(n,e){this.target=n,this.topTarget=e&&e.topTarget},C=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new y(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,t.drift(o,a,e),this.handler.dispatchToElement(new y(t,e),"drag",e.event);var l=this.handler.findHover(i,r,t).target,u=this._dropTarget;this._dropTarget=l,t!==l&&(u&&l!==u&&this.handler.dispatchToElement(new y(u,e),"dragleave",e.event),l&&l!==u&&this.handler.dispatchToElement(new y(l,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new y(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new y(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}(),M=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof t=="function"&&(r=i,i=t,t=null),!i||!e)return this;var a=this._$eventProcessor;t!=null&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),o[e]||(o[e]=[]);for(var l=0;l<o[e].length;l++)if(o[e][l].h===i)return this;var u={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},f=o[e].length-1,g=o[e][f];return g&&g.callAtLast?o[e].splice(f,0,u):o[e].push(u),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],o=0,a=i[e].length;o<a;o++)i[e][o].h!==t&&r.push(i[e][o]);i[e]=r}i[e]&&i[e].length===0&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,l=r.length,u=0;u<l;u++){var f=r[u];if(!o||!o.filter||f.query==null||o.filter(e,f.query))switch(a){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,t[0]);break;case 2:f.h.call(f.ctx,t[0],t[1]);break;default:f.h.apply(f.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,l=t[a-1],u=r.length,f=0;f<u;f++){var g=r[f];if(!o||!o.filter||g.query==null||o.filter(e,g.query))switch(a){case 0:g.h.call(l);break;case 1:g.h.call(l,t[0]);break;case 2:g.h.call(l,t[0],t[1]);break;default:g.h.apply(l,t.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}(),O=Math.log(2);function N(n,e,t,i,r,o){var a=i+"-"+r,l=n.length;if(o.hasOwnProperty(a))return o[a];if(e===1){var u=Math.round(Math.log((1<<l)-1&~r)/O);return n[t][u]}for(var f=i|1<<t,g=t+1;i&1<<g;)g++;for(var v=0,_=0,S=0;_<l;_++){var A=1<<_;A&r||(v+=(S%2?-1:1)*n[t][_]*N(n,e-1,g,f,r|A,o),S++)}return o[a]=v,v}function V(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=N(t,8,0,0,0,i);if(r!==0){for(var o=[],a=0;a<8;a++)for(var l=0;l<8;l++)o[l]==null&&(o[l]=0),o[l]+=((a+l)%2?-1:1)*N(t,7,a===0?1:0,1<<a,1<<l,i)/r*e[a];return function(u,f,g){var v=f*o[6]+g*o[7]+1;u[0]=(f*o[0]+g*o[1]+o[2])/v,u[1]=(f*o[3]+g*o[4]+o[5])/v}}}var q="___zrEVENTSAVED",K=[];function J(n,e,t,i,r){if(e.getBoundingClientRect&&Oe.domSupported&&!it(e)){var o=e[q]||(e[q]={}),a=function(u,f){var g=f.markers;if(g)return g;g=f.markers=[];for(var v=["left","right"],_=["top","bottom"],S=0;S<4;S++){var A=document.createElement("div"),E=S%2,D=(S>>1)%2;A.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",v[E]+":0",_[D]+":0",v[1-E]+":auto",_[1-D]+":auto",""].join("!important;"),u.appendChild(A),g.push(A)}return g}(e,o),l=function(u,f,g){for(var v=g?"invTrans":"trans",_=f[v],S=f.srcCoords,A=[],E=[],D=!0,R=0;R<4;R++){var z=u[R].getBoundingClientRect(),Y=2*R,G=z.left,$=z.top;A.push(G,$),D=D&&S&&G===S[Y]&&$===S[Y+1],E.push(u[R].offsetLeft,u[R].offsetTop)}return D&&_?_:(f.srcCoords=A,f[v]=g?V(E,A):V(A,E))}(a,o,r);if(l)return l(n,t,i),!0}return!1}function it(n){return n.nodeName.toUpperCase()==="CANVAS"}var pt=/([&<>"'])/g,Et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nt(n){return n==null?"":(n+"").replace(pt,function(e,t){return Et[t]})}var ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,he=[],Ae=Oe.browser.firefox&&+Oe.browser.version.split(".")[0]<39;function W(n,e,t,i){return t=t||{},i?rt(n,e,t):Ae&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):rt(n,e,t),t}function rt(n,e,t){if(Oe.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(it(n)){var o=n.getBoundingClientRect();return t.zrX=i-o.left,void(t.zrY=r-o.top)}if(J(he,n,i,r))return t.zrX=he[0],void(t.zrY=he[1])}t.zrX=t.zrY=0}function Ot(n){return n||window.event}function ce(n,e,t){if((e=Ot(e)).zrX!=null)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];r&&W(n,r,e,t)}else{W(n,e,e,t);var o=function(l){var u=l.wheelDelta;if(u)return u;var f=l.deltaX,g=l.deltaY;return f==null||g==null?u:3*Math.abs(g!==0?g:f)*(g>0?-1:g<0?1:f>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return e.which==null&&a!==void 0&&ee.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function xe(n,e,t,i){n.addEventListener(e,t,i)}var Ie=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function on(n){return n.which===2||n.which===3}var un=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},a=0,l=r.length;a<l;a++){var u=r[a],f=W(i,u,{});o.points.push([f.zrX,f.zrY]),o.touches.push(u)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in jn)if(jn.hasOwnProperty(t)){var i=jn[t](this._track,e);if(i)return i}},n}();function Bn(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var jn={pinch:function(n,e){var t=n.length;if(t){var i,r=(n[t-1]||{}).points,o=(n[t-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Bn(r)/Bn(o);!isFinite(a)&&(a=1),e.pinchScale=a;var l=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:n[0].target,event:e}}}}};function ai(){return[1,0,0,1,0,0]}function ci(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function vr(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function rr(n,e,t){var i=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],l=e[0]*t[4]+e[2]*t[5]+e[4],u=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=u,n}function er(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Xr(n,e,t){var i=e[0],r=e[2],o=e[4],a=e[1],l=e[3],u=e[5],f=Math.sin(t),g=Math.cos(t);return n[0]=i*g+a*f,n[1]=-i*f+a*g,n[2]=r*g+l*f,n[3]=-r*f+g*l,n[4]=g*o+f*u,n[5]=g*u-f*o,n}function bo(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function qr(n,e){var t=e[0],i=e[2],r=e[4],o=e[1],a=e[3],l=e[5],u=t*a-o*i;return u?(u=1/u,n[0]=a*u,n[1]=-o*u,n[2]=-i*u,n[3]=t*u,n[4]=(i*l-a*r)*u,n[5]=(o*r-t*l)*u,n):null}function fo(n){var e=[1,0,0,1,0,0];return vr(e,n),e}var Na=Object.freeze({__proto__:null,create:ai,identity:ci,copy:vr,mul:rr,translate:er,rotate:Xr,scale:bo,invert:qr,clone:fo}),Gi=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var o=1-r;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y},n}(),Dr=Math.min,Ra=Math.max,No=new Gi,ko=new Gi,zn=new Gi,Zo=new Gi,Ro=new Gi,ns=new Gi,yr=function(){function n(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=Dr(e.x,this.x),i=Dr(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Ra(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Ra(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,o=[1,0,0,1,0,0];return er(o,o,[-t.x,-t.y]),bo(o,o,[i,r]),er(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,l=i.y+i.height,u=e.x,f=e.x+e.width,g=e.y,v=e.y+e.height,_=!(o<u||f<r||l<g||v<a);if(t){var S=1/0,A=0,E=Math.abs(o-u),D=Math.abs(f-r),R=Math.abs(l-g),z=Math.abs(v-a),Y=Math.min(E,D),G=Math.min(R,z);o<u||f<r?Y>A&&(A=Y,E<D?Gi.set(ns,-E,0):Gi.set(ns,D,0)):Y<S&&(S=Y,E<D?Gi.set(Ro,E,0):Gi.set(Ro,-D,0)),l<g||v<a?G>A&&(A=G,R<z?Gi.set(ns,0,-R):Gi.set(ns,0,z)):Y<S&&(S=Y,R<z?Gi.set(Ro,0,R):Gi.set(Ro,0,-z))}return t&&Gi.copy(t,_?Ro:ns),_},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],l=i[5];return e.x=t.x*r+a,e.y=t.y*o+l,e.width=t.width*r,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}No.x=zn.x=t.x,No.y=Zo.y=t.y,ko.x=Zo.x=t.x+t.width,ko.y=zn.y=t.y+t.height,No.transform(i),Zo.transform(i),ko.transform(i),zn.transform(i),e.x=Dr(No.x,ko.x,zn.x,Zo.x),e.y=Dr(No.y,ko.y,zn.y,Zo.y);var u=Ra(No.x,ko.x,zn.x,Zo.x),f=Ra(No.y,ko.y,zn.y,Zo.y);e.width=u-e.x,e.height=f-e.y}else e!==t&&n.copy(e,t)},n}(),pd="silent";function og(){Ie(this.event)}var ag=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return Tt(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(M),Fr=function(n,e){this.x=n,this.y=e},nu=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],rc=new yr(0,0,0,0),Fo=function(n){function e(t,i,r,o,a){var l=n.call(this)||this;return l._hovered=new Fr(0,0),l.storage=t,l.painter=i,l.painterRoot=o,l._pointerSize=a,r=r||new ag,l.proxy=null,l.setHandlerProxy(r),l._draggingMgr=new C(l),l}return Tt(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(ht(nu,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=fd(this,i,r),a=this._hovered,l=a.target;l&&!l.__zr&&(l=(a=this.findHover(a.x,a.y)).target);var u=this._hovered=o?new Fr(i,r):this.findHover(i,r),f=u.target,g=this.proxy;g.setCursor&&g.setCursor(f?f.cursor:"default"),l&&f!==l&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(u,"mousemove",t),f&&f!==l&&this.dispatchToElement(u,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Fr(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){var o=(t=t||{}).target;if(!o||!o.silent){for(var a="on"+i,l=function(u,f,g){return{type:u,event:g,target:f.target,topTarget:f.topTarget,cancelBubble:!1,offsetX:g.zrX,offsetY:g.zrY,gestureEvent:g.gestureEvent,pinchX:g.pinchX,pinchY:g.pinchY,pinchScale:g.pinchScale,wheelDelta:g.zrDelta,zrByTouch:g.zrByTouch,which:g.which,stop:og}}(i,t,r);o&&(o[a]&&(l.cancelBubble=!!o[a].call(o,l)),o.trigger(i,l),o=o.__hostTarget?o.__hostTarget:o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(i,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[a]=="function"&&u[a].call(u,l),u.trigger&&u.trigger(i,l)}))}},e.prototype.findHover=function(t,i,r){var o=this.storage.getDisplayList(),a=new Fr(t,i);if(Bp(o,a,t,i,r),this._pointerSize&&!a.target){for(var l=[],u=this._pointerSize,f=u/2,g=new yr(t-f,i-f,u,u),v=o.length-1;v>=0;v--){var _=o[v];_===r||_.ignore||_.ignoreCoarsePointer||_.parent&&_.parent.ignoreCoarsePointer||(rc.copy(_.getBoundingRect()),_.transform&&rc.applyTransform(_.transform),rc.intersect(g)&&l.push(_))}if(l.length){for(var S=Math.PI/12,A=2*Math.PI,E=0;E<f;E+=4)for(var D=0;D<A;D+=S)if(Bp(l,a,t+E*Math.cos(D),i+E*Math.sin(D),r),a.target)return a}}return a},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new un);var r=this._gestureMgr;i==="start"&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),o){var a=o.type;t.gestureEvent=a;var l=new Fr;l.target=o.target,this.dispatchToElement(l,a,o.event)}},e}(M);function Ba(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,t))return!1;i.silent&&(r=!0)}var l=i.__hostTarget;i=l||i.parent}return!r||pd}return!1}function Bp(n,e,t,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],l=void 0;if(a!==r&&!a.ignore&&(l=Ba(a,t,i))&&(!e.topTarget&&(e.topTarget=a),l!==pd)){e.target=a;break}}}function fd(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}ht(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Fo.prototype[n]=function(e){var t,i,r=e.zrX,o=e.zrY,a=fd(this,r,o);if(n==="mouseup"&&a||(i=(t=this.findHover(r,o)).target),n==="mousedown")this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if(n==="mouseup")this._upEl=i;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||hi(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(t,n,e)}});function Fu(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;(function(o,a,l){for(l--;a<l;){var u=o[a];o[a++]=o[l],o[l--]=u}})(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function Rh(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var o,a=n[i],l=e,u=i;l<u;)r(a,n[o=l+u>>>1])<0?u=o:l=o+1;var f=i-l;switch(f){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;f>0;)n[l+f]=n[l+f-1],f--}n[l]=a}}function Xo(n,e,t,i,r,o){var a=0,l=0,u=1;if(o(n,e[t+r])>0){for(l=i-r;u<l&&o(n,e[t+r+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),a+=r,u+=r}else{for(l=r+1;u<l&&o(n,e[t+r-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=a;a=r-u,u=r-f}for(a++;a<u;){var g=a+(u-a>>>1);o(n,e[t+g])>0?a=g+1:u=g}return u}function is(n,e,t,i,r,o){var a=0,l=0,u=1;if(o(n,e[t+r])<0){for(l=r+1;u<l&&o(n,e[t+r-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=a;a=r-u,u=r-f}else{for(l=i-r;u<l&&o(n,e[t+r+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),a+=r,u+=r}for(a++;a<u;){var g=a+(u-a>>>1);o(n,e[t+g])<0?u=g:a=g+1}return u}function aa(n,e){var t,i,r=7,o=0;n.length;var a=[];function l(u){var f=t[u],g=i[u],v=t[u+1],_=i[u+1];i[u]=g+_,u===o-3&&(t[u+1]=t[u+2],i[u+1]=i[u+2]),o--;var S=is(n[v],n,f,g,0,e);f+=S,(g-=S)!==0&&(_=Xo(n[f+g-1],n,v,_,_-1,e))!==0&&(g<=_?function(A,E,D,R){var z=0;for(z=0;z<E;z++)a[z]=n[A+z];var Y=0,G=D,$=A;if(n[$++]=n[G++],--R==0){for(z=0;z<E;z++)n[$+z]=a[Y+z];return}if(E===1){for(z=0;z<R;z++)n[$+z]=n[G+z];return void(n[$+R]=a[Y])}for(var Q,et,ot,xt=r;;){Q=0,et=0,ot=!1;do if(e(n[G],a[Y])<0){if(n[$++]=n[G++],et++,Q=0,--R==0){ot=!0;break}}else if(n[$++]=a[Y++],Q++,et=0,--E==1){ot=!0;break}while((Q|et)<xt);if(ot)break;do{if((Q=is(n[G],a,Y,E,0,e))!==0){for(z=0;z<Q;z++)n[$+z]=a[Y+z];if($+=Q,Y+=Q,(E-=Q)<=1){ot=!0;break}}if(n[$++]=n[G++],--R==0){ot=!0;break}if((et=Xo(a[Y],n,G,R,0,e))!==0){for(z=0;z<et;z++)n[$+z]=n[G+z];if($+=et,G+=et,(R-=et)===0){ot=!0;break}}if(n[$++]=a[Y++],--E==1){ot=!0;break}xt--}while(Q>=7||et>=7);if(ot)break;xt<0&&(xt=0),xt+=2}if((r=xt)<1&&(r=1),E===1){for(z=0;z<R;z++)n[$+z]=n[G+z];n[$+R]=a[Y]}else{if(E===0)throw new Error;for(z=0;z<E;z++)n[$+z]=a[Y+z]}}(f,g,v,_):function(A,E,D,R){var z=0;for(z=0;z<R;z++)a[z]=n[D+z];var Y=A+E-1,G=R-1,$=D+R-1,Q=0,et=0;if(n[$--]=n[Y--],--E==0){for(Q=$-(R-1),z=0;z<R;z++)n[Q+z]=a[z];return}if(R===1){for(et=($-=E)+1,Q=(Y-=E)+1,z=E-1;z>=0;z--)n[et+z]=n[Q+z];return void(n[$]=a[G])}for(var ot=r;;){var xt=0,St=0,Mt=!1;do if(e(a[G],n[Y])<0){if(n[$--]=n[Y--],xt++,St=0,--E==0){Mt=!0;break}}else if(n[$--]=a[G--],St++,xt=0,--R==1){Mt=!0;break}while((xt|St)<ot);if(Mt)break;do{if((xt=E-is(a[G],n,A,E,E-1,e))!==0){for(E-=xt,et=($-=xt)+1,Q=(Y-=xt)+1,z=xt-1;z>=0;z--)n[et+z]=n[Q+z];if(E===0){Mt=!0;break}}if(n[$--]=a[G--],--R==1){Mt=!0;break}if((St=R-Xo(n[Y],a,0,R,R-1,e))!==0){for(R-=St,et=($-=St)+1,Q=(G-=St)+1,z=0;z<St;z++)n[et+z]=a[Q+z];if(R<=1){Mt=!0;break}}if(n[$--]=n[Y--],--E==0){Mt=!0;break}ot--}while(xt>=7||St>=7);if(Mt)break;ot<0&&(ot=0),ot+=2}if((r=ot)<1&&(r=1),R===1){for(et=($-=E)+1,Q=(Y-=E)+1,z=E-1;z>=0;z--)n[et+z]=n[Q+z];n[$]=a[G]}else{if(R===0)throw new Error;for(Q=$-(R-1),z=0;z<R;z++)n[Q+z]=a[z]}}(f,g,v,_))}return t=[],i=[],{mergeRuns:function(){for(;o>1;){var u=o-2;if(u>=1&&i[u-1]<=i[u]+i[u+1]||u>=2&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},forceMergeRuns:function(){for(;o>1;){var u=o-2;u>0&&i[u-1]<i[u+1]&&u--,l(u)}},pushRun:function(u,f){t[o]=u,i[o]=f,o+=1}}}function ms(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var o=0;if(r<32)Rh(n,t,i,t+(o=Fu(n,t,i,e)),e);else{var a=aa(n,e),l=function(f){for(var g=0;f>=32;)g|=1&f,f>>=1;return f+g}(r);do{if((o=Fu(n,t,i,e))<l){var u=r;u>l&&(u=l),Rh(n,t,t+u,t+o,e),o=u}a.pushRun(t,o),a.mergeRuns(),r-=o,t+=o}while(r!==0);a.forceMergeRuns()}}}var oc=!1;function Ko(){oc||(oc=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Bh(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var zp=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Bh}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return!e&&i.length||this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,ms(i,Bh)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var o=r,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var l=e.childrenRef(),u=0;u<l.length;u++){var f=l[u];e.__dirty&&(f.__dirty|=1),this._updateAndAddDisplayable(f,t,i)}e.__dirty=0}else{var g=e;t&&t.length?g.__clipPaths=t:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(Ko(),g.z=0),isNaN(g.z2)&&(Ko(),g.z2=0),isNaN(g.zlevel)&&(Ko(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var v=e.getDecalElement&&e.getDecalElement();v&&this._updateAndAddDisplayable(v,t,i);var _=e.getTextGuideLine();_&&this._updateAndAddDisplayable(_,t,i);var S=e.getTextContent();S&&this._updateAndAddDisplayable(S,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var r=dn(this._roots,e);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Ns=Oe.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},iu={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return n===0?0:n===1?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return n===0?0:n===1?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=.1):e=i*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-iu.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*iu.bounceIn(2*n):.5*iu.bounceOut(2*n-1)+.5}},Vu=Math.pow,Il=Math.sqrt,El=1e-8,rs=1e-4,Ol=Il(3),Ec=1/3,Xa=wi(),ha=wi(),co=wi();function qa(n){return n>-1e-8&&n<El}function Ke(n){return n>El||n<-1e-8}function ba(n,e,t,i,r){var o=1-r;return o*o*(o*n+3*r*e)+r*r*(r*i+3*o*t)}function Fp(n,e,t,i,r){var o=1-r;return 3*(((e-n)*o+2*(t-e)*r)*o+(i-t)*r*r)}function za(n,e,t,i,r,o){var a=i+3*(e-t)-n,l=3*(t-2*e+n),u=3*(e-n),f=n-r,g=l*l-3*a*u,v=l*u-9*a*f,_=u*u-3*l*f,S=0;if(qa(g)&&qa(v))qa(l)?o[0]=0:(ot=-u/l)>=0&&ot<=1&&(o[S++]=ot);else{var A=v*v-4*g*_;if(qa(A)){var E=v/g,D=-E/2;(ot=-l/a+E)>=0&&ot<=1&&(o[S++]=ot),D>=0&&D<=1&&(o[S++]=D)}else if(A>0){var R=Il(A),z=g*l+1.5*a*(-v+R),Y=g*l+1.5*a*(-v-R);(ot=(-l-((z=z<0?-Vu(-z,Ec):Vu(z,Ec))+(Y=Y<0?-Vu(-Y,Ec):Vu(Y,Ec))))/(3*a))>=0&&ot<=1&&(o[S++]=ot)}else{var G=(2*g*l-3*a*v)/(2*Il(g*g*g)),$=Math.acos(G)/3,Q=Il(g),et=Math.cos($),ot=(-l-2*Q*et)/(3*a),xt=(D=(-l+Q*(et+Ol*Math.sin($)))/(3*a),(-l+Q*(et-Ol*Math.sin($)))/(3*a));ot>=0&&ot<=1&&(o[S++]=ot),D>=0&&D<=1&&(o[S++]=D),xt>=0&&xt<=1&&(o[S++]=xt)}}return S}function gd(n,e,t,i,r){var o=6*t-12*e+6*n,a=9*e+3*i-3*n-9*t,l=3*e-3*n,u=0;if(qa(a))Ke(o)&&(g=-l/o)>=0&&g<=1&&(r[u++]=g);else{var f=o*o-4*a*l;if(qa(f))r[0]=-o/(2*a);else if(f>0){var g,v=Il(f),_=(-o-v)/(2*a);(g=(-o+v)/(2*a))>=0&&g<=1&&(r[u++]=g),_>=0&&_<=1&&(r[u++]=_)}}return u}function Ir(n,e,t,i,r,o){var a=(e-n)*r+n,l=(t-e)*r+e,u=(i-t)*r+t,f=(l-a)*r+a,g=(u-l)*r+l,v=(g-f)*r+f;o[0]=n,o[1]=a,o[2]=f,o[3]=v,o[4]=v,o[5]=g,o[6]=u,o[7]=i}function Ua(n,e,t,i,r,o,a,l,u,f,g){var v,_,S,A,E,D=.005,R=1/0;Xa[0]=u,Xa[1]=f;for(var z=0;z<1;z+=.05)ha[0]=ba(n,t,r,a,z),ha[1]=ba(e,i,o,l,z),(A=ji(Xa,ha))<R&&(v=z,R=A);R=1/0;for(var Y=0;Y<32&&!(D<rs);Y++)_=v-D,S=v+D,ha[0]=ba(n,t,r,a,_),ha[1]=ba(e,i,o,l,_),A=ji(ha,Xa),_>=0&&A<R?(v=_,R=A):(co[0]=ba(n,t,r,a,S),co[1]=ba(e,i,o,l,S),E=ji(co,Xa),S<=1&&E<R?(v=S,R=E):D*=.5);return g&&(g[0]=ba(n,t,r,a,v),g[1]=ba(e,i,o,l,v)),Il(R)}function Dl(n,e,t,i,r,o,a,l,u){for(var f=n,g=e,v=0,_=1/u,S=1;S<=u;S++){var A=S*_,E=ba(n,t,r,a,A),D=ba(e,i,o,l,A),R=E-f,z=D-g;v+=Math.sqrt(R*R+z*z),f=E,g=D}return v}function Vr(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function Eo(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function Ma(n,e,t){var i=n+t-2*e;return i===0?.5:(n-e)/i}function ac(n,e,t,i,r){var o=(e-n)*i+n,a=(t-e)*i+e,l=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=l,r[3]=l,r[4]=a,r[5]=t}function Rs(n,e,t,i,r,o,a,l,u){var f,g=.005,v=1/0;Xa[0]=a,Xa[1]=l;for(var _=0;_<1;_+=.05)ha[0]=Vr(n,t,r,_),ha[1]=Vr(e,i,o,_),(D=ji(Xa,ha))<v&&(f=_,v=D);v=1/0;for(var S=0;S<32&&!(g<rs);S++){var A=f-g,E=f+g;ha[0]=Vr(n,t,r,A),ha[1]=Vr(e,i,o,A);var D=ji(ha,Xa);if(A>=0&&D<v)f=A,v=D;else{co[0]=Vr(n,t,r,E),co[1]=Vr(e,i,o,E);var R=ji(co,Xa);E<=1&&R<v?(f=E,v=R):g*=.5}}return u&&(u[0]=Vr(n,t,r,f),u[1]=Vr(e,i,o,f)),Il(v)}function os(n,e,t,i,r,o,a){for(var l=n,u=e,f=0,g=1/a,v=1;v<=a;v++){var _=v*g,S=Vr(n,t,r,_),A=Vr(e,i,o,_),E=S-l,D=A-u;f+=Math.sqrt(E*E+D*D),l=S,u=A}return f}var sc=/cubic-bezier\(([0-9,\.e ]+)\)/;function Hu(n){var e=n&&sc.exec(n);if(e){var t=e[1].split(","),i=+Dt(t[0]),r=+Dt(t[1]),o=+Dt(t[2]),a=+Dt(t[3]);if(isNaN(i+r+o+a))return;var l=[];return function(u){return u<=0?0:u>=1?1:za(0,i,o,1,u,l)&&ba(0,r,a,1,l[0])}}}var Vp=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Vn,this.ondestroy=e.ondestroy||Vn,this.onrestart=e.onrestart||Vn,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var i=this._life,r=e-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,l=a?a(o):o;if(this.onframe(l),o===1){if(!this.loop)return!0;var u=r%i;this._startTime=e-u,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ge(e)?e:iu[e]||Hu(e)},n}(),Oo=function(n){this.value=n},ru=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new Oo(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Ll=function(){function n(e){this._list=new ru,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,o=null;if(r[e]==null){var a=i.len(),l=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var u=i.head;i.remove(u),delete r[u.key],o=u.value,this._lastRemovedEntry=u}l?l.value=t:l=new Oo(t),l.key=e,i.insertEntry(l),r[e]=l}return o},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(t!=null)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Wu={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function as(n){return(n=Math.round(n))<0?0:n>255?255:n}function lc(n){return n<0?0:n>1?1:n}function zh(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?as(parseFloat(e)/100*255):as(parseInt(e,10))}function ou(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?lc(parseFloat(e)/100):lc(parseFloat(e))}function Pl(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function Qo(n,e,t){return n+(e-n)*t}function $a(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function md(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var vd=new Ll(20),Nl=null;function Oc(n,e){Nl&&md(Nl,e),Nl=vd.put(n,Nl||e.slice())}function Vo(n,e){if(n){e=e||[];var t=vd.get(n);if(t)return md(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Wu)return md(e,Wu[i]),Oc(n,e),e;var r,o=i.length;if(i.charAt(0)==="#")return o===4||o===5?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?($a(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,o===5?parseInt(i.slice(4),16)/15:1),Oc(n,e),e):void $a(e,0,0,0,1):o===7||o===9?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?($a(e,(16711680&r)>>16,(65280&r)>>8,255&r,o===9?parseInt(i.slice(7),16)/255:1),Oc(n,e),e):void $a(e,0,0,0,1):void 0;var a=i.indexOf("("),l=i.indexOf(")");if(a!==-1&&l+1===o){var u=i.substr(0,a),f=i.substr(a+1,l-(a+1)).split(","),g=1;switch(u){case"rgba":if(f.length!==4)return f.length===3?$a(e,+f[0],+f[1],+f[2],1):$a(e,0,0,0,1);g=ou(f.pop());case"rgb":return f.length>=3?($a(e,zh(f[0]),zh(f[1]),zh(f[2]),f.length===3?g:ou(f[3])),Oc(n,e),e):void $a(e,0,0,0,1);case"hsla":return f.length!==4?void $a(e,0,0,0,1):(f[3]=ou(f[3]),vs(f,e),Oc(n,e),e);case"hsl":return f.length!==3?void $a(e,0,0,0,1):(vs(f,e),Oc(n,e),e);default:return}}$a(e,0,0,0,1)}}function vs(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=ou(n[1]),r=ou(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return $a(e=e||[],as(255*Pl(a,o,t+1/3)),as(255*Pl(a,o,t)),as(255*Pl(a,o,t-1/3)),1),n.length===4&&(e[3]=n[3]),e}function cc(n,e){var t=Vo(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return Oa(t,t.length===4?"rgba":"rgb")}}function ys(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],l=e[o],u=i-r;return t[0]=as(Qo(a[0],l[0],u)),t[1]=as(Qo(a[1],l[1],u)),t[2]=as(Qo(a[2],l[2],u)),t[3]=lc(Qo(a[3],l[3],u)),t}}var uc=ys;function Rl(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=Vo(e[r]),l=Vo(e[o]),u=i-r,f=Oa([as(Qo(a[0],l[0],u)),as(Qo(a[1],l[1],u)),as(Qo(a[2],l[2],u)),lc(Qo(a[3],l[3],u))],"rgba");return t?{color:f,leftIndex:r,rightIndex:o,value:i}:f}}var Hp=Rl;function cl(n,e,t,i){var r=Vo(n);if(n)return r=function(o){if(o){var a,l,u=o[0]/255,f=o[1]/255,g=o[2]/255,v=Math.min(u,f,g),_=Math.max(u,f,g),S=_-v,A=(_+v)/2;if(S===0)a=0,l=0;else{l=A<.5?S/(_+v):S/(2-_-v);var E=((_-u)/6+S/2)/S,D=((_-f)/6+S/2)/S,R=((_-g)/6+S/2)/S;u===_?a=R-D:f===_?a=1/3+E-R:g===_&&(a=2/3+D-E),a<0&&(a+=1),a>1&&(a-=1)}var z=[360*a,l,A];return o[3]!=null&&z.push(o[3]),z}}(r),e!=null&&(r[0]=function(o){return(o=Math.round(o))<0?0:o>360?360:o}(e)),t!=null&&(r[1]=ou(t)),i!=null&&(r[2]=ou(i)),Oa(vs(r),"rgba")}function hc(n,e){var t=Vo(n);if(t&&e!=null)return t[3]=lc(e),Oa(t,"rgba")}function Oa(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return e!=="rgba"&&e!=="hsva"&&e!=="hsla"||(t+=","+n[3]),e+"("+t+")"}}function ul(n,e){var t=Vo(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var hl=Object.freeze({__proto__:null,parse:Vo,lift:cc,toHex:function(n){var e=Vo(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:ys,fastMapToColor:uc,lerp:Rl,mapToColor:Hp,modifyHSL:cl,modifyAlpha:hc,stringify:Oa,lum:ul,random:function(){return Oa([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),sa=Math.round;function Fa(n){var e;if(n&&n!=="transparent"){if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=Vo(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:e??1}}var Wp=1e-4;function Bs(n){return n<Wp&&n>-1e-4}function xa(n){return sa(1e3*n)/1e3}function zs(n){return sa(1e4*n)/1e4}var au={left:"start",right:"end",center:"middle",middle:"middle"};function Ho(n){return n&&!!n.image}function su(n){return Ho(n)||function(e){return e&&!!e.svgElement}(n)}function Dc(n){return n.type==="linear"}function dl(n){return n.type==="radial"}function uo(n){return n&&(n.type==="linear"||n.type==="radial")}function ss(n){return"url(#"+n+")"}function yd(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function bd(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*ti,r=yi(n.scaleX,1),o=yi(n.scaleY,1),a=n.skewX||0,l=n.skewY||0,u=[];return(e||t)&&u.push("translate("+e+"px,"+t+"px)"),i&&u.push("rotate("+i+")"),r===1&&o===1||u.push("scale("+r+","+o+")"),(a||l)&&u.push("skew("+sa(a*ti)+"deg, "+sa(l*ti)+"deg)"),u.join(" ")}var dc=Oe.hasGlobalWindow&&Ge(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},xd=Array.prototype.slice;function Fs(n,e,t){return(e-n)*t+n}function ju(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=Fs(e[o],t[o],i);return n}function Vs(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=e[o]+t[o]*i;return n}function Hs(n,e,t,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var l=0;l<o;l++)n[a][l]=e[a][l]+t[a][l]*i}return n}function _d(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,o=Math.min(t,i),a=r[o-1]||{color:[0,0,0,0],offset:0},l=o;l<Math.max(t,i);l++)r.push({offset:a.offset,color:a.color.slice()})}function lu(n,e,t){var i=n,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var l=o;l<a;l++)i.push(t===1?r[l]:xd.call(r[l]));var u=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(t===1)isNaN(i[l])&&(i[l]=r[l]);else for(var f=0;f<u;f++)isNaN(i[l][f])&&(i[l][f]=r[l][f])}}function pl(n){if(Fe(n)){var e=n.length;if(Fe(n[0])){for(var t=[],i=0;i<e;i++)t.push(xd.call(n[i]));return t}return xd.call(n)}return n}function Yu(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function wd(n){return n===4||n===5}function Bl(n){return n===1||n===2}var oe=[0,0,0,0],nt=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,l=6,u=t;if(Fe(t)){var f=function(S){return Fe(S&&S[0])?2:1}(t);l=f,(f===1&&!Ln(t[0])||f===2&&!Ln(t[0][0]))&&(a=!0)}else if(Ln(t)&&!oi(t))l=0;else if(Mn(t))if(isNaN(+t)){var g=Vo(t);g&&(u=g,l=3)}else l=0;else if(Wn(t)){var v=me({},u);v.colorStops=lt(t.colorStops,function(S){return{offset:S.offset,color:Vo(S.color)}}),Dc(t)?l=4:dl(t)&&(l=5),u=v}o===0?this.valType=l:l===this.valType&&l!==6||(a=!0),this.discrete=this.discrete||a;var _={time:e,value:u,rawValue:t,percent:0};return i&&(_.easing=i,_.easingFunc=Ge(i)?i:iu[i]||Hu(i)),r.push(_),_},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(E,D){return E.time-D.time});for(var r=this.valType,o=i.length,a=i[o-1],l=this.discrete,u=Bl(r),f=wd(r),g=0;g<o;g++){var v=i[g],_=v.value,S=a.value;v.percent=v.time/e,l||(u&&g!==o-1?lu(_,S,r):f&&_d(_.colorStops,S.colorStops))}if(!l&&r!==5&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var A=i[0].value;for(g=0;g<o;g++)r===0?i[g].additiveValue=i[g].value-A:r===3?i[g].additiveValue=Vs([],i[g].value,A,-1):Bl(r)&&(i[g].additiveValue=r===1?Vs([],i[g].value,A,-1):Hs([],i[g].value,A,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r,o,a=this._additiveTrack!=null,l=a?"additiveValue":"value",u=this.valType,f=this.keyframes,g=f.length,v=this.propName,_=u===3,S=this._lastFr,A=Math.min;if(g===1)r=o=f[0];else{if(t<0)i=0;else if(t<this._lastFrP){for(i=A(S+1,g-1);i>=0&&!(f[i].percent<=t);i--);i=A(i,g-2)}else{for(i=S;i<g&&!(f[i].percent>t);i++);i=A(i-1,g-2)}o=f[i+1],r=f[i]}if(r&&o){this._lastFr=i,this._lastFrP=t;var E=o.percent-r.percent,D=E===0?1:A((t-r.percent)/E,1);o.easingFunc&&(D=o.easingFunc(D));var R=a?this._additiveValue:_?oe:e[v];if(!Bl(u)&&!_||R||(R=this._additiveValue=[]),this.discrete)e[v]=D<1?r.rawValue:o.rawValue;else if(Bl(u))u===1?ju(R,r[l],o[l],D):function(Q,et,ot,xt){for(var St=et.length,Mt=St&&et[0].length,Bt=0;Bt<St;Bt++){Q[Bt]||(Q[Bt]=[]);for(var Zt=0;Zt<Mt;Zt++)Q[Bt][Zt]=Fs(et[Bt][Zt],ot[Bt][Zt],xt)}}(R,r[l],o[l],D);else if(wd(u)){var z=r[l],Y=o[l],G=u===4;e[v]={type:G?"linear":"radial",x:Fs(z.x,Y.x,D),y:Fs(z.y,Y.y,D),colorStops:lt(z.colorStops,function(Q,et){var ot=Y.colorStops[et];return{offset:Fs(Q.offset,ot.offset,D),color:Yu(ju([],Q.color,ot.color,D))}}),global:Y.global},G?(e[v].x2=Fs(z.x2,Y.x2,D),e[v].y2=Fs(z.y2,Y.y2,D)):e[v].r=Fs(z.r,Y.r,D)}else if(_)ju(R,r[l],o[l],D),a||(e[v]=Yu(R));else{var $=Fs(r[l],o[l],D);a?this._additiveValue=$:e[v]=$}a&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;t===0?e[i]=e[i]+r:t===3?(Vo(e[i],oe),Vs(oe,oe,r,1),e[i]=Yu(oe)):t===1?Vs(e[i],e[i],r,1):t===2&&Hs(e[i],e[i],r,1)},n}(),zt=function(){function n(e,t,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?Xt("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,Qe(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var l=i[a],u=o[l];if(!u){u=o[l]=new nt(l);var f=void 0,g=this._getAdditiveTrack(l);if(g){var v=g.keyframes,_=v[v.length-1];f=_&&_.value,g.valType===3&&f&&(f=Yu(f))}else f=this._target[l];if(f==null)continue;e>0&&u.addKeyframe(0,pl(f),r),this._trackKeys.push(l)}u.addKeyframe(e,pl(t[l]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],l=this._tracks[a],u=this._getAdditiveTrack(a),f=l.keyframes,g=f.length;if(l.prepare(r,u),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var v=f[g-1];v&&(t._target[l.propName]=v.rawValue),l.setFinished()}else i.push(l)}if(i.length||this._force){var _=new Vp({life:r,loop:this._loop,delay:this._delay||0,onframe:function(S){t._started=2;var A=t._additiveAnimators;if(A){for(var E=!1,D=0;D<A.length;D++)if(A[D]._clip){E=!0;break}E||(t._additiveAnimators=null)}for(D=0;D<i.length;D++)i[D].step(t._target,S);var R=t._onframeCbs;if(R)for(D=0;D<R.length;D++)R[D](t._target,S)},ondestroy:function(){t._doneCallback()}});this._clip=_,this.animation&&this.animation.addClip(_),e&&_.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return lt(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var a=i[e[o]];a&&!a.isFinished()&&(t?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}var l=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var o=t[r],a=this._tracks[o];if(a&&!a.isFinished()){var l=a.keyframes,u=l[i?0:l.length-1];u&&(e[o]=pl(u.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Qe(e);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var l=a.pop();o.addKeyframe(l.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();function Ee(){return new Date().getTime()}var bn,We,Nn=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,t=t||{},i.stage=t.stage||{},i}return Tt(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=Ee()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next;o.step(i,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Ns(function i(){t._running&&(Ns(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=Ee(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Ee(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Ee()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new zt(t,i.loop);return this.addAnimator(r),r},e}(M),Xn=Oe.domSupported,fi=(We={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:bn=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:lt(bn,function(n){var e=n.replace("mouse","pointer");return We.hasOwnProperty(e)?e:n})}),Bi=["mousemove","mouseup"],Xi=["pointermove","pointerup"],Ci=!1;function Br(n){var e=n.pointerType;return e==="pen"||e==="touch"}function _r(n){n&&(n.zrByTouch=!0)}function Sn(n,e){for(var t=e,i=!1;t&&t.nodeType!==9&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var Pr=function(n,e){this.stopPropagation=Vn,this.stopImmediatePropagation=Vn,this.preventDefault=Vn,this.type=e.type,this.target=this.currentTarget=n.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},sr={mousedown:function(n){n=ce(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=ce(this.dom,n);var e=this.__mayPointerCapture;!e||n.zrX===e[0]&&n.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=ce(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){Sn(this,(n=ce(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Ci=!0,n=ce(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Ci||(n=ce(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){_r(n=ce(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),sr.mousemove.call(this,n),sr.mousedown.call(this,n)},touchmove:function(n){_r(n=ce(this.dom,n)),this.handler.processGesture(n,"change"),sr.mousemove.call(this,n)},touchend:function(n){_r(n=ce(this.dom,n)),this.handler.processGesture(n,"end"),sr.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&sr.click.call(this,n)},pointerdown:function(n){sr.mousedown.call(this,n)},pointermove:function(n){Br(n)||sr.mousemove.call(this,n)},pointerup:function(n){sr.mouseup.call(this,n)},pointerout:function(n){Br(n)||sr.mouseout.call(this,n)}};ht(["click","dblclick","contextmenu"],function(n){sr[n]=function(e){e=ce(this.dom,e),this.trigger(n,e)}});var Qr={pointermove:function(n){Br(n)||Qr.mousemove.call(this,n)},pointerup:function(n){Qr.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Co(n,e){var t=e.domHandlers;Oe.pointerEventsSupported?ht(fi.pointer,function(i){nr(e,i,function(r){t[i].call(n,r)})}):(Oe.touchEventsSupported&&ht(fi.touch,function(i){nr(e,i,function(r){t[i].call(n,r),function(o){o.touching=!0,o.touchTimer!=null&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)}(e)})}),ht(fi.mouse,function(i){nr(e,i,function(r){r=Ot(r),e.touching||t[i].call(n,r)})}))}function Lr(n,e){function t(i){nr(e,i,function(r){r=Ot(r),Sn(n,r.target)||(r=function(o,a){return ce(o.dom,new Pr(o,a),!0)}(n,r),e.domHandlers[i].call(n,r))},{capture:!0})}Oe.pointerEventsSupported?ht(Xi,t):Oe.touchEventsSupported||ht(Bi,t)}function nr(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,xe(n.domTarget,e,t,i)}function Yr(n){var e,t,i,r,o=n.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=n.domTarget,t=a,i=o[a],r=n.listenerOpts[a],e.removeEventListener(t,i,r));n.mounted={}}var dr=function(n,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=e},or=function(n){function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new dr(t,sr),Xn&&(r._globalHandlerScope=new dr(document,Qr)),Co(r,r._localHandlerScope),r}return Tt(e,n),e.prototype.dispose=function(){Yr(this._localHandlerScope),Xn&&Yr(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Xn&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?Lr(this,i):Yr(i)}},e}(M),go=1;Oe.hasGlobalWindow&&(go=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var mo=go,io="#333",Va="#ccc",Ta=ci,no=5e-5;function _a(n){return n>no||n<-5e-5}var la=[],xo=[],ls=[1,0,0,1,0,0],bs=Math.abs,Wo=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return _a(this.rotation)||_a(this.x)||_a(this.y)||_a(this.scaleX-1)||_a(this.scaleY-1)||_a(this.skewX)||_a(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):Ta(i),e&&(t?rr(i,e,i):vr(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&Ta(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(la);var i=la[0]<0?-1:1,r=la[1]<0?-1:1,o=((la[0]-i)*t+i)/la[0]||0,a=((la[1]-r)*t+r)/la[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],qr(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(rr(xo,e.invTransform,t),t=xo);var i=this.originX,r=this.originY;(i||r)&&(ls[4]=i,ls[5]=r,rr(xo,t,ls),xo[4]-=i,xo[5]-=r,t=xo),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&Ui(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&Ui(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&bs(e[0]-1)>1e-10&&bs(e[3]-1)>1e-10?Math.sqrt(bs(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){_o(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,a=e.scaleY,l=e.anchorX,u=e.anchorY,f=e.rotation||0,g=e.x,v=e.y,_=e.skewX?Math.tan(e.skewX):0,S=e.skewY?Math.tan(-e.skewY):0;if(i||r||l||u){var A=i+l,E=r+u;t[4]=-A*o-_*E*a,t[5]=-E*a-S*A*o}else t[4]=t[5]=0;return t[0]=o,t[3]=a,t[1]=S*o,t[2]=_*a,f&&Xr(t,t,f),t[4]+=i+g,t[5]+=r+v,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),Gr=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _o(n,e){for(var t=0;t<Gr.length;t++){var i=Gr[t];n[i]=e[i]}}var qo={};function zo(n,e){var t=qo[e=e||ue];t||(t=qo[e]=new Ll(500));var i=t.get(n);return i==null&&(i=ft.measureText(n,e).width,t.put(n,i)),i}function fl(n,e,t,i){var r=zo(n,e),o=zl(e),a=cu(0,r,t),l=Ws(0,o,i);return new yr(a,l,r,o)}function xs(n,e,t,i){var r=((n||"")+"").split(`
`);if(r.length===1)return fl(r[0],e,t,i);for(var o=new yr(0,0,0,0),a=0;a<r.length;a++){var l=fl(r[a],e,t,i);a===0?o.copy(l):o.union(l)}return o}function cu(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Ws(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function zl(n){return zo("\u56FD",n)}function js(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function uu(n,e,t){var i=e.position||"inside",r=e.distance!=null?e.distance:5,o=t.height,a=t.width,l=o/2,u=t.x,f=t.y,g="left",v="top";if(i instanceof Array)u+=js(i[0],t.width),f+=js(i[1],t.height),g=null,v=null;else switch(i){case"left":u-=r,f+=l,g="right",v="middle";break;case"right":u+=r+a,f+=l,v="middle";break;case"top":u+=a/2,f-=r,g="center",v="bottom";break;case"bottom":u+=a/2,f+=o+r,g="center";break;case"inside":u+=a/2,f+=l,g="center",v="middle";break;case"insideLeft":u+=r,f+=l,v="middle";break;case"insideRight":u+=a-r,f+=l,g="right",v="middle";break;case"insideTop":u+=a/2,f+=r,g="center";break;case"insideBottom":u+=a/2,f+=o-r,g="center",v="bottom";break;case"insideTopLeft":u+=r,f+=r;break;case"insideTopRight":u+=a-r,f+=r,g="right";break;case"insideBottomLeft":u+=r,f+=o-r,v="bottom";break;case"insideBottomRight":u+=a-r,f+=o-r,g="right",v="bottom"}return(n=n||{}).x=u,n.y=f,n.align=g,n.verticalAlign=v,n}var pc="__zr_normal__",fc=Gr.concat(["ignore"]),Jo=an(Gr,function(n,e){return n[e]=!0,n},{ignore:!1}),jo={},gl=new yr(0,0,0,0),Za=function(){function n(e){this.id=le(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,a=void 0,l=void 0,u=!1;o.parent=r?this:null;var f=!1;if(o.copyTransform(t),i.position!=null){var g=gl;i.layoutRect?g.copy(i.layoutRect):g.copy(this.getBoundingRect()),r||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(jo,i,g):uu(jo,i,g),o.x=jo.x,o.y=jo.y,a=jo.align,l=jo.verticalAlign;var v=i.origin;if(v&&i.rotation!=null){var _=void 0,S=void 0;v==="center"?(_=.5*g.width,S=.5*g.height):(_=js(v[0],g.width),S=js(v[1],g.height)),f=!0,o.originX=-o.x+_+(r?0:g.x),o.originY=-o.y+S+(r?0:g.y)}}i.rotation!=null&&(o.rotation=i.rotation);var A=i.offset;A&&(o.x+=A[0],o.y+=A[1],f||(o.originX=-A[0],o.originY=-A[1]));var E=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,D=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),R=void 0,z=void 0,Y=void 0;E&&this.canBeInsideText()?(R=i.insideFill,z=i.insideStroke,R!=null&&R!=="auto"||(R=this.getInsideTextFill()),z!=null&&z!=="auto"||(z=this.getInsideTextStroke(R),Y=!0)):(R=i.outsideFill,z=i.outsideStroke,R!=null&&R!=="auto"||(R=this.getOutsideFill()),z!=null&&z!=="auto"||(z=this.getOutsideStroke(R),Y=!0)),(R=R||"#000")===D.fill&&z===D.stroke&&Y===D.autoStroke&&a===D.align&&l===D.verticalAlign||(u=!0,D.fill=R,D.stroke=z,D.autoStroke=Y,D.align=a,D.verticalAlign=l,t.setDefaultTextStyle(D)),t.__dirty|=1,u&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Va:io},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i=typeof t=="string"&&Vo(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,Oa(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},me(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(di(e))for(var i=Qe(e),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,e[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==pc)){var a=r.targetName,l=a?t[a]:t;r.saveTo(l)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,fc)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var o=i[r];e[o]==null||o in t||(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(pc,!1,e)},n.prototype.useState=function(e,t,i,r){var o=e===pc;if(this.hasState()||!o){var a=this.currentStates,l=this.stateTransition;if(!(dn(a,e)>=0)||!t&&a.length!==1){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),u||o){o||this.saveCurrentToNormalState(u);var f=!!(u&&u.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var g=this._textContent,v=this._textGuide;return g&&g.useState(e,t,i,f),v&&v.useState(e,t,i,f),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}Xt("State "+e+" not exists.")}}},n.prototype.useStates=function(e,t,i){if(e.length){var r=[],o=this.currentStates,a=e.length,l=a===o.length;if(l){for(var u=0;u<a;u++)if(e[u]!==o[u]){l=!1;break}}if(l)return;for(u=0;u<a;u++){var f=e[u],g=void 0;this.stateProxy&&(g=this.stateProxy(f,e)),g||(g=this.states[f]),g&&r.push(g)}var v=r[a-1],_=!!(v&&v.hoverLayer||i);_&&this._toggleHoverLayerFlag(!0);var S=this._mergeStates(r),A=this.stateTransition;this.saveCurrentToNormalState(S),this._applyStateObj(e.join(","),S,this._normalState,!1,!t&&!this.__inHover&&A&&A.duration>0,A);var E=this._textContent,D=this._textGuide;E&&E.useStates(e,t,_),D&&D.useStates(e,t,_),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=dn(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),o=dn(r,e),a=dn(r,t)>=0;o>=0?a?r.splice(o,1):r[o]=t:i&&!a&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t,i={},r=0;r<e.length;r++){var o=e[r];me(i,o),o.textConfig&&me(t=t||{},o.textConfig)}return t&&(i.textConfig=t),i},n.prototype._applyStateObj=function(e,t,i,r,o,a){var l=!(t&&r);t&&t.textConfig?(this.textConfig=me({},r?this.textConfig:i.textConfig),me(this.textConfig,t.textConfig)):l&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},f=!1,g=0;g<fc.length;g++){var v=fc[g],_=o&&Jo[v];t&&t[v]!=null?_?(f=!0,u[v]=t[v]):this[v]=t[v]:l&&i[v]!=null&&(_?(f=!0,u[v]=i[v]):this[v]=i[v])}if(!o)for(g=0;g<this.animators.length;g++){var S=this.animators[g],A=S.targetName;S.getLoop()||S.__changeFinalValue(A?(t||i)[A]:t||i)}f&&this._transitionState(e,u,a)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Wo,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),me(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var r=e?this[e]:this,o=new zt(r,t,i);return e&&(o.targetName=e),this.addAnimator(o,e),o},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,a=dn(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var l=i[a];e&&e!==l.scope?o.push(l):l.stop(t)}return this.animators=o,this},n.prototype.animateTo=function(e,t,i){Sd(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){Sd(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var o=Sd(this,t,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=1;function t(i,r,o,a){function l(u,f){Object.defineProperty(f,0,{get:function(){return u[o]},set:function(g){u[o]=g}}),Object.defineProperty(f,1,{get:function(){return u[a]},set:function(g){u[a]=g}})}Object.defineProperty(e,i,{get:function(){return this[r]||l(this,this[r]=[]),this[r]},set:function(u){this[o]=u[0],this[a]=u[1],this[r]=u,l(this,u)}})}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();function Sd(n,e,t,i,r){var o=[];ws(n,"",n,e,t=t||{},i,o,r);var a=o.length,l=!1,u=t.done,f=t.aborted,g=function(){l=!0,--a<=0&&(l?u&&u():f&&f())},v=function(){--a<=0&&(l?u&&u():f&&f())};a||u&&u(),o.length>0&&t.during&&o[0].during(function(A,E){t.during(E)});for(var _=0;_<o.length;_++){var S=o[_];g&&S.done(g),v&&S.aborted(v),t.force&&S.duration(t.duration),S.start(t.easing)}return o}function Lc(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function _s(n,e,t){if(Fe(e[t]))if(Fe(n[t])||(n[t]=[]),hr(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),Lc(n[t],e[t],i))}else{var r=e[t],o=n[t],a=r.length;if(Fe(r[0]))for(var l=r[0].length,u=0;u<a;u++)o[u]?Lc(o[u],r[u],l):o[u]=Array.prototype.slice.call(r[u]);else Lc(o,r,a);o.length=r.length}else n[t]=e[t]}function ws(n,e,t,i,r,o,a,l){for(var u=Qe(i),f=r.duration,g=r.delay,v=r.additive,_=r.setToFinal,S=!di(o),A=n.animators,E=[],D=0;D<u.length;D++){var R=u[D],z=i[R];if(z!=null&&t[R]!=null&&(S||o[R]))if(!di(z)||Fe(z)||Wn(z))E.push(R);else{if(e){l||(t[R]=z,n.updateDuringAnimation(e));continue}ws(n,R,t[R],z,r,o&&o[R],a,l)}else l||(t[R]=z,n.updateDuringAnimation(e),E.push(R))}var Y=E.length;if(!v&&Y){for(var G=0;G<A.length;G++)if((Q=A[G]).targetName===e&&Q.stopTracks(E)){var $=dn(A,Q);A.splice($,1)}}if(r.force||(E=en(E,function(St){return Mt=i[St],Bt=t[St],!(Mt===Bt||Fe(Mt)&&Fe(Bt)&&function(Zt,se){var pe=Zt.length;if(pe!==se.length)return!1;for(var be=0;be<pe;be++)if(Zt[be]!==se[be])return!1;return!0}(Mt,Bt));var Mt,Bt}),Y=E.length),Y>0||r.force&&!a.length){var Q,et=void 0,ot=void 0,xt=void 0;if(l)for(ot={},_&&(et={}),G=0;G<Y;G++)ot[R=E[G]]=t[R],_?et[R]=i[R]:t[R]=i[R];else if(_)for(xt={},G=0;G<Y;G++)xt[R=E[G]]=pl(t[R]),_s(t,i,R);(Q=new zt(t,!1,!1,v?en(A,function(St){return St.targetName===e}):null)).targetName=e,r.scope&&(Q.scope=r.scope),_&&et&&Q.whenWithKeys(0,et,E),xt&&Q.whenWithKeys(0,xt,E),Q.whenWithKeys(f??500,l?ot:i,E).delay(g||0),n.addAnimator(Q,e),a.push(Q)}}jt(Za,M),jt(Za,Wo);var Di=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return Tt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=dn(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,o=dn(r,t);return o<0||(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++){var a=r[o];t.call(i,a,o)}return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=t.call(i,o);o.isGroup&&!a&&o.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new yr(0,0,0,0),r=t||this._children,o=[],a=null,l=0;l<r.length;l++){var u=r[l];if(!u.ignore&&!u.invisible){var f=u.getBoundingRect(),g=u.getLocalTransform(o);g?(yr.applyTransform(i,f,g),(a=a||i.clone()).union(i)):(a=a||f.clone()).union(f)}}return a||i},e}(Za);Di.prototype.type="group";/*!
    * ZRender, a high performance 2d drawing library.
    *
    * Copyright (c) 2013, Baidu Inc.
    * All rights reserved.
    *
    * LICENSE
    * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
    */var Gu={},Ys={},Fh=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new zp,a=i.renderer||"canvas";Gu[a]||(a=Qe(Gu)[0]),i.useDirtyRect=i.useDirtyRect!=null&&i.useDirtyRect;var l=new Gu[a](t,o,i,e),u=i.ssr||l.ssrOnly;this.storage=o,this.painter=l;var f,g=Oe.node||Oe.worker||u?null:new or(l.getViewportRoot(),l.root),v=i.useCoarsePointer;(v==null||v==="auto"?Oe.touchEventsSupported:v)&&(f=yi(i.pointerSize,44)),this.handler=new Fo(o,l,g,l.root,f),this.animation=new Nn({stage:{update:u?null:function(){return r._flush(!0)}}}),u||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(t){if(!t)return!1;if(typeof t=="string")return ul(t,1)<.4;if(t.colorStops){for(var i=t.colorStops,r=0,o=i.length,a=0;a<o;a++)r+=ul(i[a].color,1);return(r/=o)<.4}return!1}(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=Ee();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=Ee();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Di&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e=this.id,delete Ys[e]},n}();function hu(n,e){var t=new Fh(le(),n,e);return Ys[t.id]=t,t}function Pc(n,e){Gu[n]=e}var Vh=Object.freeze({__proto__:null,init:hu,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in Ys)Ys.hasOwnProperty(n)&&Ys[n].dispose();Ys={}},getInstance:function(n){return Ys[n]},registerPainter:Pc,version:"5.4.3"}),jp=1e-4;function eo(n,e,t,i){var r=e[0],o=e[1],a=t[0],l=t[1],u=o-r,f=l-a;if(u===0)return f===0?a:(a+l)/2;if(i)if(u>0){if(n<=r)return a;if(n>=o)return l}else{if(n>=r)return a;if(n<=o)return l}else{if(n===r)return a;if(n===o)return l}return(n-r)/u*f+a}function ei(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return Mn(n)?(t=n,t.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n;var t}function Mo(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),20),n=(+n).toFixed(e),t?n:+n}function ml(n){return n.sort(function(e,t){return e-t}),n}function Fl(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return Bm(n)}function Bm(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,o=e.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function sg(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),o=Math.round(t(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function y0(n,e){var t=an(n,function(S,A){return S+(isNaN(A)?0:A)},0);if(t===0)return[];for(var i=Math.pow(10,e),r=lt(n,function(S){return(isNaN(S)?0:S)/t*i*100}),o=100*i,a=lt(r,function(S){return Math.floor(S)}),l=an(a,function(S,A){return S+A},0),u=lt(r,function(S,A){return S-a[A]});l<o;){for(var f=Number.NEGATIVE_INFINITY,g=null,v=0,_=u.length;v<_;++v)u[v]>f&&(f=u[v],g=v);++a[g],u[g]=0,++l}return lt(a,function(S){return S/i})}function Vl(n,e){var t=Math.max(Fl(n),Fl(e)),i=n+e;return t>20?i:Mo(i,t)}var Hh=9007199254740991;function lg(n){var e=2*Math.PI;return(n%e+e)%e}function Yp(n){return n>-1e-4&&n<jp}var Nc=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ss(n){if(n instanceof Date)return n;if(Mn(n)){var e=Nc.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return n==null?new Date(NaN):new Date(Math.round(n))}function cg(n){return Math.pow(10,Gs(n))}function Gs(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function zm(n,e){var t=Gs(n),i=Math.pow(10,t),r=n/i;return n=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function Cd(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],o=t-i;return o?r+o*(n[i]-r):r}function Fm(n){n.sort(function(u,f){return l(u,f,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-t),e=r[a],t=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function l(u,f,g){return u.interval[g]<f.interval[g]||u.interval[g]===f.interval[g]&&(u.close[g]-f.close[g]==(g?-1:1)||!g&&l(u,f,1))}}function ho(n){var e=parseFloat(n);return e==n&&(e!==0||!Mn(n)||n.indexOf("x")<=0)?e:NaN}function du(n){return!isNaN(ho(n))}function ug(){return Math.round(9*Math.random())}function hg(n,e){return e===0?n:hg(e,n%e)}function dg(n,e){return n==null?e:e==null?n:n*e/hg(n,e)}typeof console<"u";function pg(n){}function ro(n){throw new Error(n)}function Xu(n,e,t){return(e-n)*t+n}var qu="series\0",Gp="\0_ec_\0";function oo(n){return n instanceof Array?n:n==null?[]:[n]}function pu(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var Uu=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function $u(n){return!di(n)||Be(n)||n instanceof Date?n:n.value}function Vm(n){return di(n)&&!(n instanceof Array)}function b0(n,e,t){var i=t==="normalMerge",r=t==="replaceMerge",o=t==="replaceAll";n=n||[],e=(e||[]).slice();var a=ze();ht(e,function(g,v){di(g)||(e[v]=null)});var l,u,f=function(g,v,_){var S=[];if(_==="replaceAll")return S;for(var A=0;A<g.length;A++){var E=g[A];E&&E.id!=null&&v.set(E.id,A),S.push({existing:_==="replaceMerge"||Wh(E)?null:E,newOption:null,keyInfo:null,brandNew:null})}return S}(n,a,t);return(i||r)&&function(g,v,_,S){ht(S,function(A,E){if(A&&A.id!=null){var D=kd(A.id),R=_.get(D);if(R!=null){var z=g[R];At(!z.newOption,'Duplicated option on id "'+D+'".'),z.newOption=A,z.existing=v[R],S[E]=null}}})}(f,n,a,e),i&&function(g,v){ht(v,function(_,S){if(_&&_.name!=null)for(var A=0;A<g.length;A++){var E=g[A].existing;if(!g[A].newOption&&E&&(E.id==null||_.id==null)&&!Wh(_)&&!Wh(E)&&Hm("name",E,_))return g[A].newOption=_,void(v[S]=null)}})}(f,e),i||r?function(g,v,_){ht(v,function(S){if(S){for(var A,E=0;(A=g[E])&&(A.newOption||Wh(A.existing)||A.existing&&S.id!=null&&!Hm("id",S,A.existing));)E++;A?(A.newOption=S,A.brandNew=_):g.push({newOption:S,brandNew:_,existing:null,keyInfo:null}),E++}})}(f,e,r):o&&function(g,v){ht(v,function(_){g.push({newOption:_,brandNew:!0,existing:null,keyInfo:null})})}(f,e),l=f,u=ze(),ht(l,function(g){var v=g.existing;v&&u.set(v.id,g)}),ht(l,function(g){var v=g.newOption;At(!v||v.id==null||!u.get(v.id)||u.get(v.id)===g,"id duplicates: "+(v&&v.id)),v&&v.id!=null&&u.set(v.id,g),!g.keyInfo&&(g.keyInfo={})}),ht(l,function(g,v){var _=g.existing,S=g.newOption,A=g.keyInfo;if(di(S)){if(A.name=S.name!=null?kd(S.name):_?_.name:qu+v,_)A.id=kd(_.id);else if(S.id!=null)A.id=kd(S.id);else{var E=0;do A.id="\0"+A.name+"\0"+E++;while(u.get(A.id))}u.set(A.id,g)}}),f}function Hm(n,e,t){var i=wa(e[n],null),r=wa(t[n],null);return i!=null&&r!=null&&i===r}function kd(n){return wa(n,"")}function wa(n,e){return n==null?e:Mn(n)?n:Ln(n)||wr(n)?n+"":e}function fg(n){var e=n.name;return!(!e||!e.indexOf(qu))}function Wh(n){return n&&n.id!=null&&kd(n.id).indexOf(Gp)===0}function Zu(n,e){return e.dataIndexInside!=null?e.dataIndexInside:e.dataIndex!=null?Be(e.dataIndex)?lt(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):e.name!=null?Be(e.name)?lt(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function Hr(){var n="__ec_inner_"+Xs++;return function(e){return e[n]||(e[n]={})}}var Xs=ug();function Ku(n,e,t){var i=jh(e,t),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,l=t?t.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each(function(u,f){var g=Ad(n,f,u,{useDefault:l===f,enableAll:!t||t.enableAll==null||t.enableAll,enableNone:!t||t.enableNone==null||t.enableNone});a[f+"Models"]=g.models,a[f+"Model"]=g.models[0]}),a}function jh(n,e){var t;if(Mn(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=ze(),o={},a=!1;return ht(t,function(l,u){if(u!=="dataIndex"&&u!=="dataIndexInside"){var f=u.match(/^(\w+)(Index|Id|Name)$/)||[],g=f[1],v=(f[2]||"").toLowerCase();g&&v&&!(e&&e.includeMainTypes&&dn(e.includeMainTypes,g)<0)&&(a=a||!!g,(r.get(g)||r.set(g,{}))[v]=l)}else o[u]=l}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var da={useDefault:!0,enableAll:!1,enableNone:!1},x0={useDefault:!1,enableAll:!0,enableNone:!0};function Ad(n,e,t,i){i=i||da;var r=t.index,o=t.id,a=t.name,l={models:null,specified:r!=null||o!=null||a!=null};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=n.getComponent(e))?[u]:[],l}return r==="none"||r===!1?(At(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):(r==="all"&&(At(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),l.models=n.queryComponents({mainType:e,index:r,id:o,name:a}),l)}function Rc(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function Md(n,e){var t=ze(),i=[];return ht(n,function(r){var o=e(r);(t.get(o)||(i.push(o),t.set(o,[]))).push(r)}),{keys:i,buckets:t}}function gg(n,e,t,i,r){var o=e==null||e==="auto";if(i==null)return i;if(Ln(i))return Mo(A=Xu(t||0,i,r),o?Math.max(Fl(t||0),Fl(i)):e);if(Mn(i))return r<1?t:i;for(var a=[],l=t,u=i,f=Math.max(l?l.length:0,u.length),g=0;g<f;++g){var v=n.getDimensionInfo(g);if(v&&v.type==="ordinal")a[g]=(r<1&&l?l:u)[g];else{var _=l&&l[g]?l[g]:0,S=u[g],A=Xu(_,S,r);a[g]=Mo(A,o?Math.max(Fl(_),Fl(S)):e)}}return a}var gc="___EC__COMPONENT__CONTAINER___",mg="___EC__EXTENDED_CLASS___";function Hl(n){var e={main:"",sub:""};if(n){var t=n.split(".");e.main=t[0]||"",e.sub=t[1]||""}return e}function Td(n,e){n.$constructor=n,n.extend=function(t){var i,r,o=this;return Ge(r=o)&&/^class\s/.test(Function.prototype.toString.call(r))?i=function(a){function l(){return a.apply(this,arguments)||this}return Tt(l,a),l}(o):(i=function(){(t.$constructor||o).apply(this,arguments)},gn(i,this)),me(i.prototype,t),i[mg]=!0,i.extend=this.extend,i.superCall=vg,i.superApply=_0,i.superClass=o,i}}function fu(n,e){n.extend=e.extend}var Xp=Math.round(10*Math.random());function vg(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function _0(n,e,t){return this.superClass.prototype[e].apply(n,t)}function Bc(n){var e={};n.registerClass=function(t){var i,r=t.type||t.prototype.type;if(r){At(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),t.prototype.type=r;var o=Hl(r);if(o.sub){if(o.sub!==gc){var a=function(l){var u=e[l.main];return u&&u[gc]||((u=e[l.main]={})[gc]=!0),u}(o);a[o.sub]=t}}else e[o.main]=t}return t},n.getClass=function(t,i,r){var o=e[t];if(o&&o[gc]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return o},n.getClassesByMainType=function(t){var i=Hl(t),r=[],o=e[i.main];return o&&o[gc]?ht(o,function(a,l){l!==gc&&r.push(a)}):r.push(o),r},n.hasClass=function(t){var i=Hl(t);return!!e[i.main]},n.getAllClassMainTypes=function(){var t=[];return ht(e,function(i,r){t.push(r)}),t},n.hasSubTypes=function(t){var i=Hl(t),r=e[i.main];return r&&r[gc]}}function ta(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,o){for(var a={},l=0;l<n.length;l++){var u=n[l][1];if(!(r&&dn(r,u)>=0||o&&dn(o,u)<0)){var f=i.getShallow(u,e);f!=null&&(a[n[l][0]]=f)}}return a}}var qp=ta([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),yg=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return qp(this,e,t)},n}(),bg=new Ll(50);function Ia(n){if(typeof n=="string"){var e=bg.get(n);return e&&e.image}return n}function Up(n,e,t,i,r){if(n){if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var o=bg.get(n),a={hostEl:t,cb:i,cbPayload:r};return o?!Id(e=o.image)&&o.pending.push(a):((e=ft.loadImage(n,Wm,Wm)).__zrImageSrc=n,bg.put(n,e.__cachedImgObj={image:e,pending:[a]})),e}return n}return e}function Wm(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function Id(n){return n&&n.width&&n.height}var zc=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function xg(n,e,t,i,r){if(!e)return"";var o=(n+"").split(`
`);r=jm(e,t,i,r);for(var a=0,l=o.length;a<l;a++)o[a]=Ym(o[a],r);return o.join(`
`)}function jm(n,e,t,i){var r=me({},i=i||{});r.font=e,t=yi(t,"..."),r.maxIterations=yi(i.maxIterations,2);var o=r.minChar=yi(i.minChar,0);r.cnCharWidth=zo("\u56FD",e);var a=r.ascCharWidth=zo("a",e);r.placeholder=yi(i.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<o&&l>=a;u++)l-=a;var f=zo(t,e);return f>l&&(t="",f=0),l=n-f,r.ellipsis=t,r.ellipsisWidth=f,r.contentWidth=l,r.containerWidth=n,r}function Ym(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var o=zo(n,i);if(o<=t)return n;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){n+=e.ellipsis;break}var l=a===0?$p(n,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=zo(n=n.substr(0,l),i)}return n===""&&(n=e.placeholder),n}function $p(n,e,t,i){for(var r=0,o=0,a=n.length;o<a&&r<e;o++){var l=n.charCodeAt(o);r+=0<=l&&l<=127?t:i}return o}var w0=function(){},Zp=function(n){this.tokens=[],n&&(this.tokens=n)},_g=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Qu(n,e,t,i,r){var o,a,l=e==="",u=r&&t.rich[r]||{},f=n.lines,g=u.font||t.font,v=!1;if(i){var _=u.padding,S=_?_[1]+_[3]:0;if(u.width!=null&&u.width!=="auto"){var A=js(u.width,i.width)+S;f.length>0&&A+i.accumWidth>i.width&&(o=e.split(`
`),v=!0),i.accumWidth=A}else{var E=Kp(e,g,i.width,i.breakAll,i.accumWidth);i.accumWidth=E.accumWidth+S,a=E.linesWidths,o=E.lines}}else o=e.split(`
`);for(var D=0;D<o.length;D++){var R=o[D],z=new w0;if(z.styleName=r,z.text=R,z.isLineHolder=!R&&!l,typeof u.width=="number"?z.width=u.width:z.width=a?a[D]:zo(R,g),D||v)f.push(new Zp([z]));else{var Y=(f[f.length-1]||(f[0]=new Zp)).tokens,G=Y.length;G===1&&Y[0].isLineHolder?Y[0]=z:(R||!G||l)&&Y.push(z)}}}var f_=an(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function Ju(n){return!function(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(n)||!!f_[n]}function Kp(n,e,t,i,r){for(var o=[],a=[],l="",u="",f=0,g=0,v=0;v<n.length;v++){var _=n.charAt(v);if(_!==`
`){var S=zo(_,e),A=!i&&!Ju(_);(o.length?g+S>t:r+g+S>t)?g?(l||u)&&(A?(l||(l=u,u="",g=f=0),o.push(l),a.push(g-f),u+=_,l="",g=f+=S):(u&&(l+=u,u="",f=0),o.push(l),a.push(g),l=_,g=S)):A?(o.push(u),a.push(f),u=_,f=S):(o.push(_),a.push(S)):(g+=S,A?(u+=_,f+=S):(u&&(l+=u,u="",f=0),l+=_))}else u&&(l+=u,g+=f),o.push(l),a.push(g),l="",u="",f=0,g=0}return o.length||l||(l=n,u="",f=0),u&&(l+=u),l&&(o.push(l),a.push(g)),o.length===1&&(g+=r),{accumWidth:g,lines:o,linesWidths:a}}var wg="__zr_style_"+Math.round(10*Math.random()),gu={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Ed={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};gu[wg]=!0;var Od=["z","z2","invisible"],Qp=["invisible"],Ka=function(n){function e(i){return n.call(this,i)||this}var t;return Tt(e,n),e.prototype._init=function(i){for(var r=Qe(i),o=0;o<r.length;o++){var a=r[o];a==="style"?this.useStyle(i[a]):n.prototype.attrKV.call(this,a,i[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(i,r,o,a){var l=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&function(g,v,_){return th.copy(g.getBoundingRect()),g.transform&&th.applyTransform(g.transform),vl.width=v,vl.height=_,!th.intersect(vl)}(this,i,r)||l&&!l[0]&&!l[3])return!1;if(o&&this.__clipPaths){for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1}if(a&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},e.prototype.contain=function(i,r){return this.rectContain(i,r)},e.prototype.traverse=function(i,r){i.call(r,this)},e.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},e.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,l=a.shadowBlur||0,u=a.shadowOffsetX||0,f=a.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new yr(0,0,0,0)),r?yr.applyTransform(i,o,r):i.copy(o),(l||u||f)&&(i.width+=2*l+Math.abs(u),i.height+=2*l+Math.abs(f),i.x=Math.min(i.x,i.x+u-l),i.y=Math.min(i.y,i.y+f-l));var g=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-g),i.y=Math.floor(i.y-g),i.width=Math.ceil(i.width+1+2*g),i.height=Math.ceil(i.height+1+2*g))}return i},e.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new yr(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(i){return this.animate("style",i)},e.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(i,r){i!=="style"?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(i,r){return typeof i=="string"?this.style[i]=r:me(this.style,i),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(i){return Ii(gu,i)},e.prototype.useStyle=function(i){i[wg]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},e.prototype.isStyleObject=function(i){return i[wg]},e.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,Od)},e.prototype._applyStateObj=function(i,r,o,a,l,u){n.prototype._applyStateObj.call(this,i,r,o,a,l,u);var f,g=!(r&&a);if(r&&r.style?l?a?f=r.style:(f=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(f,r.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(f,r.style)):g&&(f=o.style),f)if(l){var v=this.style;if(this.style=this.createStyle(g?{}:v),g)for(var _=Qe(v),S=0;S<_.length;S++)(E=_[S])in f&&(f[E]=f[E],this.style[E]=v[E]);var A=Qe(f);for(S=0;S<A.length;S++){var E=A[S];this.style[E]=this.style[E]}this._transitionState(i,{style:f},u,this.getAnimationStyleProps())}else this.useStyle(f);var D=this.__inHover?Qp:Od;for(S=0;S<D.length;S++)E=D[S],r&&r[E]!=null?this[E]=r[E]:g&&o[E]!=null&&(this[E]=o[E])},e.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var l=i[a];l.style&&(r=r||{},this._mergeStyle(r,l.style))}return r&&(o.style=r),o},e.prototype._mergeStyle=function(i,r){return me(i,r),i},e.prototype.getAnimationStyleProps=function(){return Ed},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),e}(Za),th=new yr(0,0,0,0),vl=new yr(0,0,0,0),Sr=Math.min,qs=Math.max,Wl=Math.sin,ca=Math.cos,jl=2*Math.PI,Yh=wi(),eh=wi(),Cs=wi();function Sa(n,e,t){if(n.length!==0){for(var i=n[0],r=i[0],o=i[0],a=i[1],l=i[1],u=1;u<n.length;u++)i=n[u],r=Sr(r,i[0]),o=qs(o,i[0]),a=Sr(a,i[1]),l=qs(l,i[1]);e[0]=r,e[1]=a,t[0]=o,t[1]=l}}function Gm(n,e,t,i,r,o){r[0]=Sr(n,t),r[1]=Sr(e,i),o[0]=qs(n,t),o[1]=qs(e,i)}var pa=[],Dd=[];function Xm(n,e,t,i,r,o,a,l,u,f){var g=gd,v=ba,_=g(n,t,r,a,pa);u[0]=1/0,u[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var S=0;S<_;S++){var A=v(n,t,r,a,pa[S]);u[0]=Sr(A,u[0]),f[0]=qs(A,f[0])}for(_=g(e,i,o,l,Dd),S=0;S<_;S++){var E=v(e,i,o,l,Dd[S]);u[1]=Sr(E,u[1]),f[1]=qs(E,f[1])}u[0]=Sr(n,u[0]),f[0]=qs(n,f[0]),u[0]=Sr(a,u[0]),f[0]=qs(a,f[0]),u[1]=Sr(e,u[1]),f[1]=qs(e,f[1]),u[1]=Sr(l,u[1]),f[1]=qs(l,f[1])}function I(n,e,t,i,r,o,a,l){var u=Ma,f=Vr,g=qs(Sr(u(n,t,r),1),0),v=qs(Sr(u(e,i,o),1),0),_=f(n,t,r,g),S=f(e,i,o,v);a[0]=Sr(n,r,_),a[1]=Sr(e,o,S),l[0]=qs(n,r,_),l[1]=qs(e,o,S)}function b(n,e,t,i,r,o,a,l,u){var f=qt,g=h,v=Math.abs(r-o);if(v%jl<1e-4&&v>1e-4)return l[0]=n-t,l[1]=e-i,u[0]=n+t,void(u[1]=e+i);if(Yh[0]=ca(r)*t+n,Yh[1]=Wl(r)*i+e,eh[0]=ca(o)*t+n,eh[1]=Wl(o)*i+e,f(l,Yh,eh),g(u,Yh,eh),(r%=jl)<0&&(r+=jl),(o%=jl)<0&&(o+=jl),r>o&&!a?o+=jl:r<o&&a&&(r+=jl),a){var _=o;o=r,r=_}for(var S=0;S<o;S+=Math.PI/2)S>r&&(Cs[0]=ca(S)*t+n,Cs[1]=Wl(S)*i+e,f(l,Cs,l),g(u,Cs,u))}var k={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},L=[],B=[],H=[],X=[],tt=[],at=[],mt=Math.min,Ft=Math.max,Lt=Math.cos,Ht=Math.sin,ae=Math.abs,Se=Math.PI,ge=2*Se,Ce=typeof Float32Array<"u",Ue=[];function xn(n){return Math.round(n/Se*1e8)/1e8%2*Se}function yn(n,e){var t=xn(n[0]);t<0&&(t+=ge);var i=t-n[0],r=n[1];r+=i,!e&&r-t>=ge?r=t+ge:e&&t-r>=ge?r=t-ge:!e&&t>r?r=t+(ge-xn(t-r)):e&&t<r&&(r=t-(ge-xn(r-t))),n[0]=t,n[1]=r}var mn=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=ae(i/mo/e)||0,this._uy=ae(i/mo/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(k.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=ae(e-this._xi),r=ae(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(k.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){return this._drawPendingPt(),this.addData(k.C,e,t,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(k.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,o,a){this._drawPendingPt(),Ue[0]=r,Ue[1]=o,yn(Ue,a),r=Ue[0];var l=(o=Ue[1])-r;return this.addData(k.A,e,t,i,i,r,l,0,a?0:1),this._ctx&&this._ctx.arc(e,t,i,r,o,a),this._xi=Lt(o)*i+e,this._yi=Ht(o)*i+t,this},n.prototype.arcTo=function(e,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,o),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(k.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(k.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!Ce||(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,o=0;o<t;o++)i+=e[o].len();for(Ce&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<t;o++)for(var a=e[o].data,l=0;l<a.length;l++)this.data[r++]=a[l];this._len=r},n.prototype.addData=function(e,t,i,r,o,a,l,u,f){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var v=0;v<arguments.length;v++)g[this._len++]=arguments[v]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Ce&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){H[0]=H[1]=tt[0]=tt[1]=Number.MAX_VALUE,X[0]=X[1]=at[0]=at[1]=-Number.MAX_VALUE;var e,t=this.data,i=0,r=0,o=0,a=0;for(e=0;e<this._len;){var l=t[e++],u=e===1;switch(u&&(o=i=t[e],a=r=t[e+1]),l){case k.M:i=o=t[e++],r=a=t[e++],tt[0]=o,tt[1]=a,at[0]=o,at[1]=a;break;case k.L:Gm(i,r,t[e],t[e+1],tt,at),i=t[e++],r=t[e++];break;case k.C:Xm(i,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],tt,at),i=t[e++],r=t[e++];break;case k.Q:I(i,r,t[e++],t[e++],t[e],t[e+1],tt,at),i=t[e++],r=t[e++];break;case k.A:var f=t[e++],g=t[e++],v=t[e++],_=t[e++],S=t[e++],A=t[e++]+S;e+=1;var E=!t[e++];u&&(o=Lt(S)*v+f,a=Ht(S)*_+g),b(f,g,v,_,S,A,E,tt,at),i=Lt(A)*v+f,r=Ht(A)*_+g;break;case k.R:Gm(o=i=t[e++],a=r=t[e++],o+t[e++],a+t[e++],tt,at);break;case k.Z:i=o,r=a}qt(H,H,tt),h(X,X,at)}return e===0&&(H[0]=H[1]=X[0]=X[1]=0),new yr(H[0],H[1],X[0]-H[0],X[1]-H[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,o=0,a=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,g=0,v=0,_=0;_<t;){var S=e[_++],A=_===1;A&&(l=o=e[_],u=a=e[_+1]);var E=-1;switch(S){case k.M:o=l=e[_++],a=u=e[_++];break;case k.L:var D=e[_++],R=(G=e[_++])-a;(ae(se=D-o)>i||ae(R)>r||_===t-1)&&(E=Math.sqrt(se*se+R*R),o=D,a=G);break;case k.C:var z=e[_++],Y=e[_++],G=(D=e[_++],e[_++]),$=e[_++],Q=e[_++];E=Dl(o,a,z,Y,D,G,$,Q,10),o=$,a=Q;break;case k.Q:E=os(o,a,z=e[_++],Y=e[_++],D=e[_++],G=e[_++],10),o=D,a=G;break;case k.A:var et=e[_++],ot=e[_++],xt=e[_++],St=e[_++],Mt=e[_++],Bt=e[_++],Zt=Bt+Mt;_+=1,e[_++],A&&(l=Lt(Mt)*xt+et,u=Ht(Mt)*St+ot),E=Ft(xt,St)*mt(ge,Math.abs(Bt)),o=Lt(Zt)*xt+et,a=Ht(Zt)*St+ot;break;case k.R:l=o=e[_++],u=a=e[_++],E=2*e[_++]+2*e[_++];break;case k.Z:var se=l-o;R=u-a,E=Math.sqrt(se*se+R*R),o=l,a=u}E>=0&&(f[v++]=E,g+=E)}return this._pathLen=g,g},n.prototype.rebuildPath=function(e,t){var i,r,o,a,l,u,f,g,v,_,S=this.data,A=this._ux,E=this._uy,D=this._len,R=t<1,z=0,Y=0,G=0;if(!R||(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,g=t*this._pathLen))t:for(var $=0;$<D;){var Q=S[$++],et=$===1;switch(et&&(i=o=S[$],r=a=S[$+1]),Q!==k.L&&G>0&&(e.lineTo(v,_),G=0),Q){case k.M:i=o=S[$++],r=a=S[$++],e.moveTo(o,a);break;case k.L:l=S[$++],u=S[$++];var ot=ae(l-o),xt=ae(u-a);if(ot>A||xt>E){if(R){if(z+(cr=f[Y++])>g){var St=(g-z)/cr;e.lineTo(o*(1-St)+l*St,a*(1-St)+u*St);break t}z+=cr}e.lineTo(l,u),o=l,a=u,G=0}else{var Mt=ot*ot+xt*xt;Mt>G&&(v=l,_=u,G=Mt)}break;case k.C:var Bt=S[$++],Zt=S[$++],se=S[$++],pe=S[$++],be=S[$++],we=S[$++];if(R){if(z+(cr=f[Y++])>g){Ir(o,Bt,se,be,St=(g-z)/cr,L),Ir(a,Zt,pe,we,St,B),e.bezierCurveTo(L[1],B[1],L[2],B[2],L[3],B[3]);break t}z+=cr}e.bezierCurveTo(Bt,Zt,se,pe,be,we),o=be,a=we;break;case k.Q:if(Bt=S[$++],Zt=S[$++],se=S[$++],pe=S[$++],R){if(z+(cr=f[Y++])>g){ac(o,Bt,se,St=(g-z)/cr,L),ac(a,Zt,pe,St,B),e.quadraticCurveTo(L[1],B[1],L[2],B[2]);break t}z+=cr}e.quadraticCurveTo(Bt,Zt,se,pe),o=se,a=pe;break;case k.A:var Re=S[$++],Ze=S[$++],Je=S[$++],rn=S[$++],An=S[$++],Yn=S[$++],cn=S[$++],Pn=!S[$++],Jn=Je>rn?Je:rn,Kn=ae(Je-rn)>.001,Gn=An+Yn,ri=!1;if(R&&(z+(cr=f[Y++])>g&&(Gn=An+Yn*(g-z)/cr,ri=!0),z+=cr),Kn&&e.ellipse?e.ellipse(Re,Ze,Je,rn,cn,An,Gn,Pn):e.arc(Re,Ze,Jn,An,Gn,Pn),ri)break t;et&&(i=Lt(An)*Je+Re,r=Ht(An)*rn+Ze),o=Lt(Gn)*Je+Re,a=Ht(Gn)*rn+Ze;break;case k.R:i=o=S[$],r=a=S[$+1],l=S[$++],u=S[$++];var qn=S[$++],li=S[$++];if(R){if(z+(cr=f[Y++])>g){var Ai=g-z;e.moveTo(l,u),e.lineTo(l+mt(Ai,qn),u),(Ai-=qn)>0&&e.lineTo(l+qn,u+mt(Ai,li)),(Ai-=li)>0&&e.lineTo(l+Ft(qn-Ai,0),u+li),(Ai-=qn)>0&&e.lineTo(l,u+Ft(li-Ai,0));break t}z+=cr}e.rect(l,u,qn,li);break;case k.Z:if(R){var cr;if(z+(cr=f[Y++])>g){St=(g-z)/cr,e.lineTo(o*(1-St)+i*St,a*(1-St)+r*St);break t}z+=cr}e.closePath(),o=i,a=r}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=k,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();function Rn(n,e,t,i,r,o,a){if(r===0)return!1;var l=r,u=0;if(a>e+l&&a>i+l||a<e-l&&a<i-l||o>n+l&&o>t+l||o<n-l&&o<t-l)return!1;if(n===t)return Math.abs(o-n)<=l/2;var f=(u=(e-i)/(n-t))*o-a+(n*i-t*e)/(n-t);return f*f/(u*u+1)<=l/2*l/2}function $n(n,e,t,i,r,o,a,l,u,f,g){if(u===0)return!1;var v=u;return!(g>e+v&&g>i+v&&g>o+v&&g>l+v||g<e-v&&g<i-v&&g<o-v&&g<l-v||f>n+v&&f>t+v&&f>r+v&&f>a+v||f<n-v&&f<t-v&&f<r-v&&f<a-v)&&Ua(n,e,t,i,r,o,a,l,f,g,null)<=v/2}function mi(n,e,t,i,r,o,a,l,u){if(a===0)return!1;var f=a;return!(u>e+f&&u>i+f&&u>o+f||u<e-f&&u<i-f&&u<o-f||l>n+f&&l>t+f&&l>r+f||l<n-f&&l<t-f&&l<r-f)&&Rs(n,e,t,i,r,o,l,u,null)<=f/2}var Ei=2*Math.PI;function Mi(n){return(n%=Ei)<0&&(n+=Ei),n}var Si=2*Math.PI;function tr(n,e,t,i,r,o,a,l,u){if(a===0)return!1;var f=a;l-=n,u-=e;var g=Math.sqrt(l*l+u*u);if(g-f>t||g+f<t)return!1;if(Math.abs(i-r)%Si<1e-4)return!0;if(o){var v=i;i=Mi(r),r=Mi(v)}else i=Mi(i),r=Mi(r);i>r&&(r+=Si);var _=Math.atan2(u,l);return _<0&&(_+=Si),_>=i&&_<=r||_+Si>=i&&_+Si<=r}function Vi(n,e,t,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var a=(o-e)/(i-e),l=i<e?1:-1;a!==1&&a!==0||(l=i<e?.5:-.5);var u=a*(t-n)+n;return u===r?1/0:u>r?l:0}var Oi=mn.CMD,Ri=2*Math.PI,_i=[-1,-1,-1],br=[-1,-1];function vo(n,e,t,i,r,o,a,l,u,f){if(f>e&&f>i&&f>o&&f>l||f<e&&f<i&&f<o&&f<l)return 0;var g,v=za(e,i,o,l,f,_i);if(v===0)return 0;for(var _=0,S=-1,A=void 0,E=void 0,D=0;D<v;D++){var R=_i[D],z=R===0||R===1?.5:1;ba(n,t,r,a,R)<u||(S<0&&(S=gd(e,i,o,l,br),br[1]<br[0]&&S>1&&(g=void 0,g=br[0],br[0]=br[1],br[1]=g),A=ba(e,i,o,l,br[0]),S>1&&(E=ba(e,i,o,l,br[1]))),S===2?R<br[0]?_+=A<e?z:-z:R<br[1]?_+=E<A?z:-z:_+=l<E?z:-z:R<br[0]?_+=A<e?z:-z:_+=l<A?z:-z)}return _}function yo(n,e,t,i,r,o,a,l){if(l>e&&l>i&&l>o||l<e&&l<i&&l<o)return 0;var u=function(A,E,D,R,z){var Y=A-2*E+D,G=2*(E-A),$=A-R,Q=0;if(qa(Y))Ke(G)&&(ot=-$/G)>=0&&ot<=1&&(z[Q++]=ot);else{var et=G*G-4*Y*$;if(qa(et))(ot=-G/(2*Y))>=0&&ot<=1&&(z[Q++]=ot);else if(et>0){var ot,xt=Il(et),St=(-G-xt)/(2*Y);(ot=(-G+xt)/(2*Y))>=0&&ot<=1&&(z[Q++]=ot),St>=0&&St<=1&&(z[Q++]=St)}}return Q}(e,i,o,l,_i);if(u===0)return 0;var f=Ma(e,i,o);if(f>=0&&f<=1){for(var g=0,v=Vr(e,i,o,f),_=0;_<u;_++){var S=_i[_]===0||_i[_]===1?.5:1;Vr(n,t,r,_i[_])<a||(_i[_]<f?g+=v<e?S:-S:g+=o<v?S:-S)}return g}return S=_i[0]===0||_i[0]===1?.5:1,Vr(n,t,r,_i[0])<a?0:o<e?S:-S}function Ca(n,e,t,i,r,o,a,l){if((l-=e)>t||l<-t)return 0;var u=Math.sqrt(t*t-l*l);_i[0]=-u,_i[1]=u;var f=Math.abs(i-r);if(f<1e-4)return 0;if(f>=Ri-1e-4){i=0,r=Ri;var g=o?1:-1;return a>=_i[0]+n&&a<=_i[1]+n?g:0}if(i>r){var v=i;i=r,r=v}i<0&&(i+=Ri,r+=Ri);for(var _=0,S=0;S<2;S++){var A=_i[S];if(A+n>a){var E=Math.atan2(l,A);g=o?1:-1,E<0&&(E=Ri+E),(E>=i&&E<=r||E+Ri>=i&&E+Ri<=r)&&(E>Math.PI/2&&E<1.5*Math.PI&&(g=-g),_+=g)}}return _}function cs(n,e,t,i,r){for(var o,a,l,u,f=n.data,g=n.len(),v=0,_=0,S=0,A=0,E=0,D=0;D<g;){var R=f[D++],z=D===1;switch(R===Oi.M&&D>1&&(t||(v+=Vi(_,S,A,E,i,r))),z&&(A=_=f[D],E=S=f[D+1]),R){case Oi.M:_=A=f[D++],S=E=f[D++];break;case Oi.L:if(t){if(Rn(_,S,f[D],f[D+1],e,i,r))return!0}else v+=Vi(_,S,f[D],f[D+1],i,r)||0;_=f[D++],S=f[D++];break;case Oi.C:if(t){if($n(_,S,f[D++],f[D++],f[D++],f[D++],f[D],f[D+1],e,i,r))return!0}else v+=vo(_,S,f[D++],f[D++],f[D++],f[D++],f[D],f[D+1],i,r)||0;_=f[D++],S=f[D++];break;case Oi.Q:if(t){if(mi(_,S,f[D++],f[D++],f[D],f[D+1],e,i,r))return!0}else v+=yo(_,S,f[D++],f[D++],f[D],f[D+1],i,r)||0;_=f[D++],S=f[D++];break;case Oi.A:var Y=f[D++],G=f[D++],$=f[D++],Q=f[D++],et=f[D++],ot=f[D++];D+=1;var xt=!!(1-f[D++]);o=Math.cos(et)*$+Y,a=Math.sin(et)*Q+G,z?(A=o,E=a):v+=Vi(_,S,o,a,i,r);var St=(i-Y)*Q/$+Y;if(t){if(tr(Y,G,Q,et,et+ot,xt,e,St,r))return!0}else v+=Ca(Y,G,Q,et,et+ot,xt,St,r);_=Math.cos(et+ot)*$+Y,S=Math.sin(et+ot)*Q+G;break;case Oi.R:if(A=_=f[D++],E=S=f[D++],o=A+f[D++],a=E+f[D++],t){if(Rn(A,E,o,E,e,i,r)||Rn(o,E,o,a,e,i,r)||Rn(o,a,A,a,e,i,r)||Rn(A,a,A,E,e,i,r))return!0}else v+=Vi(o,E,o,a,i,r),v+=Vi(A,a,A,E,i,r);break;case Oi.Z:if(t){if(Rn(_,S,A,E,e,i,r))return!0}else v+=Vi(_,S,A,E,i,r);_=A,S=E}}return t||(l=S,u=E,Math.abs(l-u)<1e-4)||(v+=Vi(_,S,A,E,i,r)||0),v!==0}var Qa=Ne({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},gu),ks={style:Ne({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Ed.style)},As=Gr.concat(["invisible","culling","z","z2","zlevel","parent"]),pr=function(n){function e(i){return n.call(this,i)||this}var t;return Tt(e,n),e.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(f){i.buildPath(f,i.shape)}),o.silent=!0;var a=o.style;for(var l in r)a[l]!==r[l]&&(a[l]=r[l]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var u=0;u<As.length;++u)o[As[u]]=this[As[u]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(i){var r=Qe(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var l=r[a],u=i[l];l==="style"?this.style?me(this.style,u):this.useStyle(u):l==="shape"?me(this.shape,u):n.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var i=this.style.fill;if(i!=="none"){if(Mn(i)){var r=ul(i,0);return r>.5?io:r>.2?"#eee":Va}if(i)return Va}return io},e.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(Mn(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==ul(i,0)<.4)return r}},e.prototype.buildPath=function(i,r,o){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},e.prototype.createPathProxy=function(){this.path=new mn(!1)},e.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(r==null||r==="none"||!(i.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return i!=null&&i!=="none"},e.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var l=this.path;(a||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),i=l.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=i.clone());if(this.__dirty||o){u.copy(i);var f=r.strokeNoScale?this.getLineScale():1,g=r.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;g=Math.max(g,v??4)}f>1e-10&&(u.width+=g/f,u.height+=g/f,u.x-=g/f/2,u.y-=g/f/2)}return u}return i},e.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),a=this.getBoundingRect(),l=this.style;if(i=o[0],r=o[1],a.contain(i,r)){var u=this.path;if(this.hasStroke()){var f=l.lineWidth,g=l.strokeNoScale?this.getLineScale():1;if(g>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),function(v,_,S,A){return cs(v,_,!0,S,A)}(u,f/g,i,r)))return!0}if(this.hasFill())return function(v,_,S){return cs(v,0,!1,_,S)}(u,i,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(i){return this.animate("shape",i)},e.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():i==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(i,r){i==="shape"?this.setShape(r):n.prototype.attrKV.call(this,i,r)},e.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),typeof i=="string"?o[i]=r:me(o,i),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(i){return Ii(Qa,i)},e.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=me({},this.shape))},e.prototype._applyStateObj=function(i,r,o,a,l,u){n.prototype._applyStateObj.call(this,i,r,o,a,l,u);var f,g=!(r&&a);if(r&&r.shape?l?a?f=r.shape:(f=me({},o.shape),me(f,r.shape)):(f=me({},a?this.shape:o.shape),me(f,r.shape)):g&&(f=o.shape),f)if(l){this.shape=me({},this.shape);for(var v={},_=Qe(f),S=0;S<_.length;S++){var A=_[S];typeof f[A]=="object"?this.shape[A]=f[A]:v[A]=f[A]}this._transitionState(i,{shape:v},u)}else this.shape=f,this.dirtyShape()},e.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var l=i[a];l.shape&&(r=r||{},this._mergeStyle(r,l.shape))}return r&&(o.shape=r),o},e.prototype.getAnimationStyleProps=function(){return ks},e.prototype.isZeroArea=function(){return!1},e.extend=function(i){var r=function(a){function l(u){var f=a.call(this,u)||this;return i.init&&i.init.call(f,u),f}return Tt(l,a),l.prototype.getDefaultStyle=function(){return Kt(i.style)},l.prototype.getDefaultShape=function(){return Kt(i.shape)},l}(e);for(var o in i)typeof i[o]=="function"&&(r.prototype[o]=i[o]);return r},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7)),e}(Ka),Yl=Ne({strokeFirst:!0,font:ue,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Qa),us=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return i!=null&&i!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return t!=null&&t!=="none"},e.prototype.createStyle=function(t){return Ii(Yl,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;i!=null?i+="":i="";var r=xs(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Ka);us.prototype.type="tspan";var gA=Ne({x:0,y:0},gu),Ld={style:Ne({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Ed.style)},ua=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.createStyle=function(t){return Ii(gA,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(r!=null)return r;var o,a=(o=i.image)&&typeof o!="string"&&o.width&&o.height?i.image:this.__image;if(!a)return 0;var l=t==="width"?"height":"width",u=i[l];return u==null?a[t]:a[t]/a[l]*u},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Ld},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new yr(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Ka);ua.prototype.type="image";var Cn=Math.round;function qm(n,e,t){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var l=t&&t.lineWidth;return l&&(Cn(2*i)===Cn(2*r)&&(n.x1=n.x2=Ms(i,l,!0)),Cn(2*o)===Cn(2*a)&&(n.y1=n.y2=Ms(o,l,!0))),n}}function S0(n,e,t){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;n.x=i,n.y=r,n.width=o,n.height=a;var l=t&&t.lineWidth;return l&&(n.x=Ms(i,l,!0),n.y=Ms(r,l,!0),n.width=Math.max(Ms(i+o,l,!1)-n.x,o===0?0:1),n.height=Math.max(Ms(r+a,l,!1)-n.y,a===0?0:1)),n}}function Ms(n,e,t){if(!e)return n;var i=Cn(2*n);return(i+Cn(e))%2==0?i/2:(i+(t?1:-1))/2}var mA=function(){this.x=0,this.y=0,this.width=0,this.height=0},vA={},Ur=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new mA},e.prototype.buildPath=function(t,i){var r,o,a,l;if(this.subPixelOptimize){var u=S0(vA,i,this.style);r=u.x,o=u.y,a=u.width,l=u.height,u.r=i.r,i=u}else r=i.x,o=i.y,a=i.width,l=i.height;i.r?function(f,g){var v,_,S,A,E,D=g.x,R=g.y,z=g.width,Y=g.height,G=g.r;z<0&&(D+=z,z=-z),Y<0&&(R+=Y,Y=-Y),typeof G=="number"?v=_=S=A=G:G instanceof Array?G.length===1?v=_=S=A=G[0]:G.length===2?(v=S=G[0],_=A=G[1]):G.length===3?(v=G[0],_=A=G[1],S=G[2]):(v=G[0],_=G[1],S=G[2],A=G[3]):v=_=S=A=0,v+_>z&&(v*=z/(E=v+_),_*=z/E),S+A>z&&(S*=z/(E=S+A),A*=z/E),_+S>Y&&(_*=Y/(E=_+S),S*=Y/E),v+A>Y&&(v*=Y/(E=v+A),A*=Y/E),f.moveTo(D+v,R),f.lineTo(D+z-_,R),_!==0&&f.arc(D+z-_,R+_,_,-Math.PI/2,0),f.lineTo(D+z,R+Y-S),S!==0&&f.arc(D+z-S,R+Y-S,S,0,Math.PI/2),f.lineTo(D+A,R+Y),A!==0&&f.arc(D+A,R+Y-A,A,Math.PI/2,Math.PI),f.lineTo(D,R+v),v!==0&&f.arc(D+v,R+v,v,Math.PI,1.5*Math.PI)}(t,i):t.rect(r,o,a,l)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(pr);Ur.prototype.type="rect";var C0={fill:"#000"},yA={style:Ne({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Ed.style)},$r=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=C0,i.attr(t),i}return Tt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,v_(t=this.style),ht(t.rich,v_),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new yr(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var l=i[a],u=l.getBoundingRect(),f=l.getLocalTransform(r);f?(t.copy(u),t.applyTransform(f),(o=o||t.clone()).union(t)):(o=o||u.clone()).union(u)}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||C0},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return me(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,i){for(var r=Qe(i),o=0;o<r.length;o++){var a=r[o];t[a]=t[a]||{},me(t[a],i[a])}},e.prototype.getAnimationStyleProps=function(){return yA},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return i&&i instanceof t||(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||ue,r=t.padding,o=function(be,we){be!=null&&(be+="");var Re,Ze=we.overflow,Je=we.padding,rn=we.font,An=Ze==="truncate",Yn=zl(rn),cn=yi(we.lineHeight,Yn),Pn=!!we.backgroundColor,Jn=we.lineOverflow==="truncate",Kn=we.width,Gn=(Re=Kn==null||Ze!=="break"&&Ze!=="breakAll"?be?be.split(`
`):[]:be?Kp(be,we.font,Kn,Ze==="breakAll",0).lines:[]).length*cn,ri=yi(we.height,Gn);if(Gn>ri&&Jn){var qn=Math.floor(ri/cn);Re=Re.slice(0,qn)}if(be&&An&&Kn!=null)for(var li=jm(Kn,rn,we.ellipsis,{minChar:we.truncateMinChar,placeholder:we.placeholder}),Ai=0;Ai<Re.length;Ai++)Re[Ai]=Ym(Re[Ai],li);var cr=ri,kr=0;for(Ai=0;Ai<Re.length;Ai++)kr=Math.max(zo(Re[Ai],rn),kr);Kn==null&&(Kn=kr);var So=kr;return Je&&(cr+=Je[0]+Je[2],So+=Je[1]+Je[3],Kn+=Je[1]+Je[3]),Pn&&(So=Kn),{lines:Re,height:ri,outerWidth:So,outerHeight:cr,lineHeight:cn,calculatedLineHeight:Yn,contentWidth:kr,contentHeight:Gn,width:Kn}}(__(t),t),a=$m(t),l=!!t.backgroundColor,u=o.outerHeight,f=o.outerWidth,g=o.contentWidth,v=o.lines,_=o.lineHeight,S=this._defaultStyle,A=t.x||0,E=t.y||0,D=t.align||S.align||"left",R=t.verticalAlign||S.verticalAlign||"top",z=A,Y=Ws(E,o.contentHeight,R);if(a||r){var G=cu(A,f,D),$=Ws(E,u,R);a&&this._renderBackground(t,t,G,$,f,u)}Y+=_/2,r&&(z=x_(A,D,r),R==="top"?Y+=r[0]:R==="bottom"&&(Y-=r[2]));for(var Q=0,et=!1,ot=b_("fill"in t?t.fill:(et=!0,S.fill)),xt=y_("stroke"in t?t.stroke:l||S.autoStroke&&!et?null:(Q=2,S.stroke)),St=t.textShadowBlur>0,Mt=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),Bt=o.calculatedLineHeight,Zt=0;Zt<v.length;Zt++){var se=this._getOrCreateChild(us),pe=se.createStyle();se.useStyle(pe),pe.text=v[Zt],pe.x=z,pe.y=Y,D&&(pe.textAlign=D),pe.textBaseline="middle",pe.opacity=t.opacity,pe.strokeFirst=!0,St&&(pe.shadowBlur=t.textShadowBlur||0,pe.shadowColor=t.textShadowColor||"transparent",pe.shadowOffsetX=t.textShadowOffsetX||0,pe.shadowOffsetY=t.textShadowOffsetY||0),pe.stroke=xt,pe.fill=ot,xt&&(pe.lineWidth=t.lineWidth||Q,pe.lineDash=t.lineDash,pe.lineDashOffset=t.lineDashOffset||0),pe.font=i,k0(pe,t),Y+=_,Mt&&se.setBoundingRect(new yr(cu(pe.x,t.width,pe.textAlign),Ws(pe.y,Bt,pe.textBaseline),g,Bt))}},e.prototype._updateRichTexts=function(){var t=this.style,i=function(se,pe){var be=new _g;if(se!=null&&(se+=""),!se)return be;for(var we,Re=pe.width,Ze=pe.height,Je=pe.overflow,rn=Je!=="break"&&Je!=="breakAll"||Re==null?null:{width:Re,accumWidth:0,breakAll:Je==="breakAll"},An=zc.lastIndex=0;(we=zc.exec(se))!=null;){var Yn=we.index;Yn>An&&Qu(be,se.substring(An,Yn),pe,rn),Qu(be,we[2],pe,rn,we[1]),An=zc.lastIndex}An<se.length&&Qu(be,se.substring(An,se.length),pe,rn);var cn=[],Pn=0,Jn=0,Kn=pe.padding,Gn=Je==="truncate",ri=pe.lineOverflow==="truncate";function qn(ya,ja,Ya){ya.width=ja,ya.lineHeight=Ya,Pn+=Ya,Jn=Math.max(Jn,ja)}t:for(var li=0;li<be.lines.length;li++){for(var Ai=be.lines[li],cr=0,kr=0,So=0;So<Ai.tokens.length;So++){var zr=(ur=Ai.tokens[So]).styleName&&pe.rich[ur.styleName]||{},Jr=ur.textPadding=zr.padding,so=Jr?Jr[1]+Jr[3]:0,Yo=ur.font=zr.font||pe.font;ur.contentHeight=zl(Yo);var $o=yi(zr.height,ur.contentHeight);if(ur.innerHeight=$o,Jr&&($o+=Jr[0]+Jr[2]),ur.height=$o,ur.lineHeight=Ar(zr.lineHeight,pe.lineHeight,$o),ur.align=zr&&zr.align||pe.align,ur.verticalAlign=zr&&zr.verticalAlign||"middle",ri&&Ze!=null&&Pn+ur.lineHeight>Ze){So>0?(Ai.tokens=Ai.tokens.slice(0,So),qn(Ai,kr,cr),be.lines=be.lines.slice(0,li+1)):be.lines=be.lines.slice(0,li);break t}var es=zr.width,eu=es==null||es==="auto";if(typeof es=="string"&&es.charAt(es.length-1)==="%")ur.percentWidth=es,cn.push(ur),ur.contentWidth=zo(ur.text,Yo);else{if(eu){var Rp=zr.backgroundColor,lo=Rp&&Rp.image;lo&&Id(lo=Ia(lo))&&(ur.width=Math.max(ur.width,lo.width*$o/lo.height))}var Rr=Gn&&Re!=null?Re-kr:null;Rr!=null&&Rr<ur.width?!eu||Rr<so?(ur.text="",ur.width=ur.contentWidth=0):(ur.text=xg(ur.text,Rr-so,Yo,pe.ellipsis,{minChar:pe.truncateMinChar}),ur.width=ur.contentWidth=zo(ur.text,Yo)):ur.contentWidth=zo(ur.text,Yo)}ur.width+=so,kr+=ur.width,zr&&(cr=Math.max(cr,ur.lineHeight))}qn(Ai,kr,cr)}for(be.outerWidth=be.width=yi(Re,Jn),be.outerHeight=be.height=yi(Ze,Pn),be.contentHeight=Pn,be.contentWidth=Jn,Kn&&(be.outerWidth+=Kn[1]+Kn[3],be.outerHeight+=Kn[0]+Kn[2]),li=0;li<cn.length;li++){var ur,Go=(ur=cn[li]).percentWidth;ur.width=parseInt(Go,10)/100*be.width}return be}(__(t),t),r=i.width,o=i.outerWidth,a=i.outerHeight,l=t.padding,u=t.x||0,f=t.y||0,g=this._defaultStyle,v=t.align||g.align,_=t.verticalAlign||g.verticalAlign,S=cu(u,o,v),A=Ws(f,a,_),E=S,D=A;l&&(E+=l[3],D+=l[0]);var R=E+r;$m(t)&&this._renderBackground(t,t,S,A,o,a);for(var z=!!t.backgroundColor,Y=0;Y<i.lines.length;Y++){for(var G=i.lines[Y],$=G.tokens,Q=$.length,et=G.lineHeight,ot=G.width,xt=0,St=E,Mt=R,Bt=Q-1,Zt=void 0;xt<Q&&(!(Zt=$[xt]).align||Zt.align==="left");)this._placeToken(Zt,t,et,D,St,"left",z),ot-=Zt.width,St+=Zt.width,xt++;for(;Bt>=0&&(Zt=$[Bt]).align==="right";)this._placeToken(Zt,t,et,D,Mt,"right",z),ot-=Zt.width,Mt-=Zt.width,Bt--;for(St+=(r-(St-E)-(R-Mt)-ot)/2;xt<=Bt;)Zt=$[xt],this._placeToken(Zt,t,et,D,St+Zt.width/2,"center",z),St+=Zt.width,xt++;D+=et}},e.prototype._placeToken=function(t,i,r,o,a,l,u){var f=i.rich[t.styleName]||{};f.text=t.text;var g=t.verticalAlign,v=o+r/2;g==="top"?v=o+t.height/2:g==="bottom"&&(v=o+r-t.height/2),!t.isLineHolder&&$m(f)&&this._renderBackground(f,i,l==="right"?a-t.width:l==="center"?a-t.width/2:a,v-t.height/2,t.width,t.height);var _=!!f.backgroundColor,S=t.textPadding;S&&(a=x_(a,l,S),v-=t.height/2-S[0]-t.innerHeight/2);var A=this._getOrCreateChild(us),E=A.createStyle();A.useStyle(E);var D=this._defaultStyle,R=!1,z=0,Y=b_("fill"in f?f.fill:"fill"in i?i.fill:(R=!0,D.fill)),G=y_("stroke"in f?f.stroke:"stroke"in i?i.stroke:_||u||D.autoStroke&&!R?null:(z=2,D.stroke)),$=f.textShadowBlur>0||i.textShadowBlur>0;E.text=t.text,E.x=a,E.y=v,$&&(E.shadowBlur=f.textShadowBlur||i.textShadowBlur||0,E.shadowColor=f.textShadowColor||i.textShadowColor||"transparent",E.shadowOffsetX=f.textShadowOffsetX||i.textShadowOffsetX||0,E.shadowOffsetY=f.textShadowOffsetY||i.textShadowOffsetY||0),E.textAlign=l,E.textBaseline="middle",E.font=t.font||ue,E.opacity=Ar(f.opacity,i.opacity,1),k0(E,f),G&&(E.lineWidth=Ar(f.lineWidth,i.lineWidth,z),E.lineDash=yi(f.lineDash,i.lineDash),E.lineDashOffset=i.lineDashOffset||0,E.stroke=G),Y&&(E.fill=Y);var Q=t.contentWidth,et=t.contentHeight;A.setBoundingRect(new yr(cu(E.x,Q,E.textAlign),Ws(E.y,et,E.textBaseline),Q,et))},e.prototype._renderBackground=function(t,i,r,o,a,l){var u,f,g,v=t.backgroundColor,_=t.borderWidth,S=t.borderColor,A=v&&v.image,E=v&&!A,D=t.borderRadius,R=this;if(E||t.lineHeight||_&&S){(u=this._getOrCreateChild(Ur)).useStyle(u.createStyle()),u.style.fill=null;var z=u.shape;z.x=r,z.y=o,z.width=a,z.height=l,z.r=D,u.dirtyShape()}if(E)(g=u.style).fill=v||null,g.fillOpacity=yi(t.fillOpacity,1);else if(A){(f=this._getOrCreateChild(ua)).onload=function(){R.dirtyStyle()};var Y=f.style;Y.image=v.image,Y.x=r,Y.y=o,Y.width=a,Y.height=l}_&&S&&((g=u.style).lineWidth=_,g.stroke=S,g.strokeOpacity=yi(t.strokeOpacity,1),g.lineDash=t.borderDash,g.lineDashOffset=t.borderDashOffset||0,u.strokeContainThreshold=0,u.hasFill()&&u.hasStroke()&&(g.strokeFirst=!0,g.lineWidth*=2));var G=(u||f).style;G.shadowBlur=t.shadowBlur||0,G.shadowColor=t.shadowColor||"transparent",G.shadowOffsetX=t.shadowOffsetX||0,G.shadowOffsetY=t.shadowOffsetY||0,G.opacity=Ar(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return m_(t)&&(i=[t.fontStyle,t.fontWeight,g_(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&Dt(i)||t.textFont||t.font},e}(Ka),bA={left:!0,right:1,center:1},xA={top:1,bottom:1,middle:1},Um=["fontStyle","fontWeight","fontSize","fontFamily"];function g_(n){return typeof n!="string"||n.indexOf("px")===-1&&n.indexOf("rem")===-1&&n.indexOf("em")===-1?isNaN(+n)?"12px":n+"px":n}function k0(n,e){for(var t=0;t<Um.length;t++){var i=Um[t],r=e[i];r!=null&&(n[i]=r)}}function m_(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function v_(n){if(n){n.font=$r.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||bA[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||xA[t]?t:"top",n.padding&&(n.padding=Yt(n.padding))}}function y_(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function b_(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function x_(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function __(n){var e=n.text;return e!=null&&(e+=""),e}function $m(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var lr=Hr(),A0=function(n,e,t,i){if(i){var r=lr(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,i.type==="group"&&i.traverse(function(o){var a=lr(o);a.seriesIndex=n,a.dataIndex=t,a.dataType=e})}},Ts=1,mu={},_A=Hr(),w_=Hr(),yl=["emphasis","blur","select"],Sg=["normal","emphasis","blur","select"],wA=10,Pd="highlight",Cg="downplay",Zm="select",M0="unselect",kg="toggleSelect";function vi(n){return n!=null&&n!=="none"}var T0=new Ll(100);function S_(n){if(Mn(n)){var e=T0.get(n);return e||(e=cc(n,-.1),T0.put(n,e)),e}if(Wn(n)){var t=me({},n);return t.colorStops=lt(n.colorStops,function(i){return{offset:i.offset,color:cc(i.color,-.1)}}),t}return n}function I0(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function SA(n){I0(n,"emphasis",2)}function C_(n){n.hoverState===2&&I0(n,"normal",0)}function k_(n){I0(n,"blur",1)}function CA(n){n.hoverState===1&&I0(n,"normal",0)}function kA(n){n.selected=!0}function IE(n){n.selected=!1}function bl(n,e,t){e(n,t)}function mc(n,e,t){bl(n,e,t),n.isGroup&&n.traverse(function(i){bl(i,e,t)})}function E0(n,e){switch(e){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function A_(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return function(i,r,o,a){var l=o&&dn(o,"select")>=0,u=!1;if(i instanceof pr){var f=_A(i),g=l&&f.selectFill||f.normalFill,v=l&&f.selectStroke||f.normalStroke;if(vi(g)||vi(v)){var _=(a=a||{}).style||{};_.fill==="inherit"?(u=!0,a=me({},a),(_=me({},_)).fill=g):!vi(_.fill)&&vi(g)?(u=!0,a=me({},a),(_=me({},_)).fill=S_(g)):!vi(_.stroke)&&vi(v)&&(u||(a=me({},a),_=me({},_)),_.stroke=S_(v)),a.style=_}}if(a&&a.z2==null){u||(a=me({},a));var S=i.z2EmphasisLift;a.z2=i.z2+(S??wA)}return a}(this,0,e,t);if(n==="blur")return function(i,r,o){var a=dn(i.currentStates,r)>=0,l=i.style.opacity,u=a?null:function(g,v,_,S){for(var A=g.style,E={},D=0;D<v.length;D++){var R=v[D],z=A[R];E[R]=z??(S&&S[R])}for(D=0;D<g.animators.length;D++){var Y=g.animators[D];Y.__fromStateTransition&&Y.__fromStateTransition.indexOf(_)<0&&Y.targetName==="style"&&Y.saveTo(E,v)}return E}(i,["opacity"],r,{opacity:1}),f=(o=o||{}).style||{};return f.opacity==null&&(o=me({},o),f=me({opacity:a?l:.1*u.opacity},f),o.style=f),o}(this,n,t);if(n==="select")return function(i,r,o){if(o&&o.z2==null){o=me({},o);var a=i.z2SelectLift;o.z2=i.z2+(a??9)}return o}(this,0,t)}return t}function Jp(n){n.stateProxy=A_;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=A_),t&&(t.stateProxy=A_)}function AA(n,e){!OA(n,e)&&!n.__highByOuter&&mc(n,SA)}function MA(n,e){!OA(n,e)&&!n.__highByOuter&&mc(n,C_)}function nh(n,e){n.__highByOuter|=1<<(e||0),mc(n,SA)}function ih(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&mc(n,C_)}function TA(n){mc(n,k_)}function O0(n){mc(n,CA)}function IA(n){mc(n,kA)}function EA(n){mc(n,IE)}function OA(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function DA(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,o){var a=w_(o),l=r==="series",u=l?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!l&&i.push(u),a.isBlured&&(u.group.traverse(function(f){CA(f)}),l&&t.push(o)),a.isBlured=!1}),ht(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function M_(n,e,t,i){var r=i.getModel();function o(f,g){for(var v=0;v<g.length;v++){var _=f.getItemGraphicEl(g[v]);_&&O0(_)}}if(t=t||"coordinateSystem",n!=null&&e&&e!=="none"){var a=r.getSeriesByIndex(n),l=a.coordinateSystem;l&&l.master&&(l=l.master);var u=[];r.eachSeries(function(f){var g=a===f,v=f.coordinateSystem;if(v&&v.master&&(v=v.master),!(t==="series"&&!g||t==="coordinateSystem"&&!(v&&l?v===l:g)||e==="series"&&g)){if(i.getViewOfSeriesModel(f).group.traverse(function(A){k_(A)}),Fe(e))o(f.getData(),e);else if(di(e))for(var _=Qe(e),S=0;S<_.length;S++)o(f.getData(_[S]),e[_[S]]);u.push(f),w_(f).isBlured=!0}}),r.eachComponent(function(f,g){if(f!=="series"){var v=i.getViewOfComponentModel(g);v&&v.toggleBlurSeries&&v.toggleBlurSeries(u,!0,r)}})}}function T_(n,e,t){if(n!=null&&e!=null){var i=t.getModel().getComponent(n,e);if(i){w_(i).isBlured=!0;var r=t.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){k_(o)})}}}function Km(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return r;var o=i.getModel().getComponent(n,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var l,u=a.findHighDownDispatchers(t),f=0;f<u.length;f++)if(lr(u[f]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:u}}function I_(n){ht(n.getAllData(),function(e){var t=e.data,i=e.type;t.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?IA(r):EA(r)})})}function EE(n){var e=[];return n.eachSeries(function(t){ht(t.getAllData(),function(i){i.data;var r=i.type,o=t.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:t.seriesIndex};r!=null&&(a.dataType=r),e.push(a)}})}),e}function Gh(n,e,t){tf(n,!0),mc(n,Jp),E_(n,e,t)}function fa(n,e,t,i){i?function(r){tf(r,!1)}(n):Gh(n,e,t)}function E_(n,e,t){var i=lr(n);e!=null?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var LA=["emphasis","blur","select"],PA={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Is(n,e,t,i){t=t||"itemStyle";for(var r=0;r<LA.length;r++){var o=LA[r],a=e.getModel([o,t]);n.ensureState(o).style=i?i(a):a[PA[t]]()}}function tf(n,e){var t=e===!1,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),t&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function Ag(n){return!(!n||!n.__highDownDispatcher)}function O_(n){var e=n.type;return e===Zm||e===M0||e===kg}function NA(n){var e=n.type;return e===Pd||e===Cg}var ef=mn.CMD,OE=[[],[],[]],nf=Math.sqrt,DE=Math.atan2;function D0(n,e){if(e){var t,i,r,o,a,l,u=n.data,f=n.len(),g=ef.M,v=ef.C,_=ef.L,S=ef.R,A=ef.A,E=ef.Q;for(r=0,o=0;r<f;){switch(t=u[r++],o=r,i=0,t){case g:case _:i=1;break;case v:i=3;break;case E:i=2;break;case A:var D=e[4],R=e[5],z=nf(e[0]*e[0]+e[1]*e[1]),Y=nf(e[2]*e[2]+e[3]*e[3]),G=DE(-e[1]/Y,e[0]/z);u[r]*=z,u[r++]+=D,u[r]*=Y,u[r++]+=R,u[r++]*=z,u[r++]*=Y,u[r++]+=G,u[r++]+=G,o=r+=2;break;case S:l[0]=u[r++],l[1]=u[r++],Ui(l,l,e),u[o++]=l[0],u[o++]=l[1],l[0]+=u[r++],l[1]+=u[r++],Ui(l,l,e),u[o++]=l[0],u[o++]=l[1]}for(a=0;a<i;a++){var $=OE[a];$[0]=u[r++],$[1]=u[r++],Ui($,$,e),u[o++]=$[0],u[o++]=$[1]}}n.increaseVersion()}}var D_=Math.sqrt,Nd=Math.sin,L0=Math.cos,Qm=Math.PI;function RA(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function L_(n,e){return(n[0]*e[0]+n[1]*e[1])/(RA(n)*RA(e))}function BA(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(L_(n,e))}function P0(n,e,t,i,r,o,a,l,u,f,g){var v=u*(Qm/180),_=L0(v)*(n-t)/2+Nd(v)*(e-i)/2,S=-1*Nd(v)*(n-t)/2+L0(v)*(e-i)/2,A=_*_/(a*a)+S*S/(l*l);A>1&&(a*=D_(A),l*=D_(A));var E=(r===o?-1:1)*D_((a*a*(l*l)-a*a*(S*S)-l*l*(_*_))/(a*a*(S*S)+l*l*(_*_)))||0,D=E*a*S/l,R=E*-l*_/a,z=(n+t)/2+L0(v)*D-Nd(v)*R,Y=(e+i)/2+Nd(v)*D+L0(v)*R,G=BA([1,0],[(_-D)/a,(S-R)/l]),$=[(_-D)/a,(S-R)/l],Q=[(-1*_-D)/a,(-1*S-R)/l],et=BA($,Q);if(L_($,Q)<=-1&&(et=Qm),L_($,Q)>=1&&(et=0),et<0){var ot=Math.round(et/Qm*1e6)/1e6;et=2*Qm+ot%2*Qm}g.addData(f,z,Y,a,l,G,et,v,o)}var LE=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,PE=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,zA=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.applyTransform=function(t){},e}(pr);function FA(n){return n.setData!=null}function VA(n,e){var t=function(r){var o=new mn;if(!r)return o;var a,l=0,u=0,f=l,g=u,v=mn.CMD,_=r.match(LE);if(!_)return o;for(var S=0;S<_.length;S++){for(var A=_[S],E=A.charAt(0),D=void 0,R=A.match(PE)||[],z=R.length,Y=0;Y<z;Y++)R[Y]=parseFloat(R[Y]);for(var G=0;G<z;){var $=void 0,Q=void 0,et=void 0,ot=void 0,xt=void 0,St=void 0,Mt=void 0,Bt=l,Zt=u,se=void 0,pe=void 0;switch(E){case"l":l+=R[G++],u+=R[G++],D=v.L,o.addData(D,l,u);break;case"L":l=R[G++],u=R[G++],D=v.L,o.addData(D,l,u);break;case"m":l+=R[G++],u+=R[G++],D=v.M,o.addData(D,l,u),f=l,g=u,E="l";break;case"M":l=R[G++],u=R[G++],D=v.M,o.addData(D,l,u),f=l,g=u,E="L";break;case"h":l+=R[G++],D=v.L,o.addData(D,l,u);break;case"H":l=R[G++],D=v.L,o.addData(D,l,u);break;case"v":u+=R[G++],D=v.L,o.addData(D,l,u);break;case"V":u=R[G++],D=v.L,o.addData(D,l,u);break;case"C":D=v.C,o.addData(D,R[G++],R[G++],R[G++],R[G++],R[G++],R[G++]),l=R[G-2],u=R[G-1];break;case"c":D=v.C,o.addData(D,R[G++]+l,R[G++]+u,R[G++]+l,R[G++]+u,R[G++]+l,R[G++]+u),l+=R[G-2],u+=R[G-1];break;case"S":$=l,Q=u,se=o.len(),pe=o.data,a===v.C&&($+=l-pe[se-4],Q+=u-pe[se-3]),D=v.C,Bt=R[G++],Zt=R[G++],l=R[G++],u=R[G++],o.addData(D,$,Q,Bt,Zt,l,u);break;case"s":$=l,Q=u,se=o.len(),pe=o.data,a===v.C&&($+=l-pe[se-4],Q+=u-pe[se-3]),D=v.C,Bt=l+R[G++],Zt=u+R[G++],l+=R[G++],u+=R[G++],o.addData(D,$,Q,Bt,Zt,l,u);break;case"Q":Bt=R[G++],Zt=R[G++],l=R[G++],u=R[G++],D=v.Q,o.addData(D,Bt,Zt,l,u);break;case"q":Bt=R[G++]+l,Zt=R[G++]+u,l+=R[G++],u+=R[G++],D=v.Q,o.addData(D,Bt,Zt,l,u);break;case"T":$=l,Q=u,se=o.len(),pe=o.data,a===v.Q&&($+=l-pe[se-4],Q+=u-pe[se-3]),l=R[G++],u=R[G++],D=v.Q,o.addData(D,$,Q,l,u);break;case"t":$=l,Q=u,se=o.len(),pe=o.data,a===v.Q&&($+=l-pe[se-4],Q+=u-pe[se-3]),l+=R[G++],u+=R[G++],D=v.Q,o.addData(D,$,Q,l,u);break;case"A":et=R[G++],ot=R[G++],xt=R[G++],St=R[G++],Mt=R[G++],P0(Bt=l,Zt=u,l=R[G++],u=R[G++],St,Mt,et,ot,xt,D=v.A,o);break;case"a":et=R[G++],ot=R[G++],xt=R[G++],St=R[G++],Mt=R[G++],P0(Bt=l,Zt=u,l+=R[G++],u+=R[G++],St,Mt,et,ot,xt,D=v.A,o)}}E!=="z"&&E!=="Z"||(D=v.Z,o.addData(D),l=f,u=g),a=D}return o.toStatic(),o}(n),i=me({},e);return i.buildPath=function(r){if(FA(r))r.setData(t.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;t.rebuildPath(o,1)}},i.applyTransform=function(r){D0(t,r),this.dirtyShape()},i}function HA(n,e){return new zA(VA(n,e))}function N0(n,e){e=e||{};var t=new pr;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?D0(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var WA=function(){this.cx=0,this.cy=0,this.r=0},xl=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new WA},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(pr);xl.prototype.type="circle";var NE=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Jm=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new NE},e.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,a=i.cy,l=i.rx,u=i.ry,f=l*r,g=u*r;t.moveTo(o-l,a),t.bezierCurveTo(o-l,a-g,o-f,a-u,o,a-u),t.bezierCurveTo(o+f,a-u,o+l,a-g,o+l,a),t.bezierCurveTo(o+l,a+g,o+f,a+u,o,a+u),t.bezierCurveTo(o-f,a+u,o-l,a+g,o-l,a),t.closePath()},e}(pr);Jm.prototype.type="ellipse";var jA=Math.PI,P_=2*jA,Rd=Math.sin,Mg=Math.cos,RE=Math.acos,Us=Math.atan2,YA=Math.abs,tv=Math.sqrt,ev=Math.max,rh=Math.min,vu=1e-4;function rf(n,e,t,i,r,o,a){var l=n-t,u=e-i,f=(a?o:-o)/tv(l*l+u*u),g=f*u,v=-f*l,_=n+g,S=e+v,A=t+g,E=i+v,D=(_+A)/2,R=(S+E)/2,z=A-_,Y=E-S,G=z*z+Y*Y,$=r-o,Q=_*E-A*S,et=(Y<0?-1:1)*tv(ev(0,$*$*G-Q*Q)),ot=(Q*Y-z*et)/G,xt=(-Q*z-Y*et)/G,St=(Q*Y+z*et)/G,Mt=(-Q*z+Y*et)/G,Bt=ot-D,Zt=xt-R,se=St-D,pe=Mt-R;return Bt*Bt+Zt*Zt>se*se+pe*pe&&(ot=St,xt=Mt),{cx:ot,cy:xt,x0:-g,y0:-v,x1:ot*(r/$-1),y1:xt*(r/$-1)}}function BE(n,e){var t,i=ev(e.r,0),r=ev(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var l=e.startAngle,u=e.endAngle;if(!isNaN(l)&&!isNaN(u)){var f=e.cx,g=e.cy,v=!!e.clockwise,_=YA(u-l),S=_>P_&&_%P_;if(S>vu&&(_=S),i>vu)if(_>P_-vu)n.moveTo(f+i*Mg(l),g+i*Rd(l)),n.arc(f,g,i,l,u,!v),r>vu&&(n.moveTo(f+r*Mg(u),g+r*Rd(u)),n.arc(f,g,r,u,l,v));else{var A=void 0,E=void 0,D=void 0,R=void 0,z=void 0,Y=void 0,G=void 0,$=void 0,Q=void 0,et=void 0,ot=void 0,xt=void 0,St=void 0,Mt=void 0,Bt=void 0,Zt=void 0,se=i*Mg(l),pe=i*Rd(l),be=r*Mg(u),we=r*Rd(u),Re=_>vu;if(Re){var Ze=e.cornerRadius;Ze&&(t=function(Ai){var cr;if(Be(Ai)){var kr=Ai.length;if(!kr)return Ai;cr=kr===1?[Ai[0],Ai[0],0,0]:kr===2?[Ai[0],Ai[0],Ai[1],Ai[1]]:kr===3?Ai.concat(Ai[2]):Ai}else cr=[Ai,Ai,Ai,Ai];return cr}(Ze),A=t[0],E=t[1],D=t[2],R=t[3]);var Je=YA(i-r)/2;if(z=rh(Je,D),Y=rh(Je,R),G=rh(Je,A),$=rh(Je,E),ot=Q=ev(z,Y),xt=et=ev(G,$),(Q>vu||et>vu)&&(St=i*Mg(u),Mt=i*Rd(u),Bt=r*Mg(l),Zt=r*Rd(l),_<jA)){var rn=function(Ai,cr,kr,So,zr,Jr,so,Yo){var $o=kr-Ai,es=So-cr,eu=so-zr,Rp=Yo-Jr,lo=Rp*$o-eu*es;if(!(lo*lo<vu))return[Ai+(lo=(eu*(cr-Jr)-Rp*(Ai-zr))/lo)*$o,cr+lo*es]}(se,pe,Bt,Zt,St,Mt,be,we);if(rn){var An=se-rn[0],Yn=pe-rn[1],cn=St-rn[0],Pn=Mt-rn[1],Jn=1/Rd(RE((An*cn+Yn*Pn)/(tv(An*An+Yn*Yn)*tv(cn*cn+Pn*Pn)))/2),Kn=tv(rn[0]*rn[0]+rn[1]*rn[1]);ot=rh(Q,(i-Kn)/(Jn+1)),xt=rh(et,(r-Kn)/(Jn-1))}}}if(Re)if(ot>vu){var Gn=rh(D,ot),ri=rh(R,ot),qn=rf(Bt,Zt,se,pe,i,Gn,v),li=rf(St,Mt,be,we,i,ri,v);n.moveTo(f+qn.cx+qn.x0,g+qn.cy+qn.y0),ot<Q&&Gn===ri?n.arc(f+qn.cx,g+qn.cy,ot,Us(qn.y0,qn.x0),Us(li.y0,li.x0),!v):(Gn>0&&n.arc(f+qn.cx,g+qn.cy,Gn,Us(qn.y0,qn.x0),Us(qn.y1,qn.x1),!v),n.arc(f,g,i,Us(qn.cy+qn.y1,qn.cx+qn.x1),Us(li.cy+li.y1,li.cx+li.x1),!v),ri>0&&n.arc(f+li.cx,g+li.cy,ri,Us(li.y1,li.x1),Us(li.y0,li.x0),!v))}else n.moveTo(f+se,g+pe),n.arc(f,g,i,l,u,!v);else n.moveTo(f+se,g+pe);r>vu&&Re?xt>vu?(Gn=rh(A,xt),qn=rf(be,we,St,Mt,r,-(ri=rh(E,xt)),v),li=rf(se,pe,Bt,Zt,r,-Gn,v),n.lineTo(f+qn.cx+qn.x0,g+qn.cy+qn.y0),xt<et&&Gn===ri?n.arc(f+qn.cx,g+qn.cy,xt,Us(qn.y0,qn.x0),Us(li.y0,li.x0),!v):(ri>0&&n.arc(f+qn.cx,g+qn.cy,ri,Us(qn.y0,qn.x0),Us(qn.y1,qn.x1),!v),n.arc(f,g,r,Us(qn.cy+qn.y1,qn.cx+qn.x1),Us(li.cy+li.y1,li.cx+li.x1),v),Gn>0&&n.arc(f+li.cx,g+li.cy,Gn,Us(li.y1,li.x1),Us(li.y0,li.x0),!v))):(n.lineTo(f+be,g+we),n.arc(f,g,r,u,l,v)):n.lineTo(f+be,g+we)}else n.moveTo(f,g);n.closePath()}}}var zE=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},$s=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new zE},e.prototype.buildPath=function(t,i){BE(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(pr);$s.prototype.type="sector";var FE=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Tg=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new FE},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=2*Math.PI;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,a,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,a,!0)},e}(pr);function GA(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function(_,S,A,E){var D,R,z,Y,G=[],$=[],Q=[],et=[];if(E){z=[1/0,1/0],Y=[-1/0,-1/0];for(var ot=0,xt=_.length;ot<xt;ot++)qt(z,z,_[ot]),h(Y,Y,_[ot]);qt(z,z,E[0]),h(Y,Y,E[1])}for(ot=0,xt=_.length;ot<xt;ot++){var St=_[ot];if(A)D=_[ot?ot-1:xt-1],R=_[(ot+1)%xt];else{if(ot===0||ot===xt-1){G.push(Hi(_[ot]));continue}D=_[ot-1],R=_[ot+1]}Ji($,R,D),gi($,$,S);var Mt=Qi(St,D),Bt=Qi(St,R),Zt=Mt+Bt;Zt!==0&&(Mt/=Zt,Bt/=Zt),gi(Q,$,-Mt),gi(et,$,Bt);var se=Or([],St,Q),pe=Or([],St,et);E&&(h(se,se,z),qt(se,se,Y),h(pe,pe,z),qt(pe,pe,Y)),G.push(se),G.push(pe)}return A&&G.push(G.shift()),G}(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,l=0;l<(t?a:a-1);l++){var u=o[2*l],f=o[2*l+1],g=r[(l+1)%a];n.bezierCurveTo(u[0],u[1],f[0],f[1],g[0],g[1])}}else{n.moveTo(r[0][0],r[0][1]),l=1;for(var v=r.length;l<v;l++)n.lineTo(r[l][0],r[l][1])}t&&n.closePath()}}Tg.prototype.type="ring";var VE=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Zs=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new VE},e.prototype.buildPath=function(t,i){GA(t,i,!0)},e}(pr);Zs.prototype.type="polygon";var HE=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Ks=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new HE},e.prototype.buildPath=function(t,i){GA(t,i,!1)},e}(pr);Ks.prototype.type="polyline";var WE={},XA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Ha=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new XA},e.prototype.buildPath=function(t,i){var r,o,a,l;if(this.subPixelOptimize){var u=qm(WE,i,this.style);r=u.x1,o=u.y1,a=u.x2,l=u.y2}else r=i.x1,o=i.y1,a=i.x2,l=i.y2;var f=i.percent;f!==0&&(t.moveTo(r,o),f<1&&(a=r*(1-f)+a*f,l=o*(1-f)+l*f),t.lineTo(a,l))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(pr);Ha.prototype.type="line";var Gl=[],jE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function qA(n,e,t){var i=n.cpx2,r=n.cpy2;return i!=null||r!=null?[(t?Fp:ba)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?Fp:ba)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?Eo:Vr)(n.x1,n.cpx1,n.x2,e),(t?Eo:Vr)(n.y1,n.cpy1,n.y2,e)]}var Bd=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new jE},e.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,a=i.x2,l=i.y2,u=i.cpx1,f=i.cpy1,g=i.cpx2,v=i.cpy2,_=i.percent;_!==0&&(t.moveTo(r,o),g==null||v==null?(_<1&&(ac(r,u,a,_,Gl),u=Gl[1],a=Gl[2],ac(o,f,l,_,Gl),f=Gl[1],l=Gl[2]),t.quadraticCurveTo(u,f,a,l)):(_<1&&(Ir(r,u,g,a,_,Gl),u=Gl[1],g=Gl[2],a=Gl[3],Ir(o,f,v,l,_,Gl),f=Gl[1],v=Gl[2],l=Gl[3]),t.bezierCurveTo(u,f,g,v,a,l)))},e.prototype.pointAt=function(t){return qA(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=qA(this.shape,t,!0);return ii(i,i)},e}(pr);Bd.prototype.type="bezier-curve";var UA=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},nv=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new UA},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),l=i.startAngle,u=i.endAngle,f=i.clockwise,g=Math.cos(l),v=Math.sin(l);t.moveTo(g*a+r,v*a+o),t.arc(r,o,a,l,u,!f)},e}(pr);nv.prototype.type="arc";var R0=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return Tt(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(t,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),pr.prototype.getBoundingRect.call(this)},e}(pr),N_=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}(),of=function(n){function e(t,i,r,o,a,l){var u=n.call(this,a)||this;return u.x=t??0,u.y=i??0,u.x2=r??1,u.y2=o??0,u.type="linear",u.global=l||!1,u}return Tt(e,n),e}(N_),B0=function(n){function e(t,i,r,o,a){var l=n.call(this,o)||this;return l.x=t??.5,l.y=i??.5,l.r=r??.5,l.type="radial",l.global=a||!1,l}return Tt(e,n),e}(N_),zd=[0,0],Fd=[0,0],z0=new Gi,oh=new Gi,F0=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Gi;for(i=0;i<2;i++)this._axes[i]=new Gi;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,o=e.x,a=e.y,l=o+e.width,u=a+e.height;if(i[0].set(o,a),i[1].set(l,a),i[2].set(l,u),i[3].set(o,u),t)for(var f=0;f<4;f++)i[f].transform(t);for(Gi.sub(r[0],i[1],i[0]),Gi.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),f=0;f<2;f++)this._origin[f]=r[f].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return z0.set(1/0,1/0),oh.set(0,0),!this._intersectCheckOneSide(this,e,z0,oh,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,z0,oh,r,-1)&&(i=!1,r)||r||Gi.copy(t,i?z0:oh),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,o,a){for(var l=!0,u=0;u<2;u++){var f=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,zd),this._getProjMinMaxOnAxis(u,t._corners,Fd),zd[1]<Fd[0]||zd[0]>Fd[1]){if(l=!1,o)return l;var g=Math.abs(Fd[0]-zd[1]),v=Math.abs(zd[0]-Fd[1]);Math.min(g,v)>r.len()&&(g<v?Gi.scale(r,f,-g*a):Gi.scale(r,f,v*a))}else i&&(g=Math.abs(Fd[0]-zd[1]),v=Math.abs(zd[0]-Fd[1]),Math.min(g,v)<i.len()&&(g<v?Gi.scale(i,f,g*a):Gi.scale(i,f,-v*a)))}return l},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],o=this._origin,a=t[0].dot(r)+o[e],l=a,u=a,f=1;f<t.length;f++){var g=t[f].dot(r)+o[e];l=Math.min(g,l),u=Math.max(g,u)}i[0]=l,i[1]=u},n}(),YE=[],$A=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return Tt(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new yr(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(YE)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1])){for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(t,i))return!0}return!1},e}(Ka),R_=Hr();function Ig(n,e,t,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var l=n==="update";if(e&&e.isAnimationEnabled()){var u=void 0,f=void 0,g=void 0;return i?(u=yi(i.duration,200),f=yi(i.easing,"cubicOut"),g=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),f=e.getShallow(l?"animationEasingUpdate":"animationEasing"),g=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(u=o.duration),o.easing!=null&&(f=o.easing),o.delay!=null&&(g=o.delay)),Ge(g)&&(g=g(t,r)),Ge(u)&&(u=u(t)),{duration:u||0,delay:g,easing:f}}return null}function V0(n,e,t,i,r,o,a){var l,u=!1;Ge(r)?(a=o,o=r,r=null):di(r)&&(o=r.cb,a=r.during,u=r.isFrom,l=r.removeOpt,r=r.dataIndex);var f=n==="leave";f||e.stopAnimation("leave");var g=Ig(n,i,r,f?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(g&&g.duration>0){var v={duration:g.duration,delay:g.delay||0,easing:g.easing,done:o,force:!!o||!!a,setToFinal:!f,scope:n,during:a};u?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!u&&e.attr(t),a&&a(1),o&&o()}function Zr(n,e,t,i,r,o){V0("update",n,e,t,i,r,o)}function To(n,e,t,i,r,o){V0("enter",n,e,t,i,r,o)}function Eg(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if(n.animators[e].scope==="leave")return!0;return!1}function ah(n,e,t,i,r,o){Eg(n)||V0("leave",n,e,t,i,r,o)}function ZA(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),ah(n,{style:{opacity:0}},e,t,i)}function Og(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||ZA(r,e,t,i)}):ZA(n,e,t,i)}function Fc(n){R_(n).oldStyle=n.style}var iv=Math.max,H0=Math.min,B_={};function KA(n){return pr.extend(n)}var Dg=function(n,e){var t=VA(n,e);return function(i){function r(o){var a=i.call(this,o)||this;return a.applyTransform=t.applyTransform,a.buildPath=t.buildPath,a}return Tt(r,i),r}(zA)};function Vd(n,e){return Dg(n,e)}function _l(n,e){B_[n]=e}function Hd(n){if(B_.hasOwnProperty(n))return B_[n]}function Vc(n,e,t,i){var r=HA(n,e);return t&&(i==="center"&&(t=W0(t,r.getBoundingRect())),z_(r,t)),r}function Hc(n,e,t){var i=new ua({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(t==="center"){var o={width:r.width,height:r.height};i.setStyle(W0(e,o))}}});return i}function W0(n,e){var t,i=e.width/e.height,r=n.height*i;return t=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-t/2,width:r,height:t}}var Xl=function(n,e){for(var t=[],i=n.length,r=0;r<i;r++){var o=n[r];t.push(o.getUpdatedPathProxy(!0))}var a=new pr(e);return a.createPathProxy(),a.buildPath=function(l){if(FA(l)){l.appendPath(t);var u=l.getContext();u&&l.rebuildPath(u,1)}},a};function z_(n,e){if(n.applyTransform){var t=n.getBoundingRect().calculateTransform(e);n.applyTransform(t)}}function af(n,e){return qm(n,n,{lineWidth:e}),n}var Wd=Ms;function Wc(n,e){for(var t=ci([]);n&&n!==e;)rr(t,n.getLocalTransform(),t),n=n.parent;return t}function vc(n,e,t){return e&&!Fe(e)&&(e=Wo.getLocalTransform(e)),t&&(e=qr([],e)),Ui([],n,e)}function rv(n,e,t){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),o=[n==="left"?-i:n==="right"?i:0,n==="top"?-r:n==="bottom"?r:0];return o=vc(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Lg(n){return!n.isGroup}function jd(n,e,t){if(n&&e){var i,r=(i={},n.traverse(function(a){Lg(a)&&a.anid&&(i[a.anid]=a)}),i);e.traverse(function(a){if(Lg(a)&&a.anid){var l=r[a.anid];if(l){var u=o(a);a.attr(o(l)),Zr(a,u,t,lr(a).dataIndex)}}})}function o(a){var l={x:a.x,y:a.y,rotation:a.rotation};return function(u){return u.shape!=null}(a)&&(l.shape=me({},a.shape)),l}}function ov(n,e){return lt(n,function(t){var i=t[0];i=iv(i,e.x),i=H0(i,e.x+e.width);var r=t[1];return r=iv(r,e.y),[i,r=H0(r,e.y+e.height)]})}function av(n,e){var t=iv(n.x,e.x),i=H0(n.x+n.width,e.x+e.width),r=iv(n.y,e.y),o=H0(n.y+n.height,e.y+e.height);if(i>=t&&o>=r)return{x:t,y:r,width:i-t,height:o-r}}function ea(n,e,t){var i=me({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(r.image=n.slice(8),Ne(r,t),new ua(i)):Vc(n.replace("path://",""),i,t,"center")}function sv(n,e,t,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var l=r[o];if(yu(n,e,t,i,l[0],l[1],a[0],a[1]))return!0;a=l}}function yu(n,e,t,i,r,o,a,l){var u,f=t-n,g=i-e,v=a-r,_=l-o,S=j0(v,_,f,g);if((u=S)<=1e-6&&u>=-1e-6)return!1;var A=n-r,E=e-o,D=j0(A,E,f,g)/S;if(D<0||D>1)return!1;var R=j0(A,E,v,_)/S;return!(R<0||R>1)}function j0(n,e,t,i){return n*i-t*e}function Yd(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=Mn(e)?{formatter:e}:e,o=t.mainType,a=t.componentIndex,l={componentType:o,name:i,$vars:["name"]};l[o+"Index"]=a;var u=n.formatterParamsExtra;u&&ht(Qe(u),function(g){ln(l,g)||(l[g]=u[g],l.$vars.push(g))});var f=lr(n.el);f.componentMainType=o,f.componentIndex=a,f.tooltipConfig={name:i,option:Ne({content:i,formatterParams:l},r)}}function sf(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Xh(n,e){if(n)if(Be(n))for(var t=0;t<n.length;t++)sf(n[t],e);else sf(n,e)}_l("circle",xl),_l("ellipse",Jm),_l("sector",$s),_l("ring",Tg),_l("polygon",Zs),_l("polyline",Ks),_l("rect",Ur),_l("line",Ha),_l("bezierCurve",Bd),_l("arc",nv);var Gd=Object.freeze({__proto__:null,updateProps:Zr,initProps:To,removeElement:ah,removeElementWithFadeOut:Og,isElementRemoved:Eg,extendShape:KA,extendPath:Vd,registerShape:_l,getShapeClass:Hd,makePath:Vc,makeImage:Hc,mergePath:Xl,resizePath:z_,subPixelOptimizeLine:af,subPixelOptimizeRect:function(n){return S0(n.shape,n.shape,n.style),n},subPixelOptimize:Wd,getTransform:Wc,applyTransform:vc,transformDirection:rv,groupTransition:jd,clipPointsByRect:ov,clipRectByRect:av,createIcon:ea,linePolygonIntersect:sv,lineLineIntersect:yu,setTooltipConfig:Yd,traverseElements:Xh,Group:Di,Image:ua,Text:$r,Circle:xl,Ellipse:Jm,Sector:$s,Ring:Tg,Polygon:Zs,Polyline:Ks,Rect:Ur,Line:Ha,BezierCurve:Bd,Arc:nv,IncrementalDisplayable:$A,CompoundPath:R0,LinearGradient:of,RadialGradient:B0,BoundingRect:yr,OrientedBoundingRect:F0,Point:Gi,Path:pr}),lv={};function F_(n,e){for(var t=0;t<yl.length;t++){var i=yl[t],r=e[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(a,!0)}function cv(n,e,t){var i,r=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,l=e.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,l&&l.get("formatter"),t!=null?{interpolatedValue:t}:null)),i==null&&(i=Ge(n.defaultText)?n.defaultText(o,n,t):n.defaultText);for(var u={normal:i},f=0;f<yl.length;f++){var g=yl[f],v=e[g];u[g]=yi(r?r.getFormattedLabel(o,g,null,a,v&&v.get("formatter")):null,i)}return u}function na(n,e,t,i){t=t||lv;for(var r=n instanceof $r,o=!1,a=0;a<Sg.length;a++)if((_=e[Sg[a]])&&_.getShallow("show")){o=!0;break}var l=r?n:n.getTextContent();if(o){r||(l||(l=new $r,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=cv(t,e),f=e.normal,g=!!f.getShallow("show"),v=Do(f,i&&i.normal,t,!1,!r);for(v.text=u.normal,r||n.setTextConfig(uv(f,t,!1)),a=0;a<yl.length;a++){var _,S=yl[a];if(_=e[S]){var A=l.ensureState(S),E=!!yi(_.getShallow("show"),g);E!==g&&(A.ignore=!E),A.style=Do(_,i&&i[S],t,!0,!r),A.style.text=u[S],!r&&(n.ensureState(S).textConfig=uv(_,t,!0))}}l.silent=!!f.getShallow("silent"),l.style.x!=null&&(v.x=l.style.x),l.style.y!=null&&(v.y=l.style.y),l.ignore=!g,l.useStyle(v),l.dirty(),t.enableTextSetter&&(hs(l).setLabelText=function(D){var R=cv(t,e,D);F_(l,R)})}else l&&(l.ignore=!0);n.dirty()}function Wa(n,e){e=e||"label";for(var t={normal:n.getModel(e)},i=0;i<yl.length;i++){var r=yl[i];t[r]=n.getModel([r,e])}return t}function Do(n,e,t,i,r){var o={};return function(a,l,u,f,g){u=u||lv;var v,_=l.ecModel,S=_&&_.option.textStyle,A=function(Y){for(var G;Y&&Y!==Y.ecModel;){var $=(Y.option||lv).rich;if($){G=G||{};for(var Q=Qe($),et=0;et<Q.length;et++)G[Q[et]]=1}Y=Y.parentModel}return G}(l);if(A){for(var E in v={},A)if(A.hasOwnProperty(E)){var D=l.getModel(["rich",E]);lf(v[E]={},D,S,u,f,g,!1,!0)}}v&&(a.rich=v);var R=l.get("overflow");R&&(a.overflow=R);var z=l.get("minMargin");z!=null&&(a.margin=z),lf(a,l,S,u,f,g,!0,!1)}(o,n,t,i,r),e&&me(o,e),o}function uv(n,e,t){e=e||{};var i,r={},o=n.getShallow("rotate"),a=yi(n.getShallow("distance"),t?null:5),l=n.getShallow("offset");return(i=n.getShallow("position")||(t?null:"inside"))==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),l!=null&&(r.offset=l),o!=null&&(o*=Math.PI/180,r.rotation=o),a!=null&&(r.distance=a),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}var ql=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],hv=["align","lineHeight","width","height","tag","verticalAlign"],V_=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function lf(n,e,t,i,r,o,a,l){t=!r&&t||lv;var u=i&&i.inheritColor,f=e.getShallow("color"),g=e.getShallow("textBorderColor"),v=yi(e.getShallow("opacity"),t.opacity);f!=="inherit"&&f!=="auto"||(f=u||null),g!=="inherit"&&g!=="auto"||(g=u||null),o||(f=f||t.color,g=g||t.textBorderColor),f!=null&&(n.fill=f),g!=null&&(n.stroke=g);var _=yi(e.getShallow("textBorderWidth"),t.textBorderWidth);_!=null&&(n.lineWidth=_);var S=yi(e.getShallow("textBorderType"),t.textBorderType);S!=null&&(n.lineDash=S);var A=yi(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);A!=null&&(n.lineDashOffset=A),r||v!=null||l||(v=i&&i.defaultOpacity),v!=null&&(n.opacity=v),r||o||n.fill==null&&i.inheritColor&&(n.fill=i.inheritColor);for(var E=0;E<ql.length;E++){var D=ql[E];(z=yi(e.getShallow(D),t[D]))!=null&&(n[D]=z)}for(E=0;E<hv.length;E++)D=hv[E],(z=e.getShallow(D))!=null&&(n[D]=z);if(n.verticalAlign==null){var R=e.getShallow("baseline");R!=null&&(n.verticalAlign=R)}if(!a||!i.disableBox){for(E=0;E<V_.length;E++){var z;D=V_[E],(z=e.getShallow(D))!=null&&(n[D]=z)}var Y=e.getShallow("borderType");Y!=null&&(n.borderDash=Y),n.backgroundColor!=="auto"&&n.backgroundColor!=="inherit"||!u||(n.backgroundColor=u),n.borderColor!=="auto"&&n.borderColor!=="inherit"||!u||(n.borderColor=u)}}function Qs(n,e){var t=e&&e.getModel("textStyle");return Dt([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var hs=Hr();function Es(n,e,t,i){if(n){var r=hs(n);r.prevValue=r.value,r.value=t;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function bu(n,e,t,i,r){var o=hs(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,l=yi(o.interpolatedValue,o.prevValue),u=o.value;n.percent=0,(o.prevValue==null?To:Zr)(n,{percent:1},i,e,null,function(f){var g=gg(t,o.precision,l,u,f);o.interpolatedValue=f===1?null:g;var v=cv({labelDataIndex:e,labelFetcher:r,defaultText:a?a(g):g+""},o.statesModels,g);F_(n,v)})}}var dv,Ul,cf=["textStyle","color"],Y0=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],G0=new $r,X0=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(cf):null)},n.prototype.getFont=function(){return Qs({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<Y0.length;i++)t[Y0[i]]=this.getShallow(Y0[i]);return G0.useStyle(t),G0.update(),G0.getBoundingRect()},n}(),H_=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],GE=ta(H_),QA=function(){function n(){}return n.prototype.getLineStyle=function(e){return GE(this,e)},n}(),W_=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],j_=ta(W_),JA=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return j_(this,e,t)},n}(),ao=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(e,t){ne(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=i==null?i:i[e];if(r==null&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=e!=null,r=i?this.parsePath(e):null;return new n(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Kt(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Oe.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||(i=i&&typeof i=="object"?i[e[r]]:null)!=null);r++);return i==null&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();Td(ao),dv=ao,Ul=["__\0is_clz",Xp++].join("_"),dv.prototype[Ul]=!0,dv.isInstance=function(n){return!(!n||!n[Ul])},jt(ao,QA),jt(ao,JA),jt(ao,yg),jt(ao,X0);var XE=Math.round(10*Math.random());function ds(n){return[n||"",XE++].join("_")}function xu(n,e){return ne(ne({},n,!0),e,!0)}var qh="ZH",pv="EN",Pg=pv,q0={},Y_={},tM=Oe.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(qh)>-1?qh:Pg;function U0(n,e){n=n.toUpperCase(),Y_[n]=new ao(e),q0[n]=e}function $0(n){return Y_[n]}U0(pv,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),U0(qh,{time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}});var fv=1e3,Z0=6e4,G_=36e5,sh=864e5,Ng=31536e6,Rg={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Bg="{yyyy}-{MM}-{dd}",K0={year:"{yyyy}",month:"{yyyy}-{MM}",day:Bg,hour:Bg+" "+Rg.hour,minute:Bg+" "+Rg.minute,second:Bg+" "+Rg.second,millisecond:Rg.none},gv=["year","month","day","hour","minute","second","millisecond"],mv=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Js(n,e){return"0000".substr(0,e-(n+="").length)+n}function uf(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function Q0(n){return n===uf(n)}function hf(n,e,t,i){var r=Ss(n),o=r[q_(t)](),a=r[df(t)]()+1,l=Math.floor((a-1)/3)+1,u=r[zg(t)](),f=r["get"+(t?"UTC":"")+"Day"](),g=r[lh(t)](),v=(g-1)%12+1,_=r[Fg(t)](),S=r[vv(t)](),A=r[_u(t)](),E=(i instanceof ao?i:$0(i||tM)||Y_[Pg]).getModel("time"),D=E.get("month"),R=E.get("monthAbbr"),z=E.get("dayOfWeek"),Y=E.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,D[a-1]).replace(/{MMM}/g,R[a-1]).replace(/{MM}/g,Js(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Js(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,z[f]).replace(/{ee}/g,Y[f]).replace(/{e}/g,f+"").replace(/{HH}/g,Js(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,Js(v+"",2)).replace(/{h}/g,v+"").replace(/{mm}/g,Js(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,Js(S,2)).replace(/{s}/g,S+"").replace(/{SSS}/g,Js(A,3)).replace(/{S}/g,A+"")}function Xd(n,e){var t=Ss(n),i=t[df(e)]()+1,r=t[zg(e)](),o=t[lh(e)](),a=t[Fg(e)](),l=t[vv(e)](),u=t[_u(e)]()===0,f=u&&l===0,g=f&&a===0,v=g&&o===0,_=v&&r===1;return _&&i===1?"year":_?"month":v?"day":g?"hour":f?"minute":u?"second":"millisecond"}function X_(n,e,t){var i=Ln(n)?Ss(n):n;switch(e=e||Xd(n,t)){case"year":return i[q_(t)]();case"half-year":return i[df(t)]()>=6?1:0;case"quarter":return Math.floor((i[df(t)]()+1)/4);case"month":return i[df(t)]();case"day":return i[zg(t)]();case"half-day":return i[lh(t)]()/24;case"hour":return i[lh(t)]();case"minute":return i[Fg(t)]();case"second":return i[vv(t)]();case"millisecond":return i[_u(t)]()}}function q_(n){return n?"getUTCFullYear":"getFullYear"}function df(n){return n?"getUTCMonth":"getMonth"}function zg(n){return n?"getUTCDate":"getDate"}function lh(n){return n?"getUTCHours":"getHours"}function Fg(n){return n?"getUTCMinutes":"getMinutes"}function vv(n){return n?"getUTCSeconds":"getSeconds"}function _u(n){return n?"getUTCMilliseconds":"getMilliseconds"}function U_(n){return n?"setUTCFullYear":"setFullYear"}function J0(n){return n?"setUTCMonth":"setMonth"}function yv(n){return n?"setUTCDate":"setDate"}function $_(n){return n?"setUTCHours":"setHours"}function bv(n){return n?"setUTCMinutes":"setMinutes"}function tb(n){return n?"setUTCSeconds":"setSeconds"}function wu(n){return n?"setUTCMilliseconds":"setMilliseconds"}function wl(n){if(!du(n))return Mn(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function ga(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Uh=Yt;function qd(n,e,t){function i(f){return f&&Dt(f)?f:"-"}function r(f){return!(f==null||isNaN(f)||!isFinite(f))}var o=e==="time",a=n instanceof Date;if(o||a){var l=o?Ss(n):n;if(!isNaN(+l))return hf(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(a)return"-"}if(e==="ordinal")return wr(n)?i(n):Ln(n)&&r(n)?n+"":"-";var u=ho(n);return r(u)?wl(u):wr(n)?i(n):typeof n=="boolean"?n+"":"-"}var Z_=["a","b","c","d","e","f","g"],eb=function(n,e){return"{"+n+(e??"")+"}"};function K_(n,e,t){Be(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=Z_[o];n=n.replace(eb(a),eb(a,0))}for(var l=0;l<i;l++)for(var u=0;u<r.length;u++){var f=e[l][r[u]];n=n.replace(eb(Z_[u],l),t?Nt(f):f)}return n}function Q_(n,e){var t=Mn(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var o=t.renderMode||"html";return i?o==="html"?r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Nt(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Nt(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function Ud(n,e){return e=e||"transparent",Mn(n)?n:di(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function nb(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var ib=ht,J_=["left","right","top","bottom","width","height"],$d=[["width","left","right"],["height","top","bottom"]];function rb(n,e,t,i,r){var o=0,a=0;i==null&&(i=1/0),r==null&&(r=1/0);var l=0;e.eachChild(function(u,f){var g,v,_=u.getBoundingRect(),S=e.childAt(f+1),A=S&&S.getBoundingRect();if(n==="horizontal"){var E=_.width+(A?-A.x+_.x:0);(g=o+E)>i||u.newline?(o=0,g=E,a+=l+t,l=_.height):l=Math.max(l,_.height)}else{var D=_.height+(A?-A.y+_.y:0);(v=a+D)>r||u.newline?(o+=l+t,a=0,v=D,l=_.width):l=Math.max(l,_.width)}u.newline||(u.x=o,u.y=a,u.markRedraw(),n==="horizontal"?o=g+t:a=v+t)})}var Zd=rb;_n(rb,"vertical"),_n(rb,"horizontal");function ma(n,e,t){t=Uh(t||0);var i=e.width,r=e.height,o=ei(n.left,i),a=ei(n.top,r),l=ei(n.right,i),u=ei(n.bottom,r),f=ei(n.width,i),g=ei(n.height,r),v=t[2]+t[0],_=t[1]+t[3],S=n.aspect;switch(isNaN(f)&&(f=i-l-_-o),isNaN(g)&&(g=r-u-v-a),S!=null&&(isNaN(f)&&isNaN(g)&&(S>i/r?f=.8*i:g=.8*r),isNaN(f)&&(f=S*g),isNaN(g)&&(g=f/S)),isNaN(o)&&(o=i-l-f-_),isNaN(a)&&(a=r-u-g-v),n.left||n.right){case"center":o=i/2-f/2-t[3];break;case"right":o=i-f-_}switch(n.top||n.bottom){case"middle":case"center":a=r/2-g/2-t[0];break;case"bottom":a=r-g-v}o=o||0,a=a||0,isNaN(f)&&(f=i-_-o-(l||0)),isNaN(g)&&(g=r-v-a-(u||0));var A=new yr(o+t[3],a+t[0],f,g);return A.margin=t,A}function xv(n,e,t,i,r,o){var a,l=!r||!r.hv||r.hv[0],u=!r||!r.hv||r.hv[1],f=r&&r.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!l&&!u)return!1;if(f==="raw")a=n.type==="group"?new yr(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(a=n.getBoundingRect(),n.needLocalTransform()){var g=n.getLocalTransform();(a=a.clone()).applyTransform(g)}var v=ma(Ne({width:a.width,height:a.height},e),t,i),_=l?v.x-a.x:0,S=u?v.y-a.y:0;return f==="raw"?(o.x=_,o.y=S):(o.x+=_,o.y+=S),o===n&&n.markRedraw(),!0}function Su(n){var e=n.layoutMode||n.constructor.layoutMode;return di(e)?e:e?{type:e}:null}function jc(n,e,t){var i=t&&t.ignoreSize;!Be(i)&&(i=[i,i]);var r=a($d[0],0),o=a($d[1],1);function a(g,v){var _={},S=0,A={},E=0;if(ib(g,function(z){A[z]=n[z]}),ib(g,function(z){l(e,z)&&(_[z]=A[z]=e[z]),u(_,z)&&S++,u(A,z)&&E++}),i[v])return u(e,g[1])?A[g[2]]=null:u(e,g[2])&&(A[g[1]]=null),A;if(E!==2&&S){if(S>=2)return _;for(var D=0;D<g.length;D++){var R=g[D];if(!l(_,R)&&l(n,R)){_[R]=n[R];break}}return _}return A}function l(g,v){return g.hasOwnProperty(v)}function u(g,v){return g[v]!=null&&g[v]!=="auto"}function f(g,v,_){ib(g,function(S){v[S]=_[S]})}f($d[0],n,r),f($d[1],n,o)}function Vg(n){return tw({},n)}function tw(n,e){return e&&n&&ib(J_,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var eM=Hr(),Wr=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.uid=ds("ec_cpt_model"),o}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=Su(this),o=r?Vg(t):{};ne(t,i.getTheme().get(this.mainType)),ne(t,this.getDefaultOption()),r&&jc(t,o,r)},e.prototype.mergeOption=function(t,i){ne(this.option,t,!0);var r=Su(this);r&&jc(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(f){return!(!f||!f[mg])}(t))return t.defaultOption;var i=eM(this);if(!i.defaultOption){for(var r=[],o=t;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var l={},u=r.length-1;u>=0;u--)l=ne(l,r[u],!0);i.defaultOption=l}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var r=t+"Index",o=t+"Id";return Ad(this.ecModel,t,{index:this.get(r,!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(ao);fu(Wr,ao),Bc(Wr),function(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=Hl(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var o=Hl(t).main;n.hasSubTypes(t)&&e[o]&&(r=e[o](i))}return r}}(Wr),function(n,e){function t(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,a){if(i.length){var l=function(D){var R={},z=[];return ht(D,function(Y){var G=t(R,Y),$=function(Q,et){var ot=[];return ht(Q,function(xt){dn(et,xt)>=0&&ot.push(xt)}),ot}(G.originalDeps=e(Y),D);G.entryCount=$.length,G.entryCount===0&&z.push(Y),ht($,function(Q){dn(G.predecessor,Q)<0&&G.predecessor.push(Q);var et=t(R,Q);dn(et.successor,Q)<0&&et.successor.push(Y)})}),{graph:R,noEntryList:z}}(r),u=l.graph,f=l.noEntryList,g={};for(ht(i,function(D){g[D]=!0});f.length;){var v=f.pop(),_=u[v],S=!!g[v];S&&(o.call(a,v,_.originalDeps.slice()),delete g[v]),ht(_.successor,S?E:A)}ht(g,function(){var D="";throw new Error(D)})}function A(D){u[D].entryCount--,u[D].entryCount===0&&f.push(D)}function E(D){g[D]=!0,A(D)}}}(Wr,function(n){var e=[];return ht(Wr.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=lt(e,function(t){return Hl(t).main}),n!=="dataset"&&dn(e,"dataset")<=0&&e.unshift("dataset"),e});var ew="";typeof navigator<"u"&&(ew=navigator.platform||"");var ch="rgba(0, 0, 0, 0.2)",nM={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ch,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ch,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ch,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ch,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ch,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ch,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ew.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},nw=ze(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),yc="original",Os="arrayRows",bc="objectRows",Cu="keyedColumns",$h="typedArray",ki="unknown",$l="column",pf="row",ff=1,ob=2,Yc=3,iw=Hr();function ab(n,e,t){var i={},r=sb(e);if(!r||!n)return i;var o,a,l=[],u=[],f=e.ecModel,g=iw(f).datasetMap,v=r.uid+"_"+t.seriesLayoutBy;ht(n=n.slice(),function(E,D){var R=di(E)?E:n[D]={name:E};R.type==="ordinal"&&o==null&&(o=D,a=A(R)),i[R.name]=[]});var _=g.get(v)||g.set(v,{categoryWayDim:a,valueWayDim:0});function S(E,D,R){for(var z=0;z<R;z++)E.push(D+z)}function A(E){var D=E.dimsDef;return D?D.length:1}return ht(n,function(E,D){var R=E.name,z=A(E);if(o==null){var Y=_.valueWayDim;S(i[R],Y,z),S(u,Y,z),_.valueWayDim+=z}else o===D?(S(i[R],0,z),S(l,0,z)):(Y=_.categoryWayDim,S(i[R],Y,z),S(u,Y,z),_.categoryWayDim+=z)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function gf(n,e,t){var i={};if(!sb(n))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==bc&&o!==Cu||ht(a,function(f,g){(di(f)?f.name:f)==="name"&&(r=g)});var l=function(){for(var f={},g={},v=[],_=0,S=Math.min(5,t);_<S;_++){var A=iM(e.data,o,e.seriesLayoutBy,a,e.startIndex,_);v.push(A);var E=A===Yc;if(E&&f.v==null&&_!==r&&(f.v=_),(f.n==null||f.n===f.v||!E&&v[f.n]===Yc)&&(f.n=_),D(f)&&v[f.n]!==Yc)return f;E||(A===ob&&g.v==null&&_!==r&&(g.v=_),g.n!=null&&g.n!==g.v||(g.n=_))}function D(R){return R.v!=null&&R.n!=null}return D(f)?f:D(g)?g:null}();if(l){i.value=[l.v];var u=r??l.n;i.itemName=[u],i.seriesName=[u]}return i}function sb(n){if(!n.get("data",!0))return Ad(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},da).models[0]}function rw(n,e){return iM(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function iM(n,e,t,i,r,o){var a,l,u;if(hr(n))return Yc;if(i){var f=i[o];di(f)?(l=f.name,u=f.type):Mn(f)&&(l=f)}if(u!=null)return u==="ordinal"?ff:Yc;if(e===Os){var g=n;if(t===pf){for(var v=g[o],_=0;_<(v||[]).length&&_<5;_++)if((a=z(v[r+_]))!=null)return a}else for(_=0;_<g.length&&_<5;_++){var S=g[r+_];if(S&&(a=z(S[o]))!=null)return a}}else if(e===bc){var A=n;if(!l)return Yc;for(_=0;_<A.length&&_<5;_++)if((D=A[_])&&(a=z(D[l]))!=null)return a}else if(e===Cu){if(!l||!(v=n[l])||hr(v))return Yc;for(_=0;_<v.length&&_<5;_++)if((a=z(v[_]))!=null)return a}else if(e===yc){var E=n;for(_=0;_<E.length&&_<5;_++){var D,R=$u(D=E[_]);if(!Be(R))return Yc;if((a=z(R[o]))!=null)return a}}function z(Y){var G=Mn(Y);return Y!=null&&isFinite(Y)&&Y!==""?G?ob:Yc:G&&Y!=="-"?ff:void 0}return Yc}var _v=ze(),Gc,Kd,mf,wv=Hr(),qE=Hr(),lb=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=oo(this.get("color",!0)),o=this.get("colorLayer",!0);return rM(this,wv,r,o,e,t,i)},n.prototype.clearColorPalette=function(){(function(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}})(this,wv)},n}();function Sv(n,e,t,i){var r=oo(n.get(["aria","decal","decals"]));return rM(n,qE,r,null,e,t,i)}function rM(n,e,t,i,r,o,a){var l=e(o=o||n),u=l.paletteIdx||0,f=l.paletteNameMap=l.paletteNameMap||{};if(f.hasOwnProperty(r))return f[r];var g=a!=null&&i?function(_,S){for(var A=_.length,E=0;E<A;E++)if(_[E].length>S)return _[E];return _[A-1]}(i,a):t;if((g=g||t)&&g.length){var v=g[u];return r&&(f[r]=v),l.paletteIdx=(u+1)%g.length,v}}var ow="\0_ec_inner",Cv=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.init=function(t,i,r,o,a,l){o=o||{},this.option=null,this._theme=new ao(o),this._locale=new ao(a),this._optionManager=l},e.prototype.setOption=function(t,i,r){var o=aM(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,i){return this._resetOption(t,aM(i))},e.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||t==="recreate"){var a=o.mountOption(t==="recreate");this.option&&t!=="recreate"?(this.restoreData(),this._mergeOption(a,i)):mf(this,a),r=!0}if(t!=="timeline"&&t!=="media"||this.restoreData(),!t||t==="recreate"||t==="timeline"){var l=o.getTimelineOption(this);l&&(r=!0,this._mergeOption(l,i))}if(!t||t==="recreate"||t==="media"){var u=o.getMediaOption(this);u.length&&ht(u,function(f){r=!0,this._mergeOption(f,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,l=[],u=ze(),f=i&&i.replaceMergeMainTypeMap;iw(this).datasetMap=ze(),ht(t,function(g,v){g!=null&&(Wr.hasClass(v)?v&&(l.push(v),u.set(v,!0)):r[v]=r[v]==null?Kt(g):ne(r[v],g,!0))}),f&&f.each(function(g,v){Wr.hasClass(v)&&!u.get(v)&&(l.push(v),u.set(v,!0))}),Wr.topologicalTravel(l,Wr.getAllClassMainTypes(),function(g){var v=function(Y,G,$){var Q=_v.get(G);if(!Q)return $;var et=Q(Y);return et?$.concat(et):$}(this,g,oo(t[g])),_=o.get(g),S=_?f&&f.get(g)?"replaceMerge":"normalMerge":"replaceAll",A=b0(_,v,S);(function(Y,G,$){ht(Y,function(Q){var et=Q.newOption;di(et)&&(Q.keyInfo.mainType=G,Q.keyInfo.subType=function(ot,xt,St,Mt){return xt.type?xt.type:St?St.subType:Mt.determineSubType(ot,xt)}(G,et,Q.existing,$))})})(A,g,Wr),r[g]=null,o.set(g,null),a.set(g,0);var E,D=[],R=[],z=0;ht(A,function(Y,G){var $=Y.existing,Q=Y.newOption;if(Q){var et=g==="series",ot=Wr.getClass(g,Y.keyInfo.subType,!et);if(!ot)return;if(g==="tooltip"){if(E)return;E=!0}if($&&$.constructor===ot)$.name=Y.keyInfo.name,$.mergeOption(Q,this),$.optionUpdated(Q,!1);else{var xt=me({componentIndex:G},Y.keyInfo);me($=new ot(Q,this,this,xt),xt),Y.brandNew&&($.__requireNewView=!0),$.init(Q,this,this),$.optionUpdated(null,!0)}}else $&&($.mergeOption({},this),$.optionUpdated({},!1));$?(D.push($.option),R.push($),z++):(D.push(void 0),R.push(void 0))},this),r[g]=D,o.set(g,R),a.set(g,z),g==="series"&&Gc(this)},this),this._seriesIndices||Gc(this)},e.prototype.getOption=function(){var t=Kt(this.option);return ht(t,function(i,r){if(Wr.hasClass(r)){for(var o=oo(i),a=o.length,l=!1,u=a-1;u>=0;u--)o[u]&&!Wh(o[u])?l=!0:(o[u]=null,!l&&a--);o.length=a,t[r]=o}}),delete t[ow],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(i==null){for(var a=0;a<r.length;a++)if(r[a])return r[a]}}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var r,o=t.index,a=t.id,l=t.name,u=this._componentsMap.get(i);return u&&u.length?(o!=null?(r=[],ht(oo(o),function(f){u[f]&&r.push(u[f])})):r=a!=null?aw("id",a,u):l!=null?aw("name",l,u):en(u,function(f){return!!f}),oM(r,t)):[]},e.prototype.findComponents=function(t){var i,r,o,a,l,u=t.query,f=t.mainType,g=(r=f+"Index",o=f+"Id",a=f+"Name",!(i=u)||i[r]==null&&i[o]==null&&i[a]==null?null:{mainType:f,index:i[r],id:i[o],name:i[a]}),v=g?this.queryComponents(g):en(this._componentsMap.get(f),function(_){return!!_});return l=oM(v,t),t.filter?en(l,t.filter):l},e.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(Ge(t)){var a=i,l=t;o.each(function(v,_){for(var S=0;v&&S<v.length;S++){var A=v[S];A&&l.call(a,_,A,A.componentIndex)}})}else for(var u=Mn(t)?o.get(t):di(t)?this.findComponents(t):null,f=0;u&&f<u.length;f++){var g=u[f];g&&i.call(r,g,g.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=wa(t,null);return en(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return en(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return en(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){Kd(this),ht(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},e.prototype.eachRawSeries=function(t,i){ht(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){Kd(this),ht(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===t&&i.call(r,a,o)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return ht(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return Kd(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){Kd(this);var r=[];ht(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];t.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=ze(r)},e.prototype.restoreData=function(t){Gc(this);var i=this._componentsMap,r=[];i.each(function(o,a){Wr.hasClass(a)&&r.push(a)}),Wr.topologicalTravel(r,Wr.getAllClassMainTypes(),function(o){ht(i.get(o),function(a){!a||o==="series"&&function(l,u){if(u){var f=u.seriesIndex,g=u.seriesId,v=u.seriesName;return f!=null&&l.componentIndex!==f||g!=null&&l.id!==g||v!=null&&l.name!==v}}(a,t)||a.restoreData()})})},e.internalField=(Gc=function(t){var i=t._seriesIndices=[];ht(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=ze(i)},Kd=function(t){},void(mf=function(t,i){t.option={},t.option[ow]=1,t._componentsMap=ze({series:[]}),t._componentsCount=ze();var r=i.aria;di(r)&&r.enabled==null&&(r.enabled=!0),function(o,a){var l=o.color&&!o.colorLayer;ht(a,function(u,f){f==="colorLayer"&&l||Wr.hasClass(f)||(typeof u=="object"?o[f]=o[f]?ne(o[f],u,!1):Kt(u):o[f]==null&&(o[f]=u))})}(i,t._theme.option),ne(i,nM,!1),t._mergeOption(i,null)})),e}(ao);function aw(n,e,t){if(Be(e)){var i=ze();return ht(e,function(o){o!=null&&wa(o,null)!=null&&i.set(o,!0)}),en(t,function(o){return o&&i.get(o[n])})}var r=wa(e,null);return en(t,function(o){return o&&r!=null&&o[n]===r})}function oM(n,e){return e.hasOwnProperty("subType")?en(n,function(t){return t&&t.subType===e.subType}):n}function aM(n){var e=ze();return n&&ht(oo(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}jt(Cv,lb);var sM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],cb=function(n){ht(sM,function(e){this[e]=Te(n[e],n)},this)},ub={},Zh=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];ht(ub,function(r,o){var a=r.create(e,t);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){ht(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){ub[e]=t},n.get=function(e){return ub[e]},n}(),hb=/^(min|max)?(.+)$/,db=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(ht(oo(e.series),function(a){a&&a.data&&hr(a.data)&&Pe(a.data)}),ht(oo(e.dataset),function(a){a&&a.source&&hr(a.source)&&Pe(a.source)})),e=Kt(e);var r=this._optionBackup,o=function(a,l,u){var f,g,v=[],_=a.baseOption,S=a.timeline,A=a.options,E=a.media,D=!!a.media,R=!!(A||S||_&&_.timeline);_?(g=_).timeline||(g.timeline=S):((R||D)&&(a.options=a.media=null),g=a),D&&Be(E)&&ht(E,function(Y){Y&&Y.option&&(Y.query?v.push(Y):f||(f=Y))});function z(Y){ht(l,function(G){G(Y,u)})}return z(g),ht(A,function(Y){return z(Y)}),ht(v,function(Y){return z(Y.option)}),{baseOption:g,timelineOptions:A||[],mediaDefault:f,mediaList:v}}(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Kt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=Kt(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t,i,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,l=this._mediaDefault,u=[],f=[];if(!a.length&&!l)return f;for(var g=0,v=a.length;g<v;g++)vf(a[g].query,r,o)&&u.push(g);return!u.length&&l&&(u=[-1]),u.length&&(t=u,i=this._currentMediaIndices,t.join(",")!==i.join(","))&&(f=lt(u,function(_){return Kt(_===-1?l.option:a[_].option)})),this._currentMediaIndices=u,f},n}();function vf(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return ht(n,function(o,a){var l=a.match(hb);if(l&&l[1]&&l[2]){var u=l[1],f=l[2].toLowerCase();(function(g,v,_){return _==="min"?g>=v:_==="max"?g<=v:g===v})(i[f],o,u)||(r=!1)}}),r}var ku=ht,Hg=di,sw=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function lw(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=sw.length;t<i;t++){var r=sw[t],o=e.normal,a=e.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?ne(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?ne(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function ps(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,Ne(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function Wg(n){ps(n,"itemStyle"),ps(n,"lineStyle"),ps(n,"areaStyle"),ps(n,"label"),ps(n,"labelLine"),ps(n,"upperLabel"),ps(n,"edgeLabel")}function Ea(n,e){var t=Hg(n)&&n[e],i=Hg(t)&&t.textStyle;if(i)for(var r=0,o=Uu.length;r<o;r++){var a=Uu[r];i.hasOwnProperty(a)&&(t[a]=i[a])}}function xc(n){n&&(Wg(n),Ea(n,"label"),n.emphasis&&Ea(n.emphasis,"label"))}function Kh(n){return Be(n)?n:n?[n]:[]}function cw(n){return(Be(n)?n[0]:n)||{}}function UE(n,e){ku(Kh(n.series),function(i){Hg(i)&&function(r){if(Hg(r)){lw(r),Wg(r),Ea(r,"label"),Ea(r,"upperLabel"),Ea(r,"edgeLabel"),r.emphasis&&(Ea(r.emphasis,"label"),Ea(r.emphasis,"upperLabel"),Ea(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(lw(o),xc(o));var a=r.markLine;a&&(lw(a),xc(a));var l=r.markArea;l&&xc(l);var u=r.data;if(r.type==="graph"){u=u||r.nodes;var f=r.links||r.edges;if(f&&!hr(f))for(var g=0;g<f.length;g++)xc(f[g]);ht(r.categories,function(S){Wg(S)})}if(u&&!hr(u))for(g=0;g<u.length;g++)xc(u[g]);if((o=r.markPoint)&&o.data){var v=o.data;for(g=0;g<v.length;g++)xc(v[g])}if((a=r.markLine)&&a.data){var _=a.data;for(g=0;g<_.length;g++)Be(_[g])?(xc(_[g][0]),xc(_[g][1])):xc(_[g])}r.type==="gauge"?(Ea(r,"axisLabel"),Ea(r,"title"),Ea(r,"detail")):r.type==="treemap"?(ps(r.breadcrumb,"itemStyle"),ht(r.levels,function(S){Wg(S)})):r.type==="tree"&&Wg(r.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),ku(t,function(i){ku(Kh(n[i]),function(r){r&&(Ea(r,"axisLabel"),Ea(r.axisPointer,"label"))})}),ku(Kh(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Ea(r,"axisLabel"),Ea(r&&r.axisPointer,"label")}),ku(Kh(n.calendar),function(i){ps(i,"itemStyle"),Ea(i,"dayLabel"),Ea(i,"monthLabel"),Ea(i,"yearLabel")}),ku(Kh(n.radar),function(i){Ea(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),ku(Kh(n.geo),function(i){Hg(i)&&(xc(i),ku(Kh(i.regions),function(r){xc(r)}))}),ku(Kh(n.timeline),function(i){xc(i),ps(i,"label"),ps(i,"itemStyle"),ps(i,"controlStyle",!0);var r=i.data;Be(r)&&ht(r,function(o){di(o)&&(ps(o,"label"),ps(o,"itemStyle"))})}),ku(Kh(n.toolbox),function(i){ps(i,"iconStyle"),ku(i.feature,function(r){ps(r,"iconStyle")})}),Ea(cw(n.axisPointer),"label"),Ea(cw(n.tooltip).axisPointer,"label")}function pb(n){n&&ht(lM,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var lM=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],cM=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],fb=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function kv(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<fb.length;t++){var i=fb[t][1],r=fb[t][0];e[i]!=null&&(e[r]=e[i])}}function uM(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function hM(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function dM(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&dM(n[t].children,e)}function jg(n,e){UE(n,e),n.series=oo(n.series),ht(n.series,function(t){if(di(t)){var i=t.type;if(i==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(i==="pie"||i==="gauge"){if(t.clockWise!=null&&(t.clockwise=t.clockWise),uM(t.label),(a=t.data)&&!hr(a))for(var r=0;r<a.length;r++)uM(a[r]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(i==="gauge"){var o=function(u,f){for(var g=f.split(","),v=u,_=0;_<g.length&&(v=v&&v[g[_]])!=null;_++);return v}(t,"pointer.color");o!=null&&function(u,f,g,v){for(var _,S=f.split(","),A=u,E=0;E<S.length-1;E++)A[_=S[E]]==null&&(A[_]={}),A=A[_];(v||A[S[E]]==null)&&(A[S[E]]=g)}(t,"itemStyle.color",o)}else if(i==="bar"){var a;if(kv(t),kv(t.backgroundStyle),kv(t.emphasis),(a=t.data)&&!hr(a))for(r=0;r<a.length;r++)typeof a[r]=="object"&&(kv(a[r]),kv(a[r]&&a[r].emphasis))}else if(i==="sunburst"){var l=t.highlightPolicy;l&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=l)),hM(t),dM(t.data,hM)}else i==="graph"||i==="sankey"?function(u){u&&u.focusNodeAdjacency!=null&&(u.emphasis=u.emphasis||{},u.emphasis.focus==null&&(u.emphasis.focus="adjacency"))}(t):i==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Ne(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),pb(t)}}),n.dataRange&&(n.visualMap=n.dataRange),ht(cM,function(t){var i=n[t];i&&(Be(i)||(i=[i]),ht(i,function(r){pb(r)}))})}function pM(n){ht(n,function(e,t){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,l=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(f,g,v){var _,S,A=a.get(e.stackedDimension,v);if(isNaN(A))return r;l?S=a.getRawIndex(v):_=a.get(e.stackedByDimension,v);for(var E=NaN,D=t-1;D>=0;D--){var R=n[D];if(l||(S=R.data.rawIndexOf(R.stackedByDimension,_)),S>=0){var z=R.data.getByRawIndex(R.stackResultDimension,S);if(u==="all"||u==="positive"&&z>0||u==="negative"&&z<0||u==="samesign"&&A>=0&&z>0||u==="samesign"&&A<=0&&z<0){A=Vl(A,z),E=z;break}}}return i[0]=A,i[1]=E,i})})}var yf,Qd,bf,fM,uw,Av=function(n){this.data=n.data||(n.sourceFormat===Cu?{}:[]),this.sourceFormat=n.sourceFormat||ki,this.seriesLayoutBy=n.seriesLayoutBy||$l,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var e=this.dimensionsDefine=n.dimensionsDefine;if(e)for(var t=0;t<e.length;t++){var i=e[t];i.type==null&&rw(this,t)===ff&&(i.type="ordinal")}};function hw(n){return n instanceof Av}function dw(n,e,t){t=t||gb(n);var i=e.seriesLayoutBy,r=function(o,a,l,u,f){var g,v;if(!o)return{dimensionsDefine:pw(f),startIndex:v,dimensionsDetectedCount:g};if(a===Os){var _=o;u==="auto"||u==null?Zl(function(A){A!=null&&A!=="-"&&(Mn(A)?v==null&&(v=1):v=0)},l,_,10):v=Ln(u)?u:u?1:0,f||v!==1||(f=[],Zl(function(A,E){f[E]=A!=null?A+"":""},l,_,1/0)),g=f?f.length:l===pf?_.length:_[0]?_[0].length:null}else if(a===bc)f||(f=function(A){for(var E,D=0;D<A.length&&!(E=A[D++]););if(E)return Qe(E)}(o));else if(a===Cu)f||(f=[],ht(o,function(A,E){f.push(E)}));else if(a===yc){var S=$u(o[0]);g=Be(S)&&S.length||1}return{startIndex:v,dimensionsDefine:pw(f),dimensionsDetectedCount:g}}(n,t,i,e.sourceHeader,e.dimensions);return new Av({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Kt(e)})}function Mv(n){return new Av({data:n,sourceFormat:hr(n)?$h:yc})}function gb(n){var e=ki;if(hr(n))e=$h;else if(Be(n)){n.length===0&&(e=Os);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(r!=null){if(Be(r)){e=Os;break}if(di(r)){e=bc;break}}}}else if(di(n)){for(var o in n)if(ln(n,o)&&Fe(n[o])){e=Cu;break}}return e}function pw(n){if(n){var e=ze();return lt(n,function(t,i){var r={name:(t=di(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function Zl(n,e,t,i){if(e===pf)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else{var o=t[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function xf(n){var e=n.sourceFormat;return e===bc||e===Cu}var mb=function(){function n(e,t){var i=hw(e)?e:Mv(e);this._source=i;var r=this._data=i.data;i.sourceFormat===$h&&(this._offset=0,this._dimSize=t,this._data=r),uw(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;uw=function(a,l,u){var f=u.sourceFormat,g=u.seriesLayoutBy,v=u.startIndex,_=u.dimensionsDefine,S=fM[_b(f,g)];if(me(a,S),f===$h)a.getItem=t,a.count=r,a.fillStorage=i;else{var A=bb(f,g);a.getItem=Te(A,null,l,v,_);var E=fw(f,g);a.count=Te(E,null,l,v,_)}};var t=function(a,l){a-=this._offset,l=l||[];for(var u=this._data,f=this._dimSize,g=f*a,v=0;v<f;v++)l[v]=u[g+v];return l},i=function(a,l,u,f){for(var g=this._data,v=this._dimSize,_=0;_<v;_++){for(var S=f[_],A=S[0]==null?1/0:S[0],E=S[1]==null?-1/0:S[1],D=l-a,R=u[_],z=0;z<D;z++){var Y=g[z*v+_];R[a+z]=Y,Y<A&&(A=Y),Y>E&&(E=Y)}S[0]=A,S[1]=E}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var l=0;l<a.length;l++)this._data.push(a[l])}(e={})[Os+"_"+$l]={pure:!0,appendData:o},e[Os+"_"+pf]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[bc]={pure:!0,appendData:o},e[Cu]={pure:!0,appendData:function(a){var l=this._data;ht(a,function(u,f){for(var g=l[f]||(l[f]=[]),v=0;v<(u||[]).length;v++)g.push(u[v])})}},e[yc]={appendData:o},e[$h]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},fM=e}(),n}(),vb=function(n,e,t,i){return n[i]},yb=((yf={})[Os+"_"+$l]=function(n,e,t,i){return n[i+e]},yf[Os+"_"+pf]=function(n,e,t,i,r){i+=e;for(var o=r||[],a=n,l=0;l<a.length;l++){var u=a[l];o[l]=u?u[i]:null}return o},yf[bc]=vb,yf[Cu]=function(n,e,t,i,r){for(var o=r||[],a=0;a<t.length;a++){var l=t[a].name,u=n[l];o[a]=u?u[i]:null}return o},yf[yc]=vb,yf);function bb(n,e){var t=yb[_b(n,e)];return t}var gM=function(n,e,t){return n.length},$E=((Qd={})[Os+"_"+$l]=function(n,e,t){return Math.max(0,n.length-e)},Qd[Os+"_"+pf]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},Qd[bc]=gM,Qd[Cu]=function(n,e,t){var i=t[0].name,r=n[i];return r?r.length:0},Qd[yc]=gM,Qd);function fw(n,e){var t=$E[_b(n,e)];return t}var Tv=function(n,e,t){return n[e]},_f=((bf={})[Os]=Tv,bf[bc]=function(n,e,t){return n[t]},bf[Cu]=Tv,bf[yc]=function(n,e,t){var i=$u(n);return i instanceof Array?i[e]:i},bf[$h]=Tv,bf);function xb(n){var e=_f[n];return e}function _b(n,e){return n===Os?n+"_"+e:n}function wf(n,e,t){if(n){var i=n.getRawDataItem(e);if(i!=null){var r=n.getStore(),o=r.getSource().sourceFormat;if(t!=null){var a=n.getDimensionIndex(t),l=r.getDimensionProperty(a);return xb(o)(i,a,l)}var u=i;return o===yc&&(u=$u(i)),u}}}var mM=/\{@(.+?)\}/g,wb=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),o=i.getRawIndex(e),a=i.getName(e),l=i.getRawDataItem(e),u=i.getItemVisual(e,"style"),f=u&&u[i.getItemVisual(e,"drawType")||"fill"],g=u&&u.stroke,v=this.mainType,_=v==="series",S=i.userOutput&&i.userOutput.get();return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:_?this.subType:null,seriesIndex:this.seriesIndex,seriesId:_?this.id:null,seriesName:_?this.name:null,name:a,dataIndex:o,data:l,dataType:t,value:r,color:f,borderColor:g,dimensionNames:S?S.fullDimensions:null,encode:S?S.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,o,a){t=t||"normal";var l=this.getData(i),u=this.getDataParams(e,i);return a&&(u.value=a.interpolatedValue),r!=null&&Be(u.value)&&(u.value=u.value[r]),o||(o=l.getItemModel(e).get(t==="normal"?["label","formatter"]:[t,"label","formatter"])),Ge(o)?(u.status=t,u.dimensionIndex=r,o(u)):Mn(o)?K_(o,u).replace(mM,function(f,g){var v=g.length,_=g;_.charAt(0)==="["&&_.charAt(v-1)==="]"&&(_=+_.slice(1,v-1));var S=wf(l,e,_);if(a&&Be(a.interpolatedValue)){var A=l.getDimensionIndex(_);A>=0&&(S=a.interpolatedValue[A])}return S!=null?S+"":""}):void 0},n.prototype.getRawValue=function(e,t){return wf(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function Sb(n){var e,t;return di(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Iv(n){return new vM(n)}var vM=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t,i=this._upstream,r=e&&e.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context));var a,l=v(this._modBy),u=this._modDataCount||0,f=v(e&&e.modBy),g=e&&e.modDataCount||0;function v(z){return!(z>=1)&&(z=1),z}l===f&&u===g||(t="reset"),(this._dirty||t==="reset")&&(this._dirty=!1,a=this._doReset(r)),this._modBy=f,this._modDataCount=g;var _=e&&e.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var S=this._dueIndex,A=Math.min(_!=null?this._dueIndex+_:1/0,this._dueEnd);if(!r&&(a||S<A)){var E=this._progress;if(Be(E))for(var D=0;D<E.length;D++)this._doProgress(E[D],S,A,f,g);else this._doProgress(E,S,A,f,g)}this._dueIndex=A;var R=this._settedOutputEnd!=null?this._settedOutputEnd:A;this._outputDueEnd=R}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,o){gw.reset(t,i,r,o),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:gw.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),Be(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),gw=function(){var n,e,t,i,r,o={reset:function(u,f,g,v){e=u,n=f,t=g,i=v,r=Math.ceil(i/t),o.next=t>1&&i>0?l:a}};return o;function a(){return e<n?e++:null}function l(){var u=e%r*t+Math.ceil(e/r),f=e>=n?null:u<i?u:e;return e++,f}}();function Jd(n,e){var t=e&&e.type;return t==="ordinal"?n:(t!=="time"||Ln(n)||n==null||n==="-"||(n=+Ss(n)),n==null||n===""?NaN:+n)}var yM=ze({number:function(n){return parseFloat(n)},time:function(n){return+Ss(n)},trim:function(n){return Mn(n)?Dt(n):n}});function bM(n){return yM.get(n)}var Ev={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},ZE=function(){function n(e,t){if(!Ln(t)){var i="";ro(i)}this._opFn=Ev[e],this._rvalFloat=ho(t)}return n.prototype.evaluate=function(e){return Ln(e)?this._opFn(e,this._rvalFloat):this._opFn(ho(e),this._rvalFloat)},n}(),mw=function(){function n(e,t){var i=e==="desc";this._resultLT=i?1:-1,t==null&&(t=i?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=Ln(e)?e:ho(e),r=Ln(t)?t:ho(t),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var l=Mn(e),u=Mn(t);l&&(i=u?e:0),u&&(r=l?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),tl=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=ho(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i===this._rvalTypeof||i!=="number"&&this._rvalTypeof!=="number"||(t=ho(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function xM(n,e){return n==="eq"||n==="ne"?new tl(n==="eq",e):ln(Ev,n)?new ZE(n,e):null}var KE=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Jd(e,t)},n}();function _M(n){var e=n.sourceFormat;if(!Cb(e)){var t="";ro(t)}return n.data}function QE(n){var e=n.sourceFormat,t=n.data;if(!Cb(e)){var i="";ro(i)}if(e===Os){for(var r=[],o=0,a=t.length;o<a;o++)r.push(t[o].slice());return r}if(e===bc){for(r=[],o=0,a=t.length;o<a;o++)r.push(me({},t[o]));return r}}function wM(n,e,t){if(t!=null)return Ln(t)||!isNaN(t)&&!ln(e,t)?n[t]:ln(e,t)?e[t]:void 0}function SM(n){return Kt(n)}var CM=ze();function kM(n,e,t,i){var r="";e.length||ro(r),di(n)||ro(r);var o=n.type,a=CM.get(o);a||ro(r);var l=lt(e,function(f){return function(g,v){var _=new KE,S=g.data,A=_.sourceFormat=g.sourceFormat,E=g.startIndex,D="";g.seriesLayoutBy!==$l&&ro(D);var R=[],z={},Y=g.dimensionsDefine;if(Y)ht(Y,function(xt,St){var Mt=xt.name,Bt={index:St,name:Mt,displayName:xt.displayName};if(R.push(Bt),Mt!=null){var Zt="";ln(z,Mt)&&ro(Zt),z[Mt]=Bt}});else for(var G=0;G<g.dimensionsDetectedCount;G++)R.push({index:G});var $=bb(A,$l);v.__isBuiltIn&&(_.getRawDataItem=function(xt){return $(S,E,R,xt)},_.getRawData=Te(_M,null,g)),_.cloneRawData=Te(QE,null,g);var Q=fw(A,$l);_.count=Te(Q,null,S,E,R);var et=xb(A);_.retrieveValue=function(xt,St){var Mt=$(S,E,R,xt);return ot(Mt,St)};var ot=_.retrieveValueFromItem=function(xt,St){if(xt!=null){var Mt=R[St];return Mt?et(xt,St,Mt.name):void 0}};return _.getDimensionInfo=Te(wM,null,R,z),_.cloneAllDimensionInfo=Te(SM,null,R),_}(f,a)}),u=oo(a.transform({upstream:l[0],upstreamList:l,config:Kt(n.config)}));return lt(u,function(f,g){var v,_="";di(f)||ro(_),f.data||ro(_),Cb(gb(f.data))||ro(_);var S=e[0];if(S&&g===0&&!f.dimensions){var A=S.startIndex;A&&(f.data=S.data.slice(0,A).concat(f.data)),v={seriesLayoutBy:$l,sourceHeader:A,dimensions:S.metaRawOption.dimensions}}else v={seriesLayoutBy:$l,sourceHeader:0,dimensions:f.dimensions};return dw(f.data,v,null)})}function Cb(n){return n===Os||n===bc}var uh,Ov="undefined",AM=typeof Uint32Array===Ov?Array:Uint32Array,vw=typeof Uint16Array===Ov?Array:Uint16Array,MM=typeof Int32Array===Ov?Array:Int32Array,yw=typeof Float64Array===Ov?Array:Float64Array,kb={float:yw,int:MM,ordinal:Array,number:Array,time:yw};function Sf(n){return n>65535?AM:vw}function TM(n,e,t,i,r){var o=kb[t||"float"];if(r){var a=n[e],l=a&&a.length;if(l!==i){for(var u=new o(i),f=0;f<l;f++)u[f]=a[f];n[e]=u}}else n[e]=new o(i)}var hh=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ze()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=uh[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],xf(r),this._dimensions=lt(t,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(o!=null){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(e,o),this._chunks[o]=new kb[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,a=r.ordinalOffset||0,l=i.length;a===0&&(o[e]=[1/0,-1/0]);for(var u=o[e],f=a;f<l;f++){var g=i[f]=t.parseAndCollect(i[f]);isNaN(g)||(u[0]=Math.min(g,u[0]),u[1]=Math.max(g,u[1]))}r.ordinalMeta=t,r.ordinalOffset=l,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,l=this.count(),u=l+Math.max(e.length,t||0),f=0;f<o;f++)TM(i,f,(A=r[f]).type,u,!0);for(var g=[],v=l;v<u;v++)for(var _=v-l,S=0;S<o;S++){var A=r[S],E=uh.arrayRows.call(this,e[_]||g,A.property,_,S);i[S][v]=E;var D=a[S];E<D[0]&&(D[0]=E),E>D[1]&&(D[1]=E)}return this._rawCount=this._count=u,{start:l,end:u}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,l=a.length,u=this._rawExtent,f=lt(a,function(z){return z.property}),g=0;g<l;g++){var v=a[g];u[g]||(u[g]=[1/0,-1/0]),TM(o,g,v.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,o,u);else for(var _=[],S=e;S<t;S++){_=r.getItem(S,_);for(var A=0;A<l;A++){var E=o[A],D=this._dimValueGetter(_,f[A],S,A);E[S]=D;var R=u[A];D<R[0]&&(R[0]=D),D>R[1]&&(R[1]=D)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(t==null){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var i=0,r=this.count();i<r;i++){var o=this.get(e,i);isNaN(o)||(t+=o)}return t},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,a){return o-a}),r=this.count();return r===0?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(i!=null&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(t[a]<e)r=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var r=this._chunks[e],o=[];if(!r)return o;i==null&&(i=1/0);for(var a=1/0,l=-1,u=0,f=0,g=this.count();f<g;f++){var v=t-r[this.getRawIndex(f)],_=Math.abs(v);_<=i&&((_<a||_===a&&v>=0&&l<0)&&(a=_,l=v,u=0),v===l&&(o[u++]=f))}return o.length=u,o},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new i(t.buffer,0,r)}else for(e=new(i=Sf(this._rawCount))(this.count()),o=0;o<e.length;o++)e[o]=o;return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(Sf(i._rawCount))(r),a=[],l=e.length,u=0,f=e[0],g=i._chunks,v=0;v<r;v++){var _=void 0,S=i.getRawIndex(v);if(l===0)_=t(v);else if(l===1)_=t(g[f][S],v);else{for(var A=0;A<l;A++)a[A]=g[e[A]][S];a[A]=v,_=t.apply(null,a)}_&&(o[u++]=S)}return u<r&&(i._indices=o),i._count=u,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=Qe(e),o=r.length;if(!o)return this;var a=t.count(),l=new(Sf(t._rawCount))(a),u=0,f=r[0],g=e[f][0],v=e[f][1],_=t._chunks,S=!1;if(!t._indices){var A=0;if(o===1){for(var E=_[r[0]],D=0;D<i;D++)((G=E[D])>=g&&G<=v||isNaN(G))&&(l[u++]=A),A++;S=!0}else if(o===2){E=_[r[0]];var R=_[r[1]],z=e[r[1]][0],Y=e[r[1]][1];for(D=0;D<i;D++){var G=E[D],$=R[D];(G>=g&&G<=v||isNaN(G))&&($>=z&&$<=Y||isNaN($))&&(l[u++]=A),A++}S=!0}}if(!S)if(o===1)for(D=0;D<a;D++){var Q=t.getRawIndex(D);((G=_[r[0]][Q])>=g&&G<=v||isNaN(G))&&(l[u++]=Q)}else for(D=0;D<a;D++){for(var et=!0,ot=(Q=t.getRawIndex(D),0);ot<o;ot++){var xt=r[ot];((G=_[xt][Q])<e[xt][0]||G>e[xt][1])&&(et=!1)}et&&(l[u++]=t.getRawIndex(D))}return u<a&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,o=[],a=t.length,l=e.count(),u=[],f=e._rawExtent,g=0;g<t.length;g++)f[t[g]]=[1/0,-1/0];for(var v=0;v<l;v++){for(var _=e.getRawIndex(v),S=0;S<a;S++)u[S]=r[t[S]][_];u[a]=v;var A=i&&i.apply(null,u);if(A!=null)for(typeof A!="object"&&(o[0]=A,A=o),g=0;g<A.length;g++){var E=t[g],D=A[g],R=f[E],z=r[E];z&&(z[_]=D),D<R[0]&&(R[0]=D),D>R[1]&&(R[1]=D)}}},n.prototype.lttbDownSample=function(e,t){var i,r,o,a=this.clone([e],!0),l=a._chunks[e],u=this.count(),f=0,g=Math.floor(1/t),v=this.getRawIndex(0),_=new(Sf(this._rawCount))(Math.min(2*(Math.ceil(u/g)+2),u));_[f++]=v;for(var S=1;S<u-1;S+=g){for(var A=Math.min(S+g,u-1),E=Math.min(S+2*g,u),D=(E+A)/2,R=0,z=A;z<E;z++){var Y=l[St=this.getRawIndex(z)];isNaN(Y)||(R+=Y)}R/=E-A;var G=S,$=Math.min(S+g,u),Q=S-1,et=l[v];i=-1,o=G;var ot=-1,xt=0;for(z=G;z<$;z++){var St;Y=l[St=this.getRawIndex(z)],isNaN(Y)?(xt++,ot<0&&(ot=St)):(r=Math.abs((Q-D)*(Y-et)-(Q-z)*(R-et)))>i&&(i=r,o=St)}xt>0&&xt<$-G&&(_[f++]=Math.min(ot,o),o=Math.max(ot,o)),_[f++]=o,v=o}return _[f++]=this.getRawIndex(u-1),a._count=f,a._indices=_,a.getRawIndex=this._getRawIdx,a},n.prototype.downSample=function(e,t,i,r){for(var o=this.clone([e],!0),a=o._chunks,l=[],u=Math.floor(1/t),f=a[e],g=this.count(),v=o._rawExtent[e]=[1/0,-1/0],_=new(Sf(this._rawCount))(Math.ceil(g/u)),S=0,A=0;A<g;A+=u){u>g-A&&(u=g-A,l.length=u);for(var E=0;E<u;E++){var D=this.getRawIndex(A+E);l[E]=f[D]}var R=i(l),z=this.getRawIndex(Math.min(A+r(l,R)||0,g-1));f[z]=R,R<v[0]&&(v[0]=R),R>v[1]&&(v[1]=R),_[S++]=z}return o._count=S,o._indices=_,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,o=0,a=this.count();o<a;o++){var l=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[e[0]][l],o);break;case 2:t(r[e[0]][l],r[e[1]][l],o);break;default:for(var u=0,f=[];u<i;u++)f[u]=r[e[u]][l];f[u]=o,t.apply(null,f)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();for(var a=(r=i)[0],l=r[1],u=0;u<o;u++){var f=t[this.getRawIndex(u)];f<a&&(a=f),f>l&&(l=f)}return r=[a,l],this._extent[e]=r,r},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},n.prototype.clone=function(e,t){var i,r,o=new n,a=this._chunks,l=e&&an(e,function(f,g){return f[g]=!0,f},{});if(l)for(var u=0;u<a.length;u++)o._chunks[u]=l[u]?(i=a[u],r=void 0,(r=i.constructor)===Array?i.slice():new r(i)):a[u];else o._chunks=a;return this._copyCommonProps(o),t||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Kt(this._extent),e._rawExtent=Kt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,o){return Jd(t[o],this._dimensions[o])}uh={arrayRows:e,objectRows:function(t,i,r,o){return Jd(t[i],this._dimensions[o])},keyedColumns:e,original:function(t,i,r,o){var a=t&&(t.value==null?t:t.value);return Jd(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),n}(),bw=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(Ab(i)){var a=i,l=void 0,u=void 0,f=void 0;if(o){var g=r[0];g.prepareSource(),l=(f=g.getSource()).data,u=f.sourceFormat,t=[g._getVersionSign()]}else u=hr(l=a.get("data",!0))?$h:yc,t=[];var v=this._getSourceMetaRawOption()||{},_=f&&f.metaRawOption||{},S=yi(v.seriesLayoutBy,_.seriesLayoutBy)||null,A=yi(v.sourceHeader,_.sourceHeader),E=yi(v.dimensions,_.dimensions);e=S!==_.seriesLayoutBy||!!A!=!!_.sourceHeader||E?[dw(l,{seriesLayoutBy:S,sourceHeader:A,dimensions:E},u)]:[]}else{var D=i;if(o){var R=this._applyTransform(r);e=R.sourceList,t=R.upstreamSignList}else e=[dw(D.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}this._setLocalSource(e,t)},n.prototype._applyTransform=function(e){var t,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);if(o!=null){var a="";e.length!==1&&IM(a)}var l,u=[],f=[];return ht(e,function(g){g.prepareSource();var v=g.getSource(o||0),_="";o==null||v||IM(_),u.push(v),f.push(g._getVersionSign())}),r?t=function(g,v,_){var S=oo(g),A=S.length,E="";A||ro(E);for(var D=0,R=A;D<R;D++)v=kM(S[D],v),D!==R-1&&(v.length=Math.max(v.length,1));return v}(r,u,i.componentIndex):o!=null&&(t=[(l=u[0],new Av({data:l.data,sourceFormat:l.sourceFormat,seriesLayoutBy:l.seriesLayoutBy,dimensionsDefine:Kt(l.dimensionsDefine),startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:f}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[i];if(!a){var l=this._getUpstreamSourceManagers()[0];Ab(this._sourceHost)&&l?a=l._innerGetDataStore(e,t,i):(a=new hh).initData(new mb(t,e.length),e),o[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Ab(e)){var t=sb(e);return t?[t.getSourceManager()]:[]}return lt(function(i){return i.get("transform",!0)||i.get("fromTransformResult",!0)?Ad(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},da).models:[]}(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e,t,i,r=this._sourceHost;if(Ab(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;e=o.get("seriesLayoutBy",!0),t=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:i}},n}();function xw(n){n.option.transform&&Pe(n.option.transform)}function Ab(n){return n.mainType==="series"}function IM(n){throw new Error(n)}var Yg="line-height:1";function Gg(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,l=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Nt(i+"")+"px;color:"+Nt(t)+";font-weight:"+Nt(r+""),valueStyle:"font-size:"+Nt(a+"")+"px;color:"+Nt(o)+";font-weight:"+Nt(l+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:l}}}var EM=[0,10,20,30],OM=["",`
`,`

`,`


`];function ia(n,e){return e.type=n,e}function dh(n){return n.type==="section"}function _w(n){return dh(n)?ww:DM}function ph(n){if(dh(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return ht(n.blocks,function(r){var o=ph(r);o>=e&&(e=o+ +(i&&(!o||dh(r)&&!r.noHeader)))}),e}return 0}function ww(n,e,t,i){var r,o=e.noHeader,a=(r=ph(e),{html:EM[r],richText:OM[r]}),l=[],u=e.blocks||[];At(!u||Be(u)),u=u||[];var f=n.orderMode;if(e.sortBlocks&&f){u=u.slice();var g={valueAsc:"asc",valueDesc:"desc"};if(ln(g,f)){var v=new mw(g[f],null);u.sort(function(E,D){return v.evaluate(E.sortParam,D.sortParam)})}else f==="seriesDesc"&&u.reverse()}ht(u,function(E,D){var R=e.valueFormatter,z=_w(E)(R?me(me({},n),{valueFormatter:R}):n,E,D>0?a.html:0,i);z!=null&&l.push(z)});var _=n.renderMode==="richText"?l.join(a.richText):Mb(l.join(""),o?t:a.html);if(o)return _;var S=qd(e.header,"ordinal",n.useUTC),A=Gg(i,n.renderMode).nameStyle;return n.renderMode==="richText"?Tb(n,S,A)+a.richText+_:Mb('<div style="'+A+";"+Yg+';">'+Nt(S)+"</div>"+_,t)}function DM(n,e,t,i){var r=n.renderMode,o=e.noName,a=e.noValue,l=!e.markerType,u=e.name,f=n.useUTC,g=e.valueFormatter||n.valueFormatter||function(G){return lt(G=Be(G)?G:[G],function($,Q){return qd($,Be(S)?S[Q]:S,f)})};if(!o||!a){var v=l?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),_=o?"":qd(u,"ordinal",f),S=e.valueType,A=a?[]:g(e.value),E=!l||!o,D=!l&&o,R=Gg(i,r),z=R.nameStyle,Y=R.valueStyle;return r==="richText"?(l?"":v)+(o?"":Tb(n,_,z))+(a?"":function(G,$,Q,et,ot){var xt=[ot],St=et?10:20;return Q&&xt.push({padding:[0,0,0,St],align:"right"}),G.markupStyleCreator.wrapRichTextStyle(Be($)?$.join("  "):$,xt)}(n,A,E,D,Y)):Mb((l?"":v)+(o?"":function(G,$,Q){return'<span style="'+Q+";"+($?"margin-left:2px":"")+'">'+Nt(G)+"</span>"}(_,!l,z))+(a?"":function(G,$,Q,et){var ot=Q?"10px":"20px",xt=$?"float:right;margin-left:"+ot:"";return G=Be(G)?G:[G],'<span style="'+xt+";"+et+'">'+lt(G,function(St){return Nt(St)}).join("&nbsp;&nbsp;")+"</span>"}(A,E,D,Y)),t)}}function Sw(n,e,t,i,r,o){if(n)return _w(n)({useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,o)}function Mb(n,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+Yg+';">'+n+'<div style="clear:both"></div></div>'}function Tb(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function Cw(n,e){return Ud(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function LM(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var kw=function(){function n(){this.richTextStyles={},this._nextStyleNameId=ug()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r=i==="richText"?this._generateStyleName():null,o=Q_({color:t,type:e,renderMode:i,markerId:r});return Mn(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};Be(t)?ht(t,function(o){return me(i,o)}):me(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function PM(n){var e,t,i,r,o=n.series,a=n.dataIndex,l=n.multipleSeries,u=o.getData(),f=u.mapDimensionsAll("defaultedTooltip"),g=f.length,v=o.getRawValue(a),_=Be(v),S=Cw(o,a);if(g>1||_&&!g){var A=function(G,$,Q,et,ot){var xt=$.getData(),St=an(G,function(pe,be,we){var Re=xt.getDimensionInfo(we);return pe||Re&&Re.tooltip!==!1&&Re.displayName!=null},!1),Mt=[],Bt=[],Zt=[];function se(pe,be){var we=xt.getDimensionInfo(be);we&&we.otherDims.tooltip!==!1&&(St?Zt.push(ia("nameValue",{markerType:"subItem",markerColor:ot,name:we.displayName,value:pe,valueType:we.type})):(Mt.push(pe),Bt.push(we.type)))}return et.length?ht(et,function(pe){se(wf(xt,Q,pe),pe)}):ht(G,se),{inlineValues:Mt,inlineValueTypes:Bt,blocks:Zt}}(v,o,a,f,S);e=A.inlineValues,t=A.inlineValueTypes,i=A.blocks,r=A.inlineValues[0]}else if(g){var E=u.getDimensionInfo(f[0]);r=e=wf(u,a,f[0]),t=E.type}else r=e=_?v[0]:v;var D=fg(o),R=D&&o.name||"",z=u.getName(a),Y=l?R:z;return ia("section",{header:R,noHeader:l||!D,sortParam:r,blocks:[ia("nameValue",{markerType:"item",markerColor:S,name:Y,noName:!Dt(Y),value:e,valueType:t})].concat(i||[])})}var Au=Hr();function Xg(n,e){return n.getName(e)||n.getId(e)}var qg="__universalTransitionEnabled",Io=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return Tt(e,n),e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=Iv({count:RM,reset:BM}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(Au(this).sourceManager=new bw(this)).prepareSource();var o=this.getInitialData(t,r);Aw(o,this),this.dataTask.context.data=o,Au(this).dataBeforeProcessed=o,NM(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=Su(this),o=r?Vg(t):{},a=this.subType;Wr.hasClass(a)&&(a+="Series"),ne(t,i.getTheme().get(this.subType)),ne(t,this.getDefaultOption()),pu(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&jc(t,o,r)},e.prototype.mergeOption=function(t,i){t=ne(this.option,t,!0),this.fillDataTextStyle(t.data);var r=Su(this);r&&jc(this.option,t,r);var o=Au(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(t,i);Aw(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Au(this).dataBeforeProcessed=a,NM(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!hr(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&pu(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=Ib(this);if(i){var r=i.context.data;return t==null?r:r.getLinkedData(t)}return Au(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=Ib(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}Au(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return ze(t)},e.prototype.getSourceManager=function(){return Au(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Au(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return PM({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Oe.node&&(!t||!t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,a=lb.prototype.getColorFromPalette.call(this,t,i,r);return a||(a=o.getColorFromPalette(t,i,r)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if(o==="series"||r==="all")return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var l=0;l<t.length;l++){var u=Xg(a,t[l]);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=Qe(t),r=[],o=0;o<i.length;o++){var a=t[i[o]];a>=0&&r.push(a)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return(r==="all"||r[Xg(o,t)])&&!o.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[qg])return!0;var t=this.option.universalTransition;return!!t&&(t===!0||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var r,o,a=this.option,l=a.selectedMode,u=i.length;if(l&&u){if(l==="series")a.selectedMap="all";else if(l==="multiple"){di(a.selectedMap)||(a.selectedMap={});for(var f=a.selectedMap,g=0;g<u;g++){var v=i[g];f[S=Xg(t,v)]=!0,this._selectedDataIndicesMap[S]=t.getRawIndex(v)}}else if(l==="single"||l===!0){var _=i[u-1],S=Xg(t,_);a.selectedMap=((r={})[S]=!0,r),this._selectedDataIndicesMap=((o={})[S]=t.getRawIndex(_),o)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return Wr.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Wr);function NM(n){var e=n.name;fg(n)||(n.name=function(t){var i=t.getRawData(),r=i.mapDimensionsAll("seriesName"),o=[];return ht(r,function(a){var l=i.getDimensionInfo(a);l.displayName&&o.push(l.displayName)}),o.join(" ")}(n)||e)}function RM(n){return n.model.getRawData().count()}function BM(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),zM}function zM(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Aw(n,e){ht(Zn(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,_n(Mw,e))})}function Mw(n,e){var t=Ib(n);return t&&t.setOutputEnd((e||this).count()),e}function Ib(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}jt(Io,wb),jt(Io,lb),fu(Io,Wr);var Ao=function(){function n(){this.group=new Di,this.uid=ds("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();function fh(){var n=Hr();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,o=!!t.progressiveRender,a=t.large=!(!i||!i.large),l=t.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===l)&&"reset"}}Td(Ao),Bc(Ao);var Eb=Hr(),FM=fh(),wo=function(){function n(){this.group=new Di,this.uid=ds("viewChart"),this.renderTask=Iv({plan:JE,reset:VM}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&Iw(o,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&Iw(o,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){Xh(this.group,e)},n.markUpdateMethod=function(e,t){Eb(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function Tw(n,e,t){n&&Ag(n)&&(e==="emphasis"?nh:ih)(n,t)}function Iw(n,e,t){var i=Zu(n,e),r=e&&e.highlightKey!=null?function(o){var a=mu[o];return a==null&&Ts<=32&&(a=mu[o]=Ts++),a}(e.highlightKey):null;i!=null?ht(oo(i),function(o){Tw(n.getItemGraphicEl(o),t,r)}):n.eachItemGraphicEl(function(o){Tw(o,t,r)})}function JE(n){return FM(n.model)}function VM(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,o=e.pipelineContext.progressiveRender,a=n.view,l=r&&Eb(r).updateMethod,u=o?"incrementalPrepareRender":l&&a[l]?l:"render";return u!=="render"&&a[u](e,t,i,r),Ob[u]}Td(wo),Bc(wo);var Ob={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Ug="\0__throttleOriginMethod",Db="\0__throttleRate",HM="\0__throttleType";function Dv(n,e,t){var i,r,o,a,l,u=0,f=0,g=null;function v(){f=new Date().getTime(),g=null,n.apply(o,a||[])}e=e||0;var _=function(){for(var S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];i=new Date().getTime(),o=this,a=S;var E=l||e,D=l||t;l=null,r=i-(D?u:f)-E,clearTimeout(g),D?g=setTimeout(v,E):r>=0?v():g=setTimeout(v,-r),u=i};return _.clear=function(){g&&(clearTimeout(g),g=null)},_.debounceNextCall=function(S){l=S},_}function Cf(n,e,t,i){var r=n[e];if(r){var o=r[Ug]||r,a=r[HM];if(r[Db]!==t||a!==i){if(t==null||!i)return n[e]=o;(r=n[e]=Dv(o,t,i==="debounce"))[Ug]=o,r[HM]=i,r[Db]=t}return r}}function Lv(n,e){var t=n[e];t&&t[Ug]&&(t.clear&&t.clear(),n[e]=t[Ug])}var Ew=Hr(),WM={itemStyle:ta(W_,!0),lineStyle:ta(H_,!0)},tO={lineStyle:"stroke",itemStyle:"fill"};function tp(n,e){var t=n.visualStyleMapper||WM[e];return t||(console.warn("Unknown style type '"+e+"'."),WM.itemStyle)}function jM(n,e){var t=n.visualDrawType||tO[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var kf={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=tp(n,i)(r),a=r.getShallow("decal");a&&(t.setVisual("decal",a),a.dirty=!0);var l=jM(n,i),u=o[l],f=Ge(u)?u:null,g=o.fill==="auto"||o.stroke==="auto";if(!o[l]||f||g){var v=n.getColorFromPalette(n.name,null,e.getSeriesCount());o[l]||(o[l]=v,t.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Ge(o.fill)?v:o.fill,o.stroke=o.stroke==="auto"||Ge(o.stroke)?v:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&f)return t.setVisual("colorFromPalette",!1),{dataEach:function(_,S){var A=n.getDataParams(S),E=me({},o);E[l]=f(A),_.setItemVisual(S,"style",E)}}}},Xc=new ao,_c={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=tp(n,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(a,l){var u=a.getRawDataItem(l);if(u&&u[i]){Xc.option=u[i];var f=r(Xc);me(a.ensureUniqueItemVisual(l,"style"),f),Xc.option.decal&&(a.setItemVisual(l,"decal",Xc.option.decal),Xc.option.decal.dirty=!0),o in f&&a.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},YM={performRawSeries:!0,overallReset:function(n){var e=ze();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=e.get(r);o||(o={},e.set(r,o)),Ew(t).scope=o}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),r={},o=t.getData(),a=Ew(t).scope,l=t.visualStyleAccessPath||"itemStyle",u=jM(t,l);o.each(function(f){var g=o.getRawIndex(f);r[g]=f}),i.each(function(f){var g=r[f];if(o.getItemVisual(g,"colorFromPalette")){var v=o.ensureUniqueItemVisual(g,"style"),_=i.getName(f)||f+"",S=i.count();v[u]=t.getColorFromPalette(_,a,S)}})}})}},Pv=Math.PI,Ow=function(){function n(e,t,i,r){this._stageTaskMap=ze(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,o=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:o,modBy:a!=null?Math.ceil(a/o):null,modDataCount:a}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),r=e.getData().count(),o=i.progressiveEnabled&&t.incrementalPrepareRender&&r>=i.threshold,a=e.get("large")&&r>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?r:null;e.pipelineContext=i.context={progressiveRender:o,modDataCount:l,large:a}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=ze();e.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;ht(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{}),a="";At(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=i,a.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var o=!1,a=this;function l(u,f){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(f.__pipeline.id))}ht(e,function(u,f){if(!r.visualType||r.visualType===u.visualType){var g=a._stageTaskMap.get(u.uid),v=g.seriesTaskMap,_=g.overallTask;if(_){var S,A=_.agentStubMap;A.each(function(D){l(r,D)&&(D.dirty(),S=!0)}),S&&_.dirty(),a.updatePayload(_,i);var E=a.getPerformArgs(_,r.block);A.each(function(D){D.perform(E)}),_.perform(E)&&(o=!0)}else v&&v.each(function(D,R){l(r,D)&&D.dirty();var z=a.getPerformArgs(D,r.block);z.skip=!u.performRawSeries&&t.isSeriesFiltered(D.context.model),a.updatePayload(D,i),D.perform(z)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var o=this,a=t.seriesTaskMap,l=t.seriesTaskMap=ze(),u=e.seriesType,f=e.getTargetSeries;function g(v){var _=v.uid,S=l.set(_,a&&a.get(_)||Iv({plan:GM,reset:XM,count:Nv}));S.context={model:v,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(v,S)}e.createOnAllSeries?i.eachRawSeries(g):u?i.eachRawSeriesByType(u,g):f&&f(i,r).each(g)},n.prototype._createOverallStageTask=function(e,t,i,r){var o=this,a=t.overallTask=t.overallTask||Iv({reset:Dw});a.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var l=a.agentStubMap,u=a.agentStubMap=ze(),f=e.seriesType,g=e.getTargetSeries,v=!0,_=!1,S="";function A(E){var D=E.uid,R=u.set(D,l&&l.get(D)||(_=!0,Iv({reset:eO,onDirty:Lw})));R.context={model:E,overallProgress:v},R.agent=a,R.__block=v,o._pipe(E,R)}At(!e.createOnAllSeries,S),f?i.eachRawSeriesByType(f,A):g?g(i,r).each(A):(v=!1,ht(i.getSeries(),A)),_&&a.dirty()},n.prototype._pipe=function(e,t){var i=e.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return Ge(e)&&(e={overallReset:e,seriesType:Nb(e)}),e.uid=ds("stageHandler"),t&&(e.visualType=t),e},n}();function Dw(n){n.overallReset(n.ecModel,n.api,n.payload)}function eO(n){return n.overallProgress&&Lb}function Lb(){this.agent.dirty(),this.getDownstream().dirty()}function Lw(){this.agent&&this.agent.dirty()}function GM(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function XM(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=oo(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?lt(e,function(t,i){return Pb(i)}):Pw}var Pw=Pb(0);function Pb(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function Nv(n){return n.data.count()}function Nb(n){Rv=null;try{n($g,Rb)}catch{}return Rv}var Rv,$g={},Rb={};function Nw(n,e){for(var t in e.prototype)n[t]=Vn}Nw($g,Cv),Nw(Rb,cb),$g.eachSeriesByType=$g.eachRawSeriesByType=function(n){Rv=n},$g.eachComponent=function(n){n.mainType==="series"&&n.subType&&(Rv=n.subType)};var Rw=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Bw={color:Rw,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Rw]},el="#B9B8CE",qM="#100C2A",Bv=function(){return{axisLine:{lineStyle:{color:el}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Bb=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],zw={darkMode:!0,color:Bb,backgroundColor:qM,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:el}},textStyle:{color:el},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:el}},dataZoom:{borderColor:"#71708A",textStyle:{color:el},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:el}},timeline:{lineStyle:{color:el},label:{color:el},controlStyle:{color:el,borderColor:el}},calendar:{itemStyle:{color:qM},dayLabel:{color:el},monthLabel:{color:el},yearLabel:{color:el}},timeAxis:Bv(),logAxis:Bv(),valueAxis:Bv(),categoryAxis:Bv(),line:{symbol:"circle"},graph:{color:Bb},gauge:{title:{color:el},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:el},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};zw.categoryAxis.splitLine.show=!1;var UM=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(Mn(e)){var o=Hl(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};ht(e,function(u,f){for(var g=!1,v=0;v<a.length;v++){var _=a[v],S=f.lastIndexOf(_);if(S>0&&S===f.length-_.length){var A=f.slice(0,S);A!=="data"&&(t.mainType=A,t[_.toLowerCase()]=u,g=!0)}}l.hasOwnProperty(f)&&(i[f]=u,g=!0),g||(r[f]=u)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,l=i.view;if(!a||!l)return!0;var u=t.cptQuery,f=t.dataQuery;return g(u,a,"mainType")&&g(u,a,"subType")&&g(u,a,"index","componentIndex")&&g(u,a,"name")&&g(u,a,"id")&&g(f,o,"name")&&g(f,o,"dataIndex")&&g(f,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(e,t.otherQuery,r,o));function g(v,_,S,A){return v[S]==null||_[A||S]===v[S]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),Fw=["symbol","symbolSize","symbolRotate","symbolOffset"],zb=Fw.concat(["symbolKeepAspect"]),nO={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<Fw.length;a++){var l=Fw[a],u=n.get(l);Ge(u)?(o=!0,r[l]=u):i[l]=u}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(me({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(n)){var f=Qe(r);return{dataEach:o?function(g,v){for(var _=n.getRawValue(v),S=n.getDataParams(v),A=0;A<f.length;A++){var E=f[A];g.setItemVisual(v,E,r[E](_,S))}}:null}}}}},$M={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(t,i){for(var r=t.getItemModel(i),o=0;o<zb.length;o++){var a=zb[o],l=r.getShallow(a,!0);l!=null&&t.setItemVisual(i,a,l)}}:null}}};function zv(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function ep(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function Vw(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function ZM(n,e){function t(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}ht([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,a){r=me({},r),a.dispatchAction(me(r,{type:i[1],seriesIndex:t(o,r)}))})})}function np(n,e,t,i,r){var o=n+e;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var l=a.seriesIndex,u=a.option.selectedMap,f=r.selected,g=0;g<f.length;g++)if(f[g].seriesIndex===l){var v=a.getData(),_=Zu(v,r.fromActionPayload);t.trigger(o,{type:o,seriesId:a.id,name:Be(_)?v.getName(_[0]):v.getName(_),selected:Mn(u)?u:me({},u)})}})}function wc(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var iO=Math.round(9*Math.random()),rO=typeof Object.defineProperty=="function",Hw=function(){function n(){this._id="__ec_inner_"+iO++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return rO?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}(),KM=pr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i+o),n.lineTo(t-r,i+o),n.closePath()}}),QM=pr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i),n.lineTo(t,i+o),n.lineTo(t-r,i),n.closePath()}}),JM=pr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,l=a*a/(o-a),u=i-o+a+l,f=Math.asin(l/a),g=Math.cos(f)*a,v=Math.sin(f),_=Math.cos(f),S=.6*a,A=.7*a;n.moveTo(t-g,u+l),n.arc(t,u,a,Math.PI-f,2*Math.PI+f),n.bezierCurveTo(t+g-v*S,u+l+_*S,t,i-A,t,i),n.bezierCurveTo(t,i-A,t-g+v*S,u+l+_*S,t-g,u+l),n.closePath()}}),Ww=pr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;n.moveTo(r,o),n.lineTo(r+a,o+t),n.lineTo(r,o+t/4*3),n.lineTo(r-a,o+t),n.lineTo(r,o),n.closePath()}}),tT={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var o=Math.min(t,i);r.x=n,r.y=e,r.width=o,r.height=o},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},ip={};ht({line:Ha,rect:Ur,roundRect:Ur,square:Ur,circle:xl,diamond:QM,pin:JM,arrow:Ww,triangle:KM},function(n,e){ip[e]=new n});var oO=pr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=uu(n,e,t),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if(i!=="none"){var r=ip[i];r||(r=ip[i="rect"]),tT[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function jw(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function va(n,e,t,i,r,o,a){var l,u=n.indexOf("empty")===0;return u&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=n.indexOf("image://")===0?Hc(n.slice(8),new yr(e,t,i,r),a?"center":"cover"):n.indexOf("path://")===0?Vc(n.slice(7),{},new yr(e,t,i,r),a?"center":"cover"):new oO({shape:{symbolType:n,x:e,y:t,width:i,height:r}})).__isEmptyBrush=u,l.setColor=jw,o&&l.setColor(o),l}function Zg(n){return Be(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function rp(n,e){if(n!=null)return Be(n)||(n=[n,n]),[ei(n[0],e[0])||0,ei(yi(n[1],n[0]),e[1])||0]}function Af(n){return isFinite(n)}function Yw(n,e,t){for(var i=e.type==="radial"?function(a,l,u){var f=u.width,g=u.height,v=Math.min(f,g),_=l.x==null?.5:l.x,S=l.y==null?.5:l.y,A=l.r==null?.5:l.r;return l.global||(_=_*f+u.x,S=S*g+u.y,A*=v),_=Af(_)?_:.5,S=Af(S)?S:.5,A=A>=0&&Af(A)?A:.5,a.createRadialGradient(_,S,0,_,S,A)}(n,e,t):function(a,l,u){var f=l.x==null?0:l.x,g=l.x2==null?1:l.x2,v=l.y==null?0:l.y,_=l.y2==null?0:l.y2;return l.global||(f=f*u.width+u.x,g=g*u.width+u.x,v=v*u.height+u.y,_=_*u.height+u.y),f=Af(f)?f:0,g=Af(g)?g:1,v=Af(v)?v:0,_=Af(_)?_:0,a.createLinearGradient(f,v,g,_)}(n,e,t),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Kg(n){return parseInt(n,10)}function Mf(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(t[i]!=null&&t[i]!=="auto")return parseFloat(t[i]);var l=document.defaultView.getComputedStyle(n);return(n[r]||Kg(l[i])||Kg(n.style[i]))-(Kg(l[o])||0)-(Kg(l[a])||0)|0}function Gw(n){var e,t,i=n.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,t=i.lineWidth,e&&e!=="solid"&&t>0?e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Ln(e)?[e]:Be(e)?e:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&n.getLineScale?n.getLineScale():1;a&&a!==1&&(r=lt(r,function(l){return l/a}),o/=a)}return[r,o]}var aO=new mn(!0);function Qg(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function eT(n){return typeof n=="string"&&n!=="none"}function Tf(n){var e=n.fill;return e!=null&&e!=="none"}function Fb(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function nT(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function Vb(n,e,t){var i=Up(e.image,e.__image,t);if(Id(i)){var r=n.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*ti),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var Hb=["shadowBlur","shadowOffsetX","shadowOffsetY"],Wb=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Xw(n,e,t,i,r){var o=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){Sl(n,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(a)?gu.opacity:a}(i||e.blend!==t.blend)&&(o||(Sl(n,r),o=!0),n.globalCompositeOperation=e.blend||gu.blend);for(var l=0;l<Hb.length;l++){var u=Hb[l];(i||e[u]!==t[u])&&(o||(Sl(n,r),o=!0),n[u]=n.dpr*(e[u]||0))}return(i||e.shadowColor!==t.shadowColor)&&(o||(Sl(n,r),o=!0),n.shadowColor=e.shadowColor||gu.shadowColor),o}function jb(n,e,t,i,r){var o=Kl(e,r.inHover),a=i?null:t&&Kl(t,r.inHover)||{};if(o===a)return!1;var l=Xw(n,o,a,i,r);if((i||o.fill!==a.fill)&&(l||(Sl(n,r),l=!0),eT(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(l||(Sl(n,r),l=!0),eT(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(l||(Sl(n,r),l=!0),n.globalAlpha=o.opacity==null?1:o.opacity),e.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(l||(Sl(n,r),l=!0),n.lineWidth=u)}for(var f=0;f<Wb.length;f++){var g=Wb[f],v=g[0];(i||o[v]!==a[v])&&(l||(Sl(n,r),l=!0),n[v]=o[v]||g[1])}return l}function Fv(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}function Sl(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function Kl(n,e){return e&&n.__hoverStyle||n.style}function Vv(n,e){qc(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function qc(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var o=e.__clipPaths,a=t.prevElClipPaths,l=!1,u=!1;if(a&&!function(A,E){if(A===E||!A&&!E)return!1;if(!A||!E||A.length!==E.length)return!0;for(var D=0;D<A.length;D++)if(A[D]!==E[D])return!0;return!1}(o,a)||(a&&a.length&&(Sl(n,t),n.restore(),u=l=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Sl(n,t),n.save(),function(A,E,D){for(var R=!1,z=0;z<A.length;z++){var Y=A[z];R=R||Y.isZeroArea(),Fv(E,Y),E.beginPath(),Y.buildPath(E,Y.shape),E.clip()}D.allClipped=R}(o,n,t),l=!0),t.prevElClipPaths=o),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var f=t.prevEl;f||(u=l=!0);var g,v,_=e instanceof pr&&e.autoBatch&&function(A){var E=Tf(A),D=Qg(A);return!(A.lineDash||!(+E^+D)||E&&typeof A.fill!="string"||D&&typeof A.stroke!="string"||A.strokePercent<1||A.strokeOpacity<1||A.fillOpacity<1)}(e.style);l||(g=r,v=f.transform,g&&v?g[0]!==v[0]||g[1]!==v[1]||g[2]!==v[2]||g[3]!==v[3]||g[4]!==v[4]||g[5]!==v[5]:g||v)?(Sl(n,t),Fv(n,e)):_||Sl(n,t);var S=Kl(e,t.inHover);e instanceof pr?(t.lastDrawType!==1&&(u=!0,t.lastDrawType=1),jb(n,e,f,u,t),_&&(t.batchFill||t.batchStroke)||n.beginPath(),function(A,E,D,R){var z,Y=Qg(D),G=Tf(D),$=D.strokePercent,Q=$<1,et=!E.path;E.silent&&!Q||!et||E.createPathProxy();var ot=E.path||aO,xt=E.__dirty;if(!R){var St=D.fill,Mt=D.stroke,Bt=G&&!!St.colorStops,Zt=Y&&!!Mt.colorStops,se=G&&!!St.image,pe=Y&&!!Mt.image,be=void 0,we=void 0,Re=void 0,Ze=void 0,Je=void 0;(Bt||Zt)&&(Je=E.getBoundingRect()),Bt&&(be=xt?Yw(A,St,Je):E.__canvasFillGradient,E.__canvasFillGradient=be),Zt&&(we=xt?Yw(A,Mt,Je):E.__canvasStrokeGradient,E.__canvasStrokeGradient=we),se&&(Re=xt||!E.__canvasFillPattern?Vb(A,St,E):E.__canvasFillPattern,E.__canvasFillPattern=Re),pe&&(Ze=xt||!E.__canvasStrokePattern?Vb(A,Mt,E):E.__canvasStrokePattern,E.__canvasStrokePattern=Re),Bt?A.fillStyle=be:se&&(Re?A.fillStyle=Re:G=!1),Zt?A.strokeStyle=we:pe&&(Ze?A.strokeStyle=Ze:Y=!1)}var rn,An,Yn=E.getGlobalScale();ot.setScale(Yn[0],Yn[1],E.segmentIgnoreThreshold),A.setLineDash&&D.lineDash&&(rn=(z=Gw(E))[0],An=z[1]);var cn=!0;(et||4&xt)&&(ot.setDPR(A.dpr),Q?ot.setContext(null):(ot.setContext(A),cn=!1),ot.reset(),E.buildPath(ot,E.shape,R),ot.toStatic(),E.pathUpdated()),cn&&ot.rebuildPath(A,Q?$:1),rn&&(A.setLineDash(rn),A.lineDashOffset=An),R||(D.strokeFirst?(Y&&nT(A,D),G&&Fb(A,D)):(G&&Fb(A,D),Y&&nT(A,D))),rn&&A.setLineDash([])}(n,e,S,_),_&&(t.batchFill=S.fill||"",t.batchStroke=S.stroke||"")):e instanceof us?(t.lastDrawType!==3&&(u=!0,t.lastDrawType=3),jb(n,e,f,u,t),function(A,E,D){var R,z=D.text;if(z!=null&&(z+=""),z){A.font=D.font||ue,A.textAlign=D.textAlign,A.textBaseline=D.textBaseline;var Y=void 0,G=void 0;A.setLineDash&&D.lineDash&&(Y=(R=Gw(E))[0],G=R[1]),Y&&(A.setLineDash(Y),A.lineDashOffset=G),D.strokeFirst?(Qg(D)&&A.strokeText(z,D.x,D.y),Tf(D)&&A.fillText(z,D.x,D.y)):(Tf(D)&&A.fillText(z,D.x,D.y),Qg(D)&&A.strokeText(z,D.x,D.y)),Y&&A.setLineDash([])}}(n,e,S)):e instanceof ua?(t.lastDrawType!==2&&(u=!0,t.lastDrawType=2),function(A,E,D,R,z){Xw(A,Kl(E,z.inHover),D&&Kl(D,z.inHover),R,z)}(n,e,f,u,t),function(A,E,D){var R=E.__image=Up(D.image,E.__image,E,E.onload);if(R&&Id(R)){var z=D.x||0,Y=D.y||0,G=E.getWidth(),$=E.getHeight(),Q=R.width/R.height;if(G==null&&$!=null?G=$*Q:$==null&&G!=null?$=G/Q:G==null&&$==null&&(G=R.width,$=R.height),D.sWidth&&D.sHeight){var et=D.sx||0,ot=D.sy||0;A.drawImage(R,et,ot,D.sWidth,D.sHeight,z,Y,G,$)}else if(D.sx&&D.sy){var xt=G-(et=D.sx),St=$-(ot=D.sy);A.drawImage(R,et,ot,xt,St,z,Y,G,$)}else A.drawImage(R,z,Y,G,$)}}(n,e,S)):e.getTemporalDisplayables&&(t.lastDrawType!==4&&(u=!0,t.lastDrawType=4),function(A,E,D){var R=E.getDisplayables(),z=E.getTemporalDisplayables();A.save();var Y,G,$={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:D.viewWidth,viewHeight:D.viewHeight,inHover:D.inHover};for(Y=E.getCursor(),G=R.length;Y<G;Y++)(ot=R[Y]).beforeBrush&&ot.beforeBrush(),ot.innerBeforeBrush(),qc(A,ot,$,Y===G-1),ot.innerAfterBrush(),ot.afterBrush&&ot.afterBrush(),$.prevEl=ot;for(var Q=0,et=z.length;Q<et;Q++){var ot;(ot=z[Q]).beforeBrush&&ot.beforeBrush(),ot.innerBeforeBrush(),qc(A,ot,$,Q===et-1),ot.innerAfterBrush(),ot.afterBrush&&ot.afterBrush(),$.prevEl=ot}E.clearTemporalDisplayables(),E.notClear=!0,A.restore()}(n,e,t)),_&&i&&Sl(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var Yb=new Hw,qw=new Ll(100),Gb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function op(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r=i.painter.type==="svg";n.dirty&&Yb.delete(n);var o=Yb.get(n);if(o)return o;var a=Ne(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var l={repeat:"repeat"};return function(u){for(var f,g=[t],v=!0,_=0;_<Gb.length;++_){var S=a[Gb[_]];if(S!=null&&!Be(S)&&!Mn(S)&&!Ln(S)&&typeof S!="boolean"){v=!1;break}g.push(S)}if(v){f=g.join(",")+(r?"-svg":"");var A=qw.get(f);A&&(r?u.svgElement=A:u.image=A)}var E,D=Uw(a.dashArrayX),R=function(xt){if(!xt||typeof xt=="object"&&xt.length===0)return[0,0];if(Ln(xt)){var St=Math.ceil(xt);return[St,St]}var Mt=lt(xt,function(Bt){return Math.ceil(Bt)});return xt.length%2?Mt.concat(Mt):Mt}(a.dashArrayY),z=Xb(a.symbol),Y=(ot=D,lt(ot,function(xt){return $w(xt)})),G=$w(R),$=!r&&ft.createCanvas(),Q=r&&{tag:"g",attrs:{},key:"dcl",children:[]},et=function(){for(var xt=1,St=0,Mt=Y.length;St<Mt;++St)xt=dg(xt,Y[St]);var Bt=1;for(St=0,Mt=z.length;St<Mt;++St)Bt=dg(Bt,z[St].length);xt*=Bt;var Zt=G*Y.length*z.length;return{width:Math.max(1,Math.min(xt,a.maxTileWidth)),height:Math.max(1,Math.min(Zt,a.maxTileHeight))}}(),ot;$&&($.width=et.width*t,$.height=et.height*t,E=$.getContext("2d")),function(){E&&(E.clearRect(0,0,$.width,$.height),a.backgroundColor&&(E.fillStyle=a.backgroundColor,E.fillRect(0,0,$.width,$.height)));for(var xt=0,St=0;St<R.length;++St)xt+=R[St];if(xt<=0)return;for(var Mt=-G,Bt=0,Zt=0,se=0;Mt<et.height;){if(Bt%2==0){for(var pe=Zt/2%z.length,be=0,we=0,Re=0;be<2*et.width;){var Ze=0;for(St=0;St<D[se].length;++St)Ze+=D[se][St];if(Ze<=0)break;if(we%2==0){var Je=.5*(1-a.symbolSize),rn=be+D[se][we]*Je,An=Mt+R[Bt]*Je,Yn=D[se][we]*a.symbolSize,cn=R[Bt]*a.symbolSize,Pn=Re/2%z[pe].length;Jn(rn,An,Yn,cn,z[pe][Pn])}be+=D[se][we],++Re,++we===D[se].length&&(we=0)}++se===D.length&&(se=0)}Mt+=R[Bt],++Zt,++Bt===R.length&&(Bt=0)}function Jn(Kn,Gn,ri,qn,li){var Ai=r?1:t,cr=va(li,Kn*Ai,Gn*Ai,ri*Ai,qn*Ai,a.color,a.symbolKeepAspect);if(r){var kr=i.painter.renderOneToVNode(cr);kr&&Q.children.push(kr)}else Vv(E,cr)}}(),v&&qw.put(f,$||Q),u.image=$,u.svgElement=Q,u.svgWidth=et.width,u.svgHeight=et.height}(l),l.rotation=a.rotation,l.scaleX=l.scaleY=r?1:1/t,Yb.set(n,l),n.dirty=!1,l}function Xb(n){if(!n||n.length===0)return[["rect"]];if(Mn(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Mn(n[t])){e=!1;break}if(e)return Xb([n]);var i=[];for(t=0;t<n.length;++t)Mn(n[t])?i.push([n[t]]):i.push(n[t]);return i}function Uw(n){if(!n||n.length===0)return[[0,0]];if(Ln(n))return[[r=Math.ceil(n),r]];for(var e=!0,t=0;t<n.length;++t)if(!Ln(n[t])){e=!1;break}if(e)return Uw([n]);var i=[];for(t=0;t<n.length;++t)if(Ln(n[t])){var r=Math.ceil(n[t]);i.push([r,r])}else(r=lt(n[t],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function $w(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}var Mu=new M,Zw={};function Kw(n){return Zw[n]}var qb=2e3,Hv=4500,Jg={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:qb,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:Hv,ARIA:6e3,DECAL:7e3}},Ds="__flagInMainProcess",Cl="__pendingUpdate",Ub="__needsUpdateStatus",Qw=/^[a-zA-Z0-9_]+$/,$b="__connectUpdateStatus";function Jw(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return Zb(this,n,e);this.id}}function tS(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zb(this,n,e)}}function Zb(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),M.prototype[e].apply(n,t)}var ap,Kb,Wv,Qh,jv,Qb,Jb,Tu,Yv,tx,Gv,ex,eS,Xv,nx,nS,Sc,iS,rS=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e}(M),oS=rS.prototype;oS.on=tS("on"),oS.off=tS("off");var qv=function(n){function e(t,i,r){var o=n.call(this,new UM)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},Mn(i)&&(i=aS[i]),o._dom=t;var a="canvas",l="auto",u=!1,f=o._zr=hu(t,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:yi(r.useDirtyRect,u),useCoarsePointer:yi(r.useCoarsePointer,l),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=Dv(Te(f.flush,f),17),(i=Kt(i))&&jg(i,!0),o._theme=i,o._locale=function(_){if(Mn(_)){var S=q0[_.toUpperCase()]||{};return _===qh||_===pv?Kt(S):ne(Kt(S),Kt(q0[Pg]),!1)}return ne(Kt(_),Kt(q0[Pg]),!1)}(r.locale||tM),o._coordSysMgr=new Zh;var g=o._api=nx(o);function v(_,S){return _.__prio-S.__prio}return ms($v,v),ms(ix,v),o._scheduler=new Ow(o,g,ix,$v),o._messageCenter=new rS,o._initEvents(),o.resize=Te(o.resize,o),f.animation.on("frame",o._onframe,o),tx(f,o),Gv(f,o),Pe(o),o}return Tt(e,n),e.prototype._onframe=function(){if(!this._disposed){iS(this);var t=this._scheduler;if(this[Cl]){var i=this[Cl].silent;this[Ds]=!0;try{ap(this),Qh.update.call(this,null,this[Cl].updateParams)}catch(u){throw this[Ds]=!1,this[Cl]=null,u}this._zr.flush(),this[Ds]=!1,this[Cl]=null,Tu.call(this,i),Yv.call(this,i)}else if(t.unfinished){var r=1,o=this._model,a=this._api;t.unfinished=!1;do{var l=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),Qb(this,o),t.performVisualTasks(o),Xv(this,this._model,a,"remain",{}),r-=+new Date-l}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this[Ds])if(this._disposed)this.id;else{var o,a,l;if(di(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,l=i.transition,i=i.notMerge),this[Ds]=!0,!this._model||i){var u=new db(this._api),f=this._theme,g=this._model=new Cv;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,f,this._locale,u)}this._model.setOption(t,{replaceMerge:a},rx);var v={seriesTransition:l,optionChanged:!0};if(r)this[Cl]={silent:o,updateParams:v},this[Ds]=!1,this.getZr().wakeUp();else{try{ap(this),Qh.update.call(this,null,v)}catch(_){throw this[Cl]=null,this[Ds]=!1,_}this._ssr||this._zr.flush(),this[Cl]=null,this[Ds]=!1,Tu.call(this,o),Yv.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Oe.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var i=this._zr.painter;return i.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Oe.svgSupported){var t=this._zr;return ht(t.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var i=(t=t||{}).excludeComponents,r=this._model,o=[],a=this;ht(i,function(u){r.eachComponent({mainType:u},function(f){var g=a._componentsMap[f.__viewId];g.group.ignore||(o.push(g),g.group.ignore=!0)})});var l=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return ht(o,function(u){u.group.ignore=!1}),l}this.id},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var i=t.type==="svg",r=this.group,o=Math.min,a=Math.max,l=1/0;if(Zv[r]){var u=l,f=l,g=-1/0,v=-1/0,_=[],S=t&&t.pixelRatio||this.getDevicePixelRatio();ht(lp,function(Y,G){if(Y.group===r){var $=i?Y.getZr().painter.getSvgDom().innerHTML:Y.renderToCanvas(Kt(t)),Q=Y.getDom().getBoundingClientRect();u=o(Q.left,u),f=o(Q.top,f),g=a(Q.right,g),v=a(Q.bottom,v),_.push({dom:$,left:Q.left,top:Q.top})}});var A=(g*=S)-(u*=S),E=(v*=S)-(f*=S),D=ft.createCanvas(),R=hu(D,{renderer:i?"svg":"canvas"});if(R.resize({width:A,height:E}),i){var z="";return ht(_,function(Y){var G=Y.left-u,$=Y.top-f;z+='<g transform="translate('+G+","+$+')">'+Y.dom+"</g>"}),R.painter.getSvgRoot().innerHTML=z,t.connectedBackgroundColor&&R.painter.setBackgroundColor(t.connectedBackgroundColor),R.refreshImmediately(),R.painter.toDataURL()}return t.connectedBackgroundColor&&R.add(new Ur({shape:{x:0,y:0,width:A,height:E},style:{fill:t.connectedBackgroundColor}})),ht(_,function(Y){var G=new ua({style:{x:Y.left*S-u,y:Y.top*S-f,image:Y.dom}});R.add(G)}),R.refreshImmediately(),D.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}this.id},e.prototype.convertToPixel=function(t,i){return jv(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return jv(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var r;if(!this._disposed)return ht(Ku(this._model,t),function(o,a){a.indexOf("Models")>=0&&ht(o,function(l){var u=l.coordinateSystem;if(u&&u.containPoint)r=r||!!u.containPoint(i);else if(a==="seriesModels"){var f=this._chartsMap[l.__viewId];f&&f.containPoint&&(r=r||f.containPoint(i,l))}},this)},this),!!r;this.id},e.prototype.getVisual=function(t,i){var r=Ku(this._model,t,{defaultMainType:"series"}),o=r.seriesModel,a=o.getData(),l=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return l!=null?zv(a,l,i):ep(a,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,i,r,o=this;ht(sO,function(a){var l=function(u){var f,g=o.getModel(),v=u.target,_=a==="globalout";if(_?f={}:v&&wc(v,function(R){var z=lr(R);if(z&&z.dataIndex!=null){var Y=z.dataModel||g.getSeriesByIndex(z.seriesIndex);return f=Y&&Y.getDataParams(z.dataIndex,z.dataType)||{},!0}if(z.eventData)return f=me({},z.eventData),!0},!0),f){var S=f.componentType,A=f.componentIndex;S!=="markLine"&&S!=="markPoint"&&S!=="markArea"||(S="series",A=f.seriesIndex);var E=S&&A!=null&&g.getComponent(S,A),D=E&&o[E.mainType==="series"?"_chartsMap":"_componentsMap"][E.__viewId];f.event=u,f.type=a,o._$eventProcessor.eventInfo={targetEl:v,packedEvent:f,model:E,view:D},o.trigger(a,f)}};l.zrEventfulCallAtLast=!0,o._zr.on(a,l,o)}),ht(sp,function(a,l){o._messageCenter.on(l,function(u){this.trigger(l,u)},o)}),ht(["selectchanged"],function(a){o._messageCenter.on(a,function(l){this.trigger(a,l)},o)}),t=this._messageCenter,i=this,r=this._api,t.on("selectchanged",function(a){var l=r.getModel();a.isFromClick?(np("map","selectchanged",i,l,a),np("pie","selectchanged",i,l,a)):a.fromAction==="select"?(np("map","selected",i,l,a),np("pie","selected",i,l,a)):a.fromAction==="unselect"&&(np("map","unselected",i,l,a),np("pie","unselected",i,l,a))})},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?(this.id,void 0):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,this.getDom()&&Rc(this.getDom(),sS,"");var t=this,i=t._api,r=t._model;ht(t._componentsViews,function(o){o.dispose(r,i)}),ht(t._chartsViews,function(o){o.dispose(r,i)}),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete lp[t.id]}},e.prototype.resize=function(t){if(!this[Ds])if(this._disposed)this.id;else{this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=t&&t.silent;this[Cl]&&(o==null&&(o=this[Cl].silent),r=!0,this[Cl]=null),this[Ds]=!0;try{r&&ap(this),Qh.update.call(this,{type:"resize",animation:me({duration:0},t&&t.animation)})}catch(a){throw this[Ds]=!1,a}this[Ds]=!1,Tu.call(this,o),Yv.call(this,o)}}},e.prototype.showLoading=function(t,i){if(this._disposed)this.id;else if(di(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),ox[t]){var r=ox[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){this._disposed?(this.id,void 0):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=me({},t);return i.type=sp[t.type],i},e.prototype.dispatchAction=function(t,i){if(this._disposed)this.id;else if(di(i)||(i={silent:!!i}),Uv[t.type]&&this._model)if(this[Ds])this._pendingActions.push(t);else{var r=i.silent;Jb.call(this,t,r);var o=i.flush;o?this._zr.flush():o!==!1&&Oe.browser.weChat&&this._throttledZrFlush(),Tu.call(this,r),Yv.call(this,r)}},e.prototype.updateLabelLayout=function(){Mu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)this.id;else{var i=t.seriesIndex,r=this.getModel().getSeriesByIndex(i);r.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(u){u.clearColorPalette(),u.eachSeries(function(f){f.clearColorPalette()})}function i(u){for(var f=[],g=u.currentStates,v=0;v<g.length;v++){var _=g[v];_!=="emphasis"&&_!=="blur"&&_!=="select"&&f.push(_)}u.selected&&u.states.select&&f.push("select"),u.hoverState===2&&u.states.emphasis?f.push("emphasis"):u.hoverState===1&&u.states.blur&&f.push("blur"),u.useStates(f)}function r(u,f){if(!u.preventAutoZ){var g=u.get("z")||0,v=u.get("zlevel")||0;f.eachRendered(function(_){return o(_,g,v,-1/0),!0})}}function o(u,f,g,v){var _=u.getTextContent(),S=u.getTextGuideLine();if(u.isGroup)for(var A=u.childrenRef(),E=0;E<A.length;E++)v=Math.max(o(A[E],f,g,v),v);else u.z=f,u.zlevel=g,v=Math.max(u.z2,v);if(_&&(_.z=f,_.zlevel=g,isFinite(v)&&(_.z2=v+2)),S){var D=u.textGuideLineConfig;S.z=f,S.zlevel=g,isFinite(v)&&(S.z2=v+(D&&D.showAbove?1:-1))}return v}function a(u,f){f.eachRendered(function(g){if(!Eg(g)){var v=g.getTextContent(),_=g.getTextGuideLine();g.stateTransition&&(g.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),g.hasState()?(g.prevStates=g.currentStates,g.clearStates()):g.prevStates&&(g.prevStates=null)}})}function l(u,f){var g=u.getModel("stateAnimation"),v=u.isAnimationEnabled(),_=g.get("duration"),S=_>0?{duration:_,delay:g.get("delay"),easing:g.get("easing")}:null;f.eachRendered(function(A){if(A.states&&A.states.emphasis){if(Eg(A))return;if(A instanceof pr&&function(z){var Y=_A(z);Y.normalFill=z.style.fill,Y.normalStroke=z.style.stroke;var G=z.states.select||{};Y.selectFill=G.style&&G.style.fill||null,Y.selectStroke=G.style&&G.style.stroke||null}(A),A.__dirty){var E=A.prevStates;E&&A.useStates(E)}if(v){A.stateTransition=S;var D=A.getTextContent(),R=A.getTextGuideLine();D&&(D.stateTransition=S),R&&(R.stateTransition=S)}A.__dirty&&i(A)}})}ap=function(u){var f=u._scheduler;f.restorePipelines(u._model),f.prepareStageTasks(),Kb(u,!0),Kb(u,!1),f.plan()},Kb=function(u,f){for(var g=u._model,v=u._scheduler,_=f?u._componentsViews:u._chartsViews,S=f?u._componentsMap:u._chartsMap,A=u._zr,E=u._api,D=0;D<_.length;D++)_[D].__alive=!1;function R(Y){var G=Y.__requireNewView;Y.__requireNewView=!1;var $="_ec_"+Y.id+"_"+Y.type,Q=!G&&S[$];if(!Q){var et=Hl(Y.type),ot=f?Ao.getClass(et.main,et.sub):wo.getClass(et.sub);(Q=new ot).init(g,E),S[$]=Q,_.push(Q),A.add(Q.group)}Y.__viewId=Q.__id=$,Q.__alive=!0,Q.__model=Y,Q.group.__ecComponentInfo={mainType:Y.mainType,index:Y.componentIndex},!f&&v.prepareView(Q,Y,g,E)}for(f?g.eachComponent(function(Y,G){Y!=="series"&&R(G)}):g.eachSeries(R),D=0;D<_.length;){var z=_[D];z.__alive?D++:(!f&&z.renderTask.dispose(),A.remove(z.group),z.dispose(g,E),_.splice(D,1),S[z.__id]===z&&delete S[z.__id],z.__id=z.group.__ecComponentInfo=null)}},Wv=function(u,f,g,v,_){var S=u._model;if(S.setUpdatePayload(g),v){var A={};A[v+"Id"]=g[v+"Id"],A[v+"Index"]=g[v+"Index"],A[v+"Name"]=g[v+"Name"];var E={mainType:v,query:A};_&&(E.subType=_);var D,R=g.excludeSeriesId;R!=null&&(D=ze(),ht(oo(R),function(Y){var G=wa(Y,null);G!=null&&D.set(G,!0)})),S&&S.eachComponent(E,function(Y){if(!(D&&D.get(Y.id)!=null))if(NA(g))if(Y instanceof Io)g.type!==Pd||g.notBlur||Y.get(["emphasis","disabled"])||function(et,ot,xt){var St=et.seriesIndex,Mt=et.getData(ot.dataType);if(Mt){var Bt=Zu(Mt,ot);Bt=(Be(Bt)?Bt[0]:Bt)||0;var Zt=Mt.getItemGraphicEl(Bt);if(!Zt)for(var se=Mt.count(),pe=0;!Zt&&pe<se;)Zt=Mt.getItemGraphicEl(pe++);if(Zt){var be=lr(Zt);M_(St,be.focus,be.blurScope,xt)}else{var we=et.get(["emphasis","focus"]),Re=et.get(["emphasis","blurScope"]);we!=null&&M_(St,we,Re,xt)}}}(Y,g,u._api);else{var G=Km(Y.mainType,Y.componentIndex,g.name,u._api),$=G.focusSelf,Q=G.dispatchers;g.type===Pd&&$&&!g.notBlur&&T_(Y.mainType,Y.componentIndex,u._api),Q&&ht(Q,function(et){g.type===Pd?nh(et):ih(et)})}else O_(g)&&Y instanceof Io&&(function(et,ot,xt){if(O_(ot)){var St=ot.dataType,Mt=Zu(et.getData(St),ot);Be(Mt)||(Mt=[Mt]),et[ot.type===kg?"toggleSelect":ot.type===Zm?"select":"unselect"](Mt,St)}}(Y,g,u._api),I_(Y),Sc(u))},u),S&&S.eachComponent(E,function(Y){D&&D.get(Y.id)!=null||z(u[v==="series"?"_chartsMap":"_componentsMap"][Y.__viewId])},u)}else ht([].concat(u._componentsViews).concat(u._chartsViews),z);function z(Y){Y&&Y.__alive&&Y[f]&&Y[f](Y.__model,S,u._api,g)}},Qh={prepareAndUpdate:function(u){ap(this),Qh.update.call(this,u,{optionChanged:u.newOption!=null})},update:function(u,f){var g=this._model,v=this._api,_=this._zr,S=this._coordSysMgr,A=this._scheduler;if(g){g.setUpdatePayload(u),A.restoreData(g,u),A.performSeriesTasks(g),S.create(g,v),A.performDataProcessorTasks(g,u),Qb(this,g),S.update(g,v),t(g),A.performVisualTasks(g,u),ex(this,g,v,u,f);var E=g.get("backgroundColor")||"transparent",D=g.get("darkMode");_.setBackgroundColor(E),D!=null&&D!=="auto"&&_.setDarkMode(D),Mu.trigger("afterupdate",g,v)}},updateTransform:function(u){var f=this,g=this._model,v=this._api;if(g){g.setUpdatePayload(u);var _=[];g.eachComponent(function(A,E){if(A!=="series"){var D=f.getViewOfComponentModel(E);if(D&&D.__alive)if(D.updateTransform){var R=D.updateTransform(E,g,v,u);R&&R.update&&_.push(D)}else _.push(D)}});var S=ze();g.eachSeries(function(A){var E=f._chartsMap[A.__viewId];if(E.updateTransform){var D=E.updateTransform(A,g,v,u);D&&D.update&&S.set(A.uid,1)}else S.set(A.uid,1)}),t(g),this._scheduler.performVisualTasks(g,u,{setDirty:!0,dirtyMap:S}),Xv(this,g,v,u,{},S),Mu.trigger("afterupdate",g,v)}},updateView:function(u){var f=this._model;f&&(f.setUpdatePayload(u),wo.markUpdateMethod(u,"updateView"),t(f),this._scheduler.performVisualTasks(f,u,{setDirty:!0}),ex(this,f,this._api,u,{}),Mu.trigger("afterupdate",f,this._api))},updateVisual:function(u){var f=this,g=this._model;g&&(g.setUpdatePayload(u),g.eachSeries(function(v){v.getData().clearAllVisual()}),wo.markUpdateMethod(u,"updateVisual"),t(g),this._scheduler.performVisualTasks(g,u,{visualType:"visual",setDirty:!0}),g.eachComponent(function(v,_){if(v!=="series"){var S=f.getViewOfComponentModel(_);S&&S.__alive&&S.updateVisual(_,g,f._api,u)}}),g.eachSeries(function(v){f._chartsMap[v.__viewId].updateVisual(v,g,f._api,u)}),Mu.trigger("afterupdate",g,this._api))},updateLayout:function(u){Qh.update.call(this,u)}},jv=function(u,f,g,v){if(u._disposed)u.id;else for(var _,S=u._model,A=u._coordSysMgr.getCoordinateSystems(),E=Ku(S,g),D=0;D<A.length;D++){var R=A[D];if(R[f]&&(_=R[f](S,E,v))!=null)return _}},Qb=function(u,f){var g=u._chartsMap,v=u._scheduler;f.eachSeries(function(_){v.updateStreamModes(_,g[_.__viewId])})},Jb=function(u,f){var g=this,v=this.getModel(),_=u.type,S=u.escapeConnect,A=Uv[_],E=A.actionInfo,D=(E.update||"update").split(":"),R=D.pop(),z=D[0]!=null&&Hl(D[0]);this[Ds]=!0;var Y=[u],G=!1;u.batch&&(G=!0,Y=lt(u.batch,function(Mt){return(Mt=Ne(me({},Mt),u)).batch=null,Mt}));var $,Q=[],et=O_(u),ot=NA(u);if(ot&&DA(this._api),ht(Y,function(Mt){if(($=($=A.action(Mt,g._model,g._api))||me({},Mt)).type=E.event||$.type,Q.push($),ot){var Bt=jh(u),Zt=Bt.queryOptionMap,se=Bt.mainTypeSpecified?Zt.keys()[0]:"series";Wv(g,R,Mt,se),Sc(g)}else et?(Wv(g,R,Mt,"series"),Sc(g)):z&&Wv(g,R,Mt,z.main,z.sub)}),R!=="none"&&!ot&&!et&&!z)try{this[Cl]?(ap(this),Qh.update.call(this,u),this[Cl]=null):Qh[R].call(this,u)}catch(Mt){throw this[Ds]=!1,Mt}if($=G?{type:E.event||_,escapeConnect:S,batch:Q}:Q[0],this[Ds]=!1,!f){var xt=this._messageCenter;if(xt.trigger($.type,$),et){var St={type:"selectchanged",escapeConnect:S,selected:EE(v),isFromClick:u.isFromClick||!1,fromAction:u.type,fromActionPayload:u};xt.trigger(St.type,St)}}},Tu=function(u){for(var f=this._pendingActions;f.length;){var g=f.shift();Jb.call(this,g,u)}},Yv=function(u){!u&&this.trigger("updated")},tx=function(u,f){u.on("rendered",function(g){f.trigger("rendered",g),!u.animation.isFinished()||f[Cl]||f._scheduler.unfinished||f._pendingActions.length||f.trigger("finished")})},Gv=function(u,f){u.on("mouseover",function(g){var v=wc(g.target,Ag);v&&(function(_,S,A){var E=lr(_),D=Km(E.componentMainType,E.componentIndex,E.componentHighDownName,A),R=D.dispatchers,z=D.focusSelf;R?(z&&T_(E.componentMainType,E.componentIndex,A),ht(R,function(Y){return AA(Y,S)})):(M_(E.seriesIndex,E.focus,E.blurScope,A),E.focus==="self"&&T_(E.componentMainType,E.componentIndex,A),AA(_,S))}(v,g,f._api),Sc(f))}).on("mouseout",function(g){var v=wc(g.target,Ag);v&&(function(_,S,A){DA(A);var E=lr(_),D=Km(E.componentMainType,E.componentIndex,E.componentHighDownName,A).dispatchers;D?ht(D,function(R){return MA(R,S)}):MA(_,S)}(v,g,f._api),Sc(f))}).on("click",function(g){var v=wc(g.target,function(A){return lr(A).dataIndex!=null},!0);if(v){var _=v.selected?"unselect":"select",S=lr(v);f._api.dispatchAction({type:_,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})},ex=function(u,f,g,v,_){(function(S){var A=[],E=[],D=!1;if(S.eachComponent(function(G,$){var Q=$.get("zlevel")||0,et=$.get("z")||0,ot=$.getZLevelKey();D=D||!!ot,(G==="series"?E:A).push({zlevel:Q,z:et,idx:$.componentIndex,type:G,key:ot})}),D){var R,z,Y=A.concat(E);ms(Y,function(G,$){return G.zlevel===$.zlevel?G.z-$.z:G.zlevel-$.zlevel}),ht(Y,function(G){var $=S.getComponent(G.type,G.idx),Q=G.zlevel,et=G.key;R!=null&&(Q=Math.max(R,Q)),et?(Q===R&&et!==z&&Q++,z=et):z&&(Q===R&&Q++,z=""),R=Q,$.setZLevel(Q)})}})(f),eS(u,f,g,v,_),ht(u._chartsViews,function(S){S.__alive=!1}),Xv(u,f,g,v,_),ht(u._chartsViews,function(S){S.__alive||S.remove(f,g)})},eS=function(u,f,g,v,_,S){ht(S||u._componentsViews,function(A){var E=A.__model;a(E,A),A.render(E,f,g,v),r(E,A),l(E,A)})},Xv=function(u,f,g,v,_,S){var A=u._scheduler;_=me(_||{},{updatedSeries:f.getSeries()}),Mu.trigger("series:beforeupdate",f,g,_);var E=!1;f.eachSeries(function(D){var R=u._chartsMap[D.__viewId];R.__alive=!0;var z=R.renderTask;A.updatePayload(z,v),a(D,R),S&&S.get(D.uid)&&z.dirty(),z.perform(A.getPerformArgs(z))&&(E=!0),R.group.silent=!!D.get("silent"),function(Y,G){var $=Y.get("blendMode")||null;G.eachRendered(function(Q){Q.isGroup||(Q.style.blend=$)})}(D,R),I_(D)}),A.unfinished=E||A.unfinished,Mu.trigger("series:layoutlabels",f,g,_),Mu.trigger("series:transition",f,g,_),f.eachSeries(function(D){var R=u._chartsMap[D.__viewId];r(D,R),l(D,R)}),function(D,R){var z=D._zr,Y=z.storage,G=0;Y.traverse(function($){$.isGroup||G++}),G>R.get("hoverLayerThreshold")&&!Oe.node&&!Oe.worker&&R.eachSeries(function($){if(!$.preventUsingHoverLayer){var Q=D._chartsMap[$.__viewId];Q.__alive&&Q.eachRendered(function(et){et.states.emphasis&&(et.states.emphasis.hoverLayer=!0)})}})}(u,f),Mu.trigger("series:afterupdate",f,g,_)},Sc=function(u){u[Ub]=!0,u.getZr().wakeUp()},iS=function(u){u[Ub]&&(u.getZr().storage.traverse(function(f){Eg(f)||i(f)}),u[Ub]=!1)},nx=function(u){return new(function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return Tt(g,f),g.prototype.getCoordinateSystems=function(){return u._coordSysMgr.getCoordinateSystems()},g.prototype.getComponentByElement=function(v){for(;v;){var _=v.__ecComponentInfo;if(_!=null)return u._model.getComponent(_.mainType,_.index);v=v.parent}},g.prototype.enterEmphasis=function(v,_){nh(v,_),Sc(u)},g.prototype.leaveEmphasis=function(v,_){ih(v,_),Sc(u)},g.prototype.enterBlur=function(v){TA(v),Sc(u)},g.prototype.leaveBlur=function(v){O0(v),Sc(u)},g.prototype.enterSelect=function(v){IA(v),Sc(u)},g.prototype.leaveSelect=function(v){EA(v),Sc(u)},g.prototype.getModel=function(){return u.getModel()},g.prototype.getViewOfComponentModel=function(v){return u.getViewOfComponentModel(v)},g.prototype.getViewOfSeriesModel=function(v){return u.getViewOfSeriesModel(v)},g}(cb))(u)},nS=function(u){function f(g,v){for(var _=0;_<g.length;_++)g[_][$b]=v}ht(sp,function(g,v){u._messageCenter.on(v,function(_){if(Zv[u.group]&&u[$b]!==0){if(_&&_.escapeConnect)return;var S=u.makeActionFromEvent(_),A=[];ht(lp,function(E){E!==u&&E.group===u.group&&A.push(E)}),f(A,0),ht(A,function(E){E[$b]!==1&&E.dispatchAction(S)}),f(A,2)}})})}}(),e}(M),If=qv.prototype;If.on=Jw("on"),If.off=Jw("off"),If.one=function(n,e,t){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),i.off(n,r)},t)};var sO=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function lO(n){}var Uv={},sp={},ix=[],rx=[],$v=[],aS={},ox={},lp={},Zv={},iT=+new Date-0,rT=+new Date-0,sS="_echarts_instance_";function ax(n){Zv[n]=!1}var oT=ax;function sx(n){return lp[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(n,sS)]}function lS(n,e){aS[n]=e}function lx(n){dn(rx,n)<0&&rx.push(n)}function cx(n,e){hx(ix,n,e,2e3)}function cS(n){tm("afterinit",n)}function cp(n){tm("afterupdate",n)}function tm(n,e){Mu.on(n,e)}function Iu(n,e,t){Ge(e)&&(t=e,e="");var i=di(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),e=n.event,sp[e]||(At(Qw.test(i)&&Qw.test(e)),Uv[i]||(Uv[i]={action:t,actionInfo:n}),sp[e]=i)}function ux(n,e){Zh.register(n,e)}function Uc(n,e){hx($v,n,e,1e3,"layout")}function gh(n,e){hx($v,n,e,3e3,"visual")}var aT=[];function hx(n,e,t,i,r){if((Ge(e)||di(e))&&(t=e,e=i),!(dn(aT,t)>=0)){aT.push(t);var o=Ow.wrapStageHandler(t,r);o.__prio=e,o.__raw=t,n.push(o)}}function uS(n,e){ox[n]=e}function sT(n,e,t){var i=Kw("registerMap");i&&i(n,e,t)}var lT=function(n){var e=(n=Kt(n)).type,t="";e||ro(t);var i=e.split(":");i.length!==2&&ro(t);var r=!1;i[0]==="echarts"&&(e=i[1],r=!0),n.__isBuiltIn=r,CM.set(e,n)};gh(qb,kf),gh(Hv,_c),gh(Hv,YM),gh(qb,nO),gh(Hv,$M),gh(7e3,function(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(o){var a=i.getItemVisual(o,"decal");a&&(i.ensureUniqueItemVisual(o,"style").decal=op(a,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=op(r,e))}})}),lx(jg),cx(900,function(n){var e=ze();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=t.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(pM)}),uS("default",function(n,e){Ne(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Di,i=new Ur({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var r,o=new $r({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Ur({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(a),e.showSpinner&&((r=new nv({shape:{startAngle:-Pv/2,endAngle:-Pv/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Pv/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Pv/2}).delay(300).start("circularInOut"),t.add(r)),t.resize=function(){var l=o.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,f=(n.getWidth()-2*u-(e.showSpinner&&l?10:0)-l)/2-(e.showSpinner&&l?0:5+l/2)+(e.showSpinner?0:l/2)+(l?0:u),g=n.getHeight()/2;e.showSpinner&&r.setShape({cx:f,cy:g}),a.setShape({x:f-u,y:g-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),Iu({type:Pd,event:Pd,update:Pd},Vn),Iu({type:Cg,event:Cg,update:Cg},Vn),Iu({type:Zm,event:Zm,update:Zm},Vn),Iu({type:M0,event:M0,update:M0},Vn),Iu({type:kg,event:kg,update:kg},Vn),lS("light",Bw),lS("dark",zw);var nl=[],mh={registerPreprocessor:lx,registerProcessor:cx,registerPostInit:cS,registerPostUpdate:cp,registerUpdateLifecycle:tm,registerAction:Iu,registerCoordinateSystem:ux,registerLayout:Uc,registerVisual:gh,registerTransform:lT,registerLoading:uS,registerMap:sT,registerImpl:function(n,e){Zw[n]=e},PRIORITY:Jg,ComponentModel:Wr,ComponentView:Ao,SeriesModel:Io,ChartView:wo,registerComponentModel:function(n){Wr.registerClass(n)},registerComponentView:function(n){Ao.registerClass(n)},registerSeriesModel:function(n){Io.registerClass(n)},registerChartView:function(n){wo.registerClass(n)},registerSubTypeDefaulter:function(n,e){Wr.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){Pc(n,e)}};function Nr(n){Be(n)?ht(n,function(e){Nr(e)}):dn(nl,n)>=0||(nl.push(n),Ge(n)&&(n={install:n}),n.install(mh))}function em(n){return n==null?0:n.length||1}function Kv(n){return n}var Eu=function(){function n(e,t,i,r,o,a){this._old=e,this._new=t,this._oldKeyGetter=i||Kv,this._newKeyGetter=r||Kv,this.context=o,this._diffModeMultiple=a==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var l=r[a],u=i[l],f=em(u);if(f>1){var g=u.shift();u.length===1&&(i[l]=u[0]),this._update&&this._update(g,a)}else f===1?(i[l]=null,this._update&&this._update(u,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,i={},r={},o=[],a=[];this._initIndexMap(e,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var l=0;l<o.length;l++){var u=o[l],f=i[u],g=r[u],v=em(f),_=em(g);if(v>1&&_===1)this._updateManyToOne&&this._updateManyToOne(g,f),r[u]=null;else if(v===1&&_>1)this._updateOneToMany&&this._updateOneToMany(g,f),r[u]=null;else if(v===1&&_===1)this._update&&this._update(g,f),r[u]=null;else if(v>1&&_>1)this._updateManyToMany&&this._updateManyToMany(g,f),r[u]=null;else if(v>1)for(var S=0;S<v;S++)this._remove&&this._remove(f[S]);else this._remove&&this._remove(f)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=t[r],a=em(o);if(a>1)for(var l=0;l<a;l++)this._add&&this._add(o[l]);else a===1&&this._add&&this._add(o);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var l="_ec_"+this[r](e[a],a);if(o||(i[a]=l),t){var u=t[l],f=em(u);f===0?(t[l]=a,o&&i.push(l)):f===1?t[l]=[u,a]:u.push(a)}}},n}(),cT=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function hS(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function dx(n){return n==="category"?"ordinal":n==="time"?"time":"float"}var up=function(n){this.otherDims={},n!=null&&me(this,n)},px=Hr(),cO={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Jh=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=il(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return yi(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=xf(this.source),i=!fx(e),r="",o=[],a=0,l=0;a<e;a++){var u=void 0,f=void 0,g=void 0,v=this.dimensions[l];if(v&&v.storeDimIndex===a)u=t?v.name:null,f=v.type,g=v.ordinalMeta,l++;else{var _=this.getSourceDimension(a);_&&(u=t?_.name:null,f=_.type)}o.push({property:u,type:f,ordinalMeta:g}),!t||u==null||v&&v.isCalculationCoord||(r+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=cO[f]||"f",g&&(r+=g.uid),r+="$"}var S=this.source;return{dimensions:o,hash:[S.seriesLayoutBy,S.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(t);a&&(r=a.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function uT(n){return n instanceof Jh}function hT(n){for(var e=ze(),t=0;t<(n||[]).length;t++){var i=n[t],r=di(i)?i.name:i;r!=null&&e.get(r)==null&&e.set(r,t)}return e}function il(n){var e=px(n);return e.dimNameMap||(e.dimNameMap=hT(n.dimensionsDefine))}function fx(n){return n>30}var $c,to,Ou,hp,gx,nm,Qv,Jv=di,vh=lt,uO=typeof Int32Array>"u"?Array:Int32Array,dT=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],pT=["_approximateExtent"],fs=function(){function n(e,t){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;uT(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},a=[],l={},u=!1,f={},g=0;g<i.length;g++){var v=i[g],_=Mn(v)?new up({name:v}):v instanceof up?v:new up(v),S=_.name;_.type=_.type||"float",_.coordDim||(_.coordDim=S,_.coordDimIndex=0);var A=_.otherDims=_.otherDims||{};a.push(S),o[S]=_,f[S]!=null&&(u=!0),_.createInvertedIndices&&(l[S]=[]),A.itemName===0&&(this._nameDimIdx=g),A.itemId===0&&(this._idDimIdx=g),r&&(_.storeDimIndex=g)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=t,this._invertedIndicesMap=l,this._dimOmitted){var E=this._dimIdxToName=ze();ht(a,function(D){E.set(o[D].storeDimIndex,D)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(i!=null)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Ln(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(t==null)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var r,o=this;if(e instanceof hh&&(r=e),!r){var a=this.dimensions,l=hw(e)||Fe(e)?new mb(e,a.length):e;r=new hh;var u=vh(a,function(f){return{type:o._dimInfos[f].type,property:f}});r.initData(l,u,i)}this._store=r,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(f,g){var v={},_=v.encode={},S=ze(),A=[],E=[],D={};ht(f.dimensions,function($){var Q,et=f.getDimensionInfo($),ot=et.coordDim;if(ot){var xt=et.coordDimIndex;hS(_,ot)[xt]=$,et.isExtraCoord||(S.set(ot,1),(Q=et.type)!=="ordinal"&&Q!=="time"&&(A[0]=$),hS(D,ot)[xt]=f.getDimensionIndex(et.name)),et.defaultTooltip&&E.push($)}nw.each(function(St,Mt){var Bt=hS(_,Mt),Zt=et.otherDims[Mt];Zt!=null&&Zt!==!1&&(Bt[Zt]=et.name)})});var R=[],z={};S.each(function($,Q){var et=_[Q];z[Q]=et[0],R=R.concat(et)}),v.dataDimsOnCoord=R,v.dataDimIndicesOnCoord=lt(R,function($){return f.getDimensionInfo($).storeDimIndex}),v.encodeFirstDimNotExtra=z;var Y=_.label;Y&&Y.length&&(A=Y.slice());var G=_.tooltip;return G&&G.length?E=G.slice():E.length||(E=A.slice()),_.defaultedLabel=A,_.defaultedTooltip=E,v.userOutput=new cT(D,g),v}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var l=r;l<o;l++){var u=l-r;this._nameList[l]=t[u],a&&Qv(this,l)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==$h&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===yc&&!i.pure)for(var a=[],l=e;l<t;l++){var u=i.getItem(l,a);if(!this.hasItemOption&&Vm(u)&&(this.hasItemOption=!0),u){var f=u.name;r[l]==null&&f!=null&&(r[l]=wa(f,null));var g=u.id;o[l]==null&&g!=null&&(o[l]=wa(g,null))}}if(this._shouldMakeIdFromName())for(l=e;l<t;l++)Qv(this,l);$c(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Jv(e)?me(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return i==null&&this._nameDimIdx!=null&&(i=Ou(this,this._nameDimIdx,t)),i==null&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return to(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return Be(e)?r.getValues(vh(e,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e],r=i[t];return r==null||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){Ge(e)&&(i=t,t=e,e=[]);var r=i||this,o=vh(hp(e),this._getStoreDimIndex,this);this._store.each(o,r?Te(t,r):t)},n.prototype.filterSelf=function(e,t,i){Ge(e)&&(i=t,t=e,e=[]);var r=i||this,o=vh(hp(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?Te(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={};return ht(Qe(e),function(r){var o=t._getStoreDimIndex(r);i[o]=e[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){Ge(e)&&(i=t,t=e,e=[]),i=i||this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i),r},n.prototype.map=function(e,t,i,r){var o=i||r||this,a=vh(hp(e),this._getStoreDimIndex,this),l=nm(this);return l._store=this._store.map(a,o?Te(t,o):t),l},n.prototype.modify=function(e,t,i,r){var o=i||r||this,a=vh(hp(e),this._getStoreDimIndex,this);this._store.modify(a,o?Te(t,o):t)},n.prototype.downSample=function(e,t,i,r){var o=nm(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),o},n.prototype.lttbDownSample=function(e,t){var i=nm(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new ao(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Eu(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return to(e,i)},function(i){return to(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Jv(e)?me(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],r=i&&i[t];return r??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[t];return o==null&&(Be(o=this.getVisual(t))?o=o.slice():Jv(o)&&(o=me({},o)),r[t]=o),o},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,Jv(t)?me(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Jv(e)?me(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?me(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var i=this.hostModel&&this.hostModel.seriesIndex;A0(i,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){ht(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:vh(this.dimensions,this._getDimInfo,this),this.hostModel)),gx(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];Ge(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(Kr(arguments)))})},n.internalField=($c=function(e){var t=e._invertedIndicesMap;ht(t,function(i,r){var o=e._dimInfos[r],a=o.ordinalMeta,l=e._store;if(a){i=t[r]=new uO(a.categories.length);for(var u=0;u<i.length;u++)i[u]=-1;for(u=0;u<l.count();u++)i[l.get(o.storeDimIndex,u)]=u}})},Ou=function(e,t,i){return wa(e._getCategory(t,i),null)},to=function(e,t){var i=e._idList[t];return i==null&&e._idDimIdx!=null&&(i=Ou(e,e._idDimIdx,t)),i==null&&(i="e\0\0"+t),i},hp=function(e){return Be(e)||(e=e!=null?[e]:[]),e},nm=function(e){var t=new n(e._schema?e._schema:vh(e.dimensions,e._getDimInfo,e),e.hostModel);return gx(t,e),t},gx=function(e,t){ht(dT.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,ht(pT,function(i){e[i]=Kt(t[i])}),e._calculationInfo=me({},t._calculationInfo)},void(Qv=function(e,t){var i=e._nameList,r=e._idList,o=e._nameDimIdx,a=e._idDimIdx,l=i[t],u=r[t];if(l==null&&o!=null&&(i[t]=l=Ou(e,o,t)),u==null&&a!=null&&(r[t]=u=Ou(e,a,t)),u==null&&l!=null){var f=e._nameRepeatCount,g=f[l]=(f[l]||0)+1;u=l,g>1&&(u+="__ec__"+g),r[t]=u}})),n}();function Ef(n,e){hw(n)||(n=Mv(n));var t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=ze(),o=[],a=function(ot,xt,St,Mt){var Bt=Math.max(ot.dimensionsDetectedCount||1,xt.length,St.length,Mt||0);return ht(xt,function(Zt){var se;di(Zt)&&(se=Zt.dimsDef)&&(Bt=Math.max(Bt,se.length))}),Bt}(n,t,i,e.dimensionsCount),l=e.canOmitUnusedDimensions&&fx(a),u=i===n.dimensionsDefine,f=u?il(n):hT(i),g=e.encodeDefine;!g&&e.encodeDefaulter&&(g=e.encodeDefaulter(n,a));for(var v=ze(g),_=new MM(a),S=0;S<_.length;S++)_[S]=-1;function A(ot){var xt=_[ot];if(xt<0){var St=i[ot],Mt=di(St)?St:{name:St},Bt=new up,Zt=Mt.name;Zt!=null&&f.get(Zt)!=null&&(Bt.name=Bt.displayName=Zt),Mt.type!=null&&(Bt.type=Mt.type),Mt.displayName!=null&&(Bt.displayName=Mt.displayName);var se=o.length;return _[ot]=se,Bt.storeDimIndex=ot,o.push(Bt),Bt}return o[xt]}if(!l)for(S=0;S<a;S++)A(S);v.each(function(ot,xt){var St=oo(ot).slice();if(St.length===1&&!Mn(St[0])&&St[0]<0)v.set(xt,!1);else{var Mt=v.set(xt,[]);ht(St,function(Bt,Zt){var se=Mn(Bt)?f.get(Bt):Bt;se!=null&&se<a&&(Mt[Zt]=se,D(A(se),xt,Zt))})}});var E=0;function D(ot,xt,St){nw.get(xt)!=null?ot.otherDims[xt]=St:(ot.coordDim=xt,ot.coordDimIndex=St,r.set(xt,!0))}ht(t,function(ot){var xt,St,Mt,Bt;if(Mn(ot))xt=ot,Bt={};else{xt=(Bt=ot).name;var Zt=Bt.ordinalMeta;Bt.ordinalMeta=null,(Bt=me({},Bt)).ordinalMeta=Zt,St=Bt.dimsDef,Mt=Bt.otherDims,Bt.name=Bt.coordDim=Bt.coordDimIndex=Bt.dimsDef=Bt.otherDims=null}var se=v.get(xt);if(se!==!1){if(!(se=oo(se)).length)for(var pe=0;pe<(St&&St.length||1);pe++){for(;E<a&&A(E).coordDim!=null;)E++;E<a&&se.push(E++)}ht(se,function(be,we){var Re=A(be);if(u&&Bt.type!=null&&(Re.type=Bt.type),D(Ne(Re,Bt),xt,we),Re.name==null&&St){var Ze=St[we];!di(Ze)&&(Ze={name:Ze}),Re.name=Re.displayName=Ze.name,Re.defaultTooltip=Ze.defaultTooltip}Mt&&Ne(Re.otherDims,Mt)})}});var R=e.generateCoord,z=e.generateCoordCount,Y=z!=null;z=R?z||1:0;var G=R||"value";function $(ot){ot.name==null&&(ot.name=ot.coordDim)}if(l)ht(o,function(ot){$(ot)}),o.sort(function(ot,xt){return ot.storeDimIndex-xt.storeDimIndex});else for(var Q=0;Q<a;Q++){var et=A(Q);et.coordDim==null&&(et.coordDim=mx(G,r,Y),et.coordDimIndex=0,(!R||z<=0)&&(et.isExtraCoord=!0),z--),$(et),et.type!=null||rw(n,Q)!==ff&&(!et.isExtraCoord||et.otherDims.itemName==null&&et.otherDims.seriesName==null)||(et.type="ordinal")}return function(ot){for(var xt=ze(),St=0;St<ot.length;St++){var Mt=ot[St],Bt=Mt.name,Zt=xt.get(Bt)||0;Zt>0&&(Mt.name=Bt+(Zt-1)),Zt++,xt.set(Bt,Zt)}}(o),new Jh({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:l})}function mx(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var hO=function(n){this.coordSysDims=[],this.axisMap=ze(),this.categoryAxisMap=ze(),this.coordSysName=n},dO={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",da).models[0],o=n.getReferringComponents("yAxis",da).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),im(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),im(o)&&(i.set("y",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",da).models[0];e.coordSysDims=["single"],t.set("single",r),im(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",da).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",a),im(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),im(a)&&(i.set("angle",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();ht(o.parallelAxisIndex,function(l,u){var f=r.getComponent("parallelAxis",l),g=a[u];t.set(g,f),im(f)&&(i.set(g,f),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function im(n){return n.get("type")==="category"}function fT(n,e,t){var i,r,o,a=(t=t||{}).byIndex,l=t.stackedCoordDimension;(function(z){return!uT(z.schema)})(e)?i=e:(r=e.schema,i=r.dimensions,o=e.store);var u,f,g,v,_=!(!n||!n.get("stack"));if(ht(i,function(z,Y){Mn(z)&&(i[Y]=z={name:z}),_&&!z.isExtraCoord&&(a||u||!z.ordinalMeta||(u=z),f||z.type==="ordinal"||z.type==="time"||l&&l!==z.coordDim||(f=z))}),!f||a||u||(a=!0),f){g="__\0ecstackresult_"+n.id,v="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var S=f.coordDim,A=f.type,E=0;ht(i,function(z){z.coordDim===S&&E++});var D={name:g,coordDim:S,coordDimIndex:E,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},R={name:v,coordDim:v,coordDimIndex:E+1,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(D.storeDimIndex=o.ensureCalculationDimension(v,A),R.storeDimIndex=o.ensureCalculationDimension(g,A)),r.appendCalculationDimension(D),r.appendCalculationDimension(R)):(i.push(D),i.push(R))}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:a,stackedOverDimension:v,stackResultDimension:g}}function td(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function dS(n,e){return td(n,e)?n.getCalculationInfo("stackResultDimension"):e}function yh(n,e,t){t=t||{};var i,r=e.getSourceManager(),o=!1;n?(o=!0,i=Mv(n)):o=(i=r.getSource()).sourceFormat===yc;var a=function(D){var R=D.get("coordinateSystem"),z=new hO(R),Y=dO[R];if(Y)return Y(D,z,z.axisMap,z.categoryAxisMap),z}(e),l=function(D,R){var z,Y=D.get("coordinateSystem"),G=Zh.get(Y);return R&&R.coordSysDims&&(z=lt(R.coordSysDims,function($){var Q={name:$},et=R.axisMap.get($);if(et){var ot=et.get("type");Q.type=dx(ot)}return Q})),z||(z=G&&(G.getDimensionsInfo?G.getDimensionsInfo():G.dimensions.slice())||["x","y"]),z}(e,a),u=t.useEncodeDefaulter,f=Ge(u)?u:u?_n(ab,l,e):null,g=Ef(i,{coordDimensions:l,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!o}),v=function(D,R,z){var Y,G;return z&&ht(D,function($,Q){var et=$.coordDim,ot=z.categoryAxisMap.get(et);ot&&(Y==null&&(Y=Q),$.ordinalMeta=ot.getOrdinalMeta(),R&&($.createInvertedIndices=!0)),$.otherDims.itemName!=null&&(G=!0)}),G||Y==null||(D[Y].otherDims.itemName=0),Y}(g.dimensions,t.createInvertedIndices,a),_=o?null:r.getSharedDataStore(g),S=fT(e,{schema:g,store:_}),A=new fs(g,e);A.setCalculationInfo(S);var E=v!=null&&function(D){if(D.sourceFormat===yc){var R=function(z){for(var Y=0;Y<z.length&&z[Y]==null;)Y++;return z[Y]}(D.data||[]);return!Be($u(R))}}(i)?function(D,R,z,Y){return Y===v?z:this.defaultDimValueGetter(D,R,z,Y)}:null;return A.hasItemOption=!1,A.initData(o?i:_,null,E),A}var bh=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();Bc(bh);var pO=0,pS=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++pO}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&lt(i,fO);return new n({categories:r,needCollect:!r,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!Mn(e)&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return(t=r.get(e))==null&&(i?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=ze(this.categories))},n}();function fO(n){return di(n)&&n.value!=null?n.value:n+""}function vx(n){return n.type==="interval"||n.type==="log"}function gO(n,e,t,i){var r={},o=n[1]-n[0],a=r.interval=zm(o/e,!0);t!=null&&a<t&&(a=r.interval=t),i!=null&&a>i&&(a=r.interval=i);var l=r.intervalPrecision=gT(a);return function(u,f){!isFinite(u[0])&&(u[0]=f[0]),!isFinite(u[1])&&(u[1]=f[1]),mT(u,0,f),mT(u,1,f),u[0]>u[1]&&(u[0]=u[1])}(r.niceTickExtent=[Mo(Math.ceil(n[0]/a)*a,l),Mo(Math.floor(n[1]/a)*a,l)],n),r}function fS(n){var e=Math.pow(10,Gs(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Mo(t*e)}function gT(n){return Fl(n)+2}function mT(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function ty(n,e){return n>=e[0]&&n<=e[1]}function Ql(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function yx(n,e){return n*(e[1]-e[0])+e[0]}var rm=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new pS({})),Be(r)&&(r=new pS({categories:lt(r,function(o){return di(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return Tt(e,n),e.prototype.parse=function(t){return t==null?NaN:Mn(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return ty(t=this.parse(t),this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return Ql(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(yx(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t!=null){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,l=this._ordinalMeta.categories.length,u=Math.min(l,i.length);a<u;++a){var f=i[a];r[a]=f,o[f]=a}for(var g=0;a<l;++a){for(;o[g]!=null;)g++;r.push(g),o[g]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(bh);bh.registerClass(rm);var dp=Mo,xh=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return Tt(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return ty(t,this._extent)},e.prototype.normalize=function(t){return Ql(t,this._extent)},e.prototype.scale=function(t){return yx(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=gT(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,l=[];if(!i)return l;r[0]<o[0]&&(t?l.push({value:dp(o[0]-i,a)}):l.push({value:r[0]}));for(var u=o[0];u<=o[1]&&(l.push({value:u}),(u=dp(u+i,a))!==l[l.length-1].value);)if(l.length>1e4)return[];var f=l.length?l[l.length-1].value:o[1];return r[1]>f&&(t?l.push({value:dp(f+i,a)}):l.push({value:r[1]})),l},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a],u=i[a-1],f=0,g=[],v=(l.value-u.value)/t;f<t-1;){var _=dp(u.value+(f+1)*v);_>o[0]&&_<o[1]&&g.push(_),f++}r.push(g)}return r},e.prototype.getLabel=function(t,i){if(t==null)return"";var r=i&&i.precision;return r==null?r=Fl(t.value)||0:r==="auto"&&(r=this._intervalPrecision),wl(dp(t.value,r,!0))},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var l=gO(o,t,i,r);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(i[0]=dp(Math.floor(i[0]/a)*a)),t.fixMax||(i[1]=dp(Math.ceil(i[1]/a)*a))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(bh);bh.registerClass(xh);var gS=typeof Float32Array<"u",vT=gS?Float32Array:Array;function Du(n){return Be(n)?gS?new Float32Array(n):n:new vT(n)}var mS="__ec_stack_";function vS(n){return n.get("stack")||mS+n.seriesIndex}function bx(n){return n.dim+n.index}function yS(n,e){var t=[];return e.eachSeriesByType(n,function(i){wS(i)&&t.push(i)}),t}function bS(n){var e=function(i){var r={};ht(i,function(v){var _=v.coordinateSystem.getBaseAxis();if(_.type==="time"||_.type==="value")for(var S=v.getData(),A=_.dim+"_"+_.index,E=S.getDimensionIndex(S.mapDimension(_.dim)),D=S.getStore(),R=0,z=D.count();R<z;++R){var Y=D.get(E,R);r[A]?r[A].push(Y):r[A]=[Y]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];if(l){l.sort(function(v,_){return v-_});for(var u=null,f=1;f<l.length;++f){var g=l[f]-l[f-1];g>0&&(u=u===null?g:Math.min(u,g))}o[a]=u}}return o}(n),t=[];return ht(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if(o.type==="category")r=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,u=e[l],f=Math.abs(a[1]-a[0]),g=o.scale.getExtent(),v=Math.abs(g[1]-g[0]);r=u?f/v*u:f}else{var _=i.getData();r=Math.abs(a[1]-a[0])/_.count()}var S=ei(i.get("barWidth"),r),A=ei(i.get("barMaxWidth"),r),E=ei(i.get("barMinWidth")||(xx(i)?.5:1),r),D=i.get("barGap"),R=i.get("barCategoryGap");t.push({bandWidth:r,barWidth:S,barMaxWidth:A,barMinWidth:E,barGap:D,barCategoryGap:R,axisKey:bx(o),stackId:vS(i)})}),Of(t)}function Of(n){var e={};ht(n,function(i,r){var o=i.axisKey,a=i.bandWidth,l=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;e[o]=l;var f=i.stackId;u[f]||l.autoWidthCount++,u[f]=u[f]||{width:0,maxWidth:0};var g=i.barWidth;g&&!u[f].width&&(u[f].width=g,g=Math.min(l.remainedWidth,g),l.remainedWidth-=g);var v=i.barMaxWidth;v&&(u[f].maxWidth=v);var _=i.barMinWidth;_&&(u[f].minWidth=_);var S=i.barGap;S!=null&&(l.gap=S);var A=i.barCategoryGap;A!=null&&(l.categoryGap=A)});var t={};return ht(e,function(i,r){t[r]={};var o=i.stacks,a=i.bandWidth,l=i.categoryGap;if(l==null){var u=Qe(o).length;l=Math.max(35-4*u,15)+"%"}var f=ei(l,a),g=ei(i.gap,1),v=i.remainedWidth,_=i.autoWidthCount,S=(v-f)/(_+(_-1)*g);S=Math.max(S,0),ht(o,function(R){var z=R.maxWidth,Y=R.minWidth;if(R.width)G=R.width,z&&(G=Math.min(G,z)),Y&&(G=Math.max(G,Y)),R.width=G,v-=G+g*G,_--;else{var G=S;z&&z<G&&(G=Math.min(z,v)),Y&&Y>G&&(G=Y),G!==S&&(R.width=G,v-=G+g*G,_--)}}),S=(v-f)/(_+(_-1)*g),S=Math.max(S,0);var A,E=0;ht(o,function(R,z){R.width||(R.width=S),A=R,E+=R.width*(1+g)}),A&&(E-=A.width*g);var D=-E/2;ht(o,function(R,z){t[r][z]=t[r][z]||{bandWidth:a,offset:D,width:R.width},D+=R.width*(1+g)})}),t}function xS(n,e){var t=yS(n,e),i=bS(t);ht(t,function(r){var o=r.getData(),a=r.coordinateSystem.getBaseAxis(),l=vS(r),u=i[bx(a)][l],f=u.offset,g=u.width;o.setLayout({bandWidth:u.bandWidth,offset:f,size:g})})}function _S(n){return{seriesType:n,plan:fh(),reset:function(e){if(wS(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=t.getDimensionIndex(t.mapDimension(o.dim)),l=t.getDimensionIndex(t.mapDimension(r.dim)),u=e.get("showBackground",!0),f=t.mapDimension(o.dim),g=t.getCalculationInfo("stackResultDimension"),v=td(t,f)&&!!t.getCalculationInfo("stackedOnSeries"),_=o.isHorizontal(),S=function(Y,G){return G.toGlobalCoord(G.dataToCoord(G.type==="log"?1:0))}(0,o),A=xx(e),E=e.get("barMinHeight")||0,D=g&&t.getDimensionIndex(g),R=t.getLayout("size"),z=t.getLayout("offset");return{progress:function(Y,G){for(var $,Q=Y.count,et=A&&Du(3*Q),ot=A&&u&&Du(3*Q),xt=A&&Du(Q),St=i.master.getRect(),Mt=_?St.width:St.height,Bt=G.getStore(),Zt=0;($=Y.next())!=null;){var se=Bt.get(v?D:a,$),pe=Bt.get(l,$),be=S,we=void 0;v&&(we=+se-Bt.get(a,$));var Re=void 0,Ze=void 0,Je=void 0,rn=void 0;if(_){var An=i.dataToPoint([se,pe]);v&&(be=i.dataToPoint([we,pe])[0]),Re=be,Ze=An[1]+z,Je=An[0]-be,rn=R,Math.abs(Je)<E&&(Je=(Je<0?-1:1)*E)}else An=i.dataToPoint([pe,se]),v&&(be=i.dataToPoint([pe,we])[1]),Re=An[0]+z,Ze=be,Je=R,rn=An[1]-be,Math.abs(rn)<E&&(rn=(rn<=0?-1:1)*E);A?(et[Zt]=Re,et[Zt+1]=Ze,et[Zt+2]=_?Je:rn,ot&&(ot[Zt]=_?St.x:Re,ot[Zt+1]=_?Ze:St.y,ot[Zt+2]=Mt),xt[$]=$):G.setItemLayout($,{x:Re,y:Ze,width:Je,height:rn}),Zt+=3}A&&G.setLayout({largePoints:et,largeDataIndices:xt,largeBackgroundPoints:ot,valueAxisHorizontal:_})}}}}}}function wS(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function xx(n){return n.pipelineContext&&n.pipelineContext.large}var ey=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return Tt(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return hf(t.value,K0[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(uf(this._minLevelUnit))]||K0.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC");return function(a,l,u,f,g){var v=null;if(Mn(u))v=u;else if(Ge(u))v=u(a.value,l,{level:a.level});else{var _=me({},Rg);if(a.level>0)for(var S=0;S<gv.length;++S)_[gv[S]]="{primary|"+_[gv[S]]+"}";var A=u?u.inherit===!1?u:Ne(u,_):_,E=Xd(a.value,g);if(A[E])v=A[E];else if(A.inherit){for(S=mv.indexOf(E)-1;S>=0;--S)if(A[E]){v=A[E];break}v=v||_.none}if(Be(v)){var D=a.level==null?0:a.level>=0?a.level:v.length+a.level;v=v[D=Math.min(D,v.length-1)]}}return hf(new Date(a.value),v,g,f)}(t,i,r,this.getSetting("locale"),o)},e.prototype.getTicks=function(){var t=this._interval,i=this._extent,r=[];if(!t)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=function(l,u,f,g){var v=1e4,_=mv,S=0;function A(be,we,Re,Ze,Je,rn,An){for(var Yn=new Date(we),cn=we,Pn=Yn[Ze]();cn<Re&&cn<=g[1];)An.push({value:cn}),Pn+=be,Yn[Je](Pn),cn=Yn.getTime();An.push({value:cn,notAdd:!0})}function E(be,we,Re){var Ze=[],Je=!we.length;if(!function(Gn,ri,qn,li){var Ai=Ss(ri),cr=Ss(qn),kr=function(eu){return X_(Ai,eu,li)===X_(cr,eu,li)},So=function(){return kr("year")},zr=function(){return So()&&kr("month")},Jr=function(){return zr()&&kr("day")},so=function(){return Jr()&&kr("hour")},Yo=function(){return so()&&kr("minute")},$o=function(){return Yo()&&kr("second")},es=function(){return $o()&&kr("millisecond")};switch(Gn){case"year":return So();case"month":return zr();case"day":return Jr();case"hour":return so();case"minute":return Yo();case"second":return $o();case"millisecond":return es()}}(uf(be),g[0],g[1],f)){Je&&(we=[{value:wT(new Date(g[0]),be,f)},{value:g[1]}]);for(var rn=0;rn<we.length-1;rn++){var An=we[rn].value,Yn=we[rn+1].value;if(An!==Yn){var cn=void 0,Pn=void 0,Jn=void 0,Kn=!1;switch(be){case"year":cn=Math.max(1,Math.round(u/sh/365)),Pn=q_(f),Jn=U_(f);break;case"half-year":case"quarter":case"month":cn=mO(u),Pn=df(f),Jn=J0(f);break;case"week":case"half-week":case"day":cn=yT(u),Pn=zg(f),Jn=yv(f),Kn=!0;break;case"half-day":case"quarter-day":case"hour":cn=bT(u),Pn=lh(f),Jn=$_(f);break;case"minute":cn=xT(u,!0),Pn=Fg(f),Jn=bv(f);break;case"second":cn=xT(u,!1),Pn=vv(f),Jn=tb(f);break;case"millisecond":cn=_T(u),Pn=_u(f),Jn=wu(f)}A(cn,An,Yn,Pn,Jn,Kn,Ze),be==="year"&&Re.length>1&&rn===0&&Re.unshift({value:Re[0].value-cn})}}for(rn=0;rn<Ze.length;rn++)Re.push(Ze[rn]);return Ze}}for(var D=[],R=[],z=0,Y=0,G=0;G<_.length&&S++<v;++G){var $=uf(_[G]);if(Q0(_[G])&&(E(_[G],D[D.length-1]||[],R),$!==(_[G+1]?uf(_[G+1]):null))){if(R.length){Y=z,R.sort(function(be,we){return be.value-we.value});for(var Q=[],et=0;et<R.length;++et){var ot=R[et].value;et!==0&&R[et-1].value===ot||(Q.push(R[et]),ot>=g[0]&&ot<=g[1]&&z++)}var xt=(g[1]-g[0])/u;if(z>1.5*xt&&Y>xt/1.5||(D.push(Q),z>xt||l===_[G]))break}R=[]}}var St=en(lt(D,function(be){return en(be,function(we){return we.value>=g[0]&&we.value<=g[1]&&!we.notAdd})}),function(be){return be.length>0}),Mt=[],Bt=St.length-1;for(G=0;G<St.length;++G)for(var Zt=St[G],se=0;se<Zt.length;++se)Mt.push({value:Zt[se].value,level:Bt-G});Mt.sort(function(be,we){return be.value-we.value});var pe=[];for(G=0;G<Mt.length;++G)G!==0&&Mt[G].value===Mt[G-1].value||pe.push(Mt[G]);return pe}(this._minLevelUnit,this._approxInterval,o,i);return(r=r.concat(a)).push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=sh,i[1]+=sh),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-sh}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){t=t||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/t,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var l=om.length,u=Math.min(function(f,g,v,_){for(;v<_;){var S=v+_>>>1;f[S][1]<g?v=S+1:_=S}return v}(om,this._approxInterval,0,l),l-1);this._interval=om[u][1],this._minLevelUnit=om[Math.max(u-1,0)][0]},e.prototype.parse=function(t){return Ln(t)?t:+Ss(t)},e.prototype.contain=function(t){return ty(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Ql(this.parse(t),this._extent)},e.prototype.scale=function(t){return yx(t,this._extent)},e.type="time",e}(xh),om=[["second",fv],["minute",Z0],["hour",G_],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",Ng/2],["year",Ng]];function yT(n,e){return(n/=sh)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function mO(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function bT(n){return(n/=G_)>12?12:n>6?6:n>3.5?4:n>2?2:1}function xT(n,e){return(n/=e?Z0:fv)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function _T(n){return zm(n,!0)}function wT(n,e,t){var i=new Date(n);switch(uf(e)){case"year":case"month":i[J0(t)](0);case"day":i[yv(t)](1);case"hour":i[$_(t)](0);case"minute":i[bv(t)](0);case"second":i[tb(t)](0),i[wu(t)](0)}return i.getTime()}bh.registerClass(ey);var SS=bh.prototype,ny=xh.prototype,vO=Mo,ST=Math.floor,yO=Math.ceil,_x=Math.pow,Jl=Math.log,Sx=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new xh,t._interval=0,t}return Tt(e,n),e.prototype.getTicks=function(t){var i=this._originalScale,r=this._extent,o=i.getExtent();return lt(ny.getTicks.call(this,t),function(a){var l=a.value,u=Mo(_x(this.base,l));return u=l===r[0]&&this._fixMin?Cx(u,o[0]):u,{value:u=l===r[1]&&this._fixMax?Cx(u,o[1]):u}},this)},e.prototype.setExtent=function(t,i){var r=Jl(this.base);t=Jl(Math.max(0,t))/r,i=Jl(Math.max(0,i))/r,ny.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=SS.getExtent.call(this);i[0]=_x(t,i[0]),i[1]=_x(t,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=Cx(i[0],r[0])),this._fixMax&&(i[1]=Cx(i[1],r[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=Jl(t[0])/Jl(i),t[1]=Jl(t[1])/Jl(i),SS.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=cg(r);for(t/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[Mo(yO(i[0]/o)*o),Mo(ST(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},e.prototype.calcNiceExtent=function(t){ny.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return ty(t=Jl(t)/Jl(this.base),this._extent)},e.prototype.normalize=function(t){return Ql(t=Jl(t)/Jl(this.base),this._extent)},e.prototype.scale=function(t){return t=yx(t,this._extent),_x(this.base,t)},e.type="log",e}(bh),CS=Sx.prototype;function Cx(n,e){return vO(n,Fl(e))}CS.getMinorTicks=ny.getMinorTicks,CS.getLabel=ny.getLabel,bh.registerClass(Sx);var bO=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);Ge(o)?this._modelMinNum=iy(e,o({min:i[0],max:i[1]})):o!=="dataMin"&&(this._modelMinNum=iy(e,o));var a=this._modelMaxRaw=t.get("max",!0);if(Ge(a)?this._modelMaxNum=iy(e,a({min:i[0],max:i[1]})):a!=="dataMax"&&(this._modelMaxNum=iy(e,a)),r)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=Be(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[js(u[0],1),js(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=e?null:i-t||Math.abs(t),l=this._modelMinRaw==="dataMin"?t:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,f=l!=null,g=u!=null;l==null&&(l=e?r?0:NaN:t-o[0]*a),u==null&&(u=e?r?r-1:NaN:i+o[1]*a),(l==null||!isFinite(l))&&(l=NaN),(u==null||!isFinite(u))&&(u=NaN);var v=oi(l)||oi(u)||e&&!r;this._needCrossZero&&(l>0&&u>0&&!f&&(l=0),l<0&&u<0&&!g&&(u=0));var _=this._determinedMin,S=this._determinedMax;return _!=null&&(l=_,f=!0),S!=null&&(u=S,g=!0),{min:l,max:u,minFixed:f,maxFixed:g,isBlank:v}},n.prototype.modifyDataMinMax=function(e,t){this[kS[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var i=kx[e];this[i]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),kx={min:"_determinedMin",max:"_determinedMax"},kS={min:"_dataMin",max:"_dataMax"};function Ax(n,e,t){var i=n.rawExtentInfo;return i||(i=new bO(n,e,t),n.rawExtentInfo=i,i)}function iy(n,e){return e==null?null:oi(e)?NaN:n.parse(e)}function Mx(n,e){var t=n.type,i=Ax(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&t==="time"){var l=yS("bar",a),u=!1;if(ht(l,function(v){u=u||v.getBaseAxis()===e.axis}),u){var f=bS(l),g=function(v,_,S,A){var E=S.axis.getExtent(),D=E[1]-E[0],R=function(et,ot,xt){if(et&&ot){var St=et[bx(ot)];return St!=null&&xt!=null?St[vS(xt)]:St}}(A,S.axis);if(R===void 0)return{min:v,max:_};var z=1/0;ht(R,function(et){z=Math.min(et.offset,z)});var Y=-1/0;ht(R,function(et){Y=Math.max(et.offset+et.width,Y)}),z=Math.abs(z),Y=Math.abs(Y);var G=z+Y,$=_-v,Q=$/(1-(z+Y)/D)-$;return _+=Q*(Y/G),v-=Q*(z/G),{min:v,max:_}}(r,o,e,f);r=g.min,o=g.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function ed(n,e){var t=e,i=Mx(n,t),r=i.extent,o=t.get("splitNumber");n instanceof Sx&&(n.base=t.get("logBase"));var a=n.type,l=t.get("interval"),u=a==="interval"||a==="time";n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?t.get("minInterval"):null,maxInterval:u?t.get("maxInterval"):null}),l!=null&&n.setInterval&&n.setInterval(l)}function pp(n,e){if(e=e||n.get("type"))switch(e){case"category":return new rm({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new ey({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(bh.getClass(e)||xh)}}function am(n){var e,t,i=n.getLabelModel().get("formatter"),r=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?(t=i,function(o,a){return n.scale.getFormattedLabel(o,a,t)}):Mn(i)?function(o){return function(a){var l=n.scale.getLabel(a);return o.replace("{value}",l??"")}}(i):Ge(i)?(e=i,function(o,a){return r!=null&&(a=o.value-r),e(Tx(n,o),a,o.level!=null?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function Tx(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function _h(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),a=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new yr(n.x,n.y,o,a)}function ry(n){var e=n.get("interval");return e??"auto"}function ra(n){return n.type==="category"&&ry(n.getLabelModel())===0}function oy(n,e){var t={};return ht(n.mapDimensionsAll(e),function(i){t[dS(n,i)]=!0}),Qe(t)}var Df=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),CT={isDimensionStacked:td,enableDataStack:fT,getStackedDimension:dS},kT=Object.freeze({__proto__:null,createList:function(n){return yh(null,n)},getLayoutRect:ma,dataStack:CT,createScale:function(n,e){var t=e;e instanceof ao||(t=new ao(e));var i=pp(t);return i.setExtent(n[0],n[1]),ed(i,t),i},mixinAxisModelCommonMethods:function(n){jt(n,Df)},getECData:lr,createTextStyle:function(n,e){return Do(n,null,null,(e=e||{}).state!=="normal")},createDimensions:function(n,e){return Ef(n,e).dimensions},createSymbol:va,enableHoverEmphasis:Gh});function AS(n,e){return Math.abs(n-e)<1e-8}function fp(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Vi(r[0],r[1],a[0],a[1],e,t),r=a}var l=n[0];return AS(r[0],l[0])&&AS(r[1],l[1])||(i+=Vi(r[0],r[1],l[0],l[1],e,t)),i!==0}var xO=[];function MS(n,e){for(var t=0;t<n.length;t++)Ui(n[t],n[t],e)}function TS(n,e,t,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(qt(e,e,o),h(t,t,o))}}var Ix=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),AT=function(n,e){this.type="polygon",this.exterior=n,this.interiors=e},MT=function(n){this.type="linestring",this.points=n},TT=function(n){function e(t,i,r){var o=n.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return Tt(e,n),e.prototype.calcCenter=function(){for(var t,i=this.geometries,r=0,o=0;o<i.length;o++){var a=i[o],l=a.exterior,u=l&&l.length;u>r&&(t=a,r=u)}if(t)return function(g){for(var v=0,_=0,S=0,A=g.length,E=g[A-1][0],D=g[A-1][1],R=0;R<A;R++){var z=g[R][0],Y=g[R][1],G=E*Y-z*D;v+=G,_+=(E+z)*G,S+=(D+Y)*G,E=z,D=Y}return v?[_/v/3,S/v/3,v]:[g[0][0]||0,g[0][1]||0]}(t.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],o=[-1/0,-1/0];return ht(this.geometries,function(a){a.type==="polygon"?TS(a.exterior,r,o,t):ht(a.points,function(l){TS(l,r,o,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new yr(r[0],r[1],o[0]-r[0],o[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var o=0,a=r.length;o<a;o++){var l=r[o];if(l.type==="polygon"){var u=l.exterior,f=l.interiors;if(fp(u,t[0],t[1])){for(var g=0;g<(f?f.length:0);g++)if(fp(f[g],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,o){var a=this.getBoundingRect(),l=a.width/a.height;r?o||(o=r/l):r=l*o;for(var u=new yr(t,i,r,o),f=a.calculateTransform(u),g=this.geometries,v=0;v<g.length;v++){var _=g[v];_.type==="polygon"?(MS(_.exterior,f),ht(_.interiors,function(S){MS(S,f)})):ht(_.points,function(S){MS(S,f)})}(a=this._rect).copy(u),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(Ix),IT=function(n){function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return Tt(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=ci(xO),a=t;a&&!a.isGeoSVGGraphicRoot;)rr(o,a.getLocalTransform(),o),a=a.parent;return qr(o,o),Ui(r,r,o),r},e}(Ix);function IS(n,e,t){for(var i=0;i<n.length;i++)n[i]=ET(n[i],e[i],t)}function ET(n,e,t){for(var i=[],r=e[0],o=e[1],a=0;a<n.length;a+=2){var l=n.charCodeAt(a)-64,u=n.charCodeAt(a+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),r=l+=r,o=u+=o,i.push([l/t,u/t])}return i}function ES(n,e){return lt(en((n=function(t){if(!t.UTF8Encoding)return t;var i=t,r=i.UTF8Scale;return r==null&&(r=1024),ht(i.features,function(o){var a=o.geometry,l=a.encodeOffsets,u=a.coordinates;if(l)switch(a.type){case"LineString":a.coordinates=ET(u,l,r);break;case"Polygon":case"MultiLineString":IS(u,l,r);break;case"MultiPolygon":ht(u,function(f,g){return IS(f,l[g],r)})}}),i.UTF8Encoding=!1,i}(n)).features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new AT(a[0],a.slice(1)));break;case"MultiPolygon":ht(r.coordinates,function(u){u[0]&&o.push(new AT(u[0],u.slice(1)))});break;case"LineString":o.push(new MT([r.coordinates]));break;case"MultiLineString":o.push(new MT(r.coordinates))}var l=new TT(i[e||"name"],o,i.cp);return l.properties=i,l})}var OT=Object.freeze({__proto__:null,linearMap:eo,round:Mo,asc:ml,getPrecision:Fl,getPrecisionSafe:Bm,getPixelPrecision:sg,getPercentWithPrecision:function(n,e,t){return n[e]&&y0(n,t)[e]||0},MAX_SAFE_INTEGER:Hh,remRadian:lg,isRadianAroundZero:Yp,parseDate:Ss,quantity:cg,quantityExponent:Gs,nice:zm,quantile:Cd,reformIntervals:Fm,isNumeric:du,numericToNumber:ho}),_O=Object.freeze({__proto__:null,parse:Ss,format:hf}),wO=Object.freeze({__proto__:null,extendShape:KA,extendPath:Vd,makePath:Vc,makeImage:Hc,mergePath:Xl,resizePath:z_,createIcon:ea,updateProps:Zr,initProps:To,getTransform:Wc,clipPointsByRect:ov,clipRectByRect:av,registerShape:_l,getShapeClass:Hd,Group:Di,Image:ua,Text:$r,Circle:xl,Ellipse:Jm,Sector:$s,Ring:Tg,Polygon:Zs,Polyline:Ks,Rect:Ur,Line:Ha,BezierCurve:Bd,Arc:nv,IncrementalDisplayable:$A,CompoundPath:R0,LinearGradient:of,RadialGradient:B0,BoundingRect:yr}),SO=Object.freeze({__proto__:null,addCommas:wl,toCamelCase:ga,normalizeCssArray:Uh,encodeHTML:Nt,formatTpl:K_,getTooltipMarker:Q_,formatTime:function(n,e,t){n!=="week"&&n!=="month"&&n!=="quarter"&&n!=="half-year"&&n!=="year"||(n=`MM-dd
yyyy`);var i=Ss(e),r=t?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,l=i[r+"Date"](),u=i[r+"Hours"](),f=i[r+"Minutes"](),g=i[r+"Seconds"](),v=i[r+"Milliseconds"]();return n=n.replace("MM",Js(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Js(o%100+"",2)).replace("dd",Js(l,2)).replace("d",l).replace("hh",Js(u,2)).replace("h",u).replace("mm",Js(f,2)).replace("m",f).replace("ss",Js(g,2)).replace("s",g).replace("SSS",Js(v,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:xg,getTextRect:function(n,e,t,i,r,o,a,l){return new $r({style:{text:n,font:e,align:t,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:l}}).getBoundingRect()}}),Ex=Object.freeze({__proto__:null,map:lt,each:ht,indexOf:dn,inherits:gn,reduce:an,filter:en,bind:Te,curry:_n,isArray:Be,isString:Mn,isObject:di,isFunction:Ge,extend:me,defaults:Ne,clone:Kt,merge:ne}),gp=Hr();function Ox(n){return n.type==="category"?function(e){var t=e.getLabelModel(),i=OS(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(e){var t=e.scale.getTicks(),i=am(e);return{labels:lt(t,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}(n)}function sm(n,e){return n.type==="category"?function(t,i){var r,o,a=DS(t,"ticks"),l=ry(i),u=DT(a,l);if(u)return u;if(i.get("show")&&!t.scale.isBlank()||(r=[]),Ge(l))r=NT(t,l,!0);else if(l==="auto"){var f=OS(t,t.getLabelModel());o=f.labelCategoryInterval,r=lt(f.labels,function(g){return g.tickValue})}else r=PT(t,o=l,!0);return LT(a,l,{ticks:r,tickCategoryInterval:o})}(n,e):{ticks:lt(n.scale.getTicks(),function(t){return t.value})}}function OS(n,e){var t,i,r=DS(n,"labels"),o=ry(e),a=DT(r,o);return a||(Ge(o)?t=NT(n,o):(i=o==="auto"?function(l){var u=gp(l).autoInterval;return u??(gp(l).autoInterval=l.calculateCategoryInterval())}(n):o,t=PT(n,i)),LT(r,o,{labels:t,labelCategoryInterval:i}))}function DS(n,e){return gp(n)[e]||(gp(n)[e]=[])}function DT(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function LT(n,e,t){return n.push({key:e,value:t}),t}function PT(n,e,t){var i=am(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),l=[],u=Math.max((e||0)+1,1),f=o[0],g=r.count();f!==0&&u>1&&g/u>2&&(f=Math.round(Math.ceil(f/u)*u));var v=ra(n),_=a.get("showMinLabel")||v,S=a.get("showMaxLabel")||v;_&&f!==o[0]&&E(o[0]);for(var A=f;A<=o[1];A+=u)E(A);function E(D){var R={value:D};l.push(t?D:{formattedLabel:i(R),rawLabel:r.getLabel(R),tickValue:D})}return S&&A-u!==o[1]&&E(o[1]),l}function NT(n,e,t){var i=n.scale,r=am(n),o=[];return ht(i.getTicks(),function(a){var l=i.getLabel(a),u=a.value;e(a.value,l)&&o.push(t?u:{formattedLabel:r(a),rawLabel:l,tickValue:u})}),o}var LS=[0,1],Ls=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return sg(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&r.type==="ordinal"&&mp(i=i.slice(),r.count()),eo(e,LS,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&mp(i=i.slice(),r.count());var o=eo(e,i,LS,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=lt(sm(this,t).ticks,function(r){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,l){var u=o.length;if(!r.onBand||a||!u)return;var f,g,v=r.getExtent();if(u===1)o[0].coord=v[0],f=o[1]={coord:v[0]};else{var _=o[u-1].tickValue-o[0].tickValue,S=(o[u-1].coord-o[0].coord)/_;ht(o,function(D){D.coord-=S/2}),g=1+r.scale.getExtent()[1]-o[u-1].tickValue,f={coord:o[u-1].coord+S*g},o.push(f)}var A=v[0]>v[1];E(o[0].coord,v[0])&&(l?o[0].coord=v[0]:o.shift()),l&&E(v[0],o[0].coord)&&o.unshift({coord:v[0]}),E(v[1],f.coord)&&(l?f.coord=v[1]:o.pop()),l&&E(f.coord,v[1])&&o.push({coord:v[1]});function E(D,R){return D=Mo(D),R=Mo(R),A?D>R:D<R}}(this,i,t.get("alignWithLabel"),e.clamp),i},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),lt(this.scale.getMinorTicks(e),function(t){return lt(t,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return Ox(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(e){var t=function(xt){var St=xt.getLabelModel();return{axisRotate:xt.getRotate?xt.getRotate():xt.isHorizontal&&!xt.isHorizontal()?90:0,labelRotate:St.get("rotate")||0,font:St.getFont()}}(e),i=am(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,a=o.getExtent(),l=o.count();if(a[1]-a[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var f=a[0],g=e.dataToCoord(f+1)-e.dataToCoord(f),v=Math.abs(g*Math.cos(r)),_=Math.abs(g*Math.sin(r)),S=0,A=0;f<=a[1];f+=u){var E,D,R=xs(i({value:f}),t.font,"center","top");E=1.3*R.width,D=1.3*R.height,S=Math.max(S,E,7),A=Math.max(A,D,7)}var z=S/v,Y=A/_;isNaN(z)&&(z=1/0),isNaN(Y)&&(Y=1/0);var G=Math.max(0,Math.floor(Math.min(z,Y))),$=gp(e.model),Q=e.getExtent(),et=$.lastAutoInterval,ot=$.lastTickCount;return et!=null&&ot!=null&&Math.abs(et-G)<=1&&Math.abs(ot-l)<=1&&et>G&&$.axisExtent0===Q[0]&&$.axisExtent1===Q[1]?G=et:($.lastTickCount=l,$.lastAutoInterval=G,$.axisExtent0=Q[0],$.axisExtent1=Q[1]),G}(this)},n}();function mp(n,e){var t=(n[1]-n[0])/e/2;n[0]+=t,n[1]-=t}var lm=2*Math.PI,vp=mn.CMD,Dx=["top","right","bottom","left"];function ay(n,e,t,i,r){var o=t.width,a=t.height;switch(n){case"top":i.set(t.x+o/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+a+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+a/2),r.set(-1,0);break;case"right":i.set(t.x+o+e,t.y+a/2),r.set(1,0)}}function sy(n,e,t,i,r,o,a,l,u){a-=n,l-=e;var f=Math.sqrt(a*a+l*l),g=(a/=f)*t+n,v=(l/=f)*t+e;if(Math.abs(i-r)%lm<1e-4)return u[0]=g,u[1]=v,f-t;if(o){var _=i;i=Mi(r),r=Mi(_)}else i=Mi(i),r=Mi(r);i>r&&(r+=lm);var S=Math.atan2(l,a);if(S<0&&(S+=lm),S>=i&&S<=r||S+lm>=i&&S+lm<=r)return u[0]=g,u[1]=v,f-t;var A=t*Math.cos(i)+n,E=t*Math.sin(i)+e,D=t*Math.cos(r)+n,R=t*Math.sin(r)+e,z=(A-a)*(A-a)+(E-l)*(E-l),Y=(D-a)*(D-a)+(R-l)*(R-l);return z<Y?(u[0]=A,u[1]=E,Math.sqrt(z)):(u[0]=D,u[1]=R,Math.sqrt(Y))}function Lf(n,e,t,i,r,o,a,l){var u=r-n,f=o-e,g=t-n,v=i-e,_=Math.sqrt(g*g+v*v),S=(u*(g/=_)+f*(v/=_))/_;l&&(S=Math.min(Math.max(S,0),1)),S*=_;var A=a[0]=n+S*g,E=a[1]=e+S*v;return Math.sqrt((A-r)*(A-r)+(E-o)*(E-o))}function PS(n,e,t,i,r,o,a){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var l=n+t,u=e+i,f=a[0]=Math.min(Math.max(r,n),l),g=a[1]=Math.min(Math.max(o,e),u);return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}var Lu=[];function RT(n,e,t){var i=PS(e.x,e.y,e.width,e.height,n.x,n.y,Lu);return t.set(Lu[0],Lu[1]),i}function CO(n,e,t){for(var i,r,o=0,a=0,l=0,u=0,f=1/0,g=e.data,v=n.x,_=n.y,S=0;S<g.length;){var A=g[S++];S===1&&(l=o=g[S],u=a=g[S+1]);var E=f;switch(A){case vp.M:o=l=g[S++],a=u=g[S++];break;case vp.L:E=Lf(o,a,g[S],g[S+1],v,_,Lu,!0),o=g[S++],a=g[S++];break;case vp.C:E=Ua(o,a,g[S++],g[S++],g[S++],g[S++],g[S],g[S+1],v,_,Lu),o=g[S++],a=g[S++];break;case vp.Q:E=Rs(o,a,g[S++],g[S++],g[S],g[S+1],v,_,Lu),o=g[S++],a=g[S++];break;case vp.A:var D=g[S++],R=g[S++],z=g[S++],Y=g[S++],G=g[S++],$=g[S++];S+=1;var Q=!!(1-g[S++]);i=Math.cos(G)*z+D,r=Math.sin(G)*Y+R,S<=1&&(l=i,u=r),E=sy(D,R,Y,G,G+$,Q,(v-D)*Y/z+D,_,Lu),o=Math.cos(G+$)*z+D,a=Math.sin(G+$)*Y+R;break;case vp.R:E=PS(l=o=g[S++],u=a=g[S++],g[S++],g[S++],v,_,Lu);break;case vp.Z:E=Lf(o,a,l,u,v,_,Lu,!0),o=l,a=u}E<f&&(f=E,t.set(Lu[0],Lu[1]))}return f}var Pu=new Gi,Bo=new Gi,ka=new Gi,wh=new Gi,Nu=new Gi;function Pf(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||Dx,l=i.getBoundingRect().clone();l.applyTransform(i.getComputedTransform());var u=1/0,f=r.anchor,g=n.getComputedTransform(),v=g&&qr([],g),_=e.get("length2")||0;f&&ka.copy(f);for(var S=0;S<a.length;S++){ay(a[S],0,l,Pu,wh),Gi.scaleAndAdd(Bo,Pu,wh,_),Bo.transform(v);var A=n.getBoundingRect(),E=f?f.distance(Bo):n instanceof pr?CO(Bo,n.path,ka):RT(Bo,A,ka);E<u&&(u=E,Bo.transform(g),ka.transform(g),ka.toArray(o[0]),Bo.toArray(o[1]),Pu.toArray(o[2]))}ly(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var Lx=[],kl=new Gi;function ly(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Pu.fromArray(n[0]),Bo.fromArray(n[1]),ka.fromArray(n[2]),Gi.sub(wh,Pu,Bo),Gi.sub(Nu,ka,Bo);var t=wh.len(),i=Nu.len();if(!(t<.001||i<.001)){wh.scale(1/t),Nu.scale(1/i);var r=wh.dot(Nu);if(Math.cos(e)<r){var o=Lf(Bo.x,Bo.y,ka.x,ka.y,Pu.x,Pu.y,Lx,!1);kl.fromArray(Lx),kl.scaleAndAdd(Nu,o/Math.tan(Math.PI-e));var a=ka.x!==Bo.x?(kl.x-Bo.x)/(ka.x-Bo.x):(kl.y-Bo.y)/(ka.y-Bo.y);if(isNaN(a))return;a<0?Gi.copy(kl,Bo):a>1&&Gi.copy(kl,ka),kl.toArray(n[1])}}}}function Cc(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Pu.fromArray(n[0]),Bo.fromArray(n[1]),ka.fromArray(n[2]),Gi.sub(wh,Bo,Pu),Gi.sub(Nu,ka,Bo);var i=wh.len(),r=Nu.len();if(!(i<.001||r<.001)&&(wh.scale(1/i),Nu.scale(1/r),wh.dot(e)<Math.cos(t))){var o=Lf(Bo.x,Bo.y,ka.x,ka.y,Pu.x,Pu.y,Lx,!1);kl.fromArray(Lx);var a=Math.PI/2,l=a+Math.acos(Nu.dot(e))-t;if(l>=a)Gi.copy(kl,ka);else{kl.scaleAndAdd(Nu,o/Math.tan(Math.PI/2-l));var u=ka.x!==Bo.x?(kl.x-Bo.x)/(ka.x-Bo.x):(kl.y-Bo.y)/(ka.y-Bo.y);if(isNaN(u))return;u<0?Gi.copy(kl,Bo):u>1&&Gi.copy(kl,ka)}kl.toArray(n[1])}}}function Px(n,e,t,i){var r=t==="normal",o=r?n:n.ensureState(t);o.ignore=e;var a=i.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var l=i.getModel("lineStyle").getLineStyle();r?n.useStyle(l):o.style=l}function BT(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=hi(i[0],i[1]),o=hi(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*t,l=Wi([],i[1],i[0],a/r),u=Wi([],i[1],i[2],a/o),f=Wi([],l,u,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],f[0],f[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var g=1;g<i.length;g++)n.lineTo(i[g][0],i[g][1])}function NS(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),l=r.ignore,u=0;u<Sg.length;u++){var f=Sg[u],g=e[f],v=f==="normal";if(g){var _=g.get("show");if((v?l:yi(r.states[f]&&r.states[f].ignore,l))||!yi(_,a)){var S=v?i:i&&i.states[f];S&&(S.ignore=!0);continue}i||(i=new Ks,n.setTextGuideLine(i),v||!l&&a||Px(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),Px(i,!1,f,g)}}if(i){Ne(i.style,t),i.style.fill=null;var A=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=A||!1,i.buildPath=BT}}else i&&n.removeTextGuideLine()}function RS(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},i=0;i<yl.length;i++){var r=yl[i];t[r]=n.getModel([r,e])}return t}function BS(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),l=!o||o[1]<1e-5&&o[2]<1e-5,u=r.style.margin||0,f=a.clone();f.applyTransform(o),f.x-=u/2,f.y-=u/2,f.width+=u,f.height+=u;var g=l?new F0(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:f,localRect:a,obb:g,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:o})}}return e}function zS(n,e,t,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(et,ot){return et.rect[e]-ot.rect[e]});for(var l,u=0,f=!1,g=0,v=0;v<a;v++){var _=n[v],S=_.rect;(l=S[e]-u)<0&&(S[e]-=l,_.label[e]-=l,f=!0),g+=Math.max(-l,0),u=S[e]+S[t]}g>0&&o&&G(-g/a,0,a);var A,E,D=n[0],R=n[a-1];return z(),A<0&&$(-A,.8),E<0&&$(E,.8),z(),Y(A,E,1),Y(E,A,-1),z(),A<0&&Q(-A),E<0&&Q(E),f}function z(){A=D.rect[e]-i,E=r-R.rect[e]-R.rect[t]}function Y(et,ot,xt){if(et<0){var St=Math.min(ot,-et);if(St>0){G(St*xt,0,a);var Mt=St+et;Mt<0&&$(-Mt*xt,1)}else $(-et*xt,1)}}function G(et,ot,xt){et!==0&&(f=!0);for(var St=ot;St<xt;St++){var Mt=n[St];Mt.rect[e]+=et,Mt.label[e]+=et}}function $(et,ot){for(var xt=[],St=0,Mt=1;Mt<a;Mt++){var Bt=n[Mt-1].rect,Zt=Math.max(n[Mt].rect[e]-Bt[e]-Bt[t],0);xt.push(Zt),St+=Zt}if(St){var se=Math.min(Math.abs(et)/St,ot);if(et>0)for(Mt=0;Mt<a-1;Mt++)G(xt[Mt]*se,0,Mt+1);else for(Mt=a-1;Mt>0;Mt--)G(-(xt[Mt-1]*se),Mt,a)}}function Q(et){var ot=et<0?-1:1;et=Math.abs(et);for(var xt=Math.ceil(et/(a-1)),St=0;St<a-1;St++)if(ot>0?G(xt,0,St+1):G(-xt,a-St-1,a),(et-=xt)<=0)return}}function FS(n,e,t,i){return zS(n,"y","height",e,t,i)}function zT(n){var e=[];n.sort(function(E,D){return D.priority-E.priority});var t=new yr(0,0,0,0);function i(E){if(!E.ignore){var D=E.ensureState("emphasis");D.ignore==null&&(D.ignore=!1)}E.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,l=o.localRect,u=o.transform,f=o.label,g=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var v=o.obb,_=!1,S=0;S<e.length;S++){var A=e[S];if(t.intersect(A.rect)){if(a&&A.axisAligned){_=!0;break}if(A.obb||(A.obb=new F0(A.localRect,A.transform)),v||(v=new F0(l,u)),v.intersect(A.obb)){_=!0;break}}}_?(i(f),g&&i(g)):(f.attr("ignore",o.defaultAttr.ignore),g&&g.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function FT(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function VT(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:FT(i&&i.shape.points)}}var VS=["align","verticalAlign","width","height","fontSize"],kc=new Wo,cy=Hr(),HT=Hr();function uy(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];e[r]!=null&&(n[r]=e[r])}}var hy=["x","y","rotation"],kO=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,o){var a=r.style,l=r.__hostTarget.textConfig||{},u=r.getComputedTransform(),f=r.getBoundingRect().plain();yr.applyTransform(f,f,u),u?kc.setLocalTransform(u):(kc.x=kc.y=kc.rotation=kc.originX=kc.originY=0,kc.scaleX=kc.scaleY=1);var g,v=r.__hostTarget;if(v){g=v.getBoundingRect().plain();var _=v.getComputedTransform();yr.applyTransform(g,g,_)}var S=g&&v.getTextGuideLine();this._labelList.push({label:r,labelLine:S,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:f,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:S&&S.ignore,x:kc.x,y:kc.y,scaleX:kc.scaleX,scaleY:kc.scaleY,rotation:kc.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(Ge(r)||Qe(r).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),l=lr(o);a&&!a.disableLabelLayout&&t._addLabel(l.dataIndex,l.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(R,z){return function(){Pf(R,z)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],l=a.label,u=l.__hostTarget,f=a.defaultAttr,g=void 0;g=(g=Ge(a.layoutOption)?a.layoutOption(VT(a,u)):a.layoutOption)||{},a.computedLayoutOption=g;var v=Math.PI/180;u&&u.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:f.attachedPos,rotation:g.rotate!=null?g.rotate*v:f.attachedRot,offset:[g.dx||0,g.dy||0]});var _=!1;if(g.x!=null?(l.x=ei(g.x,t),l.setStyle("x",0),_=!0):(l.x=f.x,l.setStyle("x",f.style.x)),g.y!=null?(l.y=ei(g.y,i),l.setStyle("y",0),_=!0):(l.y=f.y,l.setStyle("y",f.style.y)),g.labelLinePoints){var S=u.getTextGuideLine();S&&(S.setShape({points:g.labelLinePoints}),_=!1)}cy(l).needsUpdateLabelLine=_,l.rotation=g.rotate!=null?g.rotate*v:f.rotation,l.scaleX=f.scaleX,l.scaleY=f.scaleY;for(var A=0;A<VS.length;A++){var E=VS[A];l.setStyle(E,g[E]!=null?g[E]:f.style[E])}if(g.draggable){if(l.draggable=!0,l.cursor="move",u){var D=a.seriesModel;a.dataIndex!=null&&(D=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),l.on("drag",r(u,D.getModel("labelLine")))}}else l.off("drag"),l.cursor=f.cursor}},n.prototype.layout=function(e){var t,i=e.getWidth(),r=e.getHeight(),o=BS(this._labelList),a=en(o,function(u){return u.layoutOption.moveOverlap==="shiftX"}),l=en(o,function(u){return u.layoutOption.moveOverlap==="shiftY"});zS(a,"x","width",0,i,t),FS(l,0,r),zT(en(o,function(u){return u.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;ht(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var l=!r,u=a.getTextContent();!l&&u&&(l=cy(u).needsUpdateLabelLine),l&&e._updateLabelLine(a,i),o&&e._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=lr(e),o=r.dataIndex;if(i&&o!=null){var a=t.getData(r.dataType),l=a.getItemModel(o),u={},f=a.getItemVisual(o,"style"),g=a.getVisual("drawType");u.stroke=f[g];var v=l.getModel("labelLine");NS(e,RS(l),u),Pf(e,v)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!Eg(e))){var o=(A=cy(i)).oldLayout,a=lr(e),l=a.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},f=t.getData(a.dataType);if(o){i.attr(o);var g=e.prevStates;g&&(dn(g,"select")>=0&&i.attr(A.oldLayoutSelect),dn(g,"emphasis")>=0&&i.attr(A.oldLayoutEmphasis)),Zr(i,u,t,l)}else if(i.attr(u),!hs(i).valueAnimation){var v=yi(i.style.opacity,1);i.style.opacity=0,To(i,{style:{opacity:v}},t,l)}if(A.oldLayout=u,i.states.select){var _=A.oldLayoutSelect={};uy(_,u,hy),uy(_,i.states.select,hy)}if(i.states.emphasis){var S=A.oldLayoutEmphasis={};uy(S,u,hy),uy(S,i.states.emphasis,hy)}bu(i,l,f,t,t)}if(r&&!r.ignore&&!r.invisible){o=(A=HT(r)).oldLayout;var A,E={points:r.shape.points};o?(r.attr({shape:o}),Zr(r,{shape:E},t)):(r.setShape(E),r.style.strokePercent=0,To(r,{style:{strokePercent:1}},t)),A.oldLayout=E}},n}(),HS=Hr(),Nx=Math.sin,Rx=Math.cos,WS=Math.PI,nd=2*Math.PI,WT=180/WS,jT=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){this._add("C",e,t,i,r,o,a)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,o,a){this.ellipse(e,t,i,i,0,r,o,a)},n.prototype.ellipse=function(e,t,i,r,o,a,l,u){var f=l-a,g=!u,v=Math.abs(f),_=Bs(v-nd)||(g?f>=nd:-f>=nd),S=f>0?f%nd:f%nd+nd,A=!1;A=!!_||!Bs(v)&&S>=WS==!!g;var E=e+i*Rx(a),D=t+r*Nx(a);this._start&&this._add("M",E,D);var R=Math.round(o*WT);if(_){var z=1/this._p,Y=(g?1:-1)*(nd-z);this._add("A",i,r,R,1,+g,e+i*Rx(a+Y),t+r*Nx(a+Y)),z>.01&&this._add("A",i,r,R,0,+g,E,D)}else{var G=e+i*Rx(l),$=t+r*Nx(l);this._add("A",i,r,R,+A,+g,G,$)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,o,a,l,u,f){for(var g=[],v=this._p,_=1;_<arguments.length;_++){var S=arguments[_];if(isNaN(S))return void(this._invalid=!0);g.push(Math.round(S*v)/v)}this._d.push(e+g.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),Nf="none",id=Math.round,Rf=["lineCap","miterLimit","lineJoin"],jS=lt(Rf,function(n){return"stroke-"+n.toLowerCase()});function AO(n,e,t,i){var r=e.opacity==null?1:e.opacity;if(t instanceof ua)n("opacity",r);else{if(function(z){var Y=z.fill;return Y!=null&&Y!==Nf}(e)){var o=Fa(e.fill);n("fill",o.color);var a=e.fillOpacity!=null?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&n("fill-opacity",a)}else n("fill",Nf);if(function(z){var Y=z.stroke;return Y!=null&&Y!==Nf}(e)){var l=Fa(e.stroke);n("stroke",l.color);var u=e.strokeNoScale?t.getLineScale():1,f=u?(e.lineWidth||0)/u:0,g=e.strokeOpacity!=null?e.strokeOpacity*l.opacity*r:l.opacity*r,v=e.strokeFirst;if((i||f!==1)&&n("stroke-width",f),(i||v)&&n("paint-order",v?"stroke":"fill"),(i||g<1)&&n("stroke-opacity",g),e.lineDash){var _=Gw(t),S=_[0],A=_[1];S&&(A=id(A||0),n("stroke-dasharray",S.join(",")),(A||i)&&n("stroke-dashoffset",A))}else i&&n("stroke-dasharray",Nf);for(var E=0;E<Rf.length;E++){var D=Rf[E];if(i||e[D]!==Qa[D]){var R=e[D]||Qa[D];R&&n(jS[E],R)}}}else i&&n("stroke",Nf)}}var YT="http://www.w3.org/2000/svg",YS="http://www.w3.org/1999/xlink";function Bx(n){return document.createElementNS(YT,n)}function Da(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function dy(n,e){var t=(e=e||{}).newline?`
`:"";return function i(r){var o=r.children,a=r.tag,l=r.attrs,u=r.text;return function(f,g){var v=[];if(g)for(var _ in g){var S=g[_],A=_;S!==!1&&(S!==!0&&S!=null&&(A+='="'+S+'"'),v.push(A))}return"<"+f+" "+v.join(" ")+">"}(a,l)+(a!=="style"?Nt(u):u||"")+(o?""+t+lt(o,function(f){return i(f)}).join(t)+t:"")+("</"+a+">")}(n)}function Al(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function GS(n,e,t,i){return Da("svg","root",{width:n,height:e,xmlns:YT,"xmlns:xlink":YS,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+e},t)}var XS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Bf="transform-origin";function GT(n,e,t){var i=me({},n.shape);me(i,e),n.buildPath(t,i);var r=new jT;return r.reset(yd(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function qS(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[Bf]=t+"px "+i+"px")}var US={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function zf(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function $S(n){return Mn(n)?XS[n]?"cubic-bezier("+XS[n]+")":Hu(n)?n:"":""}function py(n,e,t,i){var r=n.animators,o=r.length,a=[];if(n instanceof R0){var l=function(z,Y,G){var $,Q,et=z.shape.paths,ot={};if(ht(et,function(St){var Mt=Al(G.zrId);Mt.animation=!0,py(St,{},Mt,!0);var Bt=Mt.cssAnims,Zt=Mt.cssNodes,se=Qe(Bt),pe=se.length;if(pe){var be=Bt[Q=se[pe-1]];for(var we in be){var Re=be[we];ot[we]=ot[we]||{d:""},ot[we].d+=Re.d||""}for(var Ze in Zt){var Je=Zt[Ze].animation;Je.indexOf(Q)>=0&&($=Je)}}}),$){Y.d=!1;var xt=zf(ot,G);return $.replace(Q,xt)}}(n,e,t);if(l)a.push(l);else if(!o)return}else if(!o)return;for(var u={},f=0;f<o;f++){var g=r[f],v=[g.getMaxTime()/1e3+"s"],_=$S(g.getClip().easing),S=g.getDelay();_?v.push(_):v.push("linear"),S&&v.push(S/1e3+"s"),g.getLoop()&&v.push("infinite");var A=v.join(" ");u[A]=u[A]||[A,[]],u[A][1].push(g)}function E(z){var Y,G=z[1],$=G.length,Q={},et={},ot={},xt="animation-timing-function";function St(Kn,Gn,ri){for(var qn=Kn.getTracks(),li=Kn.getMaxTime(),Ai=0;Ai<qn.length;Ai++){var cr=qn[Ai];if(cr.needsAnimate()){var kr=cr.keyframes,So=cr.propName;if(ri&&(So=ri(So)),So)for(var zr=0;zr<kr.length;zr++){var Jr=kr[zr],so=Math.round(Jr.time/li*100)+"%",Yo=$S(Jr.easing),$o=Jr.rawValue;(Mn($o)||Ln($o))&&(Gn[so]=Gn[so]||{},Gn[so][So]=Jr.rawValue,Yo&&(Gn[so][xt]=Yo))}}}}for(var Mt=0;Mt<$;Mt++)(rn=(Je=G[Mt]).targetName)?rn==="shape"&&St(Je,et):!i&&St(Je,Q);for(var Bt in Q){var Zt={};_o(Zt,n),me(Zt,Q[Bt]);var se=bd(Zt),pe=Q[Bt][xt];ot[Bt]=se?{transform:se}:{},qS(ot[Bt],Zt),pe&&(ot[Bt][xt]=pe)}var be=!0;for(var Bt in et){ot[Bt]=ot[Bt]||{};var we=!Y;pe=et[Bt][xt],we&&(Y=new mn);var Re=Y.len();Y.reset(),ot[Bt].d=GT(n,et[Bt],Y);var Ze=Y.len();if(!we&&Re!==Ze){be=!1;break}pe&&(ot[Bt][xt]=pe)}if(!be)for(var Bt in ot)delete ot[Bt].d;if(!i)for(Mt=0;Mt<$;Mt++){var Je,rn;(rn=(Je=G[Mt]).targetName)==="style"&&St(Je,ot,function(Kn){return US[Kn]})}var An,Yn=Qe(ot),cn=!0;for(Mt=1;Mt<Yn.length;Mt++){var Pn=Yn[Mt-1],Jn=Yn[Mt];if(ot[Pn][Bf]!==ot[Jn][Bf]){cn=!1;break}An=ot[Pn][Bf]}if(cn&&An){for(var Bt in ot)ot[Bt][Bf]&&delete ot[Bt][Bf];e[Bf]=An}if(en(Yn,function(Kn){return Qe(ot[Kn]).length>0}).length)return zf(ot,t)+" "+z[0]+" both"}for(var D in u)(l=E(u[D]))&&a.push(l);if(a.length){var R=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+R]={animation:a.join(",")},e.class=R}}var cm=Math.round;function fy(n){return n&&Mn(n.src)}function XT(n){return n&&Ge(n.toDataURL)}function ZS(n,e,t,i){AO(function(r,o){var a=r==="fill"||r==="stroke";a&&uo(o)?UT(e,n,r,i):a&&su(o)?$T(t,n,r,i):n[r]=o},e,t,!1),function(r,o,a){var l=r.style;if(function($){return $&&($.shadowBlur||$.shadowOffsetX||$.shadowOffsetY)}(l)){var u=function($){var Q=$.style,et=$.getGlobalScale();return[Q.shadowColor,(Q.shadowBlur||0).toFixed(2),(Q.shadowOffsetX||0).toFixed(2),(Q.shadowOffsetY||0).toFixed(2),et[0],et[1]].join(",")}(r),f=a.shadowCache,g=f[u];if(!g){var v=r.getGlobalScale(),_=v[0],S=v[1];if(!_||!S)return;var A=l.shadowOffsetX||0,E=l.shadowOffsetY||0,D=l.shadowBlur,R=Fa(l.shadowColor),z=R.opacity,Y=R.color,G=D/2/_+" "+D/2/S;g=a.zrId+"-s"+a.shadowIdx++,a.defs[g]=Da("filter",g,{id:g,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Da("feDropShadow","",{dx:A/_,dy:E/S,stdDeviation:G,"flood-color":Y,"flood-opacity":z})]),f[u]=g}o.filter=ss(g)}}(t,n,i)}function KS(n){return Bs(n[0]-1)&&Bs(n[1])&&Bs(n[2])&&Bs(n[3]-1)}function zx(n,e,t){if(e&&(!function(r){return Bs(r[4])&&Bs(r[5])}(e)||!KS(e))){var i=t?10:1e4;n.transform=KS(e)?"translate("+cm(e[4]*i)/i+" "+cm(e[5]*i)/i+")":function(r){return"matrix("+xa(r[0])+","+xa(r[1])+","+xa(r[2])+","+xa(r[3])+","+zs(r[4])+","+zs(r[5])+")"}(e)}}function Fx(n,e,t){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(cm(i[o][0]*t)/t),r.push(cm(i[o][1]*t)/t);e.points=r.join(" ")}function QS(n){return!n.smooth}var gs,Vx,MO={circle:[(gs=["cx","cy","r"],Vx=lt(gs,function(n){return typeof n=="string"?[n,n]:n}),function(n,e,t){for(var i=0;i<Vx.length;i++){var r=Vx[i],o=n[r[0]];o!=null&&(e[r[1]]=cm(o*t)/t)}})],polyline:[Fx,QS],polygon:[Fx,QS]};function qT(n,e){var t=n.style,i=n.shape,r=MO[n.type],o={},a=e.animation,l="path",u=n.style.strokePercent,f=e.compress&&yd(n)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function(D){for(var R=D.animators,z=0;z<R.length;z++)if(R[z].targetName==="shape")return!0;return!1}(n)||u<1){var g=!n.path||n.shapeChanged();n.path||n.createPathProxy();var v=n.path;g&&(v.beginPath(),n.buildPath(v,n.shape),n.pathUpdated());var _=v.getVersion(),S=n,A=S.__svgPathBuilder;S.__svgPathVersion===_&&A&&u===S.__svgPathStrokePercent||(A||(A=S.__svgPathBuilder=new jT),A.reset(f),v.rebuildPath(A,u),A.generateStr(),S.__svgPathVersion=_,S.__svgPathStrokePercent=u),o.d=A.getStr()}else{l=n.type;var E=Math.pow(10,f);r[0](i,o,E)}return zx(o,n.transform),ZS(o,t,n,e),e.animation&&py(n,o,e),Da(l,n.id+"",o)}function JS(n,e){return n instanceof pr?qT(n,e):n instanceof ua?function(t,i){var r=t.style,o=r.image;if(o&&!Mn(o)&&(fy(o)?o=o.src:XT(o)&&(o=o.toDataURL())),o){var a=r.x||0,l=r.y||0,u={href:o,width:r.width,height:r.height};return a&&(u.x=a),l&&(u.y=l),zx(u,t.transform),ZS(u,r,t,i),i.animation&&py(t,u,i),Da("image",t.id+"",u)}}(n,e):n instanceof us?function(t,i){var r=t.style,o=r.text;if(o!=null&&(o+=""),o&&!isNaN(r.x)&&!isNaN(r.y)){var a=r.font||ue,l=r.x||0,u=function(E,D,R){return R==="top"?E+=D/2:R==="bottom"&&(E-=D/2),E}(r.y||0,zl(a),r.textBaseline),f={"dominant-baseline":"central","text-anchor":au[r.textAlign]||r.textAlign};if(m_(r)){var g="",v=r.fontStyle,_=g_(r.fontSize);if(!parseFloat(_))return;var S=r.fontFamily||$t,A=r.fontWeight;g+="font-size:"+_+";font-family:"+S+";",v&&v!=="normal"&&(g+="font-style:"+v+";"),A&&A!=="normal"&&(g+="font-weight:"+A+";"),f.style=g}else f.style="font: "+a;return o.match(/\s/)&&(f["xml:space"]="preserve"),l&&(f.x=l),u&&(f.y=u),zx(f,t.transform),ZS(f,r,t,i),i.animation&&py(t,f,i),Da("text",t.id+"",f,void 0,o)}}(n,e):void 0}function UT(n,e,t,i){var r,o=n[t],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Dc(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!dl(o))return;r="radialGradient",a.cx=yi(o.x,.5),a.cy=yi(o.y,.5),a.r=yi(o.r,.5)}for(var l=o.colorStops,u=[],f=0,g=l.length;f<g;++f){var v=100*zs(l[f].offset)+"%",_=Fa(l[f].color),S=_.color,A=_.opacity,E={offset:v};E["stop-color"]=S,A<1&&(E["stop-opacity"]=A),u.push(Da("stop",f+"",E))}var D=dy(Da(r,"",a,u)),R=i.gradientCache,z=R[D];z||(z=i.zrId+"-g"+i.gradientIdx++,R[D]=z,a.id=z,i.defs[z]=Da(r,z,a,u)),e[t]=ss(z)}function $T(n,e,t,i){var r,o=n.style[t],a=n.getBoundingRect(),l={},u=o.repeat,f=u==="no-repeat",g=u==="repeat-x",v=u==="repeat-y";if(Ho(o)){var _=o.imageWidth,S=o.imageHeight,A=void 0,E=o.image;if(Mn(E)?A=E:fy(E)?A=E.src:XT(E)&&(A=E.toDataURL()),typeof Image>"u"){var D="Image width/height must been given explictly in svg-ssr renderer.";At(_,D),At(S,D)}else if(_==null||S==null){var R=function(St,Mt){if(St){var Bt=St.elm,Zt=_||Mt.width,se=S||Mt.height;St.tag==="pattern"&&(g?(se=1,Zt/=a.width):v&&(Zt=1,se/=a.height)),St.attrs.width=Zt,St.attrs.height=se,Bt&&(Bt.setAttribute("width",Zt),Bt.setAttribute("height",se))}},z=Up(A,null,n,function(St){f||R(Q,St),R(r,St)});z&&z.width&&z.height&&(_=_||z.width,S=S||z.height)}r=Da("image","img",{href:A,width:_,height:S}),l.width=_,l.height=S}else o.svgElement&&(r=Kt(o.svgElement),l.width=o.svgWidth,l.height=o.svgHeight);if(r){var Y,G;f?Y=G=1:g?(G=1,Y=l.width/a.width):v?(Y=1,G=l.height/a.height):l.patternUnits="userSpaceOnUse",Y==null||isNaN(Y)||(l.width=Y),G==null||isNaN(G)||(l.height=G);var $=bd(o);$&&(l.patternTransform=$);var Q=Da("pattern","",l,[r]),et=dy(Q),ot=i.patternCache,xt=ot[et];xt||(xt=i.zrId+"-p"+i.patternIdx++,ot[et]=xt,l.id=xt,Q=i.defs[xt]=Da("pattern",xt,l,[r])),e[t]=ss(xt)}}function TO(n,e,t){var i=t.clipPathCache,r=t.defs,o=i[n.id];if(!o){var a={id:o=t.zrId+"-c"+t.clipPathIdx++};i[n.id]=o,r[o]=Da("clipPath",o,a,[qT(n,t)])}e["clip-path"]=ss(o)}function tC(n){return document.createTextNode(n)}function Ml(n,e,t){n.insertBefore(e,t)}function Hx(n,e){n.removeChild(e)}function eC(n,e){n.appendChild(e)}function gy(n){return n.parentNode}function Wx(n){return n.nextSibling}function nC(n,e){n.textContent=e}var IO=Da("","");function iC(n){return n===void 0}function Ru(n){return n!==void 0}function Sh(n,e,t){for(var i={},r=e;r<=t;++r){var o=n[r].key;o!==void 0&&(i[o]=r)}return i}function yp(n,e){var t=n.key===e.key;return n.tag===e.tag&&t}function jx(n){var e,t=n.children,i=n.tag;if(Ru(i)){var r=n.elm=Bx(i);if(Yx(IO,n),Be(t))for(e=0;e<t.length;++e){var o=t[e];o!=null&&eC(r,jx(o))}else Ru(n.text)&&!di(n.text)&&eC(r,tC(n.text))}else n.elm=tC(n.text);return n.elm}function ZT(n,e,t,i,r){for(;i<=r;++i){var o=t[i];o!=null&&Ml(n,jx(o),e)}}function my(n,e,t,i){for(;t<=i;++t){var r=e[t];r!=null&&(Ru(r.tag)?Hx(gy(r.elm),r.elm):Hx(n,r.elm))}}function Yx(n,e){var t,i=e.elm,r=n&&n.attrs||{},o=e.attrs||{};if(r!==o){for(t in o){var a=o[t];r[t]!==a&&(a===!0?i.setAttribute(t,""):a===!1?i.removeAttribute(t):t.charCodeAt(0)!==120?i.setAttribute(t,a):t==="xmlns:xlink"||t==="xmlns"?i.setAttributeNS("http://www.w3.org/2000/xmlns/",t,a):t.charCodeAt(3)===58?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",t,a):t.charCodeAt(5)===58?i.setAttributeNS(YS,t,a):i.setAttribute(t,a))}for(t in r)t in o||i.removeAttribute(t)}}function bp(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(Yx(n,e),iC(e.text)?Ru(i)&&Ru(r)?i!==r&&function(o,a,l){for(var u,f,g,v=0,_=0,S=a.length-1,A=a[0],E=a[S],D=l.length-1,R=l[0],z=l[D];v<=S&&_<=D;)A==null?A=a[++v]:E==null?E=a[--S]:R==null?R=l[++_]:z==null?z=l[--D]:yp(A,R)?(bp(A,R),A=a[++v],R=l[++_]):yp(E,z)?(bp(E,z),E=a[--S],z=l[--D]):yp(A,z)?(bp(A,z),Ml(o,A.elm,Wx(E.elm)),A=a[++v],z=l[--D]):yp(E,R)?(bp(E,R),Ml(o,E.elm,A.elm),E=a[--S],R=l[++_]):(iC(u)&&(u=Sh(a,v,S)),iC(f=u[R.key])||(g=a[f]).tag!==R.tag?Ml(o,jx(R),A.elm):(bp(g,R),a[f]=void 0,Ml(o,g.elm,A.elm)),R=l[++_]);(v<=S||_<=D)&&(v>S?ZT(o,l[D+1]==null?null:l[D+1].elm,l,_,D):my(o,a,v,S))}(t,i,r):Ru(r)?(Ru(n.text)&&nC(t,""),ZT(t,null,r,0,r.length-1)):Ru(i)?my(t,i,0,i.length-1):Ru(n.text)&&nC(t,""):n.text!==e.text&&(Ru(i)&&my(t,i,0,i.length-1),nC(t,e.text)))}var Gx=0,vy=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=um("refreshHover"),this.configLayer=um("configLayer"),this.storage=t,this._opts=i=me({},i),this.root=e,this._id="zr"+Gx++,this._oldVNode=GS(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=Bx("svg");Yx(null,this._oldVNode),r.appendChild(o),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,i){if(yp(t,i))bp(t,i);else{var r=t.elm,o=gy(r);jx(i),o!==null&&(Ml(o,i.elm,Wx(r)),my(o,[t],0,0))}}(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return JS(e,Al(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,o=Al(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var a=[],l=this._bgVNode=function(_,S,A,E){var D;if(A&&A!=="none")if(D=Da("rect","bg",{width:_,height:S,x:"0",y:"0",id:"0"}),uo(A))UT({fill:A},D.attrs,"fill",E);else if(su(A))$T({style:{fill:A},dirty:Vn,getBoundingRect:function(){return{width:_,height:S}}},D.attrs,"fill",E);else{var R=Fa(A),z=R.color,Y=R.opacity;D.attrs.fill=z,Y<1&&(D.attrs["fill-opacity"]=Y)}return D}(i,r,this._backgroundColor,o);l&&a.push(l);var u=e.compress?null:this._mainVNode=Da("g","main",{},[]);this._paintList(t,o,u?u.children:a),u&&a.push(u);var f=lt(Qe(o.defs),function(_){return o.defs[_]});if(f.length&&a.push(Da("defs","defs",{},f)),e.animation){var g=function(_,S,A){var E=(A=A||{}).newline?`
`:"",D=" {"+E,R=E+"}",z=lt(Qe(_),function(G){return G+D+lt(Qe(_[G]),function($){return $+":"+_[G][$]+";"}).join(E)+R}).join(E),Y=lt(Qe(S),function(G){return"@keyframes "+G+D+lt(Qe(S[G]),function($){return $+D+lt(Qe(S[G][$]),function(Q){var et=S[G][$][Q];return Q==="d"&&(et='path("'+et+'")'),Q+":"+et+";"}).join(E)+R}).join(E)+R}).join(E);return z||Y?["<![CDATA[",z,Y,"]]>"].join(E):""}(o.cssNodes,o.cssAnims,{newline:!0});if(g){var v=Da("style","stl",{},[],g);a.push(v)}}return GS(i,r,a,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},dy(this.renderToVNode({animation:yi(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:yi(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var r,o,a=e.length,l=[],u=0,f=0,g=0;g<a;g++){var v=e[g];if(!v.invisible){var _=v.__clipPaths,S=_&&_.length||0,A=o&&o.length||0,E=void 0;for(E=Math.max(S-1,A-1);E>=0&&(!_||!o||_[E]!==o[E]);E--);for(var D=A-1;D>E;D--)r=l[--u-1];for(var R=E+1;R<S;R++){var z={};TO(_[R],z,t);var Y=Da("g","clip-g-"+f++,z,[]);(r?r.children:i).push(Y),l[u++]=Y,r=Y}o=_;var G=JS(v,t);G&&(r?r.children:i).push(G)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,o=this._viewport;if(e!=null&&(i.width=e),t!=null&&(i.height=t),r&&o&&(o.style.display="none",e=Mf(r,0,i),t=Mf(r,1,i),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var a=o.style;a.width=e+"px",a.height=t+"px"}if(su(this._backgroundColor))this.refresh();else{var l=this._svgDom;l&&(l.setAttribute("width",e),l.setAttribute("height",t));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",e),u.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=dc(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},n}();function um(n){return function(){}}function rC(n,e,t){var i=ft.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=o*t,i}var Xx=function(n){function e(t,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||mo,typeof t=="string"?o=rC(t,i,r):di(t)&&(t=(o=t).id),a.id=t,a.dom=o;var l=o.style;return l&&(bi(o),o.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),a.painter=i,a.dpr=r,a}return Tt(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=rC("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,l=[],u=this.maxRepaintRectCount,f=!1,g=new yr(0,0,0,0);function v(z){if(z.isFinite()&&!z.isZero())if(l.length===0)(Y=new yr(0,0,0,0)).copy(z),l.push(Y);else{for(var Y,G=!1,$=1/0,Q=0,et=0;et<l.length;++et){var ot=l[et];if(ot.intersect(z)){var xt=new yr(0,0,0,0);xt.copy(ot),xt.union(z),l[et]=xt,G=!0;break}if(f){g.copy(z),g.union(ot);var St=z.width*z.height,Mt=ot.width*ot.height,Bt=g.width*g.height-St-Mt;Bt<$&&($=Bt,Q=et)}}f&&(l[Q].union(z),G=!0),!G&&((Y=new yr(0,0,0,0)).copy(z),l.push(Y)),f||(f=l.length>=u)}}for(var _=this.__startIndex;_<this.__endIndex;++_)if(E=t[_]){var S=E.shouldBePainted(r,o,!0,!0);(D=E.__isRendered&&(1&E.__dirty||!S)?E.getPrevPaintRect():null)&&v(D);var A=S&&(1&E.__dirty||!E.__isRendered)?E.getPaintRect():null;A&&v(A)}for(_=this.__prevStartIndex;_<this.__prevEndIndex;++_){var E,D;S=(E=i[_]).shouldBePainted(r,o,!0,!0),E&&(!S||!E.__zr)&&E.__isRendered&&(D=E.getPrevPaintRect())&&v(D)}do for(a=!1,_=0;_<l.length;)if(l[_].isZero())l.splice(_,1);else{for(var R=_+1;R<l.length;)l[_].intersect(l[R])?(a=!0,l[_].union(l[R]),l.splice(R,1)):R++;_++}while(a);return this._paintRects=l,l},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,a=o.style,l=this.domBack;a&&(a.width=t+"px",a.height=i+"px"),o.width=t*r,o.height=i*r,l&&(l.width=t*r,l.height=i*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var o=this.dom,a=this.ctx,l=o.width,u=o.height;i=i||this.clearColor;var f=this.motionBlur&&!t,g=this.lastFrameAlpha,v=this.dpr,_=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,l/v,u/v));var S=this.domBack;function A(E,D,R,z){if(a.clearRect(E,D,R,z),i&&i!=="transparent"){var Y=void 0;Wn(i)?(Y=(i.global||i.__width===R&&i.__height===z)&&i.__canvasGradient||Yw(a,i,{x:0,y:0,width:R,height:z}),i.__canvasGradient=Y,i.__width=R,i.__height=z):si(i)&&(i.scaleX=i.scaleX||v,i.scaleY=i.scaleY||v,Y=Vb(a,i,{dirty:function(){_.setUnpainted(),_.__painter.refresh()}})),a.save(),a.fillStyle=Y||i,a.fillRect(E,D,R,z),a.restore()}f&&(a.save(),a.globalAlpha=g,a.drawImage(S,E,D,R,z),a.restore())}!r||f?A(0,0,l,u):r.length&&ht(r,function(E){A(E.x*v,E.y*v,E.width*v,E.height*v)})},e}(M),KT=1e5,yy=314159,qx=.01,QT=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=i=me({},i||{}),this.dpr=i.devicePixelRatio||mo,this._singleCanvas=o,this.root=e,e.style&&(bi(e),e.innerHTML=""),this.storage=t;var a=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,f=u.width,g=u.height;i.width!=null&&(f=i.width),i.height!=null&&(g=i.height),this.dpr=i.devicePixelRatio||1,u.width=f*this.dpr,u.height=g*this.dpr,this._width=f,this._height=g;var v=new Xx(u,this,this.dpr);v.__builtin__=!0,v.initContext(),l[314159]=v,v.zlevel=yy,a.push(yy),this._domRoot=e}else{this._width=Mf(e,0,i),this._height=Mf(e,1,i);var _=this._domRoot=function(S,A){var E=document.createElement("div");return E.style.cssText=["position:relative","width:"+S+"px","height:"+A+"px","padding:0","margin:0","border-width:0"].join(";")+";",E}(this._width,this._height);e.appendChild(_)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<r.length;o++){var a=r[o],l=this._layers[a];if(!l.__builtin__&&l.refresh){var u=o===0?this._backgroundColor:null;l.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var l=e[a];l.__inHover&&(i||(i=this._hoverlayer=this.getLayer(KT)),r||(r=i.ctx).save(),qc(r,l,o,a===t-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(KT)},n.prototype.paintOne=function(e,t){Vv(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),a=o.finished,l=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(e),a)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var u=this;Ns(function(){u._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(yy).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,o=[],a=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var u=this._zlevelList[l],f=this._layers[u];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||i)&&o.push(f)}for(var g=!0,v=!1,_=function(E){var D,R=o[E],z=R.ctx,Y=a&&R.createRepaintRects(e,t,S._width,S._height),G=i?R.__startIndex:R.__drawIndex,$=!i&&R.incremental&&Date.now,Q=$&&Date.now(),et=R.zlevel===S._zlevelList[0]?S._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,et,Y);else if(G===R.__startIndex){var ot=e[G];ot.incremental&&ot.notClear&&!i||R.clear(!1,et,Y)}G===-1&&(console.error("For some unknown reason. drawIndex is -1"),G=R.__startIndex);var xt=function(Zt){var se={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(D=G;D<R.__endIndex;D++){var pe=e[D];if(pe.__inHover&&(v=!0),r._doPaintEl(pe,R,a,Zt,se,D===R.__endIndex-1),$&&Date.now()-Q>15)break}se.prevElClipPaths&&z.restore()};if(Y)if(Y.length===0)D=R.__endIndex;else for(var St=S.dpr,Mt=0;Mt<Y.length;++Mt){var Bt=Y[Mt];z.save(),z.beginPath(),z.rect(Bt.x*St,Bt.y*St,Bt.width*St,Bt.height*St),z.clip(),xt(Bt),z.restore()}else z.save(),xt(),z.restore();R.__drawIndex=D,R.__drawIndex<R.__endIndex&&(g=!1)},S=this,A=0;A<o.length;A++)_(A);return Oe.wxa&&ht(this._layers,function(E){E&&E.ctx&&E.ctx.draw&&E.ctx.draw()}),{finished:g,needsRefreshHover:v}},n.prototype._doPaintEl=function(e,t,i,r,o,a){var l=t.ctx;if(i){var u=e.getPaintRect();(!r||u&&u.intersect(r))&&(qc(l,e,o,a),e.setPrevPaintRect(u))}else qc(l,e,o,a)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=yy);var i=this._layers[e];return i||((i=new Xx("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?ne(i,this._layerConfig[e],!0):this._layerConfig[e-qx]&&ne(i,this._layerConfig[e-qx],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,l=null,u=-1;if(!i[e]&&function(g){return!!g&&(!!g.__builtin__||typeof g.resize=="function"&&typeof g.refresh=="function")}(t)){if(o>0&&e>r[0]){for(u=0;u<o-1&&!(r[u]<e&&r[u+1]>e);u++);l=i[r[u]]}if(r.splice(u+1,0,e),i[e]=t,!t.virtual)if(l){var f=l.dom;f.nextSibling?a.insertBefore(t.dom,f.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&e.call(t,a,o)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||e.call(t,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(v){a&&(a.__endIndex!==v&&(a.__dirty=!0),a.__endIndex=v)}if(this.eachBuiltinLayer(function(v,_){v.__dirty=v.__used=!1}),this._singleCanvas){for(var i=1;i<e.length;i++)if((u=e[i]).zlevel!==e[i-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}}var r,o,a=null,l=0;for(o=0;o<e.length;o++){var u,f=(u=e[o]).zlevel,g=void 0;r!==f&&(r=f,l=0),u.incremental?((g=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,l=1):g=this.getLayer(f+(l>0?qx:0),this._needsManuallyCompositing),g.__builtin__||Xt("ZLevel "+f+" has been used by unkown layer "+g.id),g!==a&&(g.__used=!0,g.__startIndex!==o&&(g.__dirty=!0),g.__startIndex=o,g.incremental?g.__drawIndex=-1:g.__drawIndex=o,t(o),a=g),1&u.__dirty&&!u.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=o))}t(o),this.eachBuiltinLayer(function(v,_){!v.__used&&v.getElementCount()>0&&(v.__dirty=!0,v.__startIndex=v.__endIndex=v.__drawIndex=0),v.__dirty&&v.__drawIndex<0&&(v.__drawIndex=v.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ht(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?ne(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===e||o===e+qx)&&ne(this._layers[o],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(dn(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(e!=null&&(r.width=e),t!=null&&(r.height=t),e=Mf(o,0,r),t=Mf(o,1,r),i.style.display="",this._width!==e||t!==this._height){for(var a in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(yy).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new Xx("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(v){v.__builtin__?i.drawImage(v.dom,0,0,r,o):v.renderToCanvas&&(i.save(),v.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,f=l.length;u<f;u++){var g=l[u];qc(i,g,a,u===f-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),JT=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t){return yh(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new Di,r=va("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),l=o==="none"?"circle":o,u=.8*t.itemHeight,f=va(l,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);i.add(f),f.setStyle(t.itemStyle);var g=t.iconRotate==="inherit"?a:t.iconRotate||0;return f.rotation=g*Math.PI/180,f.setOrigin([t.itemWidth/2,t.itemHeight/2]),l.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Io);function Ff(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(i===1){var r=wf(n,e,t[0]);return r!=null?r+"":null}if(i){for(var o=[],a=0;a<t.length;a++)o.push(wf(n,e,t[a]));return o.join(" ")}}function t2(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Be(e))return e+"";for(var i=[],r=0;r<t.length;r++){var o=n.getDimensionIndex(t[r]);o>=0&&i.push(e[o])}return i.join(" ")}var hm=function(n){function e(t,i,r,o){var a=n.call(this)||this;return a.updateData(t,i,r,o),a}return Tt(e,n),e.prototype._createSymbol=function(t,i,r,o,a){this.removeAll();var l=va(t,-1,-1,2,2,null,a);l.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),l.drift=by,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){nh(this.childAt(0))},e.prototype.downplay=function(){ih(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,o){this.silent=!1;var a=t.getItemVisual(i,"symbol")||"circle",l=t.hostModel,u=e.getSymbolSize(t,i),f=a!==this._symbolType,g=o&&o.disableAnimation;if(f){var v=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,t,i,u,v)}else{(S=this.childAt(0)).silent=!1;var _={scaleX:u[0]/2,scaleY:u[1]/2};g?S.attr(_):Zr(S,_,l,i),Fc(S)}if(this._updateCommon(t,i,u,r,o),f){var S=this.childAt(0);g||(_={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}},S.scaleX=S.scaleY=0,S.style.opacity=0,To(S,_,l,i))}g&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,o,a){var l,u,f,g,v,_,S,A,E,D=this.childAt(0),R=t.hostModel;if(o&&(l=o.emphasisItemStyle,u=o.blurItemStyle,f=o.selectItemStyle,g=o.focus,v=o.blurScope,S=o.labelStatesModels,A=o.hoverScale,E=o.cursorStyle,_=o.emphasisDisabled),!o||t.hasItemOption){var z=o&&o.itemModel?o.itemModel:t.getItemModel(i),Y=z.getModel("emphasis");l=Y.getModel("itemStyle").getItemStyle(),f=z.getModel(["select","itemStyle"]).getItemStyle(),u=z.getModel(["blur","itemStyle"]).getItemStyle(),g=Y.get("focus"),v=Y.get("blurScope"),_=Y.get("disabled"),S=Wa(z),A=Y.getShallow("scale"),E=z.getShallow("cursor")}var G=t.getItemVisual(i,"symbolRotate");D.attr("rotation",(G||0)*Math.PI/180||0);var $=rp(t.getItemVisual(i,"symbolOffset"),r);$&&(D.x=$[0],D.y=$[1]),E&&D.attr("cursor",E);var Q=t.getItemVisual(i,"style"),et=Q.fill;if(D instanceof ua){var ot=D.style;D.useStyle(me({image:ot.image,x:ot.x,y:ot.y,width:ot.width,height:ot.height},Q))}else D.__isEmptyBrush?D.useStyle(me({},Q)):D.useStyle(Q),D.style.decal=null,D.setColor(et,a&&a.symbolInnerColor),D.style.strokeNoScale=!0;var xt=t.getItemVisual(i,"liftZ"),St=this._z2;xt!=null?St==null&&(this._z2=D.z2,D.z2+=xt):St!=null&&(D.z2=St,this._z2=null);var Mt=a&&a.useNameLabel;na(D,S,{labelFetcher:R,labelDataIndex:i,defaultText:function(se){return Mt?t.getName(se):Ff(t,se)},inheritColor:et,defaultOpacity:Q.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var Bt=D.ensureState("emphasis");Bt.style=l,D.ensureState("select").style=f,D.ensureState("blur").style=u;var Zt=A==null||A===!0?Math.max(1.1,3/this._sizeY):isFinite(A)&&A>0?+A:1;Bt.scaleX=this._sizeX*Zt,Bt.scaleY=this._sizeY*Zt,this.setSymbolScale(1),fa(this,g,v,_)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var o=this.childAt(0),a=lr(this).dataIndex,l=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var u=o.getTextContent();u&&ah(u,{style:{opacity:0}},i,{dataIndex:a,removeOpt:l,cb:function(){o.removeTextContent()}})}else o.removeTextContent();ah(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:t,removeOpt:l})},e.getSymbolSize=function(t,i){return Zg(t.getItemVisual(i,"symbolSize"))},e}(Di);function by(n,e){this.parent.drift(n,e)}function Ux(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function e2(n){return n==null||di(n)||(n={isIgnore:n}),n||{}}function n2(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Wa(e),cursorStyle:e.get("cursor")}}var dm=function(){function n(e){this.group=new Di,this._SymbolCtor=e||hm}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=e2(t);var i=this.group,r=e.hostModel,o=this._data,a=this._SymbolCtor,l=t.disableAnimation,u=n2(e),f={disableAnimation:l},g=t.getSymbolPoint||function(v){return e.getItemLayout(v)};o||i.removeAll(),e.diff(o).add(function(v){var _=g(v);if(Ux(e,_,v,t)){var S=new a(e,v,u,f);S.setPosition(_),e.setItemGraphicEl(v,S),i.add(S)}}).update(function(v,_){var S=o.getItemGraphicEl(_),A=g(v);if(Ux(e,A,v,t)){var E=e.getItemVisual(v,"symbol")||"circle",D=S&&S.getSymbolType&&S.getSymbolType();if(!S||D&&D!==E)i.remove(S),(S=new a(e,v,u,f)).setPosition(A);else{S.updateData(e,v,u,f);var R={x:A[0],y:A[1]};l?S.attr(R):Zr(S,R,r)}i.add(S),e.setItemGraphicEl(v,S)}else i.remove(S)}).remove(function(v){var _=o.getItemGraphicEl(v);_&&_.fadeOut(function(){i.remove(_)},r)}).execute(),this._getSymbolPoint=g,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=n2(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function r(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=e2(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(Ux(t,a,o,i)){var l=new this._SymbolCtor(t,o,this._seriesScope);l.traverse(r),l.setPosition(a),this.group.add(l),t.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},n.prototype.eachRendered=function(e){Xh(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n}();function oC(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=function(A,E){var D=0,R=A.scale.getExtent();return E==="start"?D=R[0]:E==="end"?D=R[1]:Ln(E)&&!isNaN(E)?D=E:R[0]>0?D=R[0]:R[1]<0&&(D=R[1]),D}(r,t),a=i.dim,l=r.dim,u=e.mapDimension(l),f=e.mapDimension(a),g=l==="x"||l==="radius"?1:0,v=lt(n.dimensions,function(A){return e.mapDimension(A)}),_=!1,S=e.getCalculationInfo("stackResultDimension");return td(e,v[0])&&(_=!0,v[0]=S),td(e,v[1])&&(_=!0,v[1]=S),{dataDimsForPoint:v,valueStart:o,valueAxisDim:l,baseAxisDim:a,stacked:!!_,valueDim:u,baseDim:f,baseDataOffset:g,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function $x(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=t.get(n.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var rl=Math.min,Ch=Math.max;function xp(n,e){return isNaN(n)||isNaN(e)}function Zx(n,e,t,i,r,o,a,l,u){for(var f,g,v,_,S,A,E=t,D=0;D<i;D++){var R=e[2*E],z=e[2*E+1];if(E>=r||E<0)break;if(xp(R,z)){if(u){E+=o;continue}break}if(E===t)n[o>0?"moveTo":"lineTo"](R,z),v=R,_=z;else{var Y=R-f,G=z-g;if(Y*Y+G*G<.5){E+=o;continue}if(a>0){for(var $=E+o,Q=e[2*$],et=e[2*$+1];Q===R&&et===z&&D<i;)D++,E+=o,Q=e[2*($+=o)],et=e[2*$+1],Y=(R=e[2*E])-f,G=(z=e[2*E+1])-g;var ot=D+1;if(u)for(;xp(Q,et)&&ot<i;)ot++,Q=e[2*($+=o)],et=e[2*$+1];var xt=.5,St=0,Mt=0,Bt=void 0,Zt=void 0;if(ot>=i||xp(Q,et))S=R,A=z;else{St=Q-f,Mt=et-g;var se=R-f,pe=Q-R,be=z-g,we=et-z,Re=void 0,Ze=void 0;if(l==="x"){var Je=St>0?1:-1;S=R-Je*(Re=Math.abs(se))*a,A=z,Bt=R+Je*(Ze=Math.abs(pe))*a,Zt=z}else if(l==="y"){var rn=Mt>0?1:-1;S=R,A=z-rn*(Re=Math.abs(be))*a,Bt=R,Zt=z+rn*(Ze=Math.abs(we))*a}else Re=Math.sqrt(se*se+be*be),S=R-St*a*(1-(xt=(Ze=Math.sqrt(pe*pe+we*we))/(Ze+Re))),A=z-Mt*a*(1-xt),Zt=z+Mt*a*xt,Bt=rl(Bt=R+St*a*xt,Ch(Q,R)),Zt=rl(Zt,Ch(et,z)),Bt=Ch(Bt,rl(Q,R)),A=z-(Mt=(Zt=Ch(Zt,rl(et,z)))-z)*Re/Ze,S=rl(S=R-(St=Bt-R)*Re/Ze,Ch(f,R)),A=rl(A,Ch(g,z)),Bt=R+(St=R-(S=Ch(S,rl(f,R))))*Ze/Re,Zt=z+(Mt=z-(A=Ch(A,rl(g,z))))*Ze/Re}n.bezierCurveTo(v,_,S,A,R,z),v=Bt,_=Zt}else n.lineTo(R,z)}f=R,g=z,E+=o}return D}var Kx=function(){this.smooth=0,this.smoothConstraint=!0},i2=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Kx},e.prototype.buildPath=function(t,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&xp(r[2*a-2],r[2*a-1]);a--);for(;o<a&&xp(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=Zx(t,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,l=mn.CMD,u=i==="x",f=[],g=0;g<a.length;){var v=void 0,_=void 0,S=void 0,A=void 0,E=void 0,D=void 0,R=void 0;switch(a[g++]){case l.M:r=a[g++],o=a[g++];break;case l.L:if(v=a[g++],_=a[g++],(R=u?(t-r)/(v-r):(t-o)/(_-o))<=1&&R>=0){var z=u?(_-o)*R+o:(v-r)*R+r;return u?[t,z]:[z,t]}r=v,o=_;break;case l.C:v=a[g++],_=a[g++],S=a[g++],A=a[g++],E=a[g++],D=a[g++];var Y=u?za(r,v,S,E,t,f):za(o,_,A,D,t,f);if(Y>0)for(var G=0;G<Y;G++){var $=f[G];if($<=1&&$>=0)return z=u?ba(o,_,A,D,$):ba(r,v,S,E,$),u?[t,z]:[z,t]}r=E,o=D}}},e}(pr),Qx=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e}(Kx),aC=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new Qx},e.prototype.buildPath=function(t,i){var r=i.points,o=i.stackedOnPoints,a=0,l=r.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;l>0&&xp(r[2*l-2],r[2*l-1]);l--);for(;a<l&&xp(r[2*a],r[2*a+1]);a++);}for(;a<l;){var f=Zx(t,r,a,l,l,1,i.smooth,u,i.connectNulls);Zx(t,o,a+f-1,f,l,-1,i.stackedOnSmooth,u,i.connectNulls),a+=f+1,t.closePath()}},e}(pr);function sC(n,e,t,i,r){var o=n.getArea(),a=o.x,l=o.y,u=o.width,f=o.height,g=t.get(["lineStyle","width"])||2;a-=g/2,l-=g/2,u+=g,f+=g,a=Math.floor(a),u=Math.round(u);var v=new Ur({shape:{x:a,y:l,width:u,height:f}});if(e){var _=n.getBaseAxis(),S=_.isHorizontal(),A=_.inverse;S?(A&&(v.shape.x+=u),v.shape.width=0):(A||(v.shape.y+=f),v.shape.height=0);var E=Ge(r)?function(D){r(D,v)}:null;To(v,{shape:{width:u,height:f,x:a,y:l}},t,null,i,E)}return v}function r2(n,e,t){var i=n.getArea(),r=Mo(i.r0,1),o=Mo(i.r,1),a=new $s({shape:{cx:Mo(n.cx,1),cy:Mo(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&(n.getBaseAxis().dim==="angle"?a.shape.endAngle=i.startAngle:a.shape.r=r,To(a,{shape:{endAngle:i.endAngle,r:o}},t)),a}function xy(n,e,t,i,r){return n?n.type==="polar"?r2(n,e,t):n.type==="cartesian2d"?sC(n,e,t,i,r):null:null}function _p(n,e){return n.type===e}function o2(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function a2(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],l=n[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(l)||(t=Math.min(l,t),r=Math.max(l,r))}return[[e,t],[i,r]]}function s2(n,e){var t=a2(n),i=t[0],r=t[1],o=a2(e),a=o[0],l=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-l[0]),Math.abs(r[1]-l[1]))}function _y(n){return Ln(n)?n:n?.5:0}function rd(n,e,t,i){var r=e.getBaseAxis(),o=r.dim==="x"||r.dim==="radius"?0:1,a=[],l=0,u=[],f=[],g=[],v=[];if(i){for(l=0;l<n.length;l+=2)isNaN(n[l])||isNaN(n[l+1])||v.push(n[l],n[l+1]);n=v}for(l=0;l<n.length-2;l+=2)switch(g[0]=n[l+2],g[1]=n[l+3],f[0]=n[l],f[1]=n[l+1],a.push(f[0],f[1]),t){case"end":u[o]=g[o],u[1-o]=f[1-o],a.push(u[0],u[1]);break;case"middle":var _=(f[o]+g[o])/2,S=[];u[o]=S[o]=_,u[1-o]=f[1-o],S[1-o]=g[1-o],a.push(u[0],u[1]),a.push(S[0],S[1]);break;default:u[o]=f[o],u[1-o]=g[1-o],a.push(u[0],u[1])}return a.push(n[l++],n[l++]),a}function l2(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&e.type==="cartesian2d"){for(var r,o,a=i.length-1;a>=0;a--){var l=n.getDimensionInfo(i[a].dimension);if((r=l&&l.coordDim)==="x"||r==="y"){o=i[a];break}}if(o){var u=e.getAxis(r),f=lt(o.stops,function(z){return{coord:u.toGlobalCoord(u.dataToCoord(z.value)),color:z.color}}),g=f.length,v=o.outerColors.slice();g&&f[0].coord>f[g-1].coord&&(f.reverse(),v.reverse());var _=function(z,Y){var G,$,Q=[],et=z.length;function ot(Bt,Zt,se){var pe=Bt.coord;return{coord:se,color:Rl((se-pe)/(Zt.coord-pe),[Bt.color,Zt.color])}}for(var xt=0;xt<et;xt++){var St=z[xt],Mt=St.coord;if(Mt<0)G=St;else{if(Mt>Y){$?Q.push(ot($,St,Y)):G&&Q.push(ot(G,St,0),ot(G,St,Y));break}G&&(Q.push(ot(G,St,0)),G=null),Q.push(St),$=St}}return Q}(f,r==="x"?t.getWidth():t.getHeight()),S=_.length;if(!S&&g)return f[0].coord<0?v[1]?v[1]:f[g-1].color:v[0]?v[0]:f[0].color;var A=_[0].coord-10,E=_[S-1].coord+10,D=E-A;if(D<.001)return"transparent";ht(_,function(z){z.offset=(z.coord-A)/D}),_.push({offset:S?_[S-1].offset:.5,color:v[1]||"transparent"}),_.unshift({offset:S?_[0].offset:.5,color:v[0]||"transparent"});var R=new of(0,0,0,0,_,!0);return R[r]=A,R[r+"2"]=E,R}}}function lC(n,e,t){var i=n.get("showAllSymbol"),r=i==="auto";if(!i||r){var o=t.getAxesByScale("ordinal")[0];if(o&&(!r||!function(u,f){var g=u.getExtent(),v=Math.abs(g[1]-g[0])/u.scale.count();isNaN(v)&&(v=0);for(var _=f.count(),S=Math.max(1,Math.round(_/5)),A=0;A<_;A+=S)if(1.5*hm.getSymbolSize(f,A)[u.isHorizontal()?1:0]>v)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),l={};return ht(o.getViewLabels(),function(u){var f=o.scale.getRawOrdinalNumber(u.tickValue);l[f]=1}),function(u){return!l.hasOwnProperty(e.get(a,u))}}}}function cC(n,e){return[n[2*e],n[2*e+1]]}function uC(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<yl.length;e++)if(n.get([yl[e],"endLabel","show"]))return!0;return!1}function Jx(n,e,t,i){if(_p(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),l={lastFrameIndex:0},u=uC(i)?function(S,A){n._endLabelOnDuring(S,A,a,l,o,r,e)}:null,f=e.getBaseAxis().isHorizontal(),g=sC(e,t,i,function(){var S=n._endLabel;S&&t&&l.originalX!=null&&S.attr({x:l.originalX,y:l.originalY})},u);if(!i.get("clip",!0)){var v=g.shape,_=Math.max(v.width,v.height);f?(v.y-=_,v.height+=2*_):(v.x-=_,v.width+=2*_)}return u&&u(1,g),g}return r2(e,t,i)}var EO=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.init=function(){var t=new Di,i=new dm;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem,l=this.group,u=t.getData(),f=t.getModel("lineStyle"),g=t.getModel("areaStyle"),v=u.getLayout("points")||[],_=a.type==="polar",S=this._coordSys,A=this._symbolDraw,E=this._polyline,D=this._polygon,R=this._lineGroup,z=!i.ssr&&t.isAnimationEnabled(),Y=!g.isEmpty(),G=g.get("origin"),$=oC(a,u,G),Q=Y&&function(cn,Pn,Jn){if(!Jn.valueDim)return[];for(var Kn=Pn.count(),Gn=Du(2*Kn),ri=0;ri<Kn;ri++){var qn=$x(Jn,cn,Pn,ri);Gn[2*ri]=qn[0],Gn[2*ri+1]=qn[1]}return Gn}(a,u,$),et=t.get("showSymbol"),ot=t.get("connectNulls"),xt=et&&!_&&lC(t,u,a),St=this._data;St&&St.eachItemGraphicEl(function(cn,Pn){cn.__temp&&(l.remove(cn),St.setItemGraphicEl(Pn,null))}),et||A.remove(),l.add(R);var Mt,Bt=!_&&t.get("step");a&&a.getArea&&t.get("clip",!0)&&((Mt=a.getArea()).width!=null?(Mt.x-=.1,Mt.y-=.1,Mt.width+=.2,Mt.height+=.2):Mt.r0&&(Mt.r0-=.5,Mt.r+=.5)),this._clipShapeForSymbol=Mt;var Zt=l2(u,a,r)||u.getVisual("style")[u.getVisual("drawType")];if(E&&S.type===a.type&&Bt===this._step){Y&&!D?D=this._newPolygon(v,Q):D&&!Y&&(R.remove(D),D=this._polygon=null),_||this._initOrUpdateEndLabel(t,a,Ud(Zt));var se=R.getClipPath();se?To(se,{shape:Jx(this,a,!1,t).shape},t):R.setClipPath(Jx(this,a,!0,t)),et&&A.updateData(u,{isIgnore:xt,clipShape:Mt,disableAnimation:!0,getSymbolPoint:function(cn){return[v[2*cn],v[2*cn+1]]}}),o2(this._stackedOnPoints,Q)&&o2(this._points,v)||(z?this._doUpdateAnimation(u,Q,a,r,Bt,G,ot):(Bt&&(v=rd(v,a,Bt,ot),Q&&(Q=rd(Q,a,Bt,ot))),E.setShape({points:v}),D&&D.setShape({points:v,stackedOnPoints:Q})))}else et&&A.updateData(u,{isIgnore:xt,clipShape:Mt,disableAnimation:!0,getSymbolPoint:function(cn){return[v[2*cn],v[2*cn+1]]}}),z&&this._initSymbolLabelAnimation(u,a,Mt),Bt&&(v=rd(v,a,Bt,ot),Q&&(Q=rd(Q,a,Bt,ot))),E=this._newPolyline(v),Y?D=this._newPolygon(v,Q):D&&(R.remove(D),D=this._polygon=null),_||this._initOrUpdateEndLabel(t,a,Ud(Zt)),R.setClipPath(Jx(this,a,!0,t));var pe=t.getModel("emphasis"),be=pe.get("focus"),we=pe.get("blurScope"),Re=pe.get("disabled");E.useStyle(Ne(f.getLineStyle(),{fill:"none",stroke:Zt,lineJoin:"bevel"})),Is(E,t,"lineStyle"),E.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"&&(E.getState("emphasis").style.lineWidth=+E.style.lineWidth+1),lr(E).seriesIndex=t.seriesIndex,fa(E,be,we,Re);var Ze=_y(t.get("smooth")),Je=t.get("smoothMonotone");if(E.setShape({smooth:Ze,smoothMonotone:Je,connectNulls:ot}),D){var rn=u.getCalculationInfo("stackedOnSeries"),An=0;D.useStyle(Ne(g.getAreaStyle(),{fill:Zt,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),rn&&(An=_y(rn.get("smooth"))),D.setShape({smooth:Ze,stackedOnSmooth:An,smoothMonotone:Je,connectNulls:ot}),Is(D,t,"areaStyle"),lr(D).seriesIndex=t.seriesIndex,fa(D,be,we,Re)}var Yn=function(cn){o._changePolyState(cn)};u.eachItemGraphicEl(function(cn){cn&&(cn.onHoverStateChange=Yn)}),this._polyline.onHoverStateChange=Yn,this._data=u,this._coordSys=a,this._stackedOnPoints=Q,this._points=v,this._step=Bt,this._valueOrigin=G,t.get("triggerLineEvent")&&(this.packEventData(t,E),D&&this.packEventData(t,D))},e.prototype.packEventData=function(t,i){lr(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,o){var a=t.getData(),l=Zu(a,o);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var u=a.getLayout("points"),f=a.getItemGraphicEl(l);if(!f){var g=u[2*l],v=u[2*l+1];if(isNaN(g)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,v))return;var _=t.get("zlevel")||0,S=t.get("z")||0;(f=new hm(a,l)).x=g,f.y=v,f.setZ(_,S);var A=f.getSymbolPath().getTextContent();A&&(A.zlevel=_,A.z=S,A.z2=this._polyline.z2+1),f.__temp=!0,a.setItemGraphicEl(l,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else wo.prototype.highlight.call(this,t,i,r,o)},e.prototype.downplay=function(t,i,r,o){var a=t.getData(),l=Zu(a,o);if(this._changePolyState("normal"),l!=null&&l>=0){var u=a.getItemGraphicEl(l);u&&(u.__temp?(a.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else wo.prototype.downplay.call(this,t,i,r,o)},e.prototype._changePolyState=function(t){var i=this._polygon;E0(this._polyline,t),i&&E0(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new i2({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new aC({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var o,a,l=i.getBaseAxis(),u=l.inverse;i.type==="cartesian2d"?(o=l.isHorizontal(),a=!1):i.type==="polar"&&(o=l.dim==="angle",a=!0);var f=t.hostModel,g=f.get("animationDuration");Ge(g)&&(g=g(null));var v=f.get("animationDelay")||0,_=Ge(v)?v(null):v;t.eachItemGraphicEl(function(S,A){var E=S;if(E){var D=[S.x,S.y],R=void 0,z=void 0,Y=void 0;if(r)if(a){var G=r,$=i.pointToCoord(D);o?(R=G.startAngle,z=G.endAngle,Y=-$[1]/180*Math.PI):(R=G.r0,z=G.r,Y=$[0])}else{var Q=r;o?(R=Q.x,z=Q.x+Q.width,Y=S.x):(R=Q.y+Q.height,z=Q.y,Y=S.y)}var et=z===R?0:(Y-R)/(z-R);u&&(et=1-et);var ot=Ge(v)?v(A):g*et+_,xt=E.getSymbolPath(),St=xt.getTextContent();E.attr({scaleX:0,scaleY:0}),E.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:ot}),St&&St.animateFrom({style:{opacity:0}},{duration:300,delay:ot}),xt.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var o=t.getModel("endLabel");if(uC(t)){var a=t.getData(),l=this._polyline,u=a.getLayout("points");if(!u)return l.removeTextContent(),void(this._endLabel=null);var f=this._endLabel;f||((f=this._endLabel=new $r({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var g=function(v){for(var _,S,A=v.length/2;A>0&&(_=v[2*A-2],S=v[2*A-1],isNaN(_)||isNaN(S));A--);return A-1}(u);g>=0&&(na(l,Wa(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:g,defaultText:function(v,_,S){return S!=null?t2(a,S):Ff(a,v)},enableTextSetter:!0},function(v,_){var S=_.getBaseAxis(),A=S.isHorizontal(),E=S.inverse,D=A?E?"right":"left":"center",R=A?"middle":E?"top":"bottom";return{normal:{align:v.get("align")||D,verticalAlign:v.get("verticalAlign")||R}}}(o,i)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,o,a,l,u){var f=this._endLabel,g=this._polyline;if(f){t<1&&o.originalX==null&&(o.originalX=f.x,o.originalY=f.y);var v=r.getLayout("points"),_=r.hostModel,S=_.get("connectNulls"),A=l.get("precision"),E=l.get("distance")||0,D=u.getBaseAxis(),R=D.isHorizontal(),z=D.inverse,Y=i.shape,G=z?R?Y.x:Y.y+Y.height:R?Y.x+Y.width:Y.y,$=(R?E:0)*(z?-1:1),Q=(R?0:-E)*(z?-1:1),et=R?"x":"y",ot=function(be,we,Re){for(var Ze,Je,rn=be.length/2,An=Re==="x"?0:1,Yn=0,cn=-1,Pn=0;Pn<rn;Pn++)if(Je=be[2*Pn+An],!isNaN(Je)&&!isNaN(be[2*Pn+1-An]))if(Pn!==0){if(Ze<=we&&Je>=we||Ze>=we&&Je<=we){cn=Pn;break}Yn=Pn,Ze=Je}else Ze=Je;return{range:[Yn,cn],t:(we-Ze)/(Je-Ze)}}(v,G,et),xt=ot.range,St=xt[1]-xt[0],Mt=void 0;if(St>=1){if(St>1&&!S){var Bt=cC(v,xt[0]);f.attr({x:Bt[0]+$,y:Bt[1]+Q}),a&&(Mt=_.getRawValue(xt[0]))}else{(Bt=g.getPointOn(G,et))&&f.attr({x:Bt[0]+$,y:Bt[1]+Q});var Zt=_.getRawValue(xt[0]),se=_.getRawValue(xt[1]);a&&(Mt=gg(r,A,Zt,se,ot.t))}o.lastFrameIndex=xt[0]}else{var pe=t===1||o.lastFrameIndex>0?xt[0]:0;Bt=cC(v,pe),a&&(Mt=_.getRawValue(pe)),f.attr({x:Bt[0]+$,y:Bt[1]+Q})}a&&hs(f).setLabelText(Mt)}},e.prototype._doUpdateAnimation=function(t,i,r,o,a,l,u){var f=this._polyline,g=this._polygon,v=t.hostModel,_=function(Q,et,ot,xt,St,Mt,Bt,Zt){for(var se=function(Go,ya){var ja=[];return ya.diff(Go).add(function(Ya){ja.push({cmd:"+",idx:Ya})}).update(function(Ya,Ga){ja.push({cmd:"=",idx:Ga,idx1:Ya})}).remove(function(Ya){ja.push({cmd:"-",idx:Ya})}).execute(),ja}(Q,et),pe=[],be=[],we=[],Re=[],Ze=[],Je=[],rn=[],An=oC(St,et,Bt),Yn=Q.getLayout("points")||[],cn=et.getLayout("points")||[],Pn=0;Pn<se.length;Pn++){var Jn=se[Pn],Kn=!0,Gn=void 0,ri=void 0;switch(Jn.cmd){case"=":Gn=2*Jn.idx,ri=2*Jn.idx1;var qn=Yn[Gn],li=Yn[Gn+1],Ai=cn[ri],cr=cn[ri+1];(isNaN(qn)||isNaN(li))&&(qn=Ai,li=cr),pe.push(qn,li),be.push(Ai,cr),we.push(ot[Gn],ot[Gn+1]),Re.push(xt[ri],xt[ri+1]),rn.push(et.getRawIndex(Jn.idx1));break;case"+":var kr=Jn.idx,So=An.dataDimsForPoint,zr=St.dataToPoint([et.get(So[0],kr),et.get(So[1],kr)]);ri=2*kr,pe.push(zr[0],zr[1]),be.push(cn[ri],cn[ri+1]);var Jr=$x(An,St,et,kr);we.push(Jr[0],Jr[1]),Re.push(xt[ri],xt[ri+1]),rn.push(et.getRawIndex(kr));break;case"-":Kn=!1}Kn&&(Ze.push(Jn),Je.push(Je.length))}Je.sort(function(Go,ya){return rn[Go]-rn[ya]});var so=pe.length,Yo=Du(so),$o=Du(so),es=Du(so),eu=Du(so),Rp=[];for(Pn=0;Pn<Je.length;Pn++){var lo=Je[Pn],Rr=2*Pn,ur=2*lo;Yo[Rr]=pe[ur],Yo[Rr+1]=pe[ur+1],$o[Rr]=be[ur],$o[Rr+1]=be[ur+1],es[Rr]=we[ur],es[Rr+1]=we[ur+1],eu[Rr]=Re[ur],eu[Rr+1]=Re[ur+1],Rp[Pn]=Ze[lo]}return{current:Yo,next:$o,stackedOnCurrent:es,stackedOnNext:eu,status:Rp}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),S=_.current,A=_.stackedOnCurrent,E=_.next,D=_.stackedOnNext;if(a&&(S=rd(_.current,r,a,u),A=rd(_.stackedOnCurrent,r,a,u),E=rd(_.next,r,a,u),D=rd(_.stackedOnNext,r,a,u)),s2(S,E)>3e3||g&&s2(A,D)>3e3)return f.stopAnimation(),f.setShape({points:E}),void(g&&(g.stopAnimation(),g.setShape({points:E,stackedOnPoints:D})));f.shape.__points=_.current,f.shape.points=S;var R={shape:{points:E}};_.current!==S&&(R.shape.__points=_.next),f.stopAnimation(),Zr(f,R,v),g&&(g.setShape({points:S,stackedOnPoints:A}),g.stopAnimation(),Zr(g,{shape:{stackedOnPoints:D}},v),f.shape.points!==g.shape.points&&(g.shape.points=f.shape.points));for(var z=[],Y=_.status,G=0;G<Y.length;G++)if(Y[G].cmd==="="){var $=t.getItemGraphicEl(Y[G].idx1);$&&z.push({el:$,ptIdx:G})}f.animators&&f.animators.length&&f.animators[0].during(function(){g&&g.dirtyShape();for(var Q=f.shape.__points,et=0;et<z.length;et++){var ot=z[et].el,xt=2*z[et].ptIdx;ot.x=Q[xt],ot.y=Q[xt+1],ot.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(wo);function pm(n,e){return{seriesType:n,plan:fh(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,o=t.pipelineContext,a=e||o.large;if(r){var l=lt(r.dimensions,function(S){return i.mapDimension(S)}).slice(0,2),u=l.length,f=i.getCalculationInfo("stackResultDimension");td(i,l[0])&&(l[0]=f),td(i,l[1])&&(l[1]=f);var g=i.getStore(),v=i.getDimensionIndex(l[0]),_=i.getDimensionIndex(l[1]);return u&&{progress:function(S,A){for(var E=S.end-S.start,D=a&&Du(E*u),R=[],z=[],Y=S.start,G=0;Y<S.end;Y++){var $=void 0;if(u===1){var Q=g.get(v,Y);$=r.dataToPoint(Q,null,z)}else R[0]=g.get(v,Y),R[1]=g.get(_,Y),$=r.dataToPoint(R,null,z);a?(D[G++]=$[0],D[G++]=$[1]):A.setItemLayout(Y,$.slice())}a&&A.setLayout("points",D)}}}}}}var c2={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},OO=function(n){return Math.round(n.length/2)};function t1(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,l=r.count();if(l>10&&a.type==="cartesian2d"&&o){var u=a.getBaseAxis(),f=a.getOtherAxis(u),g=u.getExtent(),v=i.getDevicePixelRatio(),_=Math.abs(g[1]-g[0])*(v||1),S=Math.round(l/_);if(isFinite(S)&&S>1){o==="lttb"&&e.setData(r.lttbDownSample(r.mapDimension(f.dim),1/S));var A=void 0;Mn(o)?A=c2[o]:Ge(o)&&(A=o),A&&e.setData(r.downSample(r.mapDimension(f.dim),1/S,A,OO))}}}}}var wy=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return yh(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(t),l=o.dataToPoint(a);if(r)ht(o.getAxes(),function(_,S){if(_.type==="category"&&i!=null){var A=_.getTicksCoords(),E=a[S],D=i[S]==="x1"||i[S]==="y1";if(D&&(E+=1),A.length<2)return;if(A.length===2)return void(l[S]=_.toGlobalCoord(_.getExtent()[D?1:0]));for(var R=void 0,z=void 0,Y=1,G=0;G<A.length;G++){var $=A[G].coord,Q=G===A.length-1?A[G-1].tickValue+Y:A[G].tickValue;if(Q===E){z=$;break}if(Q<E)R=$;else if(R!=null&&Q>E){z=($+R)/2;break}G===1&&(Y=Q-A[0].tickValue)}z==null&&(R?R&&(z=A[A.length-1].coord):z=A[0].coord),l[S]=_.toGlobalCoord(z)}});else{var u=this.getData(),f=u.getLayout("offset"),g=u.getLayout("size"),v=o.getBaseAxis().isHorizontal()?0:1;l[v]+=f+g/2}return l}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Io);Io.registerClass(wy);var Sy=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(){return yh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=xu(wy.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(wy),hC=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},fm=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new hC},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),l=Math.max(i.r,0),u=.5*(l-a),f=a+u,g=i.startAngle,v=i.endAngle,_=i.clockwise,S=2*Math.PI,A=_?v-g<S:g-v<S;A||(g=v-(_?S:-S));var E=Math.cos(g),D=Math.sin(g),R=Math.cos(v),z=Math.sin(v);A?(t.moveTo(E*a+r,D*a+o),t.arc(E*f+r,D*f+o,u,-Math.PI+g,g,!_)):t.moveTo(E*l+r,D*l+o),t.arc(r,o,l,g,v,!_),t.arc(R*f+r,z*f+o,u,v-2*Math.PI,v-Math.PI,!_),a!==0&&t.arc(r,o,a,v,g,_)},e}(pr);function gm(n,e,t){return e*Math.sin(n)*(t?-1:1)}function Cy(n,e,t){return e*Math.cos(n)*(t?1:-1)}function wp(n,e,t){var i=n.get("borderRadius");if(i==null)return t?{cornerRadius:0}:null;Be(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:lt(i,function(o){return js(o,r)})}}var e1=Math.max,n1=Math.min,u2=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var a=t.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,o))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){Xh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;this._isLargeDraw!=null&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,o){var a,l=this.group,u=t.getData(),f=this._data,g=t.coordinateSystem,v=g.getBaseAxis();g.type==="cartesian2d"?a=v.isHorizontal():g.type==="polar"&&(a=v.dim==="angle");var _=t.isAnimationEnabled()?t:null,S=function(Mt,Bt){var Zt=Mt.get("realtimeSort",!0),se=Bt.getBaseAxis();if(Zt&&se.type==="category"&&Bt.type==="cartesian2d")return{baseAxis:se,otherAxis:Bt.getOtherAxis(se)}}(t,g);S&&this._enableRealtimeSort(S,u,r);var A=t.get("clip",!0)||S,E=function(Mt,Bt){var Zt=Mt.getArea&&Mt.getArea();if(_p(Mt,"cartesian2d")){var se=Mt.getBaseAxis();if(se.type!=="category"||!se.onBand){var pe=Bt.getLayout("bandWidth");se.isHorizontal()?(Zt.x-=pe,Zt.width+=2*pe):(Zt.y-=pe,Zt.height+=2*pe)}}return Zt}(g,u);l.removeClipPath();var D=t.get("roundCap",!0),R=t.get("showBackground",!0),z=t.getModel("backgroundStyle"),Y=z.get("borderRadius")||0,G=[],$=this._backgroundEls,Q=o&&o.isInitSort,et=o&&o.type==="changeAxisOrder";function ot(Mt){var Bt=i1[g.type](u,Mt),Zt=function(se,pe,be){var we=se.type==="polar"?$s:Ur;return new we({shape:v2(pe,be,se),silent:!0,z2:0})}(g,a,Bt);return Zt.useStyle(z.getItemStyle()),g.type==="cartesian2d"?Zt.setShape("r",Y):Zt.setShape("cornerRadius",Y),G[Mt]=Zt,Zt}u.diff(f).add(function(Mt){var Bt=u.getItemModel(Mt),Zt=i1[g.type](u,Mt,Bt);if(R&&ot(Mt),u.hasValue(Mt)&&p2[g.type](Zt)){var se=!1;A&&(se=dC[g.type](E,Zt));var pe=pC[g.type](t,u,Mt,Zt,a,_,v.model,!1,D);S&&(pe.forceLabelAnimation=!0),f2(pe,u,Mt,Bt,Zt,t,a,g.type==="polar"),Q?pe.attr({shape:Zt}):S?fC(S,_,pe,Zt,Mt,a,!1,!1):To(pe,{shape:Zt},t,Mt),u.setItemGraphicEl(Mt,pe),l.add(pe),pe.ignore=se}}).update(function(Mt,Bt){var Zt=u.getItemModel(Mt),se=i1[g.type](u,Mt,Zt);if(R){var pe=void 0;$.length===0?pe=ot(Bt):((pe=$[Bt]).useStyle(z.getItemStyle()),g.type==="cartesian2d"?pe.setShape("r",Y):pe.setShape("cornerRadius",Y),G[Mt]=pe);var be=i1[g.type](u,Mt);Zr(pe,{shape:v2(a,be,g)},_,Mt)}var we=f.getItemGraphicEl(Bt);if(u.hasValue(Mt)&&p2[g.type](se)){var Re=!1;if(A&&(Re=dC[g.type](E,se))&&l.remove(we),we?Fc(we):we=pC[g.type](t,u,Mt,se,a,_,v.model,!!we,D),S&&(we.forceLabelAnimation=!0),et){var Ze=we.getTextContent();if(Ze){var Je=hs(Ze);Je.prevValue!=null&&(Je.prevValue=Je.value)}}else f2(we,u,Mt,Zt,se,t,a,g.type==="polar");Q?we.attr({shape:se}):S?fC(S,_,we,se,Mt,a,!0,et):Zr(we,{shape:se},t,Mt,null),u.setItemGraphicEl(Mt,we),we.ignore=Re,l.add(we)}else l.remove(we)}).remove(function(Mt){var Bt=f.getItemGraphicEl(Mt);Bt&&Og(Bt,t,Mt)}).execute();var xt=this._backgroundGroup||(this._backgroundGroup=new Di);xt.removeAll();for(var St=0;St<G.length;++St)xt.add(G[St]);l.add(xt),this._backgroundEls=G,this._data=u},e.prototype._renderLarge=function(t,i,r){this._clear(),m2(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),m2(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&xy(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var o=this;if(i.count()){var a=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var l=function(u){var f=i.getItemGraphicEl(u),g=f&&f.shape;return g&&Math.abs(a.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,l,a,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var o=[];return t.each(t.mapDimension(i.dim),function(a,l){var u=r(l);u=u??NaN,o.push({dataIndex:l,mappedValue:u,ordinalNumber:a})}),o.sort(function(a,l){return l.mappedValue-a.mappedValue}),{ordinalNumbers:lt(o,function(a){return a.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var o=r.scale,a=t.mapDimension(r.dim),l=Number.MAX_VALUE,u=0,f=o.getOrdinalMeta().categories.length;u<f;++u){var g=t.rawIndexOf(a,o.getRawOrdinalNumber(u)),v=g<0?Number.MIN_VALUE:i(t.indexOfRawIndex(g));if(v>l)return!0;l=v}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),l=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=l;++a)if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,o){if(this._isOrderChangedWithinSameData(t,i,r)){var a=this._dataSort(t,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(t,i,r){var o=i.baseAxis,a=this._dataSort(t,o,function(l){return t.get(t.mapDimension(i.otherAxis.dim),l)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){Og(o,t,lr(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(wo),dC={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,o=n.y+n.height,a=e1(e.x,n.x),l=n1(e.x+e.width,r),u=e1(e.y,n.y),f=n1(e.y+e.height,o),g=l<a,v=f<u;return e.x=g&&a>r?l:a,e.y=v&&u>o?f:u,e.width=g?0:l-a,e.height=v?0:f-u,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),g||v},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=n1(e.r,n.r),o=e1(e.r0,n.r0);e.r=r,e.r0=o;var a=r-o<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),a}},pC={cartesian2d:function(n,e,t,i,r,o,a,l,u){var f=new Ur({shape:me({},i),z2:1});return f.__dataIndex=t,f.name="item",o&&(f.shape[r?"height":"width"]=0),f},polar:function(n,e,t,i,r,o,a,l,u){var f=!r&&u?fm:$s,g=new f({shape:i,z2:1});g.name="item";var v,_,S=mC(r);if(g.calculateTextPosition=(v=S,_=f===fm,function(D,R,z){var Y=R.position;if(!Y||Y instanceof Array)return uu(D,R,z);var G=v(Y),$=R.distance!=null?R.distance:5,Q=this.shape,et=Q.cx,ot=Q.cy,xt=Q.r,St=Q.r0,Mt=(xt+St)/2,Bt=Q.startAngle,Zt=Q.endAngle,se=(Bt+Zt)/2,pe=_?Math.abs(xt-St)/2:0,be=Math.cos,we=Math.sin,Re=et+xt*be(Bt),Ze=ot+xt*we(Bt),Je="left",rn="top";switch(G){case"startArc":Re=et+(St-$)*be(se),Ze=ot+(St-$)*we(se),Je="center",rn="top";break;case"insideStartArc":Re=et+(St+$)*be(se),Ze=ot+(St+$)*we(se),Je="center",rn="bottom";break;case"startAngle":Re=et+Mt*be(Bt)+gm(Bt,$+pe,!1),Ze=ot+Mt*we(Bt)+Cy(Bt,$+pe,!1),Je="right",rn="middle";break;case"insideStartAngle":Re=et+Mt*be(Bt)+gm(Bt,-$+pe,!1),Ze=ot+Mt*we(Bt)+Cy(Bt,-$+pe,!1),Je="left",rn="middle";break;case"middle":Re=et+Mt*be(se),Ze=ot+Mt*we(se),Je="center",rn="middle";break;case"endArc":Re=et+(xt+$)*be(se),Ze=ot+(xt+$)*we(se),Je="center",rn="bottom";break;case"insideEndArc":Re=et+(xt-$)*be(se),Ze=ot+(xt-$)*we(se),Je="center",rn="top";break;case"endAngle":Re=et+Mt*be(Zt)+gm(Zt,$+pe,!0),Ze=ot+Mt*we(Zt)+Cy(Zt,$+pe,!0),Je="left",rn="middle";break;case"insideEndAngle":Re=et+Mt*be(Zt)+gm(Zt,-$+pe,!0),Ze=ot+Mt*we(Zt)+Cy(Zt,-$+pe,!0),Je="right",rn="middle";break;default:return uu(D,R,z)}return(D=D||{}).x=Re,D.y=Ze,D.align=Je,D.verticalAlign=rn,D}),o){var A=r?"r":"endAngle",E={};g.shape[A]=r?i.r0:i.startAngle,E[A]=i[A],(l?Zr:To)(g,{shape:E},o)}return g}};function fC(n,e,t,i,r,o,a,l){var u,f;o?(f={x:i.x,width:i.width},u={y:i.y,height:i.height}):(f={y:i.y,height:i.height},u={x:i.x,width:i.width}),l||(a?Zr:To)(t,{shape:u},e,r,null),(a?Zr:To)(t,{shape:f},e?n.baseAxis.model:null,r)}function h2(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var d2=["x","y","width","height"],gC=["cx","cy","r","startAngle","endAngle"],p2={cartesian2d:function(n){return!h2(n,d2)},polar:function(n){return!h2(n,gC)}},i1={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?function(l,u){var f=l.get(["itemStyle","borderColor"]);if(!f||f==="none")return 0;var g=l.get(["itemStyle","borderWidth"])||0,v=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),_=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height);return Math.min(g,v,_)}(t,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function mC(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function f2(n,e,t,i,r,o,a,l){var u=e.getItemVisual(t,"style");if(l){if(!o.get("roundCap")){var f=n.shape;me(f,wp(i.getModel("itemStyle"),f,!0)),n.setShape(f)}}else{var g=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",g)}n.useStyle(u);var v=i.getShallow("cursor");v&&n.attr("cursor",v);var _=l?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",S=Wa(i);na(n,S,{labelFetcher:o,labelDataIndex:t,defaultText:Ff(o.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:_});var A=n.getTextContent();if(l&&A){var E=i.get(["label","position"]);n.textConfig.inside=E==="middle"||null,function(R,z,Y,G){if(Ln(G))R.setTextConfig({rotation:G});else if(Be(z))R.setTextConfig({rotation:0});else{var $,Q=R.shape,et=Q.clockwise?Q.startAngle:Q.endAngle,ot=Q.clockwise?Q.endAngle:Q.startAngle,xt=(et+ot)/2,St=Y(z);switch(St){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":$=xt;break;case"startAngle":case"insideStartAngle":$=et;break;case"endAngle":case"insideEndAngle":$=ot;break;default:return void R.setTextConfig({rotation:0})}var Mt=1.5*Math.PI-$;St==="middle"&&Mt>Math.PI/2&&Mt<1.5*Math.PI&&(Mt-=Math.PI),R.setTextConfig({rotation:Mt})}}(n,E==="outside"?_:E,mC(a),i.get(["label","rotate"]))}Es(A,S,o.getRawValue(t),function(R){return t2(e,R)});var D=i.getModel(["emphasis"]);fa(n,D.get("focus"),D.get("blurScope"),D.get("disabled")),Is(n,i),function(R){return R.startAngle!=null&&R.endAngle!=null&&R.startAngle===R.endAngle}(r)&&(n.style.fill="none",n.style.stroke="none",ht(n.states,function(R){R.style&&(R.style.fill=R.style.stroke="none")}))}var g2=function(){},vC=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new g2},e.prototype.buildPath=function(t,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,l=[],u=[],f=this.barWidth,g=0;g<r.length;g+=3)u[o]=f,u[a]=r[g+2],l[o]=r[g+o],l[a]=r[g+a],t.rect(l[0],l[1],u[0],u[1])},e}(pr);function m2(n,e,t,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),l=r.getLayout("size"),u=n.getModel("backgroundStyle"),f=r.getLayout("largeBackgroundPoints");if(f){var g=new vC({shape:{points:f},incremental:!!i,silent:!0,z2:0});g.baseDimIdx=o,g.largeDataIndices=a,g.barWidth=l,g.useStyle(u.getItemStyle()),e.add(g),t&&t.push(g)}var v=new vC({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=o,v.largeDataIndices=a,v.barWidth=l,e.add(v),v.useStyle(r.getVisual("style")),lr(v).seriesIndex=n.seriesIndex,n.get("silent")||(v.on("mousedown",yC),v.on("mousemove",yC)),t&&t.push(v)}var yC=Dv(function(n){var e=function(t,i,r){for(var o=t.baseDimIdx,a=1-o,l=t.shape.points,u=t.largeDataIndices,f=[],g=[],v=t.barWidth,_=0,S=l.length/3;_<S;_++){var A=3*_;if(g[o]=v,g[a]=l[A+2],f[o]=l[A+o],f[a]=l[A+a],g[a]<0&&(f[a]+=g[a],g[a]=-g[a]),i>=f[0]&&i<=f[0]+g[0]&&r>=f[1]&&r<=f[1]+g[1])return u[_]}return-1}(this,n.offsetX,n.offsetY);lr(this).dataIndex=e>=0?e:null},30,!1);function v2(n,e,t){if(_p(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=e;return{cx:(r=t.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var ky=2*Math.PI,bC=Math.PI/180;function xC(n,e){return ma(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function _C(n,e){var t=xC(n,e),i=n.get("center"),r=n.get("radius");Be(r)||(r=[0,r]);var o,a,l=ei(t.width,e.getWidth()),u=ei(t.height,e.getHeight()),f=Math.min(l,u),g=ei(r[0],f/2),v=ei(r[1],f/2),_=n.coordinateSystem;if(_){var S=_.dataToPoint(i);o=S[0]||0,a=S[1]||0}else Be(i)||(i=[i,i]),o=ei(i[0],l)+t.x,a=ei(i[1],u)+t.y;return{cx:o,cy:a,r0:g,r:v}}function y2(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=xC(i,t),l=_C(i,t),u=l.cx,f=l.cy,g=l.r,v=l.r0,_=-i.get("startAngle")*bC,S=i.get("minAngle")*bC,A=0;r.each(o,function(St){!isNaN(St)&&A++});var E=r.getSum(o),D=Math.PI/(E||A)*2,R=i.get("clockwise"),z=i.get("roseType"),Y=i.get("stillShowZeroSum"),G=r.getDataExtent(o);G[0]=0;var $=ky,Q=0,et=_,ot=R?1:-1;if(r.setLayout({viewRect:a,r:g}),r.each(o,function(St,Mt){var Bt;if(isNaN(St))r.setItemLayout(Mt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:R,cx:u,cy:f,r0:v,r:z?NaN:g});else{(Bt=z!=="area"?E===0&&Y?D:St*D:ky/A)<S?(Bt=S,$-=S):Q+=St;var Zt=et+ot*Bt;r.setItemLayout(Mt,{angle:Bt,startAngle:et,endAngle:Zt,clockwise:R,cx:u,cy:f,r0:v,r:z?eo(St,G,[v,g]):g}),et=Zt}}),$<ky&&A)if($<=.001){var xt=ky/A;r.each(o,function(St,Mt){if(!isNaN(St)){var Bt=r.getItemLayout(Mt);Bt.angle=xt,Bt.startAngle=_+ot*Mt*xt,Bt.endAngle=_+ot*(Mt+1)*xt}})}else D=$/Q,et=_,r.each(o,function(St,Mt){if(!isNaN(St)){var Bt=r.getItemLayout(Mt),Zt=Bt.angle===S?S:St*D;Bt.startAngle=et,Bt.endAngle=et+ot*Zt,et+=ot*Zt}})})}function Sp(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(o){for(var a=r.getName(o),l=0;l<i.length;l++)if(!i[l].isSelected(a))return!1;return!0})}}}}var DO=Math.PI/180;function b2(n,e,t,i,r,o,a,l,u,f){if(!(n.length<2)){for(var g=n.length,v=0;v<g;v++)if(n[v].position==="outer"&&n[v].labelAlignTo==="labelLine"){var _=n[v].label.x-f;n[v].linePoints[1][0]+=_,n[v].label.x=f}FS(n,u,u+a)&&function(A){for(var E={list:[],maxY:0},D={list:[],maxY:0},R=0;R<A.length;R++)if(A[R].labelAlignTo==="none"){var z=A[R],Y=z.label.y>t?D:E,G=Math.abs(z.label.y-t);if(G>=Y.maxY){var $=z.label.x-e-z.len2*r,Q=i+z.len,et=Math.abs($)<Q?Math.sqrt(G*G/(1-$*$/Q/Q)):Q;Y.rB=et,Y.maxY=G}Y.list.push(z)}S(E),S(D)}(n)}function S(A){for(var E=A.rB,D=E*E,R=0;R<A.list.length;R++){var z=A.list[R],Y=Math.abs(z.label.y-t),G=i+z.len,$=G*G,Q=Math.sqrt((1-Math.abs(Y*Y/D))*$),et=e+(Q+z.len2)*r,ot=et-z.label.x;wC(z,z.targetTextWidth-ot*r,!0),z.label.x=et}}}function wC(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var i=n.label,r=i.style,o=n.rect,a=r.backgroundColor,l=r.padding,u=l?l[1]+l[3]:0,f=r.overflow,g=o.width+(a?0:u);if(e<g||t){var v=o.height;if(f&&f.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-u);var _=i.getBoundingRect();i.setStyle("width",Math.ceil(_.width)),i.setStyle("backgroundColor",a)}else{var S=e-u,A=e<g?S:t?S>n.unconstrainedWidth?null:S:null;i.setStyle("width",A)}var E=i.getBoundingRect();o.width=E.width;var D=(i.style.margin||0)+2.1;o.height=E.height+D,o.y-=(o.height-v)/2}}}function r1(n){return n.position==="center"}function x2(n){var e,t,i=n.getData(),r=[],o=!1,a=(n.get("minShowLabelAngle")||0)*DO,l=i.getLayout("viewRect"),u=i.getLayout("r"),f=l.width,g=l.x,v=l.y,_=l.height;function S($){$.ignore=!0}i.each(function($){var Q=i.getItemGraphicEl($),et=Q.shape,ot=Q.getTextContent(),xt=Q.getTextGuideLine(),St=i.getItemModel($),Mt=St.getModel("label"),Bt=Mt.get("position")||St.get(["emphasis","label","position"]),Zt=Mt.get("distanceToLabelLine"),se=Mt.get("alignTo"),pe=ei(Mt.get("edgeDistance"),f),be=Mt.get("bleedMargin"),we=St.getModel("labelLine"),Re=we.get("length");Re=ei(Re,f);var Ze=we.get("length2");if(Ze=ei(Ze,f),Math.abs(et.endAngle-et.startAngle)<a)return ht(ot.states,S),ot.ignore=!0,void(xt&&(ht(xt.states,S),xt.ignore=!0));if(function($o){if(!$o.ignore)return!0;for(var es in $o.states)if($o.states[es].ignore===!1)return!0;return!1}(ot)){var Je,rn,An,Yn,cn=(et.startAngle+et.endAngle)/2,Pn=Math.cos(cn),Jn=Math.sin(cn);e=et.cx,t=et.cy;var Kn=Bt==="inside"||Bt==="inner";if(Bt==="center")Je=et.cx,rn=et.cy,Yn="center";else{var Gn=(Kn?(et.r+et.r0)/2*Pn:et.r*Pn)+e,ri=(Kn?(et.r+et.r0)/2*Jn:et.r*Jn)+t;if(Je=Gn+3*Pn,rn=ri+3*Jn,!Kn){var qn=Gn+Pn*(Re+u-et.r),li=ri+Jn*(Re+u-et.r),Ai=qn+(Pn<0?-1:1)*Ze;Je=se==="edge"?Pn<0?g+pe:g+f-pe:Ai+(Pn<0?-Zt:Zt),rn=li,An=[[Gn,ri],[qn,li],[Ai,li]]}Yn=Kn?"center":se==="edge"?Pn>0?"right":"left":Pn>0?"left":"right"}var cr=Math.PI,kr=0,So=Mt.get("rotate");if(Ln(So))kr=So*(cr/180);else if(Bt==="center")kr=0;else if(So==="radial"||So===!0)kr=Pn<0?-cn+cr:-cn;else if(So==="tangential"&&Bt!=="outside"&&Bt!=="outer"){var zr=Math.atan2(Pn,Jn);zr<0&&(zr=2*cr+zr),Jn>0&&(zr=cr+zr),kr=zr-cr}if(o=!!kr,ot.x=Je,ot.y=rn,ot.rotation=kr,ot.setStyle({verticalAlign:"middle"}),Kn){ot.setStyle({align:Yn});var Jr=ot.states.select;Jr&&(Jr.x+=ot.x,Jr.y+=ot.y)}else{var so=ot.getBoundingRect().clone();so.applyTransform(ot.getComputedTransform());var Yo=(ot.style.margin||0)+2.1;so.y-=Yo/2,so.height+=Yo,r.push({label:ot,labelLine:xt,position:Bt,len:Re,len2:Ze,minTurnAngle:we.get("minTurnAngle"),maxSurfaceAngle:we.get("maxSurfaceAngle"),surfaceNormal:new Gi(Pn,Jn),linePoints:An,textAlign:Yn,labelDistance:Zt,labelAlignTo:se,edgeDistance:pe,bleedMargin:be,rect:so,unconstrainedWidth:so.width,labelStyleWidth:ot.style.width})}Q.setTextConfig({inside:Kn})}}),!o&&n.get("avoidLabelOverlap")&&function($,Q,et,ot,xt,St,Mt,Bt){for(var Zt=[],se=[],pe=Number.MAX_VALUE,be=-Number.MAX_VALUE,we=0;we<$.length;we++){var Re=$[we].label;r1($[we])||(Re.x<Q?(pe=Math.min(pe,Re.x),Zt.push($[we])):(be=Math.max(be,Re.x),se.push($[we])))}for(we=0;we<$.length;we++)if(!r1(rn=$[we])&&rn.linePoints){if(rn.labelStyleWidth!=null)continue;Re=rn.label;var Ze=rn.linePoints,Je=void 0;Je=rn.labelAlignTo==="edge"?Re.x<Q?Ze[2][0]-rn.labelDistance-Mt-rn.edgeDistance:Mt+xt-rn.edgeDistance-Ze[2][0]-rn.labelDistance:rn.labelAlignTo==="labelLine"?Re.x<Q?pe-Mt-rn.bleedMargin:Mt+xt-be-rn.bleedMargin:Re.x<Q?Re.x-Mt-rn.bleedMargin:Mt+xt-Re.x-rn.bleedMargin,rn.targetTextWidth=Je,wC(rn,Je)}for(b2(se,Q,et,ot,1,0,St,0,Bt,be),b2(Zt,Q,et,ot,-1,0,St,0,Bt,pe),we=0;we<$.length;we++){var rn;if(!r1(rn=$[we])&&rn.linePoints){Re=rn.label,Ze=rn.linePoints;var An=rn.labelAlignTo==="edge",Yn=Re.style.padding,cn=Yn?Yn[1]+Yn[3]:0,Pn=Re.style.backgroundColor?0:cn,Jn=rn.rect.width+Pn,Kn=Ze[1][0]-Ze[2][0];An?Re.x<Q?Ze[2][0]=Mt+rn.edgeDistance+Jn+rn.labelDistance:Ze[2][0]=Mt+xt-rn.edgeDistance-Jn-rn.labelDistance:(Re.x<Q?Ze[2][0]=Re.x+rn.labelDistance:Ze[2][0]=Re.x-rn.labelDistance,Ze[1][0]=Ze[2][0]+Kn),Ze[1][1]=Ze[2][1]=Re.y}}}(r,e,t,u,f,_,g,v);for(var A=0;A<r.length;A++){var E=r[A],D=E.label,R=E.labelLine,z=isNaN(D.x)||isNaN(D.y);if(D){D.setStyle({align:E.textAlign}),z&&(ht(D.states,S),D.ignore=!0);var Y=D.states.select;Y&&(Y.x+=D.x,Y.y+=D.y)}if(R){var G=E.linePoints;z||!G?(ht(R.states,S),R.ignore=!0):(ly(G,E.minTurnAngle),Cc(G,E.surfaceNormal,E.maxSurfaceAngle),R.setShape({points:G}),D.__hostTarget.textGuideLineConfig={anchor:new Gi(G[0][0],G[0][1])})}}}var xr=function(n){function e(t,i,r){var o=n.call(this)||this;o.z2=2;var a=new $r;return o.setTextContent(a),o.updateData(t,i,r,!0),o}return Tt(e,n),e.prototype.updateData=function(t,i,r,o){var a=this,l=t.hostModel,u=t.getItemModel(i),f=u.getModel("emphasis"),g=t.getItemLayout(i),v=me(wp(u.getModel("itemStyle"),g,!0),g);if(isNaN(v.startAngle))a.setShape(v);else{if(o){a.setShape(v);var _=l.getShallow("animationType");l.ecModel.ssr?(To(a,{scaleX:0,scaleY:0},l,{dataIndex:i,isFrom:!0}),a.originX=v.cx,a.originY=v.cy):_==="scale"?(a.shape.r=g.r0,To(a,{shape:{r:g.r}},l,i)):r!=null?(a.setShape({startAngle:r,endAngle:r}),To(a,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},l,i)):(a.shape.endAngle=g.startAngle,Zr(a,{shape:{endAngle:g.endAngle}},l,i))}else Fc(a),Zr(a,{shape:v},l,i);a.useStyle(t.getItemVisual(i,"style")),Is(a,u);var S=(g.startAngle+g.endAngle)/2,A=l.get("selectedOffset"),E=Math.cos(S)*A,D=Math.sin(S)*A,R=u.getShallow("cursor");R&&a.attr("cursor",R),this._updateLabel(l,t,i),a.ensureState("emphasis").shape=me({r:g.r+(f.get("scale")&&f.get("scaleSize")||0)},wp(f.getModel("itemStyle"),g)),me(a.ensureState("select"),{x:E,y:D,shape:wp(u.getModel(["select","itemStyle"]),g)}),me(a.ensureState("blur"),{shape:wp(u.getModel(["blur","itemStyle"]),g)});var z=a.getTextGuideLine(),Y=a.getTextContent();z&&me(z.ensureState("select"),{x:E,y:D}),me(Y.ensureState("select"),{x:E,y:D}),fa(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))}},e.prototype._updateLabel=function(t,i,r){var o=this,a=i.getItemModel(r),l=a.getModel("labelLine"),u=i.getItemVisual(r,"style"),f=u&&u.fill,g=u&&u.opacity;na(o,Wa(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:f,defaultOpacity:g,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var v=o.getTextContent();o.setTextConfig({position:null,rotation:null}),v.attr({z2:10});var _=t.get(["label","position"]);if(_!=="outside"&&_!=="outer")o.removeTextGuideLine();else{var S=this.getTextGuideLine();S||(S=new Ks,this.setTextGuideLine(S)),NS(this,RS(a),{stroke:f,opacity:Ar(l.get(["lineStyle","opacity"]),g,1)})}},e}($s),Ay=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){var a,l=t.getData(),u=this._data,f=this.group;if(!u&&l.count()>0){for(var g=l.getItemLayout(0),v=1;isNaN(g&&g.startAngle)&&v<l.count();++v)g=l.getItemLayout(v);g&&(a=g.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),l.count()===0&&t.get("showEmptyCircle")){var _=new $s({shape:_C(t,r)});_.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,f.add(_)}l.diff(u).add(function(S){var A=new xr(l,S,a);l.setItemGraphicEl(S,A),f.add(A)}).update(function(S,A){var E=u.getItemGraphicEl(A);E.updateData(l,S,a),E.off("click"),f.add(E),l.setItemGraphicEl(S,E)}).remove(function(S){Og(u.getItemGraphicEl(S),t,S)}).execute(),x2(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=l)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var r=i.getData().getItemLayout(0);if(r){var o=t[0]-r.cx,a=t[1]-r.cy,l=Math.sqrt(o*o+a*a);return l<=r.r&&l>=r.r0}},e.type="pie",e}(wo);function Vf(n,e,t){e=Be(e)&&{coordDimensions:e}||me({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=Ef(i,e).dimensions,o=new fs(r,n);return o.initData(i,t),o}var mm=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}(),_2=Hr(),w2=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new mm(Te(this.getData,this),Te(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Vf(this,{coordDimensions:["value"],encodeDefaulter:_n(gf,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=_2(i),o=r.seats;if(!o){var a=[];i.each(i.mapDimension("value"),function(u){a.push(u)}),o=r.seats=y0(a,i.hostModel.get("percentPrecision"))}var l=n.prototype.getDataParams.call(this,t);return l.percent=o[t]||0,l.$vars.push("percent"),l},e.prototype._defaultLabelLine=function(t){pu(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Io),S2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return yh(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Io),My=function(){},C2=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new My},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var r,o=i.points,a=i.size,l=this.symbolProxy,u=l.shape,f=t.getContext?t.getContext():t,g=f&&a[0]<4,v=this.softClipShape;if(g)this._ctx=f;else{for(this._ctx=null,r=this._off;r<o.length;){var _=o[r++],S=o[r++];isNaN(_)||isNaN(S)||v&&!v.contain(_,S)||(u.x=_-a[0]/2,u.y=S-a[1]/2,u.width=a[0],u.height=a[1],l.buildPath(t,u,!0))}this.incremental&&(this._off=r,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,i=this.shape,r=i.points,o=i.size,a=this._ctx,l=this.softClipShape;if(a){for(t=this._off;t<r.length;){var u=r[t++],f=r[t++];isNaN(u)||isNaN(f)||l&&!l.contain(u,f)||a.fillRect(u-o[0]/2,f-o[1]/2,o[0],o[1])}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,o=r.points,a=r.size,l=Math.max(a[0],4),u=Math.max(a[1],4),f=o.length/2-1;f>=0;f--){var g=2*f,v=o[g]-l/2,_=o[g+1]-u/2;if(t>=v&&i>=_&&t<=v+l&&i<=_+u)return f}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();return t=r[0],i=r[1],o.contain(t,i)?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,o=i.size,a=o[0],l=o[1],u=1/0,f=1/0,g=-1/0,v=-1/0,_=0;_<r.length;){var S=r[_++],A=r[_++];u=Math.min(S,u),g=Math.max(S,g),f=Math.min(A,f),v=Math.max(A,v)}t=this._rect=new yr(u-a/2,f-l/2,g-u+a,v-f+l)}return t},e}(pr),k2=function(){function n(){this.group=new Di}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){if(i.startIndex!=null){var r=2*(i.endIndex-i.startIndex),o=4*i.startIndex*2;t=new Float32Array(t.buffer,o,r)}i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],o=t.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var l=a.length,u=new Float32Array(l+o.length);u.set(a),u.set(o,l),r.endIndex=e.end,r.setShape({points:u})}else{this._newAdded=[];var f=this._create();f.startIndex=e.start,f.endIndex=e.end,f.incremental=!0,f.setShape({points:o}),this._setCommon(f,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new C2({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=va(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("style"),u=l&&l.fill;u&&e.setColor(u);var f=lr(e);f.seriesIndex=r.seriesIndex,e.on("mousemove",function(g){f.dataIndex=null;var v=e.hoverDataIdx;v>=0&&(f.dataIndex=v+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),SC=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).updateData(o,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=pm("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new k2:new dm,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(wo),A2=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Wr),o1=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",da).models[0]},e.type="cartesian2dAxis",e}(Wr);jt(o1,Df);var M2={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},LO=ne({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},M2),a1=ne({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},M2),T2={category:LO,value:a1,time:ne({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},a1),log:Ne({logBase:10},a1)},PO={value:1,category:1,time:1,log:1};function vm(n,e,t,i){ht(PO,function(r,o){var a=ne(ne({},T2[o],!0),i,!0),l=function(u){function f(){var g=u!==null&&u.apply(this,arguments)||this;return g.type=e+"Axis."+o,g}return Tt(f,u),f.prototype.mergeDefaultAndTheme=function(g,v){var _=Su(this),S=_?Vg(g):{};ne(g,v.getTheme().get(o+"Axis")),ne(g,this.getDefaultOption()),g.type=CC(g),_&&jc(g,S,_)},f.prototype.optionUpdated=function(){this.option.type==="category"&&(this.__ordinalMeta=pS.createByAxisModel(this))},f.prototype.getCategories=function(g){var v=this.option;if(v.type==="category")return g?v.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=e+"Axis."+o,f.defaultOption=a,f}(t);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(e+"Axis",CC)}function CC(n){return n.type||(n.data?"category":"value")}var NO=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return lt(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),en(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),s1=["x","y"];function kC(n){return n.type==="interval"||n.type==="time"}var I2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=s1,t}return Tt(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(kC(t)&&kC(i)){var r=t.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),l=this.dataToPoint([r[1],o[1]]),u=r[1]-r[0],f=o[1]-o[0];if(u&&f){var g=(l[0]-a[0])/u,v=(l[1]-a[1])/f,_=a[0]-r[0]*g,S=a[1]-o[0]*v,A=this._transform=[g,0,0,v,_,S];this._invTransform=qr([],A)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),o=this.dataToPoint(i),a=this.getArea(),l=new yr(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(l)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var o=t[0],a=t[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return Ui(r,t,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return r[0]=l.toGlobalCoord(l.dataToCoord(o,i)),r[1]=u.toGlobalCoord(u.dataToCoord(a,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),l=o.getExtent(),u=r.parse(t[0]),f=o.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),u),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(l[0],l[1]),f),Math.max(l[0],l[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return Ui(r,t,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(t[0]),i),r[1]=a.coordToData(a.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),o=Math.min(i[0],i[1]),a=Math.max(t[0],t[1])-r,l=Math.max(i[0],i[1])-o;return new yr(r,o,a,l)},e}(NO),E2=function(n){function e(t,i,r,o,a){var l=n.call(this,t,i,r)||this;return l.index=0,l.type=o||"value",l.position=a||"bottom",l}return Tt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Ls);function l1(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],l=r.position,u=a?"onZero":l,f=r.dim,g=i.getRect(),v=[g.x,g.x+g.width,g.y,g.y+g.height],_={left:0,right:1,top:0,bottom:1,onZero:2},S=e.get("offset")||0,A=f==="x"?[v[2]-S,v[3]+S]:[v[0]-S,v[1]+S];if(a){var E=a.toGlobalCoord(a.dataToCoord(0));A[_.onZero]=Math.max(Math.min(E,A[1]),A[0])}o.position=[f==="y"?A[_[u]]:v[0],f==="x"?A[_[u]]:v[3]],o.rotation=Math.PI/2*(f==="x"?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],o.labelOffset=a?A[_[l]]-A[_.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),zi(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var D=e.get(["axisLabel","rotate"]);return o.labelRotate=u==="top"?-D:D,o.z2=1,o}function O2(n){return n.get("coordinateSystem")==="cartesian2d"}function AC(n){var e={xAxisModel:null,yAxisModel:null};return ht(e,function(t,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,da).models[0];e[i]=o}),e}var Ac=Math.log;function Ty(n,e,t){var i=xh.prototype,r=i.getTicks.call(t),o=i.getTicks.call(t,!0),a=r.length-1,l=i.getInterval.call(t),u=Mx(n,e),f=u.extent,g=u.fixMin,v=u.fixMax;if(n.type==="log"){var _=Ac(n.base);f=[Ac(f[0])/_,Ac(f[1])/_]}n.setExtent(f[0],f[1]),n.calcNiceExtent({splitNumber:a,fixMin:g,fixMax:v});var S=i.getExtent.call(n);g&&(f[0]=S[0]),v&&(f[1]=S[1]);var A=i.getInterval.call(n),E=f[0],D=f[1];if(g&&v)A=(D-E)/a;else if(g)for(D=f[0]+A*a;D<f[1]&&isFinite(D)&&isFinite(f[1]);)A=fS(A),D=f[0]+A*a;else if(v)for(E=f[1]-A*a;E>f[0]&&isFinite(E)&&isFinite(f[0]);)A=fS(A),E=f[1]-A*a;else{n.getTicks().length-1>a&&(A=fS(A));var R=A*a;(E=Mo((D=Math.ceil(f[1]/A)*A)-R))<0&&f[0]>=0?(E=0,D=Mo(R)):D>0&&f[1]<=0&&(D=0,E=-Mo(R))}var z=(r[0].value-o[0].value)/l,Y=(r[a].value-o[a].value)/l;i.setExtent.call(n,E+A*z,D+A*Y),i.setInterval.call(n,A),(z||Y)&&i.setNiceExtent.call(n,E+A,D-A)}var c1=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=s1,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;function r(a){var l,u=Qe(a),f=u.length;if(f){for(var g=[],v=f-1;v>=0;v--){var _=a[+u[v]],S=_.model,A=_.scale;vx(A)&&S.get("alignTicks")&&S.get("interval")==null?g.push(_):(ed(A,S),vx(A)&&(l=_))}g.length&&(l||ed((l=g.pop()).scale,l.model),ht(g,function(E){Ty(E.scale,E.model,l.scale)}))}}this._updateScale(e,this.model),r(i.x),r(i.y);var o={};ht(i.x,function(a){u1(i,"y",a,o)}),ht(i.y,function(a){u1(i,"x",a,o)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),a=ma(r,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var l=this._axesList;function u(){ht(l,function(f){var g=f.isHorizontal(),v=g?[0,a.width]:[0,a.height],_=f.inverse?1:0;f.setExtent(v[_],v[1-_]),function(S,A){var E=S.getExtent(),D=E[0]+E[1];S.toGlobalCoord=S.dim==="x"?function(R){return R+A}:function(R){return D-R+A},S.toLocalCoord=S.dim==="x"?function(R){return R-A}:function(R){return D-R+A}}(f,g?a.x:a.y)})}u(),o&&(ht(l,function(f){if(!f.model.get(["axisLabel","inside"])){var g=function(S){var A=S.model,E=S.scale;if(A.get(["axisLabel","show"])&&!E.isBlank()){var D,R,z=E.getExtent();R=E instanceof rm?E.count():(D=E.getTicks()).length;var Y,G=S.getLabelModel(),$=am(S),Q=1;R>40&&(Q=Math.ceil(R/40));for(var et=0;et<R;et+=Q){var ot=$(D?D[et]:{value:z[0]+et},et),xt=_h(G.getTextRect(ot),G.get("rotate")||0);Y?Y.union(xt):Y=xt}return Y}}(f);if(g){var v=f.isHorizontal()?"height":"width",_=f.model.get(["axisLabel","margin"]);a[v]-=g[v]+_,f.position==="top"?a.y+=g.height+_:f.position==="left"&&(a.x+=g.width+_)}}}),u()),ht(this._coordsList,function(f){f.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(i!=null)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var i="x"+e+"y"+t;return this._coordsMap[i]}di(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var t,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis",da).models[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis",da).models[0],l=e.gridModel,u=this._coordsList;return r?dn(u,t=r.coordinateSystem)<0&&(t=null):o&&a?t=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):l&&l.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:i}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",f("x"),this),t.eachComponent("yAxis",f("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function f(g){return function(v,_){if(Iy(v,e)){var S=v.get("position");g==="x"?S!=="top"&&S!=="bottom"&&(S=a.bottom?"top":"bottom"):S!=="left"&&S!=="right"&&(S=a.left?"right":"left"),a[S]=!0;var A=new E2(g,pp(v),[0,0],v.get("type"),S),E=A.type==="category";A.onBand=E&&v.get("boundaryGap"),A.inverse=v.get("inverse"),v.axis=A,A.model=v,A.grid=o,A.index=_,o._axesList.push(A),l[g][_]=A,u[g]++}}}this._axesMap=l,ht(l.x,function(g,v){ht(l.y,function(_,S){var A="x"+v+"y"+S,E=new I2(A);E.master=r,E.model=e,r._coordsMap[A]=E,r._coordsList.push(E),E.addAxis(g),E.addAxis(_)})})},n.prototype._updateScale=function(e,t){function i(r,o){ht(oy(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}ht(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(O2(r)){var o=AC(r),a=o.xAxisModel,l=o.yAxisModel;if(!Iy(a,t)||!Iy(l,t))return;var u=this.getCartesian(a.componentIndex,l.componentIndex),f=r.getData(),g=u.getAxis("x"),v=u.getAxis("y");i(f,g),i(f,v)}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return ht(this.getCartesians(),function(r){var o=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(o);dn(t,o)<0&&t.push(o),dn(i,a)<0&&i.push(a)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,o){var a=new n(r,e,t);a.name="grid_"+o,a.resize(r,t,!0),r.coordinateSystem=a,i.push(a)}),e.eachSeries(function(r){if(O2(r)){var o=AC(r),a=o.xAxisModel,l=o.yAxisModel,u=a.getCoordSysModel(),f=u.coordinateSystem;r.coordinateSystem=f.getCartesian(a.componentIndex,l.componentIndex)}}),i},n.dimensions=s1,n}();function Iy(n,e){return n.getCoordSysModel()===e}function u1(n,e,t,i){t.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[e],a=t.model,l=a.get(["axisLine","onZero"]),u=a.get(["axisLine","onZeroAxisIndex"]);if(l){if(u!=null)MC(o[u])&&(r=o[u]);else for(var f in o)if(o.hasOwnProperty(f)&&MC(o[f])&&!i[g(o[f])]){r=o[f];break}r&&(i[g(r)]=!0)}function g(v){return v.dim+"_"+v.index}}function MC(n){return n&&n.type!=="category"&&n.type!=="time"&&function(e){var t=e.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var kh=Math.PI,ol=function(){function n(e,t){this.group=new Di,this.opt=t,this.axisModel=e,Ne(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Di({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!TC[e]},n.prototype.add=function(e){TC[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var r,o,a=lg(t-e);return Yp(a)?(o=i>0?"top":"bottom",r="center"):Yp(a-kh)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<kh?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),TC={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if(r==="auto"&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,l=[o[0],0],u=[o[1],0],f=l[0]>u[0];a&&(Ui(l,l,a),Ui(u,u,a));var g=me({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),v=new Ha({shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:g,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});af(v.shape,v.style.lineWidth),v.anid="line",t.add(v);var _=e.get(["axisLine","symbol"]);if(_!=null){var S=e.get(["axisLine","symbolSize"]);Mn(_)&&(_=[_,_]),(Mn(S)||Ln(S))&&(S=[S,S]);var A=rp(e.get(["axisLine","symbolOffset"])||0,S),E=S[0],D=S[1];ht([{rotate:n.rotation+Math.PI/2,offset:A[0],r:0},{rotate:n.rotation-Math.PI/2,offset:A[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(R,z){if(_[z]!=="none"&&_[z]!=null){var Y=va(_[z],-E/2,-D/2,E,D,g.stroke,!0),G=R.r+R.offset,$=f?u:l;Y.attr({rotation:R.rotate,x:$[0]+G*Math.cos(n.rotation),y:$[1]-G*Math.sin(n.rotation),silent:!0,z2:11}),t.add(Y)}})}}},axisTickLabel:function(n,e,t,i){var r=function(a,l,u,f){var g=u.axis,v=u.getModel("axisTick"),_=v.get("show");if(_==="auto"&&f.handleAutoShown&&(_=f.handleAutoShown("axisTick")),!(!_||g.scale.isBlank())){for(var S=v.getModel("lineStyle"),A=f.tickDirection*v.get("length"),E=OC(g.getTicksCoords(),l.transform,A,Ne(S.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),D=0;D<E.length;D++)a.add(E[D]);return E}}(t,i,e,n),o=function(a,l,u,f){var g=u.axis,v=zi(f.axisLabelShow,u.get(["axisLabel","show"]));if(!(!v||g.scale.isBlank())){var _=u.getModel("axisLabel"),S=_.get("margin"),A=g.getViewLabels(),E=(zi(f.labelRotate,_.get("rotate"))||0)*kh/180,D=ol.innerTextLayout(f.rotation,E,f.labelDirection),R=u.getCategories&&u.getCategories(!0),z=[],Y=ol.isLabelSilent(u),G=u.get("triggerEvent");return ht(A,function($,Q){var et=g.scale.type==="ordinal"?g.scale.getRawOrdinalNumber($.tickValue):$.tickValue,ot=$.formattedLabel,xt=$.rawLabel,St=_;if(R&&R[et]){var Mt=R[et];di(Mt)&&Mt.textStyle&&(St=new ao(Mt.textStyle,_,u.ecModel))}var Bt=St.getTextColor()||u.get(["axisLine","lineStyle","color"]),Zt=g.dataToCoord(et),se=new $r({x:Zt,y:f.labelOffset+f.labelDirection*S,rotation:D.rotation,silent:Y,z2:10+($.level||0),style:Do(St,{text:ot,align:St.getShallow("align",!0)||D.textAlign,verticalAlign:St.getShallow("verticalAlign",!0)||St.getShallow("baseline",!0)||D.textVerticalAlign,fill:Ge(Bt)?Bt(g.type==="category"?xt:g.type==="value"?et+"":et,Q):Bt})});if(se.anid="label_"+et,G){var pe=ol.makeAxisEventDataBase(u);pe.targetType="axisLabel",pe.value=xt,pe.tickIndex=Q,g.type==="category"&&(pe.dataIndex=et),lr(se).eventData=pe}l.add(se),se.updateTransform(),z.push(se),a.add(se),se.decomposeTransform()}),z}}(t,i,e,n);(function(a,l,u){if(!ra(a.axis)){var f=a.get(["axisLabel","showMinLabel"]),g=a.get(["axisLabel","showMaxLabel"]);l=l||[],u=u||[];var v=l[0],_=l[1],S=l[l.length-1],A=l[l.length-2],E=u[0],D=u[1],R=u[u.length-1],z=u[u.length-2];f===!1?(tc(v),tc(E)):IC(v,_)&&(f?(tc(_),tc(D)):(tc(v),tc(E))),g===!1?(tc(S),tc(R)):IC(A,S)&&(g?(tc(A),tc(z)):(tc(S),tc(R)))}})(e,o,r),function(a,l,u,f){var g=u.axis,v=u.getModel("minorTick");if(!(!v.get("show")||g.scale.isBlank())){var _=g.getMinorTicksCoords();if(_.length)for(var S=v.getModel("lineStyle"),A=f*v.get("length"),E=Ne(S.getLineStyle(),Ne(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),D=0;D<_.length;D++)for(var R=OC(_[D],l.transform,A,E,"minorticks_"+D),z=0;z<R.length;z++)a.add(R[z])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&zT(BS(lt(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(n,e,t,i){var r=zi(n.axisName,e.get("name"));if(r){var o,a,l=e.get("nameLocation"),u=n.nameDirection,f=e.getModel("nameTextStyle"),g=e.get("nameGap")||0,v=e.axis.getExtent(),_=v[0]>v[1]?-1:1,S=[l==="start"?v[0]-_*g:l==="end"?v[1]+_*g:(v[0]+v[1])/2,EC(l)?n.labelOffset+u*g:0],A=e.get("nameRotate");A!=null&&(A=A*kh/180),EC(l)?o=ol.innerTextLayout(n.rotation,A??n.rotation,u):(o=function($,Q,et,ot){var xt,St,Mt=lg(et-$),Bt=ot[0]>ot[1],Zt=Q==="start"&&!Bt||Q!=="start"&&Bt;return Yp(Mt-kh/2)?(St=Zt?"bottom":"top",xt="center"):Yp(Mt-1.5*kh)?(St=Zt?"top":"bottom",xt="center"):(St="middle",xt=Mt<1.5*kh&&Mt>kh/2?Zt?"left":"right":Zt?"right":"left"),{rotation:Mt,textAlign:xt,textVerticalAlign:St}}(n.rotation,l,A||0,v),(a=n.axisNameAvailableWidth)!=null&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var E=f.getFont(),D=e.get("nameTruncate",!0)||{},R=D.ellipsis,z=zi(n.nameTruncateMaxWidth,D.maxWidth,a),Y=new $r({x:S[0],y:S[1],rotation:o.rotation,silent:ol.isLabelSilent(e),style:Do(f,{text:r,font:E,overflow:"truncate",width:z,ellipsis:R,fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:f.get("align")||o.textAlign,verticalAlign:f.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Yd({el:Y,componentModel:e,itemName:r}),Y.__fullText=r,Y.anid="name",e.get("triggerEvent")){var G=ol.makeAxisEventDataBase(e);G.targetType="axisName",G.name=r,lr(Y).eventData=G}i.add(Y),Y.updateTransform(),t.add(Y),Y.decomposeTransform()}}};function tc(n){n&&(n.ignore=!0)}function IC(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var r=ci([]);return Xr(r,r,-n.rotation),t.applyTransform(rr([],r,n.getLocalTransform())),i.applyTransform(rr([],r,e.getLocalTransform())),t.intersect(i)}}function EC(n){return n==="middle"||n==="center"}function OC(n,e,t,i,r){for(var o=[],a=[],l=[],u=0;u<n.length;u++){var f=n[u].coord;a[0]=f,a[1]=0,l[0]=f,l[1]=t,e&&(Ui(a,a,e),Ui(l,l,e));var g=new Ha({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});af(g.shape,g.style.lineWidth),g.anid=r+"_"+n[u].tickValue,o.push(g)}return o}function D2(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(i,r,o){var a=r.getComponent("tooltip"),l=r.getComponent("axisPointer"),u=l.get("link",!0)||[],f=[];ht(o.getCoordinateSystems(),function(g){if(g.axisPointerEnabled){var v=Ey(g.model),_=i.coordSysAxesInfo[v]={};i.coordSysMap[v]=g;var S=g.model.getModel("tooltip",a);if(ht(g.getAxes(),_n(R,!1,null)),g.getTooltipAxes&&a&&S.get("show")){var A=S.get("trigger")==="axis",E=S.get(["axisPointer","type"])==="cross",D=g.getTooltipAxes(S.get(["axisPointer","axis"]));(A||E)&&ht(D.baseAxes,_n(R,!E||"cross",A)),E&&ht(D.otherAxes,_n(R,"cross",!1))}}function R(z,Y,G){var $=G.model.getModel("axisPointer",l),Q=$.get("show");if(Q&&(Q!=="auto"||z||Hf($))){Y==null&&(Y=$.get("triggerTooltip")),$=z?function(Zt,se,pe,be,we,Re){var Ze=se.getModel("axisPointer"),Je={};ht(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(cn){Je[cn]=Kt(Ze.get(cn))}),Je.snap=Zt.type!=="category"&&!!Re,Ze.get("type")==="cross"&&(Je.type="line");var rn=Je.label||(Je.label={});if(rn.show==null&&(rn.show=!1),we==="cross"){var An=Ze.get(["label","show"]);if(rn.show=An==null||An,!Re){var Yn=Je.lineStyle=Ze.get("crossStyle");Yn&&Ne(rn,Yn.textStyle)}}return Zt.model.getModel("axisPointer",new ao(Je,pe,be))}(G,S,l,r,z,Y):$;var et=$.get("snap"),ot=Ey(G.model),xt=Y||et||G.type==="category",St=i.axesInfo[ot]={key:ot,axis:G,coordSys:g,axisPointerModel:$,triggerTooltip:Y,involveSeries:xt,snap:et,useHandle:Hf($),seriesModels:[],linkGroup:null};_[ot]=St,i.seriesInvolved=i.seriesInvolved||xt;var Mt=function(Zt,se){for(var pe=se.model,be=se.dim,we=0;we<Zt.length;we++){var Re=Zt[we]||{};if(Zc(Re[be+"AxisId"],pe.id)||Zc(Re[be+"AxisIndex"],pe.componentIndex)||Zc(Re[be+"AxisName"],pe.name))return we}}(u,G);if(Mt!=null){var Bt=f[Mt]||(f[Mt]={axesInfo:{}});Bt.axesInfo[ot]=St,Bt.mapper=u[Mt].mapper,St.linkGroup=Bt}}}})}(t,n,e),t.seriesInvolved&&function(i,r){r.eachSeries(function(o){var a=o.coordinateSystem,l=o.get(["tooltip","trigger"],!0),u=o.get(["tooltip","show"],!0);a&&l!=="none"&&l!==!1&&l!=="item"&&u!==!1&&o.get(["axisPointer","show"],!0)!==!1&&ht(i.coordSysAxesInfo[Ey(a.model)],function(f){var g=f.axis;a.getAxis(g.dim)===g&&(f.seriesModels.push(o),f.seriesDataCount==null&&(f.seriesDataCount=0),f.seriesDataCount+=o.getData().count())})})}(t,n),t}function Zc(n,e){return n==="all"||Be(n)&&dn(n,e)>=0||n===e}function DC(n){var e=Cp(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,o=t.get("status"),a=t.get("value");a!=null&&(a=i.parse(a));var l=Hf(t);o==null&&(r.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(a==null||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),r.value=a,l&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function Cp(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Ey(n)]}function Hf(n){return!!n.get(["handle","show"])}function Ey(n){return n.type+"||"+n.id}var h1={},Ah=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this.axisPointerClass&&DC(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,o){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=function(l){var u=Cp(l);return u&&u.axisPointerModel}(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){h1[t]=i},e.getAxisPointerClass=function(t){return t&&h1[t]},e.type="axis",e}(Ao),LC=Hr();function PC(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitArea"),a=o.getModel("areaStyle"),l=a.get("color"),u=i.coordinateSystem.getRect(),f=r.getTicksCoords({tickModel:o,clamp:!0});if(f.length){var g=l.length,v=LC(n).splitAreaColors,_=ze(),S=0;if(v)for(var A=0;A<f.length;A++){var E=v.get(f[A].tickValue);if(E!=null){S=(E+(g-1)*A)%g;break}}var D=r.toGlobalCoord(f[0].coord),R=a.getAreaStyle();for(l=Be(l)?l:[l],A=1;A<f.length;A++){var z=r.toGlobalCoord(f[A].coord),Y=void 0,G=void 0,$=void 0,Q=void 0;r.isHorizontal()?(Y=D,G=u.y,$=z-Y,Q=u.height,D=Y+$):(Y=u.x,G=D,$=u.width,D=G+(Q=z-G));var et=f[A-1].tickValue;et!=null&&_.set(et,S),e.add(new Ur({anid:et!=null?"area_"+et:null,shape:{x:Y,y:G,width:$,height:Q},style:Ne({fill:l[S]},R),autoBatch:!0,silent:!0})),S=(S+1)%g}LC(n).splitAreaColors=_}}}function d1(n){LC(n).splitAreaColors=null}var L2=["axisLine","axisTickLabel","axisName"],RO=["splitArea","splitLine","minorSplitLine"],NC=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Di,this.group.add(this._axisGroup),t.get("show")){var l=t.getCoordSysModel(),u=l1(l,t),f=new ol(t,me({handleAutoShown:function(g){for(var v=l.coordinateSystem.getCartesians(),_=0;_<v.length;_++)if(vx(v[_].getOtherAxis(t.axis).scale))return!0;return!1}},u));ht(L2,f.add,f),this._axisGroup.add(f.getGroup()),ht(RO,function(g){t.get([g,"show"])&&RC[g](this,this._axisGroup,t,l)},this),o&&o.type==="changeAxisOrder"&&o.isInitSort||jd(a,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)}},e.prototype.remove=function(){d1(this)},e.type="cartesianAxis",e}(Ah),RC={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitLine"),a=o.getModel("lineStyle"),l=a.get("color");l=Be(l)?l:[l];for(var u=i.coordinateSystem.getRect(),f=r.isHorizontal(),g=0,v=r.getTicksCoords({tickModel:o}),_=[],S=[],A=a.getLineStyle(),E=0;E<v.length;E++){var D=r.toGlobalCoord(v[E].coord);f?(_[0]=D,_[1]=u.y,S[0]=D,S[1]=u.y+u.height):(_[0]=u.x,_[1]=D,S[0]=u.x+u.width,S[1]=D);var R=g++%l.length,z=v[E].tickValue,Y=new Ha({anid:z!=null?"line_"+v[E].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:S[0],y2:S[1]},style:Ne({stroke:l[R]},A),silent:!0});af(Y.shape,A.lineWidth),e.add(Y)}}},minorSplitLine:function(n,e,t,i){var r=t.axis,o=t.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var f=[],g=[],v=o.getLineStyle(),_=0;_<u.length;_++)for(var S=0;S<u[_].length;S++){var A=r.toGlobalCoord(u[_][S].coord);l?(f[0]=A,f[1]=a.y,g[0]=A,g[1]=a.y+a.height):(f[0]=a.x,f[1]=A,g[0]=a.x+a.width,g[1]=A);var E=new Ha({anid:"minor_line_"+u[_][S].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:v,silent:!0});af(E.shape,v.lineWidth),e.add(E)}},splitArea:function(n,e,t,i){PC(n,e,t,i)}},P2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="xAxis",e}(NC),N2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=P2.type,t}return Tt(e,n),e.type="yAxis",e}(NC),BO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return Tt(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new Ur({shape:t.coordinateSystem.getRect(),style:Ne({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Ao),p1={offset:0};function BC(n){n.registerComponentView(BO),n.registerComponentModel(A2),n.registerCoordinateSystem("cartesian2d",c1),vm(n,"x",o1,p1),vm(n,"y",o1,p1),n.registerComponentView(P2),n.registerComponentView(N2),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function zO(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();ht(o,function(a,l){t.each(t.mapDimension(o[l].dim),function(u,f){i[f]=i[f]||[];var g=r.dataToPoint(u,l);i[f][l]=zC(g)?g:R2(r)})}),t.each(function(a){var l=je(i[a],function(u){return zC(u)})||R2(r);i[a].push(l.slice()),t.setItemLayout(a,i[a])})}})}function zC(n){return!isNaN(n[0])&&!isNaN(n[1])}function R2(n){return[n.cx,n.cy]}function f1(n){var e=n.polar;if(e){Be(e)||(e=[e]);var t=[];ht(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Be(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}ht(n.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var FO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.coordinateSystem,a=this.group,l=t.getData(),u=this._data;function f(_,S){var A=_.getItemVisual(S,"symbol")||"circle";if(A!=="none"){var E=Zg(_.getItemVisual(S,"symbolSize")),D=va(A,-1,-1,2,2),R=_.getItemVisual(S,"symbolRotate")||0;return D.attr({style:{strokeNoScale:!0},z2:100,scaleX:E[0]/2,scaleY:E[1]/2,rotation:R*Math.PI/180||0}),D}}function g(_,S,A,E,D,R){A.removeAll();for(var z=0;z<S.length-1;z++){var Y=f(E,D);Y&&(Y.__dimIdx=z,_[z]?(Y.setPosition(_[z]),Gd[R?"initProps":"updateProps"](Y,{x:S[z][0],y:S[z][1]},t,D)):Y.setPosition(S[z]),A.add(Y))}}function v(_){return lt(_,function(S){return[o.cx,o.cy]})}l.diff(u).add(function(_){var S=l.getItemLayout(_);if(S){var A=new Zs,E=new Ks,D={shape:{points:S}};A.shape.points=v(S),E.shape.points=v(S),To(A,D,t,_),To(E,D,t,_);var R=new Di,z=new Di;R.add(E),R.add(A),R.add(z),g(E.shape.points,S,z,l,_,!0),l.setItemGraphicEl(_,R)}}).update(function(_,S){var A=u.getItemGraphicEl(S),E=A.childAt(0),D=A.childAt(1),R=A.childAt(2),z={shape:{points:l.getItemLayout(_)}};z.shape.points&&(g(E.shape.points,z.shape.points,R,l,_,!1),Fc(D),Fc(E),Zr(E,z,t),Zr(D,z,t),l.setItemGraphicEl(_,A))}).remove(function(_){a.remove(u.getItemGraphicEl(_))}).execute(),l.eachItemGraphicEl(function(_,S){var A=l.getItemModel(S),E=_.childAt(0),D=_.childAt(1),R=_.childAt(2),z=l.getItemVisual(S,"style"),Y=z.fill;a.add(_),E.useStyle(Ne(A.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Y})),Is(E,A,"lineStyle"),Is(D,A,"areaStyle");var G=A.getModel("areaStyle"),$=G.isEmpty()&&G.parentModel.isEmpty();D.ignore=$,ht(["emphasis","select","blur"],function(ot){var xt=A.getModel([ot,"areaStyle"]),St=xt.isEmpty()&&xt.parentModel.isEmpty();D.ensureState(ot).ignore=St&&$}),D.useStyle(Ne(G.getAreaStyle(),{fill:Y,opacity:.7,decal:z.decal}));var Q=A.getModel("emphasis"),et=Q.getModel("itemStyle").getItemStyle();R.eachChild(function(ot){if(ot instanceof ua){var xt=ot.style;ot.useStyle(me({image:xt.image,x:xt.x,y:xt.y,width:xt.width,height:xt.height},z))}else ot.useStyle(z),ot.setColor(Y),ot.style.strokeNoScale=!0;ot.ensureState("emphasis").style=Kt(et);var St=l.getStore().get(l.getDimensionIndex(ot.__dimIdx),S);(St==null||isNaN(St))&&(St=""),na(ot,Wa(A),{labelFetcher:l.hostModel,labelDataIndex:S,labelDimIndex:ot.__dimIdx,defaultText:St,inheritColor:Y,defaultOpacity:z.opacity})}),fa(_,Q.get("focus"),Q.get("blurScope"),Q.get("disabled"))}),this._data=l},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(wo),g1=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new mm(Te(this.getData,this),Te(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return Vf(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,f=Cw(this,t);return ia("section",{header:u,sortBlocks:!0,blocks:lt(a,function(g){var v=o.get(o.mapDimension(g.dim),t);return ia("nameValue",{markerType:"subItem",markerColor:f,name:g.name,value:v,sortParam:v})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(lt(r.dimensions,function(f){return i.mapDimension(f)}),t),a=0,l=o.length;a<l;a++)if(!isNaN(o[a])){var u=r.getIndicatorAxes();return r.coordToPoint(u[a].dataToCoord(o[a]),a)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Io),Oy=T2.value;function ym(n,e){return Ne({show:e},n)}var Dy=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),f=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),v=this.get("axisNameGap"),_=this.get("triggerEvent"),S=lt(this.get("indicator")||[],function(A){A.max!=null&&A.max>0&&!A.min?A.min=0:A.min!=null&&A.min<0&&!A.max&&(A.max=0);var E=u;A.color!=null&&(E=Ne({color:A.color},u));var D=ne(Kt(A),{boundaryGap:t,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:l,name:A.text,showName:f,nameLocation:"end",nameGap:v,nameTextStyle:E,triggerEvent:_},!1);if(Mn(g)){var R=D.name;D.name=g.replace("{value}",R??"")}else Ge(g)&&(D.name=g(D.name,D));var z=new ao(D,null,this.ecModel);return jt(z,Df.prototype),z.mainType="radar",z.componentIndex=this.componentIndex,z},this);this._indicatorModels=S},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ne({lineStyle:{color:"#bbb"}},Oy.axisLine),axisLabel:ym(Oy.axisLabel,!1),axisTick:ym(Oy.axisTick,!1),splitLine:ym(Oy.splitLine,!0),splitArea:ym(Oy.splitArea,!0),indicator:[]},e}(Wr),B2=["axisLine","axisTickLabel","axisName"],z2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;ht(lt(i.getIndicatorAxes(),function(r){var o=r.model.get("showName")?r.name:"";return new ol(r.model,{axisName:o,position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){ht(B2,r.add,r),this.group.add(r.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=t.get("shape"),a=t.getModel("splitLine"),l=t.getModel("splitArea"),u=a.getModel("lineStyle"),f=l.getModel("areaStyle"),g=a.get("show"),v=l.get("show"),_=u.get("color"),S=f.get("color"),A=Be(_)?_:[_],E=Be(S)?S:[S],D=[],R=[];if(o==="circle")for(var z=r[0].getTicksCoords(),Y=i.cx,G=i.cy,$=0;$<z.length;$++)g&&D[Zt(D,A,$)].push(new xl({shape:{cx:Y,cy:G,r:z[$].coord}})),v&&$<z.length-1&&R[Zt(R,E,$)].push(new Tg({shape:{cx:Y,cy:G,r0:z[$].coord,r:z[$+1].coord}}));else{var Q,et=lt(r,function(se,pe){var be=se.getTicksCoords();return Q=Q==null?be.length-1:Math.min(be.length-1,Q),lt(be,function(we){return i.coordToPoint(we.coord,pe)})}),ot=[];for($=0;$<=Q;$++){for(var xt=[],St=0;St<r.length;St++)xt.push(et[St][$]);xt[0]&&xt.push(xt[0].slice()),g&&D[Zt(D,A,$)].push(new Ks({shape:{points:xt}})),v&&ot&&R[Zt(R,E,$-1)].push(new Zs({shape:{points:xt.concat(ot)}})),ot=xt.slice().reverse()}}var Mt=u.getLineStyle(),Bt=f.getAreaStyle();ht(R,function(se,pe){this.group.add(Xl(se,{style:Ne({stroke:"none",fill:E[pe%E.length]},Bt),silent:!0}))},this),ht(D,function(se,pe){this.group.add(Xl(se,{style:Ne({fill:"none",stroke:A[pe%A.length]},Mt),silent:!0}))},this)}function Zt(se,pe,be){var we=be%pe.length;return se[we]=se[we]||[],we}},e.type="radar",e}(Ao),F2=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return Tt(e,n),e}(Ls),V2=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=lt(e.getIndicatorModels(),function(r,o){var a="indicator_"+o,l=new F2(a,new xh);return l.name=r.get("name"),l.model=r,r.axis=l,this.dimensions.push(a),l},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(i),this.cy-e*Math.sin(i)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var o,a=Math.atan2(-i,t),l=1/0,u=-1,f=0;f<this._indicatorAxes.length;f++){var g=this._indicatorAxes[f],v=Math.abs(a-g.angle);v<l&&(o=g,u=f,l=v)}return[u,+(o&&o.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight(),a=Math.min(r,o)/2;this.cx=ei(i[0],r),this.cy=ei(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var l=e.get("radius");(Mn(l)||Ln(l))&&(l=[0,l]),this.r0=ei(l[0],a),this.r=ei(l[1],a),ht(this._indicatorAxes,function(u,f){u.setExtent(this.r0,this.r);var g=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),u.angle=g},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;ht(i,function(l){l.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(l,u){if(l.get("coordinateSystem")==="radar"&&e.getComponent("radar",l.get("radarIndex"))===r){var f=l.getData();ht(i,function(g){g.scale.unionExtentFromData(f,f.mapDimension(g.dim))})}},this);var o=r.get("splitNumber"),a=new xh;a.setExtent(0,o),a.setInterval(1),ht(i,function(l,u){Ty(l.scale,l.model,a)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function FC(n){n.registerCoordinateSystem("radar",V2),n.registerComponentModel(Dy),n.registerComponentView(z2),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var Ly="\0_ec_interaction_mutex";function Wf(n,e){return!!m1(n)[e]}function m1(n){return n[Ly]||(n[Ly]={})}Iu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Vn);var bm=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var r=Te(i._mousedownHandler,i),o=Te(i._mousemoveHandler,i),a=Te(i._mouseupHandler,i),l=Te(i._mousewheelHandler,i),u=Te(i._pinchHandler,i);return i.enable=function(f,g){this.disable(),this._opt=Ne(Kt(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),f==null&&(f=!0),f!==!0&&f!=="move"&&f!=="pan"||(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",a)),f!==!0&&f!=="scale"&&f!=="zoom"||(t.on("mousewheel",l),t.on("pinch",u))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",l),t.off("pinch",u)},i}return Tt(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!on(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&y1("moveOnMouseMove",t,this._opt)&&t.gestureEvent!=="pinch"&&!Wf(this._zr,"globalPan")){var i=t.offsetX,r=t.offsetY,o=this._x,a=this._y,l=i-o,u=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Ie(t.event),v1(this,"pan","moveOnMouseMove",t,{dx:l,dy:u,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){on(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=y1("zoomOnMouseWheel",t,this._opt),r=y1("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,a=Math.abs(o),l=t.offsetX,u=t.offsetY;if(o!==0&&(i||r)){if(i){var f=a>3?1.4:a>1?1.2:1.1;Py(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?f:1/f,originX:l,originY:u,isAvailableBehavior:null})}if(r){var g=Math.abs(o);Py(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(g>3?.4:g>1?.15:.05),originX:l,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){Wf(this._zr,"globalPan")||Py(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(M);function Py(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Ie(i.event),v1(n,e,t,i,r))}function v1(n,e,t,i,r){r.isAvailableBehavior=Te(y1,null,t,i),n.trigger(e,r)}function y1(n,e,t){var i=t[n];return!n||i&&(!Mn(i)||e.event[i+"Key"])}function VC(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function Ny(n,e,t,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=e,o){var l=o.min||0,u=o.max||1/0;a=Math.max(Math.min(u,a),l)}var f=a/n.zoom;n.zoom=a,r.x-=(t-r.x)*(f-1),r.y-=(i-r.y)*(f-1),r.scaleX*=f,r.scaleY*=f,r.dirty()}var HC,VO={axisPointer:1,tooltip:1,brush:1};function b1(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!VO.hasOwnProperty(i.mainType)&&r&&r.model!==t}function H2(n){Mn(n)&&(n=new DOMParser().parseFromString(n,"text/xml"));var e=n;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var x1={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},W2=Qe(x1),_1={"alignment-baseline":"textBaseline","stop-color":"stopColor"},WC=Qe(_1),Ry=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=H2(e);this._defsUsePending=[];var r=new Di;this._root=r;var o=[],a=i.getAttribute("viewBox")||"",l=parseFloat(i.getAttribute("width")||t.width),u=parseFloat(i.getAttribute("height")||t.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),Tc(i,r,null,!0,!1);for(var f,g,v=i.firstChild;v;)this._parseNode(v,r,o,null,!1,!1),v=v.nextSibling;if(function(A,E){for(var D=0;D<E.length;D++){var R=E[D];R[0].style[R[1]]=A[R[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var _=S1(a);_.length>=4&&(f={x:parseFloat(_[0]||0),y:parseFloat(_[1]||0),width:parseFloat(_[2]),height:parseFloat(_[3])})}if(f&&l!=null&&u!=null&&(g=k1(f,{x:0,y:0,width:l,height:u}),!t.ignoreViewBox)){var S=r;(r=new Di).add(S),S.scaleX=S.scaleY=g.scale,S.x=g.x,S.y=g.y}return t.ignoreRootClip||l==null||u==null||r.setClipPath(new Ur({shape:{x:0,y:0,width:l,height:u}})),{root:r,width:l,height:u,viewBoxRect:f,viewBoxTransform:g,named:o}},n.prototype._parseNode=function(e,t,i,r,o,a){var l,u=e.nodeName.toLowerCase(),f=r;if(u==="defs"&&(o=!0),u==="text"&&(a=!0),u==="defs"||u==="switch")l=t;else{if(!o){var g=HC[u];if(g&&ln(HC,u)){l=g.call(this,e,t);var v=e.getAttribute("name");if(v){var _={name:v,namedFrom:null,svgNodeTagLower:u,el:l};i.push(_),u==="g"&&(f=_)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:u,el:l});t.add(l)}}var S=j2[u];if(S&&ln(j2,u)){var A=S.call(this,e),E=e.getAttribute("id");E&&(this._defs[E]=A)}}if(l&&l.isGroup)for(var D=e.firstChild;D;)D.nodeType===1?this._parseNode(D,l,i,f,o,a):D.nodeType===3&&a&&this._parseText(D,l),D=D.nextSibling},n.prototype._parseText=function(e,t){var i=new us({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),function(u,f){var g=f.__selfStyle;if(g){var v=g.textBaseline,_=v;v&&v!=="auto"?v==="baseline"?_="alphabetic":v==="before-edge"||v==="text-before-edge"?_="top":v==="after-edge"||v==="text-after-edge"?_="bottom":v!=="central"&&v!=="mathematical"||(_="middle"):_="alphabetic",u.style.textBaseline=_}var S=f.__inheritedStyle;if(S){var A=S.textAlign,E=A;A&&(A==="middle"&&(E="center"),u.style.textAlign=E)}}(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var l=i.getBoundingRect();return this._textX+=l.width,t.add(i),i},n.internalField=void(HC={g:function(e,t){var i=new Di;return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new Ur;return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new xl;return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new Ha;return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new Jm;return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i,r=e.getAttribute("points");r&&(i=Y2(r));var o=new Zs({shape:{points:i||[]},silent:!0});return Mc(t,o),Tc(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var i,r=e.getAttribute("points");r&&(i=Y2(r));var o=new Ks({shape:{points:i||[]},silent:!0});return Mc(t,o),Tc(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new ua;return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var l=new Di;return Mc(t,l),Tc(e,l,this._defsUsePending,!1,!0),l},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");i!=null&&(this._textX=parseFloat(i)),r!=null&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",l=new Di;return Mc(t,l),Tc(e,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),l},path:function(e,t){var i=HA(e.getAttribute("d")||"");return Mc(t,i),Tc(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),j2={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new of(e,t,i,r);return jC(n,o),w1(n,o),o},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new B0(e,t,i);return jC(n,r),w1(n,r),r}};function jC(n,e){n.getAttribute("gradientUnits")==="userSpaceOnUse"&&(e.global=!0)}function w1(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var i=t.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};C1(t,o,o);var a=o.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:a})}t=t.nextSibling}}function Mc(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Ne(e.__inheritedStyle,n.__inheritedStyle))}function Y2(n){for(var e=S1(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);t.push([r,o])}return t}function Tc(n,e,t,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},l={};n.nodeType===1&&(function(u,f){var g=u.getAttribute("transform");if(g){g=g.replace(/,/g," ");var v=[],_=null;g.replace(jO,function(R,z,Y){return v.push(z,Y),""});for(var S=v.length-1;S>0;S-=2){var A=v[S],E=v[S-1],D=S1(A);switch(_=_||[1,0,0,1,0,0],E){case"translate":er(_,_,[parseFloat(D[0]),parseFloat(D[1]||"0")]);break;case"scale":bo(_,_,[parseFloat(D[0]),parseFloat(D[1]||D[0])]);break;case"rotate":Xr(_,_,-parseFloat(D[0])*YC);break;case"skewX":rr(_,[1,0,Math.tan(parseFloat(D[0])*YC),1,0,0],_);break;case"skewY":rr(_,[1,Math.tan(parseFloat(D[0])*YC),0,1,0,0],_);break;case"matrix":_[0]=parseFloat(D[0]),_[1]=parseFloat(D[1]),_[2]=parseFloat(D[2]),_[3]=parseFloat(D[3]),_[4]=parseFloat(D[4]),_[5]=parseFloat(D[5])}}f.setLocalTransform(_)}}(n,e),C1(n,a,l),i||function(u,f,g){for(var v=0;v<W2.length;v++){var _=W2[v];(S=u.getAttribute(_))!=null&&(f[x1[_]]=S)}for(v=0;v<WC.length;v++){var S;_=WC[v],(S=u.getAttribute(_))!=null&&(g[_1[_]]=S)}}(n,a,l)),o.style=o.style||{},a.fill!=null&&(o.style.fill=G2(o,"fill",a.fill,t)),a.stroke!=null&&(o.style.stroke=G2(o,"stroke",a.stroke,t)),ht(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){a[u]!=null&&(o.style[u]=parseFloat(a[u]))}),ht(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){a[u]!=null&&(o.style[u]=a[u])}),r&&(o.__selfStyle=l),a.lineDash&&(o.style.lineDash=lt(S1(a.lineDash),function(u){return parseFloat(u)})),a.visibility!=="hidden"&&a.visibility!=="collapse"||(o.invisible=!0),a.display==="none"&&(o.ignore=!0)}var HO=/^url\(\s*#(.*?)\)/;function G2(n,e,t,i){var r=t&&t.match(HO);if(!r)return t==="none"&&(t=null),t;var o=Dt(r[1]);i.push([n,e,o])}var WO=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function S1(n){return n.match(WO)||[]}var jO=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,YC=Math.PI/180,GC=/([^\s:;]+)\s*:\s*([^:;]+)/g;function C1(n,e,t){var i,r=n.getAttribute("style");if(r)for(GC.lastIndex=0;(i=GC.exec(r))!=null;){var o=i[1],a=ln(x1,o)?x1[o]:null;a&&(e[a]=i[2]);var l=ln(_1,o)?_1[o]:null;l&&(t[l]=i[2])}}function k1(n,e){var t=e.width/n.width,i=e.height/n.height,r=Math.min(t,i);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}for(var By=ze(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),A1=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=ze(),this._freedGraphics=[],this._mapName=e,this._parsedXML=H2(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(o){var a=[],l=ze();return ht(o,function(u){if(u.namedFrom==null){var f=new IT(u.name,u.el);a.push(f),l.set(u.name,f)}}),{regions:a,regionsMap:l}}(e.named),i=t.regions,r=t.regionsMap;this._regions=i,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i,r,o;try{At((i=(t=e&&(r=e,o={ignoreViewBox:!0,ignoreRootClip:!0},new Ry().parse(r,o))||{}).root)!=null)}catch(z){throw new Error(`Invalid svg format
`+z.message)}var a=new Di;a.add(i),a.isGeoSVGGraphicRoot=!0;var l=t.width,u=t.height,f=t.viewBoxRect,g=this._boundingRect;if(!g){var v=void 0,_=void 0,S=void 0,A=void 0;if(l!=null?(v=0,S=l):f&&(v=f.x,S=f.width),u!=null?(_=0,A=u):f&&(_=f.y,A=f.height),v==null||_==null){var E=i.getBoundingRect();v==null&&(v=E.x,S=E.width),_==null&&(_=E.y,A=E.height)}g=this._boundingRect=new yr(v,_,S,A)}if(f){var D=k1(f,g);i.scaleX=i.scaleY=D.scale,i.x=D.x,i.y=D.y}a.setClipPath(new Ur({shape:g.plain()}));var R=[];return ht(t.named,function(z){var Y;By.get(z.svgNodeTagLower)!=null&&(R.push(z),(Y=z.el).silent=!1,Y.isGroup&&Y.traverse(function(G){G.silent=!1}))}),{root:a,boundingRect:g,named:R}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}(),zy=[126,25],XC="\u5357\u6D77\u8BF8\u5C9B",kp=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Mh=0;Mh<kp.length;Mh++)for(var od=0;od<kp[Mh].length;od++)kp[Mh][od][0]/=10.5,kp[Mh][od][1]/=-14,kp[Mh][od][0]+=zy[0],kp[Mh][od][1]+=zy[1];var YO={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]},qC=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],UC=function(){function n(e,t,i){var r;this.type="geoJSON",this._parsedMap=ze(),this._mapName=e,this._specialAreas=i,this._geoJSON=Mn(r=t)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(e,t){t=t||"name";var i=this._parsedMap.get(t);if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:$C(r)})}var o=ze(),a=[];return ht(i.regions,function(l){var u=l.name;e&&ln(e,u)&&(l=l.cloneShallow(u=e[u])),a.push(l),o.set(u,l)}),{regions:a,boundingRect:i.boundingRect||new yr(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(e){var t,i=this._mapName,r=this._geoJSON;try{t=r?ES(r,e):[]}catch(o){throw new Error(`Invalid geoJson format
`+o.message)}return function(o,a){if(o==="china"){for(var l=0;l<a.length;l++)if(a[l].name===XC)return;a.push(new TT(XC,lt(kp,function(u){return{type:"polygon",exterior:u}}),zy))}}(i,t),ht(t,function(o){var a=o.name;(function(u,f){if(u==="china"){var g=YO[f.name];if(g){var v=f.getCenter();v[0]+=g[0]/10.5,v[1]+=-g[1]/14,f.setCenter(v)}}})(i,o),function(u,f){u==="china"&&f.name==="\u53F0\u6E7E"&&f.geometries.push({type:"polygon",exterior:qC[0]})}(i,o);var l=this._specialAreas&&this._specialAreas[a];l&&o.transformTo(l.left,l.top,l.width,l.height)},this),t},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function $C(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var jf=ze(),Fy=function(n,e,t){if(e.svg){var i=new A1(n,e.svg);jf.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e,i=new UC(n,r,t),jf.set(n,i)}},Vy=function(n){return jf.get(n)},X2=function(n){var e=jf.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},ZC=function(n,e,t){var i=jf.get(n);if(i)return i.load(e,t)},KC=["rect","circle","line","ellipse","polygon","polyline","path"],GO=ze(KC),q2=ze(KC.concat(["g"])),XO=ze(KC.concat(["g"])),U2=Hr();function Hy(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function QC(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var ec=function(){function n(e){var t=new Di;this.uid=ds("ec_map_draw"),this._controller=new bm(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Di),t.add(this._svgGroup=new Di)}return n.prototype.draw=function(e,t,i,r,o){var a=e.mainType==="geo",l=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(D){l||D.getHostGeoModel()!==e||(l=D.getData())});var u=e.coordinateSystem,f=this._regionsGroup,g=this.group,v=u.getTransformInfo(),_=v.raw,S=v.roam;!f.childAt(0)||o?(g.x=S.x,g.y=S.y,g.scaleX=S.scaleX,g.scaleY=S.scaleY,g.dirty()):Zr(g,S,e);var A=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,E={api:i,geo:u,mapOrGeoModel:e,data:l,isVisualEncodedByVisualMap:A,isGeo:a,transformInfoRaw:_};u.resourceType==="geoJSON"?this._buildGeoJSON(E):u.resourceType==="geoSVG"&&this._buildSVG(E),this._updateController(e,t,i),this._updateMapSelectHandler(e,f,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=ze(),i=ze(),r=this._regionsGroup,o=e.transformInfoRaw,a=e.mapOrGeoModel,l=e.data,u=e.geo.projection,f=u&&u.stream;function g(S,A){return A&&(S=A(S)),S&&[S[0]*o.scaleX+o.x,S[1]*o.scaleY+o.y]}function v(S){for(var A=[],E=!f&&u&&u.project,D=0;D<S.length;++D){var R=g(S[D],E);R&&A.push(R)}return A}function _(S){return{shape:{points:v(S)}}}r.removeAll(),ht(e.geo.regions,function(S){var A=S.name,E=t.get(A),D=i.get(A)||{},R=D.dataIdx,z=D.regionModel;E||(E=t.set(A,new Di),r.add(E),R=l?l.indexOfName(A):null,z=e.isGeo?a.getRegionModel(A):l?l.getItemModel(R):null,i.set(A,{dataIdx:R,regionModel:z}));var Y=[],G=[];ht(S.geometries,function(et){if(et.type==="polygon"){var ot=[et.exterior].concat(et.interiors||[]);f&&(ot=Wy(ot,f)),ht(ot,function(St){Y.push(new Zs(_(St)))})}else{var xt=et.points;f&&(xt=Wy(xt,f,!0)),ht(xt,function(St){G.push(new Ks(_(St)))})}});var $=g(S.getCenter(),u&&u.project);function Q(et,ot){if(et.length){var xt=new R0({culling:!0,segmentIgnoreThreshold:1,shape:{paths:et}});E.add(xt),$2(e,xt,R,z),JC(e,xt,A,z,a,R,$),ot&&(QC(xt),ht(xt.states,QC))}}Q(Y),Q(G,!0)}),t.each(function(S,A){var E=i.get(A),D=E.dataIdx,R=E.regionModel;tk(e,S,A,R,a,D),Z2(e,S,A,R,a),xm(e,S,A,R,a)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=ze(),o=!1;ht(this._svgGraphicRecord.named,function(a){var l=a.name,u=e.mapOrGeoModel,f=e.data,g=a.svgNodeTagLower,v=a.el,_=f?f.indexOfName(l):null,S=u.getRegionModel(l);GO.get(g)!=null&&v instanceof Ka&&$2(e,v,_,S),v instanceof Ka&&(v.culling=!0),v.z2EmphasisLift=0,a.namedFrom||(XO.get(g)!=null&&JC(e,v,l,S,u,_,null),tk(e,v,l,S,u,_),Z2(e,v,l,S,u),q2.get(g)!=null&&(xm(e,v,l,S,u)==="self"&&(o=!0),(r.get(l)||r.set(l,[])).push(v)))},this),this._enableBlurEntireSVG(o,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){Jp(r);var o=r.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var i=t.coordinateSystem;if(i.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var o=r.get(e);return o?[o]:[]}}else if(i.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Vy(e);if(t&&t.type==="geoSVG"){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Vy(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var l=e.mainType;function u(){var f={type:"geoRoam",componentType:l};return f[l+"Id"]=e.id,f}o.off("pan").on("pan",function(f){this._mouseDownFlag=!1,VC(a,f.dx,f.dy),i.dispatchAction(me(u(),{dx:f.dx,dy:f.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,Ny(a,f.scale,f.originX,f.originY),i.dispatchAction(me(u(),{zoom:f.scale,originX:f.originX,originY:f.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(f,g,v){return r.containPoint([g,v])&&!b1(f,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=U2(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){o._mouseDownFlag=!0}),t.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function $2(n,e,t,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),l=i.getModel(["select","itemStyle"]),u=Hy(r),f=Hy(o),g=Hy(l),v=Hy(a),_=n.data;if(_){var S=_.getItemVisual(t,"style"),A=_.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&S.fill&&(u.fill=S.fill),A&&(u.decal=op(A,n.api))}e.setStyle(u),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=f,e.ensureState("select").style=g,e.ensureState("blur").style=v,Jp(e)}function JC(n,e,t,i,r,o,a){var l=n.data,u=n.isGeo,f=l&&isNaN(l.get(l.mapDimension("value"),o)),g=l&&l.getItemLayout(o);if(u||f||g&&g.showLabel){var v=u?t:o,_=void 0;(!l||o>=0)&&(_=r);var S=a?{normal:{align:"center",verticalAlign:"middle"}}:null;na(e,Wa(i),{labelFetcher:_,labelDataIndex:v,defaultText:t},S);var A=e.getTextContent();if(A&&(U2(A).ignore=A.ignore,e.textConfig&&a)){var E=e.getBoundingRect().clone();e.textConfig.layoutRect=E,e.textConfig.position=[(a[0]-E.x)/E.width*100+"%",(a[1]-E.y)/E.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function tk(n,e,t,i,r,o){n.data?n.data.setItemGraphicEl(o,e):lr(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function Z2(n,e,t,i,r){n.data||Yd({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function xm(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return fa(e,a,o.get("blurScope"),o.get("disabled")),n.isGeo&&function(l,u,f){var g=lr(l);g.componentMainType=u.mainType,g.componentIndex=u.componentIndex,g.componentHighDownName=f}(e,r,t),a}function Wy(n,e,t){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var l=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(u,f){isFinite(u)&&isFinite(f)&&i.push([u,f])},sphere:function(){}});return!t&&l.polygonStart(),ht(n,function(u){l.lineStart();for(var f=0;f<u.length;f++)l.point(u[f][0],u[f][1]);l.lineEnd()}),!t&&l.polygonEnd(),r}var qO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){if(!o||o.type!=="mapToggleSelect"||o.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&o&&o.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===t.id)(l=this._mapDraw)&&a.add(l.group);else if(t.needsDrawMap){var l=this._mapDraw||new ec(r);a.add(l.group),l.draw(t,i,r,this,o),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var o=t.originalData,a=this.group;o.each(o.mapDimension("value"),function(l,u){if(!isNaN(l)){var f=o.getItemLayout(u);if(f&&f.point){var g=f.point,v=f.offset,_=new xl({style:{fill:t.getData().getVisual("style").fill},shape:{cx:g[0]+9*v,cy:g[1],r:3},silent:!0,z2:8+(v?0:11)});if(!v){var S=t.mainSeries.getData(),A=o.getName(u),E=S.indexOfName(A),D=o.getItemModel(u),R=D.getModel("label"),z=S.getItemGraphicEl(E);na(_,Wa(D),{labelFetcher:{getFormattedLabel:function(Y,G){return t.getFormattedLabel(E,G)}},defaultText:A}),_.disableLabelAnimation=!0,R.get("position")||_.setTextConfig({position:"bottom"}),z.onHoverStateChange=function(Y){E0(_,Y)}}a.add(_)}}})},e.type="map",e}(wo),M1=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(i!=null){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},t}return Tt(e,n),e.prototype.getInitialData=function(t){for(var i=Vf(this,{coordDimensions:["value"],encodeDefaulter:_n(gf,this)}),r=ze(),o=[],a=0,l=i.count();a<l;a++){var u=i.getName(a);r.set(u,!0)}return ht(ZC(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(f){var g=f.name;r.get(g)||o.push(g)}),i.appendValues([],o),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData(),a=this.getRawValue(t),l=o.getName(t),u=this.seriesGroup,f=[],g=0;g<u.length;g++){var v=u[g].originalData.indexOfName(l),_=o.mapDimension("value");isNaN(u[g].originalData.get(_,v))||f.push(u[g].name)}return ia("section",{header:f.join(", "),noHeader:!f.length,blocks:[ia("nameValue",{name:l,value:a})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=va(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Io);function UO(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),ht(e,function(t,i){for(var r,o,a,l=(r=lt(t,function(f){return f.getData()}),o=t[0].get("mapValueCalculation"),a={},ht(r,function(f){f.each(f.mapDimension("value"),function(g,v){var _="ec-"+f.getName(v);a[_]=a[_]||[],isNaN(g)||a[_].push(g)})}),r[0].map(r[0].mapDimension("value"),function(f,g){for(var v="ec-"+r[0].getName(g),_=0,S=1/0,A=-1/0,E=a[v].length,D=0;D<E;D++)S=Math.min(S,a[v][D]),A=Math.max(A,a[v][D]),_+=a[v][D];return E===0?NaN:o==="min"?S:o==="max"?A:o==="average"?_/E:_})),u=0;u<t.length;u++)t[u].originalData=t[u].getData();for(u=0;u<t.length;u++)t[u].seriesGroup=t,t[u].needsDrawMap=u===0&&!t[u].getHostGeoModel(),t[u].setData(l.cloneShallow()),t[u].mainSeries=t[0]})}function Kc(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var r={};ht(t.seriesGroup,function(a){var l=a.coordinateSystem,u=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(f,g){var v=u.getName(g),_=l.getRegion(v);if(_&&!isNaN(f)){var S=r[v]||0,A=l.dataToPoint(_.getCenter());r[v]=S+1,u.setItemLayout(g,{point:A,offset:S})}})});var o=t.getData();o.each(function(a){var l=o.getName(a),u=o.getItemLayout(a)||{};u.showLabel=!r[l],o.setItemLayout(a,u)}),e[i]=!0}})}var jy=Ui,_m=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Wo,i._rawTransformable=new Wo,i.name=t,i}return Tt(e,n),e.prototype.setBoundingRect=function(t,i,r,o){return this._rect=new yr(t,i,r,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,o){this._transformTo(t,i,r,o),this._viewRect=new yr(t,i,r,o)},e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),l=this._rawTransformable;l.transform=a.calculateTransform(new yr(t,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,this._updateTransform()},e.prototype.setCenter=function(t,i){t&&(this._center=[ei(t[0],i.getWidth()),ei(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(i.max!=null&&(t=Math.min(i.max,t)),i.min!=null&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=Ui([],o,t),r=Ui([],r,t),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),vr(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],qr(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new Wo;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?jy(r,t,o):Dn(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?jy([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var o=K2(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=K2(i);return o===this?o.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Wo);function K2(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var Q2={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},ek=["lng","lat"],T1=function(n){function e(t,i,r){var o=n.call(this,t)||this;o.dimensions=ek,o.type="geo",o._nameCoordMap=ze(),o.map=i;var a,l=r.projection,u=ZC(i,r.nameMap,r.nameProperty),f=Vy(i),g=(o.resourceType=f?f.type:null,o.regions=u.regions),v=Q2[f.type];if(o._regionsMap=u.regionsMap,o.regions=u.regions,o.projection=l,l)for(var _=0;_<g.length;_++){var S=g[_].getBoundingRect(l);(a=a||S.clone()).union(S)}else a=u.boundingRect;return o.setBoundingRect(a.x,a.y,a.width,a.height),o.aspectScale=l?1:yi(r.aspectScale,v.aspectScale),o._invertLongitute=!l&&v.invertLongitute,o}return Tt(e,n),e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),l=this._invertLongitute;a=a.clone(),l&&(a.y=-a.y-a.height);var u=this._rawTransformable;u.transform=a.calculateTransform(new yr(t,i,r,o));var f=u.parent;u.parent=null,u.decomposeTransform(),u.parent=f,l&&(u.scaleY=-u.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if(o.type==="geoJSON"&&o.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if(Mn(t)&&(t=this.getGeoCoord(t)),t){var o=this.projection;return o&&(t=o.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var o=nk(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=nk(i);return o===this?o.pointToData(r):null},e}(_m);function nk(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",da).models[0]||{}).coordinateSystem:null}function J2(n,e){var t=n.get("boundingCoords");if(t!=null){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],l=i[1],u=r[0],f=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var g=function(Q,et,ot,xt){for(var St=ot-Q,Mt=xt-et,Bt=0;Bt<=100;Bt++){var Zt=Bt/100,se=o.project([Q+St*Zt,et+Mt*Zt]);qt(i,i,se),h(r,r,se)}};g(a,l,u,l),g(u,l,u,f),g(u,f,a,f),g(a,f,u,l)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var v,_,S,A=this.getBoundingRect(),E=n.get("layoutCenter"),D=n.get("layoutSize"),R=e.getWidth(),z=e.getHeight(),Y=A.width/A.height*this.aspectScale,G=!1;if(E&&D&&(v=[ei(E[0],R),ei(E[1],z)],_=ei(D,Math.min(R,z)),isNaN(v[0])||isNaN(v[1])||isNaN(_)||(G=!0)),G)S={},Y>1?(S.width=_,S.height=_/Y):(S.height=_,S.width=_*Y),S.y=v[1]-S.height/2,S.x=v[0]-S.width/2;else{var $=n.getBoxLayoutParams();$.aspect=Y,S=ma($,{width:R,height:z})}this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}jt(T1,_m);var $O=function(){function n(){this.dimensions=ek}return n.prototype.create=function(e,t){var i=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}e.eachComponent("geo",function(a,l){var u=a.get("map"),f=new T1(u+l,u,me({nameMap:a.get("nameMap")},r(a)));f.zoomLimit=a.get("scaleLimit"),i.push(f),a.coordinateSystem=f,f.model=a,f.resize=J2,f.resize(a,t)}),e.eachSeries(function(a){if(a.get("coordinateSystem")==="geo"){var l=a.get("geoIndex")||0;a.coordinateSystem=i[l]}});var o={};return e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var l=a.getMapType();o[l]=o[l]||[],o[l].push(a)}}),ht(o,function(a,l){var u=lt(a,function(g){return g.get("nameMap")}),f=new T1(l,l,me({nameMap:De(u)},r(a[0])));f.zoomLimit=zi.apply(null,lt(a,function(g){return g.get("scaleLimit")})),i.push(f),f.resize=J2,f.resize(a[0],t),ht(a,function(g){g.coordinateSystem=f,function(v,_){ht(_.get("geoCoord"),function(S,A){v.addGeoCoord(A,S)})}(f,g)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var o=(e||[]).slice(),a=ze(),l=0;l<o.length;l++)a.set(o[l].name,o[l]);return ht(ZC(t,i,r).regions,function(u){var f=u.name;!a.get(f)&&o.push({name:f})}),o},n}(),tI=new $O,ZO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i,r){var o=Vy(t.map);if(o&&o.type==="geoJSON"){var a=t.itemStyle=t.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(t,r),pu(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=tI.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=an(i.regions||[],function(o,a){var l=a.name;return l&&(o.set(l,new ao(a,t,t.ecModel)),a.selected&&(r[l]=!0)),o},ze()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new ao(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var r=this.getRegionModel(t),o=i==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),a={name:t};return Ge(o)?(a.status=i,o(a)):Mn(o)?o.replace("{a}",t??""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;r&&(r!=="multiple"&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Wr);function eI(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function ik(n,e,t,i){var r=n.getZoom(),o=n.getCenter(),a=e.zoom,l=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(e.dx!=null&&e.dy!=null&&(l[0]-=e.dx,l[1]-=e.dy,n.setCenter(eI(n,l),i)),a!=null){if(t){var u=t.min||0,f=t.max||1/0;a=Math.max(Math.min(r*a,f),u)/r}n.scaleX*=a,n.scaleY*=a;var g=(e.originX-n.x)*(a-1),v=(e.originY-n.y)*(a-1);n.x-=g,n.y-=v,n.updateTransform(),n.setCenter(eI(n,l),i),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var KO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return Tt(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,o){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new ec(r));var a=this._mapDraw;a.draw(t,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=t.get("silent"),this.group.add(a.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;wc(t.target,function(r){return(i=lr(r).eventData)!=null},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var o=this;this._mapDraw.group.traverse(function(a){var l=lr(a).eventData;if(l)return o._model.isSelected(l.name)?r.enterSelect(a):r.leaveSelect(a),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(Ao);function I1(n,e,t){Fy(n,e,t)}function E1(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},l=[];return o.eachComponent({mainType:"geo",query:r},function(u){u[t](r.name),ht(u.coordinateSystem.regions,function(g){a[g.name]=u.isSelected(g.name)||!1});var f=[];ht(a,function(g,v){a[v]&&f.push(v)}),l.push({geoIndex:u.componentIndex,name:f})}),{selected:a,allSelected:l,name:r.name}})}n.registerCoordinateSystem("geo",tI),n.registerComponentModel(ZO),n.registerComponentView(KO),n.registerImpl("registerMap",I1),n.registerImpl("getMap",function(t){return X2(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var o=t.componentType||"series";i.eachComponent({mainType:o,query:t},function(a){var l=a.coordinateSystem;if(l.type==="geo"){var u=ik(l,t,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(u.center),a.setZoom&&a.setZoom(u.zoom),o==="series"&&ht(a.seriesGroup,function(f){f.setCenter(u.center),f.setZoom(u.zoom)})}})})}function QO(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){(function(a){for(var l=a.children,u=l.length,f=0,g=0;--u>=0;){var v=l[u];v.hierNode.prelim+=f,v.hierNode.modifier+=f,g+=v.hierNode.change,f+=v.hierNode.shift+g}})(n);var o=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=function(a,l,u,f){if(l){for(var g=a,v=a,_=v.parentNode.children[0],S=l,A=g.hierNode.modifier,E=v.hierNode.modifier,D=_.hierNode.modifier,R=S.hierNode.modifier;S=ok(S),v=O1(v),S&&v;){g=ok(g),_=O1(_),g.hierNode.ancestor=a;var z=S.hierNode.prelim+R-v.hierNode.prelim-E+f(S,v);z>0&&(rI(iI(S,a,u),a,z),E+=z,A+=z),R+=S.hierNode.modifier,E+=v.hierNode.modifier,A+=g.hierNode.modifier,D+=_.hierNode.modifier}S&&!ok(g)&&(g.hierNode.thread=S,g.hierNode.modifier+=R-A),v&&!O1(_)&&(_.hierNode.thread=v,_.hierNode.modifier+=E-D,u=a)}return u}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function nI(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function rk(n){return arguments.length?n:oI}function Yf(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function ok(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function O1(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function iI(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function rI(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function oI(n,e){return n.parentNode===e.parentNode?1:2}var ak=function(){this.parentPoint=[],this.childPoints=[]},sk=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ak},e.prototype.buildPath=function(t,i){var r=i.childPoints,o=r.length,a=i.parentPoint,l=r[0],u=r[o-1];if(o===1)return t.moveTo(a[0],a[1]),void t.lineTo(l[0],l[1]);var f=i.orient,g=f==="TB"||f==="BT"?0:1,v=1-g,_=ei(i.forkPosition,1),S=[];S[g]=a[g],S[v]=a[v]+(u[v]-a[v])*_,t.moveTo(a[0],a[1]),t.lineTo(S[0],S[1]),t.moveTo(l[0],l[1]),S[g]=l[g],t.lineTo(S[0],S[1]),S[g]=u[g],t.lineTo(S[0],S[1]),t.lineTo(u[0],u[1]);for(var A=1;A<o-1;A++){var E=r[A];t.moveTo(E[0],E[1]),S[g]=E[g],t.lineTo(S[0],S[1])}},e}(pr),JO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Di,t}return Tt(e,n),e.prototype.init=function(t,i){this._controller=new bm(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var o=t.getData(),a=t.layoutInfo,l=this._mainGroup;t.get("layout")==="radial"?(l.x=a.x+a.width/2,l.y=a.y+a.height/2):(l.x=a.x,l.y=a.y),this._updateViewCoordSys(t,r),this._updateController(t,i,r);var u=this._data;o.diff(u).add(function(f){aI(o,f)&&sI(o,f,null,l,t)}).update(function(f,g){var v=u.getItemGraphicEl(g);aI(o,f)?sI(o,f,v,l,t):v&&D1(u,g,v,l,t)}).remove(function(f){var g=u.getItemGraphicEl(f);g&&D1(u,f,g,l,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&o.eachItemGraphicEl(function(f,g){f.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:g})})}),this._data=o},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),o=[];r.each(function(v){var _=r.getItemLayout(v);!_||isNaN(_.x)||isNaN(_.y)||o.push([+_.x,+_.y])});var a=[],l=[];Sa(o,a,l);var u=this._min,f=this._max;l[0]-a[0]==0&&(a[0]=u?u[0]:a[0]-1,l[0]=f?f[0]:l[0]+1),l[1]-a[1]==0&&(a[1]=u?u[1]:a[1]-1,l[1]=f?f[1]:l[1]+1);var g=t.coordinateSystem=new _m;g.zoomLimit=t.get("scaleLimit"),g.setBoundingRect(a[0],a[1],l[0]-a[0],l[1]-a[1]),g.setCenter(t.get("center"),i),g.setZoom(t.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=a,this._max=l},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,l=this._controllerHost,u=this.group;a.setPointerChecker(function(f,g,v){var _=u.getBoundingRect();return _.applyTransform(u.transform),_.contain(g,v)&&!b1(f,r,t)}),a.enable(t.get("roam")),l.zoomLimit=t.get("scaleLimit"),l.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(f){VC(l,f.dx,f.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){Ny(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if(i.type!=="view")return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(wo);function aI(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function sI(n,e,t,i,r){var o=!t,a=n.tree.getNodeByDataIndex(e),l=a.getModel(),u=a.getVisual("style").fill,f=a.isExpand===!1&&a.children.length!==0?u:"#fff",g=n.tree.root,v=a.parentNode===g?a:a.parentNode||a,_=n.getItemGraphicEl(v.dataIndex),S=v.getLayout(),A=_?{x:_.__oldX,y:_.__oldY,rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:S,E=a.getLayout();o?((t=new hm(n,e,null,{symbolInnerColor:f,useNameLabel:!0})).x=A.x,t.y=A.y):t.updateData(n,e,null,{symbolInnerColor:f,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=E.rawX,t.__radialRawY=E.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Zr(t,{x:E.x,y:E.y},r);var D=t.getSymbolPath();if(r.get("layout")==="radial"){var R=g.children[0],z=R.getLayout(),Y=R.children.length,G=void 0,$=void 0;if(E.x===z.x&&a.isExpand===!0&&R.children.length){var Q={x:(R.children[0].getLayout().x+R.children[Y-1].getLayout().x)/2,y:(R.children[0].getLayout().y+R.children[Y-1].getLayout().y)/2};(G=Math.atan2(Q.y-z.y,Q.x-z.x))<0&&(G=2*Math.PI+G),($=Q.x<z.x)&&(G-=Math.PI)}else(G=Math.atan2(E.y-z.y,E.x-z.x))<0&&(G=2*Math.PI+G),a.children.length===0||a.children.length!==0&&a.isExpand===!1?($=E.x<z.x)&&(G-=Math.PI):($=E.x>z.x)||(G-=Math.PI);var et=$?"left":"right",ot=l.getModel("label"),xt=ot.get("rotate"),St=xt*(Math.PI/180),Mt=D.getTextContent();Mt&&(D.setTextConfig({position:ot.get("position")||et,rotation:xt==null?-G:St,origin:"center"}),Mt.setStyle("verticalAlign","middle"))}var Bt=l.get(["emphasis","focus"]),Zt=Bt==="relative"?Zn(a.getAncestorsIndices(),a.getDescendantIndices()):Bt==="ancestor"?a.getAncestorsIndices():Bt==="descendant"?a.getDescendantIndices():null;Zt&&(lr(t).focus=Zt),function(se,pe,be,we,Re,Ze,Je,rn){var An=pe.getModel(),Yn=se.get("edgeShape"),cn=se.get("layout"),Pn=se.getOrient(),Jn=se.get(["lineStyle","curveness"]),Kn=se.get("edgeForkPosition"),Gn=An.getModel("lineStyle").getLineStyle(),ri=we.__edge;if(Yn==="curve")pe.parentNode&&pe.parentNode!==be&&(ri||(ri=we.__edge=new Bd({shape:L1(cn,Pn,Jn,Re,Re)})),Zr(ri,{shape:L1(cn,Pn,Jn,Ze,Je)},se));else if(Yn==="polyline"&&cn==="orthogonal"&&pe!==be&&pe.children&&pe.children.length!==0&&pe.isExpand===!0){for(var qn=pe.children,li=[],Ai=0;Ai<qn.length;Ai++){var cr=qn[Ai].getLayout();li.push([cr.x,cr.y])}ri||(ri=we.__edge=new sk({shape:{parentPoint:[Je.x,Je.y],childPoints:[[Je.x,Je.y]],orient:Pn,forkPosition:Kn}})),Zr(ri,{shape:{parentPoint:[Je.x,Je.y],childPoints:li}},se)}ri&&(Yn!=="polyline"||pe.isExpand)&&(ri.useStyle(Ne({strokeNoScale:!0,fill:null},Gn)),Is(ri,An,"lineStyle"),Jp(ri),rn.add(ri))}(r,a,g,t,A,S,E,i),t.__edge&&(t.onHoverStateChange=function(se){if(se!=="blur"){var pe=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);pe&&pe.hoverState===1||E0(t.__edge,se)}})}function lk(n,e,t,i,r){var o=Yy(e.tree.root,n),a=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var f=e.getItemGraphicEl(a.dataIndex).__edge,g=u.__edge||(a.isExpand===!1||a.children.length===1?f:void 0),v=i.get("edgeShape"),_=i.get("layout"),S=i.get("orient"),A=i.get(["lineStyle","curveness"]);g&&(v==="curve"?ah(g,{shape:L1(_,S,A,l,l),style:{opacity:0}},i,{cb:function(){t.remove(g)},removeOpt:r}):v==="polyline"&&i.get("layout")==="orthogonal"&&ah(g,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(g)},removeOpt:r}))}}function Yy(n,e){for(var t,i=e.parentNode===n?e:e.parentNode||e;(t=i.getLayout())==null;)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:t}}function D1(n,e,t,i,r){var o=n.tree.getNodeByDataIndex(e),a=Yy(n.tree.root,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};ah(t,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){lk(u,n,i,r,l)}),lk(o,n,i,r,l)}function L1(n,e,t,i,r){var o,a,l,u,f,g,v,_;if(n==="radial"){f=i.rawX,v=i.rawY,g=r.rawX,_=r.rawY;var S=Yf(f,v),A=Yf(f,v+(_-v)*t),E=Yf(g,_+(v-_)*t),D=Yf(g,_);return{x1:S.x||0,y1:S.y||0,x2:D.x||0,y2:D.y||0,cpx1:A.x||0,cpy1:A.y||0,cpx2:E.x||0,cpy2:E.y||0}}return f=i.x,v=i.y,g=r.x,_=r.y,e!=="LR"&&e!=="RL"||(o=f+(g-f)*t,a=v,l=g+(f-g)*t,u=_),e!=="TB"&&e!=="BT"||(o=f,a=v+(_-v)*t,l=g,u=_+(v-_)*t),{x1:f,y1:v,x2:g,y2:_,cpx1:o,cpy1:a,cpx2:l,cpy2:u}}var Ja=Hr();function ck(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,hk(e,t,n),ht(t,function(i){ht(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,_n(lI,n))})}),e.wrapMethod("cloneShallow",_n(tD,n)),ht(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,_n(uk,n))}),At(t[e.dataType]===e)}function lI(n,e){if(Ja(i=this).mainData===i){var t=me({},Ja(this).datas);t[this.dataType]=e,hk(e,t,n)}else P1(e,this.dataType,Ja(this).mainData,n);var i;return e}function uk(n,e){return n.struct&&n.struct.update(),e}function tD(n,e){return ht(Ja(e).datas,function(t,i){t!==e&&P1(t.cloneShallow(),i,e,n)}),e}function cI(n){var e=Ja(this).mainData;return n==null||e==null?e:Ja(e).datas[n]}function uI(){var n=Ja(this).mainData;return n==null?[{data:n}]:lt(Qe(Ja(n).datas),function(e){return{type:e,data:Ja(n).datas[e]}})}function hk(n,e,t){Ja(n).datas={},ht(e,function(i,r){P1(i,r,n,t)})}function P1(n,e,t,i){Ja(t).datas[e]=n,Ja(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=cI,n.getLinkedDataAll=uI}var hI=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){Ge(e)&&(i=t,t=e,e=null),Mn(e=e||{})&&(e={order:e});var r,o=e.order||"preorder",a=this[e.attr||"children"];o==="preorder"&&(r=t.call(i,this));for(var l=0;!r&&l<a.length;l++)a[l].eachNode(e,t,i);o==="postorder"&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].getNodeById(e);if(o)return o}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].contains(e);if(o)return o}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),N1=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),o=[],a=1;(function f(g,v){var _=g.value;a=Math.max(a,Be(_)?_.length:1),o.push(g);var S=new hI(wa(g.name,""),r);v?function(D,R){var z=R.children;D.parentNode!==R&&(z.push(D),D.parentNode=R)}(S,v):r.root=S,r._nodes.push(S);var A=g.children;if(A)for(var E=0;E<A.length;E++)f(A[E],S)})(e),r.root.updateDepthAndHeight(0);var l=Ef(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new fs(l,t);return u.initData(o),i&&i(u),ck({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},n}();function Gy(n,e,t){if(n&&dn(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if(Mn(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(o!=null&&(r=i.getNodeById(o)))return{node:r}}}function dk(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function pk(n,e){return dn(dk(n),e)>=0}function R1(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var eD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},r=t.leaves||{},o=new ao(r,this,this.ecModel),a=N1.createTree(i,this,function(f){f.wrapMethod("getItemModel",function(g,v){var _=a.getNodeByDataIndex(v);return _&&_.children.length&&_.isExpand||(g.parentModel=o),g})}),l=0;a.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return a.root.eachNode("preorder",function(f){var g=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=g&&g.collapsed!=null?!g.collapsed:f.depth<=u}),a.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData().tree,a=o.root.children[0],l=o.getNodeByDataIndex(t),u=l.getValue(),f=l.name;l&&l!==a;)f=l.parentNode.name+"."+f,l=l.parentNode;return ia("nameValue",{name:f,value:u,noValue:isNaN(u)||u==null})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=R1(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Io);function wm(n,e){for(var t,i=[n];t=i.pop();)if(e(t),t.isExpand){var r=t.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function nD(n,e){n.eachSeriesByType("tree",function(t){(function(i,r){var o=function(Q,et){return ma(Q.getBoxLayoutParams(),{width:et.getWidth(),height:et.getHeight()})}(i,r);i.layoutInfo=o;var a=i.get("layout"),l=0,u=0,f=null;a==="radial"?(l=2*Math.PI,u=Math.min(o.height,o.width)/2,f=rk(function(Q,et){return(Q.parentNode===et.parentNode?1:2)/Q.depth})):(l=o.width,u=o.height,f=rk());var g=i.getData().tree.root,v=g.children[0];if(v){(function(Q){var et=Q;et.hierNode={defaultAncestor:null,ancestor:et,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var ot,xt,St=[et];ot=St.pop();)if(xt=ot.children,ot.isExpand&&xt.length)for(var Mt=xt.length-1;Mt>=0;Mt--){var Bt=xt[Mt];Bt.hierNode={defaultAncestor:null,ancestor:Bt,prelim:0,modifier:0,change:0,shift:0,i:Mt,thread:null},St.push(Bt)}})(g),function(Q,et,ot){for(var xt,St=[Q],Mt=[];xt=St.pop();)if(Mt.push(xt),xt.isExpand){var Bt=xt.children;if(Bt.length)for(var Zt=0;Zt<Bt.length;Zt++)St.push(Bt[Zt])}for(;xt=Mt.pop();)et(xt,ot)}(v,QO,f),g.hierNode.modifier=-v.hierNode.prelim,wm(v,nI);var _=v,S=v,A=v;wm(v,function(Q){var et=Q.getLayout().x;et<_.getLayout().x&&(_=Q),et>S.getLayout().x&&(S=Q),Q.depth>A.depth&&(A=Q)});var E=_===S?1:f(_,S)/2,D=E-_.getLayout().x,R=0,z=0,Y=0,G=0;if(a==="radial")R=l/(S.getLayout().x+E+D),z=u/(A.depth-1||1),wm(v,function(Q){Y=(Q.getLayout().x+D)*R,G=(Q.depth-1)*z;var et=Yf(Y,G);Q.setLayout({x:et.x,y:et.y,rawX:Y,rawY:G},!0)});else{var $=i.getOrient();$==="RL"||$==="LR"?(z=u/(S.getLayout().x+E+D),R=l/(A.depth-1||1),wm(v,function(Q){G=(Q.getLayout().x+D)*z,Y=$==="LR"?(Q.depth-1)*R:l-(Q.depth-1)*R,Q.setLayout({x:Y,y:G},!0)})):$!=="TB"&&$!=="BT"||(R=l/(S.getLayout().x+E+D),z=u/(A.depth-1||1),wm(v,function(Q){Y=(Q.getLayout().x+D)*R,G=$==="TB"?(Q.depth-1)*z:u-(Q.depth-1)*z,Q.setLayout({x:Y,y:G},!0)}))}}})(t,e)})}function dI(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();me(t.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var fk=["treemapZoomToNode","treemapRender","treemapMove"];function gk(n){var e=n.getData().tree,t={};e.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=Sv(n.ecModel,r.name||r.dataIndex+"",t);i.setVisual("decal",o)})}var iD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};Gf(r);var o=t.levels||[],a=this.designatedVisualItemStyle={},l=new ao({itemStyle:a},this,i);o=t.levels=function(g,v){var _,S,A=oo(v.get("color")),E=oo(v.get(["aria","decal","decals"]));if(A){g=g||[],ht(g,function(R){var z=new ao(R),Y=z.get("color"),G=z.get("decal");(z.get(["itemStyle","color"])||Y&&Y!=="none")&&(_=!0),(z.get(["itemStyle","decal"])||G&&G!=="none")&&(S=!0)});var D=g[0]||(g[0]={});return _||(D.color=A.slice()),!S&&E&&(D.decal=E.slice()),g}}(o,i);var u=lt(o||[],function(g){return new ao(g,l,i)},this),f=N1.createTree(r,this,function(g){g.wrapMethod("getItemModel",function(v,_){var S=f.getNodeByDataIndex(_),A=S?u[S.depth]:null;return v.parentModel=A||l,v})});return f.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t);return ia("nameValue",{name:o.getName(t),value:a})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=R1(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},me(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=ze(),this._idIndexMapCount=0);var r=i.get(t);return r==null&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;t&&(t===i||i.contains(t))||(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){gk(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Io);function Gf(n){var e=0;ht(n.children,function(i){Gf(i);var r=i.value;Be(r)&&(r=r[0]),e+=r});var t=n.value;Be(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Be(n.value)?n.value[0]=t:n.value=t}var rD=function(){function n(e){this.group=new Di,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var l=o.getModel("itemStyle"),u=o.getModel("emphasis"),f=l.getModel("textStyle"),g=u.getModel(["itemStyle","textStyle"]),v={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,v,f),this._renderContent(e,v,l,u,f,g,r),xv(a,v.pos,v.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var o=wa(r.getModel().get("name"),""),a=i.getTextRect(o),l=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:r,text:o,width:l})}},n.prototype._renderContent=function(e,t,i,r,o,a,l){for(var u,f,g,v,_,S,A,E,D,R=0,z=t.emptyItemWidth,Y=e.get(["breadcrumb","height"]),G=(u=t.pos,f=t.box,v=f.width,_=f.height,S=ei(u.left,v),A=ei(u.top,_),E=ei(u.right,v),D=ei(u.bottom,_),(isNaN(S)||isNaN(parseFloat(u.left)))&&(S=0),(isNaN(E)||isNaN(parseFloat(u.right)))&&(E=v),(isNaN(A)||isNaN(parseFloat(u.top)))&&(A=0),(isNaN(D)||isNaN(parseFloat(u.bottom)))&&(D=_),g=Uh(g||0),{width:Math.max(E-S-g[1]-g[3],0),height:Math.max(D-A-g[0]-g[2],0)}),$=t.totalWidth,Q=t.renderList,et=r.getModel("itemStyle").getItemStyle(),ot=Q.length-1;ot>=0;ot--){var xt=Q[ot],St=xt.node,Mt=xt.width,Bt=xt.text;$>G.width&&($-=Mt-z,Mt=z,Bt=null);var Zt=new Zs({shape:{points:oD(R,0,Mt,Y,ot===Q.length-1,ot===0)},style:Ne(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new $r({style:Do(o,{text:Bt})}),textConfig:{position:"inside"},z2:1e5,onclick:_n(l,St)});Zt.disableLabelAnimation=!0,Zt.getTextContent().ensureState("emphasis").style=Do(a,{text:Bt}),Zt.ensureState("emphasis").style=et,fa(Zt,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(Zt),aD(Zt,e,St),R+=Mt+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function oD(n,e,t,i,r,o){var a=[[r?n:n-5,e],[n+t,e],[n+t,e+i],[r?n:n-5,e+i]];return!o&&a.splice(2,0,[n+t+5,e+i/2]),!r&&a.push([n,e+i/2]),a}function aD(n,e,t){lr(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&R1(t,e)}}var sD=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),Xy=Di,mk=Ur,vk="label",yk="upperLabel",ad=ta([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pI=function(n){var e=ad(n);return e.stroke=e.fill=e.lineWidth=null,e},B1=Hr(),lD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return Tt(e,n),e.prototype.render=function(t,i,r,o){if(!(dn(i.findComponents({mainType:"series",subType:"treemap",query:o}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var a=Gy(o,["treemapZoomToNode","treemapRootToNode"],t),l=o&&o.type,u=t.layoutInfo,f=!this._oldTree,g=this._storage,v=l==="treemapRootToNode"&&a&&g?{rootNodeGroup:g.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,_=this._giveContainerGroup(u),S=t.get("animation"),A=this._doRender(_,t,v);!S||f||l&&l!=="treemapZoomToNode"&&l!=="treemapRootToNode"?A.renderFinally():this._doAnimation(_,A,t,v),this._resetController(r),this._renderBreadcrumb(t,r,a)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new Xy,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var o=i.getData().tree,a=this._oldTree,l={nodeGroup:[],background:[],content:[]},u={nodeGroup:[],background:[],content:[]},f=this._storage,g=[];function v(S,A,E,D){return function(R,z,Y,G,$,Q,et,ot,xt,St){if(!et)return;var Mt=et.getLayout(),Bt=R.getData(),Zt=et.getModel();if(Bt.setItemGraphicEl(et.dataIndex,null),!Mt||!Mt.isInView)return;var se=Mt.width,pe=Mt.height,be=Mt.borderWidth,we=Mt.invisible,Re=et.getRawIndex(),Ze=ot&&ot.getRawIndex(),Je=et.viewChildren,rn=Mt.upperHeight,An=Je&&Je.length,Yn=Zt.getModel("itemStyle"),cn=Zt.getModel(["emphasis","itemStyle"]),Pn=Zt.getModel(["blur","itemStyle"]),Jn=Zt.getModel(["select","itemStyle"]),Kn=Yn.get("borderRadius")||0,Gn=es("nodeGroup",Xy);if(!Gn)return;if(xt.add(Gn),Gn.x=Mt.x||0,Gn.y=Mt.y||0,Gn.markRedraw(),B1(Gn).nodeWidth=se,B1(Gn).nodeHeight=pe,Mt.isAboveViewRoot)return Gn;var ri=es("background",mk,St,20);ri&&zr(Gn,ri,An&&Mt.upperLabelHeight);var qn=Zt.getModel("emphasis"),li=qn.get("focus"),Ai=qn.get("blurScope"),cr=qn.get("disabled"),kr=li==="ancestor"?et.getAncestorsIndices():li==="descendant"?et.getDescendantIndices():li;if(An)Ag(Gn)&&tf(Gn,!1),ri&&(tf(ri,!cr),Bt.setItemGraphicEl(et.dataIndex,ri),E_(ri,kr,Ai));else{var So=es("content",mk,St,30);So&&Jr(Gn,So),ri.disableMorphing=!0,ri&&Ag(ri)&&tf(ri,!1),tf(Gn,!cr),Bt.setItemGraphicEl(et.dataIndex,Gn),E_(Gn,kr,Ai)}return Gn;function zr(lo,Rr,ur){var Go=lr(Rr);if(Go.dataIndex=et.dataIndex,Go.seriesIndex=R.seriesIndex,Rr.setShape({x:0,y:0,width:se,height:pe,r:Kn}),we)so(Rr);else{Rr.invisible=!1;var ya=et.getVisual("style"),ja=ya.stroke,Ya=pI(Yn);Ya.fill=ja;var Ga=ad(cn);Ga.fill=cn.get("borderColor");var dd=ad(Pn);dd.fill=Pn.get("borderColor");var rg=ad(Jn);if(rg.fill=Jn.get("borderColor"),ur){var p_=se-2*be;Yo(Rr,ja,ya.opacity,{x:be,y:0,width:p_,height:rn})}else Rr.removeTextContent();Rr.setStyle(Ya),Rr.ensureState("emphasis").style=Ga,Rr.ensureState("blur").style=dd,Rr.ensureState("select").style=rg,Jp(Rr)}lo.add(Rr)}function Jr(lo,Rr){var ur=lr(Rr);ur.dataIndex=et.dataIndex,ur.seriesIndex=R.seriesIndex;var Go=Math.max(se-2*be,0),ya=Math.max(pe-2*be,0);if(Rr.culling=!0,Rr.setShape({x:be,y:be,width:Go,height:ya,r:Kn}),we)so(Rr);else{Rr.invisible=!1;var ja=et.getVisual("style"),Ya=ja.fill,Ga=pI(Yn);Ga.fill=Ya,Ga.decal=ja.decal;var dd=ad(cn),rg=ad(Pn),p_=ad(Jn);Yo(Rr,Ya,ja.opacity,null),Rr.setStyle(Ga),Rr.ensureState("emphasis").style=dd,Rr.ensureState("blur").style=rg,Rr.ensureState("select").style=p_,Jp(Rr)}lo.add(Rr)}function so(lo){!lo.invisible&&Q.push(lo)}function Yo(lo,Rr,ur,Go){var ya=Zt.getModel(Go?yk:vk),ja=wa(Zt.get("name"),null),Ya=ya.getShallow("show");na(lo,Wa(Zt,Go?yk:vk),{defaultText:Ya?ja:null,inheritColor:Rr,defaultOpacity:ur,labelFetcher:R,labelDataIndex:et.dataIndex});var Ga=lo.getTextContent();if(Ga){var dd=Ga.style,rg=Yt(dd.padding||0);Go&&(lo.setTextConfig({layoutRect:Go}),Ga.disableLabelLayout=!0),Ga.beforeUpdate=function(){var oB=Math.max((Go?Go.width:lo.shape.width)-rg[1]-rg[3],0),aB=Math.max((Go?Go.height:lo.shape.height)-rg[0]-rg[2],0);dd.width===oB&&dd.height===aB||Ga.setStyle({width:oB,height:aB})},dd.truncateMinChar=2,dd.lineOverflow="truncate",$o(dd,Go,Mt);var p_=Ga.getState("emphasis");$o(p_?p_.style:null,Go,Mt)}}function $o(lo,Rr,ur){var Go=lo?lo.text:null;if(!Rr&&ur.isLeafRoot&&Go!=null){var ya=R.get("drillDownIcon",!0);lo.text=ya?ya+" "+Go:Go}}function es(lo,Rr,ur,Go){var ya=Ze!=null&&Y[lo][Ze],ja=$[lo];return ya?(Y[lo][Ze]=null,eu(ja,ya)):we||((ya=new Rr)instanceof Ka&&(ya.z2=function(Ya,Ga){return 100*Ya+Ga}(ur,Go)),Rp(ja,ya)),z[lo][Re]=ya}function eu(lo,Rr){var ur=lo[Re]={};Rr instanceof Xy?(ur.oldX=Rr.x,ur.oldY=Rr.y):ur.oldShape=me({},Rr.shape)}function Rp(lo,Rr){var ur=lo[Re]={},Go=et.parentNode,ya=Rr instanceof Di;if(Go&&(!G||G.direction==="drillDown")){var ja=0,Ya=0,Ga=$.background[Go.getRawIndex()];!G&&Ga&&Ga.oldShape&&(ja=Ga.oldShape.width,Ya=Ga.oldShape.height),ya?(ur.oldX=0,ur.oldY=Ya):ur.oldShape={x:ja,y:Ya,width:0,height:0}}ur.fadein=!ya}}(i,u,f,r,l,g,S,A,E,D)}(function S(A,E,D,R,z){R?(E=A,ht(A,function($,Q){!$.isRemoved()&&G(Q,Q)})):new Eu(E,A,Y,Y).add(G).update(G).remove(_n(G,null)).execute();function Y($){return $.getId()}function G($,Q){var et=$!=null?A[$]:null,ot=Q!=null?E[Q]:null,xt=v(et,ot,D,z);xt&&S(et&&et.viewChildren||[],ot&&ot.viewChildren||[],xt,R,z+1)}})(o.root?[o.root]:[],a&&a.root?[a.root]:[],t,o===a||!a,0);var _=function(S){var A={nodeGroup:[],background:[],content:[]};return S&&ht(S,function(E,D){var R=A[D];ht(E,function(z){z&&(R.push(z),B1(z).willDelete=!0)})}),A}(f);return this._oldTree=o,this._storage=u,{lastsForAnimation:l,willDeleteEls:_,renderFinally:function(){ht(_,function(S){ht(S,function(A){A.parent&&A.parent.remove(A)})}),ht(g,function(S){S.invisible=!0,S.dirty()})}}},e.prototype._doAnimation=function(t,i,r,o){var a=r.get("animationDurationUpdate"),l=r.get("animationEasing"),u=(Ge(a)?0:a)||0,f=(Ge(l)?null:l)||"cubicOut",g=new sD;ht(i.willDeleteEls,function(v,_){ht(v,function(S,A){if(!S.invisible){var E,D=S.parent,R=B1(D);if(o&&o.direction==="drillDown")E=D===o.rootNodeGroup?{shape:{x:0,y:0,width:R.nodeWidth,height:R.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var z=0,Y=0;R.willDelete||(z=R.nodeWidth/2,Y=R.nodeHeight/2),E=_==="nodeGroup"?{x:z,y:Y,style:{opacity:0}}:{shape:{x:z,y:Y,width:0,height:0},style:{opacity:0}}}E&&g.add(S,E,u,0,f)}})}),ht(this._storage,function(v,_){ht(v,function(S,A){var E=i.lastsForAnimation[_][A],D={};E&&(S instanceof Di?E.oldX!=null&&(D.x=S.x,D.y=S.y,S.x=E.oldX,S.y=E.oldY):(E.oldShape&&(D.shape=me({},S.shape),S.setShape(E.oldShape)),E.fadein?(S.setStyle("opacity",0),D.style={opacity:1}):S.style.opacity!==1&&(D.style={opacity:1})),g.add(S,D,u,0,f))})},this),this._state="animating",g.finished(Te(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new bm(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",Te(this._onPan,this)),i.on("zoom",Te(this._onZoom,this)));var r=new yr(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(o,a,l){return r.contain(a,l)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var l=new yr(a.x,a.y,a.width,a.height),u=this.seriesModel.layoutInfo,f=[1,0,0,1,0,0];er(f,f,[-(i-=u.x),-(r-=u.y)]),bo(f,f,[t.scale,t.scale]),er(f,f,[i,r]),l.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if(i._state==="ready"){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var l=a.node;if(l.getLayout().isLeafRoot)i._rootToNode(a);else if(o==="zoomToNode")i._zoomToNode(a);else if(o==="link"){var u=l.hostTree.data.getItemModel(l.dataIndex),f=u.get("link",!0),g=u.get("target",!0)||"blank";f&&nb(f,g)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var o=this;r||(r=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new rD(this.group))).render(t,i,r.node,function(a){o._state!=="animating"&&(pk(t.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var l=a.transformCoordToLocal(t,i),u=a.shape;if(!(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height))return!1;r={node:o,offsetX:l[0],offsetY:l[1]}}},this),r},e.type="treemap",e}(wo),Sm=ht,fI=di,bk=-1,ts=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=Kt(e);this.type=i,this.mappingMethod=t,this._normalizeData=cD[t];var o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[t],t==="piecewise"?(Cm(r),function(a){var l=a.pieceList;a.hasSpecialVisual=!1,ht(l,function(u,f){u.originIndex=f,u.visual!=null&&(a.hasSpecialVisual=!0)})}(r)):t==="category"?r.categories?function(a){var l=a.categories,u=a.categoryMap={},f=a.visual;if(Sm(l,function(_,S){u[_]=S}),!Be(f)){var g=[];di(f)?Sm(f,function(_,S){var A=u[S];g[A??bk]=_}):g[-1]=f,f=wk(a,g)}for(var v=l.length-1;v>=0;v--)f[v]==null&&(delete u[l[v]],l.pop())}(r):Cm(r,!0):(At(t!=="linear"||r.dataExtent),Cm(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Te(this._normalizeData,this)},n.listVisualTypes=function(){return Qe(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){di(e)?ht(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,o=Be(e)?[]:di(e)?{}:(r=!0,null);return n.eachVisual(e,function(a,l){var u=t.call(i,a,l);r?o=u:o[l]=u}),o},n.retrieveVisuals=function(e){var t,i={};return e&&Sm(n.visualHandlers,function(r,o){e.hasOwnProperty(o)&&(i[o]=e[o],t=!0)}),t?i:null},n.prepareVisualTypes=function(e){if(Be(e))e=e.slice();else{if(!fI(e))return[];var t=[];Sm(e,function(i,r){t.push(r)}),e=t}return e.sort(function(i,r){return r==="color"&&i!=="color"&&i.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!(!e||e.indexOf(t)!==0):e===t},n.findPieceIndex=function(e,t,i){for(var r,o=1/0,a=0,l=t.length;a<l;a++){var u=t[a].value;if(u!=null){if(u===e||Mn(u)&&u===e+"")return a;i&&_(u,a)}}for(a=0,l=t.length;a<l;a++){var f=t[a],g=f.interval,v=f.close;if(g){if(g[0]===-1/0){if(Mp(v[1],e,g[1]))return a}else if(g[1]===1/0){if(Mp(v[0],g[0],e))return a}else if(Mp(v[0],g[0],e)&&Mp(v[1],e,g[1]))return a;i&&_(g[0],a),i&&_(g[1],a)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function _(S,A){var E=Math.abs(S-e);E<o&&(o=E,r=A)}},n.visualHandlers={color:{applyVisual:km("color"),getColorMapper:function(){var e=this.option;return Te(e.mappingMethod==="category"?function(t,i){return!i&&(t=this._normalizeData(t)),Am.call(this,t)}:function(t,i,r){var o=!!r;return!i&&(t=this._normalizeData(t)),r=ys(t,e.parsedVisual,r),o?r:Oa(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Oa(ys(e,this.option.parsedVisual),"rgba")},category:Am,piecewise:function(e,t){var i=z1.call(this,t);return i==null&&(i=Oa(ys(e,this.option.parsedVisual),"rgba")),i},fixed:Ap}},colorHue:qy(function(e,t){return cl(e,t)}),colorSaturation:qy(function(e,t){return cl(e,null,t)}),colorLightness:qy(function(e,t){return cl(e,null,null,t)}),colorAlpha:qy(function(e,t){return hc(e,t)}),decal:{applyVisual:km("decal"),_normalizedToVisual:{linear:null,category:Am,piecewise:null,fixed:null}},opacity:{applyVisual:km("opacity"),_normalizedToVisual:_k([0,1])},liftZ:{applyVisual:km("liftZ"),_normalizedToVisual:{linear:Ap,category:Ap,piecewise:Ap,fixed:Ap}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:xk,category:Am,piecewise:function(e,t){var i=z1.call(this,t);return i==null&&(i=xk.call(this,e)),i},fixed:Ap}},symbolSize:{applyVisual:km("symbolSize"),_normalizedToVisual:_k([0,1])}},n}();function Cm(n,e){var t=n.visual,i=[];di(t)?Sm(t,function(r){i.push(r)}):t!=null&&i.push(t),e||i.length!==1||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),wk(n,i)}function qy(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:_k([0,1])}}function xk(n){var e=this.option.visual;return e[Math.round(eo(n,[0,1],[0,e.length-1],!0))]||{}}function km(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function Am(n){var e=this.option.visual;return e[this.option.loop&&n!==bk?n%e.length:n]}function Ap(){return this.option.visual[0]}function _k(n){return{linear:function(e){return eo(e,n,this.option.visual,!0)},category:Am,piecewise:function(e,t){var i=z1.call(this,t);return i==null&&(i=eo(e,n,this.option.visual,!0)),i},fixed:Ap}}function z1(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var i=t[ts.findPieceIndex(n,t)];if(i&&i.visual)return i.visual[this.type]}}function wk(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=lt(e,function(t){var i=Vo(t);return i||[0,0,0,1]})),e}var cD={linear:function(n){return eo(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=ts.findPieceIndex(n,e,!0);if(t!=null)return eo(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??bk},fixed:Vn};function Mp(n,e,t){return n?e<=t:e<t}var Sk=Hr(),uD={seriesType:"treemap",reset:function(n){var e=n.getData().tree.root;e.isRemoved()||gI(e,{},n.getViewRoot().getAncestors(),n)}};function gI(n,e,t,i){var r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var l,u=r.getModel("itemStyle"),f=function(E,D,R){var z=me({},D),Y=R.designatedVisualItemStyle;return ht(["color","colorAlpha","colorSaturation"],function(G){Y[G]=D[G];var $=E.get(G);Y[G]=null,$!=null&&(z[G]=$)}),z}(u,e,i),g=a.ensureUniqueItemVisual(n.dataIndex,"style"),v=u.get("borderColor"),_=u.get("borderColorSaturation");_!=null&&(v=function(E,D){return D!=null?cl(D,null,null,E):null}(_,l=Ck(f))),g.stroke=v;var S=n.viewChildren;if(S&&S.length){var A=function(E,D,R,z,Y,G){if(!(!G||!G.length)){var $=F1(D,"color")||Y.color!=null&&Y.color!=="none"&&(F1(D,"colorAlpha")||F1(D,"colorSaturation"));if($){var Q=D.get("visualMin"),et=D.get("visualMax"),ot=R.dataExtent.slice();Q!=null&&Q<ot[0]&&(ot[0]=Q),et!=null&&et>ot[1]&&(ot[1]=et);var xt=D.get("colorMappingBy"),St={type:$.name,dataExtent:ot,visual:$.range};St.type!=="color"||xt!=="index"&&xt!=="id"?St.mappingMethod="linear":(St.mappingMethod="category",St.loop=!0);var Mt=new ts(St);return Sk(Mt).drColorMappingBy=xt,Mt}}}(0,r,o,0,f,S);ht(S,function(E,D){if(E.depth>=t.length||E===t[E.depth]){var R=function(z,Y,G,$,Q,et){var ot=me({},Y);if(Q){var xt=Q.type,St=xt==="color"&&Sk(Q).drColorMappingBy,Mt=St==="index"?$:St==="id"?et.mapIdToIndex(G.getId()):G.getValue(z.get("visualDimension"));ot[xt]=Q.mapValueToVisual(Mt)}return ot}(r,f,E,D,A,i);gI(E,R,t,i)}})}else l=Ck(f),g.fill=l}}function Ck(n){var e=Uy(n,"color");if(e){var t=Uy(n,"colorAlpha"),i=Uy(n,"colorSaturation");return i&&(e=cl(e,null,null,i)),t&&(e=hc(e,t)),e}}function Uy(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function F1(n,e){var t=n.get(e);return Be(t)&&t.length?{name:e,range:t}:null}var Mm=Math.max,sd=Math.min,$y=zi,Zy=ht,kk=["itemStyle","borderWidth"],mI=["itemStyle","gapWidth"],vI=["upperLabel","show"],yI=["upperLabel","height"],V1={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),o=t.getHeight(),a=n.option,l=ma(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),u=a.size||[],f=ei($y(l.width,u[0]),r),g=ei($y(l.height,u[1]),o),v=i&&i.type,_=Gy(i,["treemapZoomToNode","treemapRootToNode"],n),S=v==="treemapRender"||v==="treemapMove"?i.rootRect:null,A=n.getViewRoot(),E=dk(A);if(v!=="treemapMove"){var D=v==="treemapZoomToNode"?function($,Q,et,ot,xt){var St,Mt=(Q||{}).node,Bt=[ot,xt];if(!Mt||Mt===et)return Bt;for(var Zt=ot*xt,se=Zt*$.option.zoomToNodeRatio;St=Mt.parentNode;){for(var pe=0,be=St.children,we=0,Re=be.length;we<Re;we++)pe+=be[we].getValue();var Ze=Mt.getValue();if(Ze===0)return Bt;se*=pe/Ze;var Je=St.getModel(),rn=Je.get(kk);(se+=4*rn*rn+(3*rn+Math.max(rn,xI(Je)))*Math.pow(se,.5))>Hh&&(se=Hh),Mt=St}se<Zt&&(se=Zt);var An=Math.pow(se/Zt,.5);return[ot*An,xt*An]}(n,_,A,f,g):S?[S.width,S.height]:[f,g],R=a.sort;R&&R!=="asc"&&R!=="desc"&&(R="desc");var z={squareRatio:a.squareRatio,sort:R,leafDepth:a.leafDepth};A.hostTree.clearLayouts();var Y={x:0,y:0,width:D[0],height:D[1],area:D[0]*D[1]};A.setLayout(Y),Ak(A,z,!1,0),Y=A.getLayout(),Zy(E,function($,Q){var et=(E[Q+1]||A).getValue();$.setLayout(me({dataExtent:[et,et],borderWidth:0,upperHeight:0},Y))})}var G=n.getData().tree.root;G.setLayout(function($,Q,et){if(Q)return{x:Q.x,y:Q.y};var ot={x:0,y:0};if(!et)return ot;var xt=et.node,St=xt.getLayout();if(!St)return ot;for(var Mt=[St.width/2,St.height/2],Bt=xt;Bt;){var Zt=Bt.getLayout();Mt[0]+=Zt.x,Mt[1]+=Zt.y,Bt=Bt.parentNode}return{x:$.width/2-Mt[0],y:$.height/2-Mt[1]}}(l,S,_),!0),n.setLayoutInfo(l),Mk(G,new yr(-l.x,-l.y,r,o),E,A,0)}};function Ak(n,e,t,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var l=n.getModel(),u=l.get(kk),f=l.get(mI)/2,g=xI(l),v=Math.max(u,g),_=u-f,S=v-f;n.setLayout({borderWidth:u,upperHeight:v,upperLabelHeight:g},!0);var A=(r=Mm(r-2*_,0))*(o=Mm(o-_-S,0)),E=function(xt,St,Mt,Bt,Zt,se){var pe=xt.children||[],be=Bt.sort;be!=="asc"&&be!=="desc"&&(be=null);var we=Bt.leafDepth!=null&&Bt.leafDepth<=se;if(Zt&&!we)return xt.viewChildren=[];pe=en(pe,function(An){return!An.isRemoved()}),function(An,Yn){Yn&&An.sort(function(cn,Pn){var Jn=Yn==="asc"?cn.getValue()-Pn.getValue():Pn.getValue()-cn.getValue();return Jn===0?Yn==="asc"?cn.dataIndex-Pn.dataIndex:Pn.dataIndex-cn.dataIndex:Jn})}(pe,be);var Re=function(An,Yn,cn){for(var Pn=0,Jn=0,Kn=Yn.length;Jn<Kn;Jn++)Pn+=Yn[Jn].getValue();var Gn,ri=An.get("visualDimension");return Yn&&Yn.length?ri==="value"&&cn?(Gn=[Yn[Yn.length-1].getValue(),Yn[0].getValue()],cn==="asc"&&Gn.reverse()):(Gn=[1/0,-1/0],Zy(Yn,function(qn){var li=qn.getValue(ri);li<Gn[0]&&(Gn[0]=li),li>Gn[1]&&(Gn[1]=li)})):Gn=[NaN,NaN],{sum:Pn,dataExtent:Gn}}(St,pe,be);if(Re.sum===0)return xt.viewChildren=[];if(Re.sum=function(An,Yn,cn,Pn,Jn){if(!Pn)return cn;for(var Kn=An.get("visibleMin"),Gn=Jn.length,ri=Gn,qn=Gn-1;qn>=0;qn--){var li=Jn[Pn==="asc"?Gn-qn-1:qn].getValue();li/cn*Yn<Kn&&(ri=qn,cn-=li)}return Pn==="asc"?Jn.splice(0,Gn-ri):Jn.splice(ri,Gn-ri),cn}(St,Mt,Re.sum,be,pe),Re.sum===0)return xt.viewChildren=[];for(var Ze=0,Je=pe.length;Ze<Je;Ze++){var rn=pe[Ze].getValue()/Re.sum*Mt;pe[Ze].setLayout({area:rn})}return we&&(pe.length&&xt.setLayout({isLeafRoot:!0},!0),pe.length=0),xt.viewChildren=pe,xt.setLayout({dataExtent:Re.dataExtent},!0),pe}(n,l,A,e,t,i);if(E.length){var D={x:_,y:S,width:r,height:o},R=sd(r,o),z=1/0,Y=[];Y.area=0;for(var G=0,$=E.length;G<$;){var Q=E[G];Y.push(Q),Y.area+=Q.getLayout().area;var et=bI(Y,R,e.squareRatio);et<=z?(G++,z=et):(Y.area-=Y.pop().getLayout().area,H1(Y,R,D,f,!1),R=sd(D.width,D.height),Y.length=Y.area=0,z=1/0)}if(Y.length&&H1(Y,R,D,f,!0),!t){var ot=l.get("childrenVisibleMin");ot!=null&&A<ot&&(t=!0)}for(G=0,$=E.length;G<$;G++)Ak(E[G],e,t,i+1)}}}function bI(n,e,t){for(var i=0,r=1/0,o=0,a=void 0,l=n.length;o<l;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var u=n.area*n.area,f=e*e*t;return u?Mm(f*i/u,u/(f*r)):1/0}function H1(n,e,t,i,r){var o=e===t.width?0:1,a=1-o,l=["x","y"],u=["width","height"],f=t[l[o]],g=e?n.area/e:0;(r||g>t[u[a]])&&(g=t[u[a]]);for(var v=0,_=n.length;v<_;v++){var S=n[v],A={},E=g?S.getLayout().area/g:0,D=A[u[a]]=Mm(g-2*i,0),R=t[l[o]]+t[u[o]]-f,z=v===_-1||R<E?R:E,Y=A[u[o]]=Mm(z-2*i,0);A[l[a]]=t[l[a]]+sd(i,D/2),A[l[o]]=f+sd(i,Y/2),f+=z,S.setLayout(A,!0)}t[l[a]]+=g,t[u[a]]-=g}function Mk(n,e,t,i,r){var o=n.getLayout(),a=t[r],l=a&&a===n;if(!(a&&!l||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!l&&!e.intersect(o),isAboveViewRoot:l},!0);var u=new yr(e.x-o.x,e.y-o.y,e.width,e.height);Zy(n.viewChildren||[],function(f){Mk(f,u,t,i,r+1)})}}function xI(n){return n.get(vI)?n.get(yI):0}function W1(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var l=r.getItemModel(a).getShallow("category");if(l!=null){Ln(l)&&(l=o[l]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(l))return!1}return!0})})}function _I(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),o={};i.each(function(a){var l=i.getName(a);o["ec-"+l]=a;var u=i.getItemModel(a),f=u.getModel("itemStyle").getItemStyle();f.fill||(f.fill=t.getColorFromPalette(l,e)),i.setItemVisual(a,"style",f);for(var g=["symbol","symbolSize","symbolKeepAspect"],v=0;v<g.length;v++){var _=u.getShallow(g[v],!0);_!=null&&i.setItemVisual(a,g[v],_)}}),i.count()&&r.each(function(a){var l=r.getItemModel(a).getShallow("category");if(l!=null){Mn(l)&&(l=o["ec-"+l]);var u=i.getItemVisual(l,"style");me(r.ensureUniqueItemVisual(a,"style"),u);for(var f=["symbol","symbolSize","symbolKeepAspect"],g=0;g<f.length;g++)r.setItemVisual(a,f[g],i.getItemVisual(l,f[g]))}})})}function Ky(n){return n instanceof Array||(n=[n,n]),n}function wI(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=Ky(e.get("edgeSymbol")),o=Ky(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(a){var l=i.getItemModel(a),u=t.getEdgeByIndex(a),f=Ky(l.getShallow("symbol",!0)),g=Ky(l.getShallow("symbolSize",!0)),v=l.getModel("lineStyle").getLineStyle(),_=i.ensureUniqueItemVisual(a,"style");switch(me(_,v),_.stroke){case"source":var S=u.node1.getVisual("style");_.stroke=S&&S.fill;break;case"target":S=u.node2.getVisual("style"),_.stroke=S&&S.fill}f[0]&&u.setVisual("fromSymbol",f[0]),f[1]&&u.setVisual("toSymbol",f[1]),g[0]&&u.setVisual("fromSymbolSize",g[0]),g[1]&&u.setVisual("toSymbolSize",g[1])})})}var Tk="-->",Qy=function(n){return n.get("autoCurveness")||null},SI=function(n,e){var t=Qy(n),i=20,r=[];if(Ln(t))i=t;else if(Be(t))return void(n.__curvenessList=t);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},Xf=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join(Tk)},CI=function(n){var e=n.split(Tk);return[e[0],e[2],e[1]].join(Tk)},Jy=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function j1(n,e,t,i){var r=Qy(e),o=Be(r);if(!r)return null;var a=function(D,R){var z=Xf(D.node1,D.node2,R);return R.__edgeMap[z]}(n,e);if(!a)return null;for(var l=-1,u=0;u<a.length;u++)if(a[u]===t){l=u;break}var f=function(D,R){return Jy(Xf(D.node1,D.node2,R),R)+Jy(Xf(D.node2,D.node1,R),R)}(n,e);SI(e,f),n.lineStyle=n.lineStyle||{};var g=Xf(n.node1,n.node2,e),v=e.__curvenessList,_=o||f%2?0:1;if(a.isForward)return v[_+l];var S=CI(g),A=Jy(S,e),E=v[l+A+_];return i?o?r&&r[0]===0?(A+_)%2?E:-E:((A%2?0:1)+_)%2?E:-E:(A+_)%2?E:-E:v[l+A+_]}function Ik(n){var e=n.coordinateSystem;if(!e||e.type==="view"){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),Y1(t,n)}}function Y1(n,e){n.eachEdge(function(t,i){var r=Ar(t.getModel().get(["lineStyle","curveness"]),-j1(t,e,i,!0),0),o=Hi(t.node1.getLayout()),a=Hi(t.node2.getLayout()),l=[o,a];+r&&l.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),t.setLayout(l)})}function kI(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&r.type!=="view"){var o=t.getData(),a=[];ht(r.dimensions,function(_){a=a.concat(o.mapDimensionsAll(_))});for(var l=0;l<o.count();l++){for(var u=[],f=!1,g=0;g<a.length;g++){var v=o.get(a[g],l);isNaN(v)||(f=!0),u.push(v)}f?o.setItemLayout(l,r.dataToPoint(u)):o.setItemLayout(l,[NaN,NaN])}Y1(o.graph,t)}else i&&i!=="none"||Ik(t)})}function qf(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function Tm(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var AI=Math.PI,t0=[];function G1(n,e,t,i){var r=n.coordinateSystem;if(!r||r.type==="view"){var o=r.getBoundingRect(),a=n.getData(),l=a.graph,u=o.width/2+o.x,f=o.height/2+o.y,g=Math.min(o.width,o.height)/2,v=a.count();if(a.setLayout({cx:u,cy:f}),v){if(t){var _=r.pointToData(i),S=_[0],A=_[1],E=[S-u,A-f];ii(E,E),gi(E,E,g),t.setLayout([u+E[0],f+E[1]],!0),Ek(t,n.get(["circular","rotateLabel"]),u,f)}MI[e](n,l,a,g,u,f,v),l.eachEdge(function(D,R){var z,Y=Ar(D.getModel().get(["lineStyle","curveness"]),j1(D,n,R),0),G=Hi(D.node1.getLayout()),$=Hi(D.node2.getLayout()),Q=(G[0]+$[0])/2,et=(G[1]+$[1])/2;+Y&&(z=[u*(Y*=3)+Q*(1-Y),f*Y+et*(1-Y)]),D.setLayout([G,$,z])})}}}var MI={value:function(n,e,t,i,r,o,a){var l=0,u=t.getSum("value"),f=2*Math.PI/(u||a);e.eachNode(function(g){var v=g.getValue("value"),_=f*(u?v:1)/2;l+=_,g.setLayout([i*Math.cos(l)+r,i*Math.sin(l)+o]),l+=_})},symbolSize:function(n,e,t,i,r,o,a){var l=0;t0.length=a;var u=qf(n);e.eachNode(function(v){var _=Tm(v);isNaN(_)&&(_=2),_<0&&(_=0),_*=u;var S=Math.asin(_/2/i);isNaN(S)&&(S=AI/2),t0[v.dataIndex]=S,l+=2*S});var f=(2*AI-l)/a/2,g=0;e.eachNode(function(v){var _=f+t0[v.dataIndex];g+=_,(!v.getLayout()||!v.getLayout().fixed)&&v.setLayout([i*Math.cos(g)+r,i*Math.sin(g)+o]),g+=_})}};function Ek(n,e,t,i){var r=n.getGraphicEl();if(r){var o=n.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-i,l[0]-t);u<0&&(u=2*Math.PI+u);var f=l[0]<t;f&&(u-=Math.PI);var g=f?"left":"right";a.setTextConfig({rotation:-u,position:g,origin:"center"});var v=a.ensureState("emphasis");me(v.textConfig||(v.textConfig={}),{position:g})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function hD(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&G1(e,"symbolSize")})}var Qc=Cr;function TI(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||t.type==="view")if(e.get("layout")==="force"){var i=e.preservedPoints||{},r=e.getGraph(),o=r.data,a=r.edgeData,l=e.getModel("force"),u=l.get("initLayout");e.preservedPoints?o.each(function(Y){var G=o.getId(Y);o.setItemLayout(Y,i[G]||[NaN,NaN])}):u&&u!=="none"?u==="circular"&&G1(e,"value"):Ik(e);var f=o.getDataExtent("value"),g=a.getDataExtent("value"),v=l.get("repulsion"),_=l.get("edgeLength"),S=Be(v)?v:[v,v],A=Be(_)?_:[_,_];A=[A[1],A[0]];var E=o.mapArray("value",function(Y,G){var $=o.getItemLayout(G),Q=eo(Y,f,S);return isNaN(Q)&&(Q=(S[0]+S[1])/2),{w:Q,rep:Q,fixed:o.getItemModel(G).get("fixed"),p:!$||isNaN($[0])||isNaN($[1])?null:$}}),D=a.mapArray("value",function(Y,G){var $=r.getEdgeByIndex(G),Q=eo(Y,g,A);isNaN(Q)&&(Q=(A[0]+A[1])/2);var et=$.getModel(),ot=Ar($.getModel().get(["lineStyle","curveness"]),-j1($,e,G,!0),0);return{n1:E[$.node1.dataIndex],n2:E[$.node2.dataIndex],d:Q,curveness:ot,ignoreForceLayout:et.get("ignoreForceLayout")}}),R=t.getBoundingRect(),z=function(Y,G,$){for(var Q=Y,et=G,ot=$.rect,xt=ot.width,St=ot.height,Mt=[ot.x+xt/2,ot.y+St/2],Bt=$.gravity==null?.1:$.gravity,Zt=0;Zt<Q.length;Zt++){var se=Q[Zt];se.p||(se.p=wi(xt*(Math.random()-.5)+Mt[0],St*(Math.random()-.5)+Mt[1])),se.pp=Hi(se.p),se.edges=null}var pe,be,we=$.friction==null?.6:$.friction,Re=we;return{warmUp:function(){Re=.8*we},setFixed:function(Ze){Q[Ze].fixed=!0},setUnfixed:function(Ze){Q[Ze].fixed=!1},beforeStep:function(Ze){pe=Ze},afterStep:function(Ze){be=Ze},step:function(Ze){pe&&pe(Q,et);for(var Je=[],rn=Q.length,An=0;An<et.length;An++){var Yn=et[An];if(!Yn.ignoreForceLayout){var cn=Yn.n1;Ji(Je,(Gn=Yn.n2).p,cn.p);var Pn=Fi(Je)-Yn.d,Jn=Gn.w/(cn.w+Gn.w);isNaN(Jn)&&(Jn=0),ii(Je,Je),!cn.fixed&&Qc(cn.p,cn.p,Je,Jn*Pn*Re),!Gn.fixed&&Qc(Gn.p,Gn.p,Je,-(1-Jn)*Pn*Re)}}for(An=0;An<rn;An++)(li=Q[An]).fixed||(Ji(Je,Mt,li.p),Qc(li.p,li.p,Je,Bt*Re));for(An=0;An<rn;An++){cn=Q[An];for(var Kn=An+1;Kn<rn;Kn++){var Gn;Ji(Je,(Gn=Q[Kn]).p,cn.p),(Pn=Fi(Je))===0&&(Er(Je,Math.random()-.5,Math.random()-.5),Pn=1);var ri=(cn.rep+Gn.rep)/Pn/Pn;!cn.fixed&&Qc(cn.pp,cn.pp,Je,ri),!Gn.fixed&&Qc(Gn.pp,Gn.pp,Je,-ri)}}var qn=[];for(An=0;An<rn;An++){var li;(li=Q[An]).fixed||(Ji(qn,li.p,li.pp),Qc(li.p,li.p,qn,Re),Dn(li.pp,li.p))}var Ai=(Re*=.992)<.01;be&&be(Q,et,Ai),Ze&&Ze(Ai)}}}(E,D,{rect:R,gravity:l.get("gravity"),friction:l.get("friction")});z.beforeStep(function(Y,G){for(var $=0,Q=Y.length;$<Q;$++)Y[$].fixed&&Dn(Y[$].p,r.getNodeByIndex($).getLayout())}),z.afterStep(function(Y,G,$){for(var Q=0,et=Y.length;Q<et;Q++)Y[Q].fixed||r.getNodeByIndex(Q).setLayout(Y[Q].p),i[o.getId(Q)]=Y[Q].p;for(Q=0,et=G.length;Q<et;Q++){var ot=G[Q],xt=r.getEdgeByIndex(Q),St=ot.n1.p,Mt=ot.n2.p,Bt=xt.getLayout();(Bt=Bt?Bt.slice():[])[0]=Bt[0]||[],Bt[1]=Bt[1]||[],Dn(Bt[0],St),Dn(Bt[1],Mt),+ot.curveness&&(Bt[2]=[(St[0]+Mt[0])/2-(St[1]-Mt[1])*ot.curveness,(St[1]+Mt[1])/2-(Mt[0]-St[0])*ot.curveness]),xt.setLayout(Bt)}}),e.forceLayout=z,e.preservedPoints=i,z.step()}else e.forceLayout=null})}function II(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||r==="view"){var o=i.getData(),a=[],l=[];Sa(o.mapArray(function(E){var D=o.getItemModel(E);return[+D.get("x"),+D.get("y")]}),a,l),l[0]-a[0]==0&&(l[0]+=1,a[0]-=1),l[1]-a[1]==0&&(l[1]+=1,a[1]-=1);var u=(l[0]-a[0])/(l[1]-a[1]),f=function(E,D,R){return ma(me(E.getBoxLayoutParams(),{aspect:R}),{width:D.getWidth(),height:D.getHeight()})}(i,e,u);isNaN(u)&&(a=[f.x,f.y],l=[f.x+f.width,f.y+f.height]);var g=l[0]-a[0],v=l[1]-a[1],_=f.width,S=f.height,A=i.coordinateSystem=new _m;A.zoomLimit=i.get("scaleLimit"),A.setBoundingRect(a[0],a[1],g,v),A.setViewRect(f.x,f.y,_,S),A.setCenter(i.get("center"),e),A.setZoom(i.get("zoom")),t.push(A)}}),t}var EI=Ha.prototype,X1=Bd.prototype,Ok=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}Tt(e,n)})(Ok);function Dk(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var e0=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ok},e.prototype.buildPath=function(t,i){Dk(i)?EI.buildPath.call(this,t,i):X1.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return Dk(this.shape)?EI.pointAt.call(this,t):X1.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=Dk(i)?[i.x2-i.x1,i.y2-i.y1]:X1.tangentAt.call(this,t);return ii(r,r)},e}(pr),Lk=["fromSymbol","toSymbol"];function q1(n){return"_"+n+"Type"}function OI(n,e,t){var i=e.getItemVisual(t,n);if(i&&i!=="none"){var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),a=e.getItemVisual(t,n+"Offset"),l=e.getItemVisual(t,n+"KeepAspect"),u=Zg(r),f=rp(a||0,u),g=va(i,-u[0]/2+f[0],-u[1]/2+f[1],u[0],u[1],null,l);return g.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,g.name=n,g}}function Pk(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var Nk=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createLine(t,i,r),o}return Tt(e,n),e.prototype._createLine=function(t,i,r){var o=t.hostModel,a=function(l){var u=new e0({name:"line",subPixelOptimize:!0});return Pk(u.shape,l),u}(t.getItemLayout(i));a.shape.percent=0,To(a,{shape:{percent:1}},o,i),this.add(a),ht(Lk,function(l){var u=OI(l,t,i);this.add(u),this[q1(l)]=t.getItemVisual(i,l)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),l=t.getItemLayout(i),u={shape:{}};Pk(u.shape,l),Zr(a,u,o,i),ht(Lk,function(f){var g=t.getItemVisual(i,f),v=q1(f);if(this[v]!==g){this.remove(this.childOfName(f));var _=OI(f,t,i);this.add(_)}this[v]=g},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),l=r&&r.emphasisLineStyle,u=r&&r.blurLineStyle,f=r&&r.selectLineStyle,g=r&&r.labelStatesModels,v=r&&r.emphasisDisabled,_=r&&r.focus,S=r&&r.blurScope;if(!r||t.hasItemOption){var A=t.getItemModel(i),E=A.getModel("emphasis");l=E.getModel("lineStyle").getLineStyle(),u=A.getModel(["blur","lineStyle"]).getLineStyle(),f=A.getModel(["select","lineStyle"]).getLineStyle(),v=E.get("disabled"),_=E.get("focus"),S=E.get("blurScope"),g=Wa(A)}var D=t.getItemVisual(i,"style"),R=D.stroke;a.useStyle(D),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=l,a.ensureState("blur").style=u,a.ensureState("select").style=f,ht(Lk,function(Q){var et=this.childOfName(Q);if(et){et.setColor(R),et.style.opacity=D.opacity;for(var ot=0;ot<yl.length;ot++){var xt=yl[ot],St=a.getState(xt);if(St){var Mt=St.style||{},Bt=et.ensureState(xt),Zt=Bt.style||(Bt.style={});Mt.stroke!=null&&(Zt[et.__isEmptyBrush?"stroke":"fill"]=Mt.stroke),Mt.opacity!=null&&(Zt.opacity=Mt.opacity)}}et.markRedraw()}},this);var z=o.getRawValue(i);na(this,g,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(Q,et){return o.getFormattedLabel(Q,et,t.dataType)}},inheritColor:R||"#000",defaultOpacity:D.opacity,defaultText:(z==null?t.getName(i):isFinite(z)?Mo(z):z)+""});var Y=this.getTextContent();if(Y){var G=g.normal;Y.__align=Y.style.align,Y.__verticalAlign=Y.style.verticalAlign,Y.__position=G.get("position")||"middle";var $=G.get("distance");Be($)||($=[$,$]),Y.__labelDistance=$}this.setTextConfig({position:null,local:!0,inside:!1}),fa(this,_,S,v)},e.prototype.highlight=function(){nh(this)},e.prototype.downplay=function(){ih(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");Pk(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),o=t.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,l=this.parent;l;)l.scaleX&&(a/=l.scaleX),l=l.parent;var u=t.childOfName("line");if(this.__dirty||u.__dirty){var f=u.shape.percent,g=u.pointAt(0),v=u.pointAt(f),_=Ji([],v,g);if(ii(_,_),i&&(i.setPosition(g),xt(i,0),i.scaleX=i.scaleY=a*f,i.markRedraw()),r&&(r.setPosition(v),xt(r,1),r.scaleX=r.scaleY=a*f,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var S=void 0,A=void 0,E=o.__labelDistance,D=E[0]*a,R=E[1]*a,z=f/2,Y=u.tangentAt(z),G=[Y[1],-Y[0]],$=u.pointAt(z);G[1]>0&&(G[0]=-G[0],G[1]=-G[1]);var Q=Y[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var et=-Math.atan2(Y[1],Y[0]);v[0]<g[0]&&(et=Math.PI+et),o.rotation=et}var ot=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":ot=-R,A="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":ot=R,A="top";break;default:ot=0,A="middle"}switch(o.__position){case"end":o.x=_[0]*D+v[0],o.y=_[1]*R+v[1],S=_[0]>.8?"left":_[0]<-.8?"right":"center",A=_[1]>.8?"top":_[1]<-.8?"bottom":"middle";break;case"start":o.x=-_[0]*D+g[0],o.y=-_[1]*R+g[1],S=_[0]>.8?"right":_[0]<-.8?"left":"center",A=_[1]>.8?"bottom":_[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=D*Q+g[0],o.y=g[1]+ot,S=Y[0]<0?"right":"left",o.originX=-D*Q,o.originY=-ot;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=$[0],o.y=$[1]+ot,S="center",o.originY=-ot;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-D*Q+v[0],o.y=v[1]+ot,S=Y[0]>=0?"right":"left",o.originX=D*Q,o.originY=-ot}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||A,align:o.__align||S})}}}function xt(St,Mt){var Bt=St.__specifiedRotation;if(Bt==null){var Zt=u.tangentAt(Mt);St.attr("rotation",(Mt===1?-1:1)*Math.PI/2-Math.atan2(Zt[1],Zt[0]))}else St.attr("rotation",Bt)}},e}(Di),Rk=function(){function n(e){this.group=new Di,this._LineCtor=e||Nk}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=e,o||r.removeAll();var a=DI(e);e.diff(o).add(function(l){t._doAdd(e,l,a)}).update(function(l,u){t._doUpdate(o,e,u,l,a)}).remove(function(l){r.remove(o.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=DI(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(a){a.isGroup||function(l){return l.animators&&l.animators.length>0}(a)||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(Bk(t.getItemLayout(r))){var o=new this._LineCtor(t,r,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Xh(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){if(Bk(e.getItemLayout(t))){var r=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,r),this.group.add(r)}},n.prototype._doUpdate=function(e,t,i,r,o){var a=e.getItemGraphicEl(i);Bk(t.getItemLayout(r))?(a?a.updateData(t,r,o):a=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function DI(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Wa(e)}}function n0(n){return isNaN(n[0])||isNaN(n[1])}function Bk(n){return n&&!n0(n[0])&&!n0(n[1])}var zk=[],U1=[],Fk=[],Im=Vr,Vk=ji,$1=Math.abs;function Hk(n,e,t){for(var i,r=n[0],o=n[1],a=n[2],l=1/0,u=t*t,f=.1,g=.1;g<=.9;g+=.1)zk[0]=Im(r[0],o[0],a[0],g),zk[1]=Im(r[1],o[1],a[1],g),(S=$1(Vk(zk,e)-u))<l&&(l=S,i=g);for(var v=0;v<32;v++){var _=i+f;U1[0]=Im(r[0],o[0],a[0],i),U1[1]=Im(r[1],o[1],a[1],i),Fk[0]=Im(r[0],o[0],a[0],_),Fk[1]=Im(r[1],o[1],a[1],_);var S=Vk(U1,e)-u;if($1(S)<.01)break;var A=Vk(Fk,e)-u;f/=2,S<0?A>=0?i+=f:i-=f:A>=0?i-=f:i+=f}return i}function Wk(n,e){var t=[],i=ac,r=[[],[],[]],o=[[],[]],a=[];e/=2,n.eachEdge(function(l,u){var f=l.getLayout(),g=l.getVisual("fromSymbol"),v=l.getVisual("toSymbol");f.__original||(f.__original=[Hi(f[0]),Hi(f[1])],f[2]&&f.__original.push(Hi(f[2])));var _=f.__original;if(f[2]!=null){if(Dn(r[0],_[0]),Dn(r[1],_[2]),Dn(r[2],_[1]),g&&g!=="none"){var S=Tm(l.node1),A=Hk(r,_[0],S*e);i(r[0][0],r[1][0],r[2][0],A,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],A,t),r[0][1]=t[3],r[1][1]=t[4]}v&&v!=="none"&&(S=Tm(l.node2),A=Hk(r,_[1],S*e),i(r[0][0],r[1][0],r[2][0],A,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],A,t),r[1][1]=t[1],r[2][1]=t[2]),Dn(f[0],r[0]),Dn(f[1],r[2]),Dn(f[2],r[1])}else Dn(o[0],_[0]),Dn(o[1],_[1]),Ji(a,o[1],o[0]),ii(a,a),g&&g!=="none"&&(S=Tm(l.node1),Cr(o[0],o[0],a,S*e)),v&&v!=="none"&&(S=Tm(l.node2),Cr(o[1],o[1],a,-S*e)),Dn(f[0],o[0]),Dn(f[1],o[1])})}function LI(n){return n.type==="view"}var dD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){var r=new dm,o=new Rk,a=this.group;this._controller=new bm(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem;this._model=t;var l=this._symbolDraw,u=this._lineDraw,f=this.group;if(LI(a)){var g={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?f.attr(g):Zr(f,g,t)}Wk(t.getGraph(),qf(t));var v=t.getData();l.updateData(v);var _=t.getEdgeData();u.updateData(_),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var S=t.forceLayout,A=t.get(["force","layoutAnimation"]);S&&this._startForceLayoutIteration(S,A);var E=t.get("layout");v.graph.eachNode(function(Y){var G=Y.dataIndex,$=Y.getGraphicEl(),Q=Y.getModel();if($){$.off("drag").off("dragend");var et=Q.get("draggable");et&&$.on("drag",function(ot){switch(E){case"force":S.warmUp(),!o._layouting&&o._startForceLayoutIteration(S,A),S.setFixed(G),v.setItemLayout(G,[$.x,$.y]);break;case"circular":v.setItemLayout(G,[$.x,$.y]),Y.setLayout({fixed:!0},!0),G1(t,"symbolSize",Y,[ot.offsetX,ot.offsetY]),o.updateLayout(t);break;default:v.setItemLayout(G,[$.x,$.y]),Y1(t.getGraph(),t),o.updateLayout(t)}}).on("dragend",function(){S&&S.setUnfixed(G)}),$.setDraggable(et,!!Q.get("cursor")),Q.get(["emphasis","focus"])==="adjacency"&&(lr($).focus=Y.getAdjacentDataIndices())}}),v.graph.eachEdge(function(Y){var G=Y.getGraphicEl(),$=Y.getModel().get(["emphasis","focus"]);G&&$==="adjacency"&&(lr(G).focus={edge:[Y.dataIndex],node:[Y.node1.dataIndex,Y.node2.dataIndex]})});var D=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),R=v.getLayout("cx"),z=v.getLayout("cy");v.graph.eachNode(function(Y){Ek(Y,D,R,z)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;(function o(){t.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,l=this._controllerHost,u=this.group;a.setPointerChecker(function(f,g,v){var _=u.getBoundingRect();return _.applyTransform(u.transform),_.contain(g,v)&&!b1(f,r,t)}),LI(t.coordinateSystem)?(a.enable(t.get("roam")),l.zoomLimit=t.get("scaleLimit"),l.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(f){VC(l,f.dx,f.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){Ny(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(),Wk(t.getGraph(),qf(t)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=qf(t);i.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},e.prototype.updateLayout=function(t){Wk(t.getGraph(),qf(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(wo);function Uf(n){return"_EC_"+n}var PI=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var i=this._nodesMap;if(!i[Uf(e)]){var r=new Jc(e,t);return r.hostGraph=this,this.nodes.push(r),i[Uf(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Uf(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,o=this._edgesMap;if(Ln(e)&&(e=this.nodes[e]),Ln(t)&&(t=this.nodes[t]),e instanceof Jc||(e=r[Uf(e)]),t instanceof Jc||(t=r[Uf(t)]),e&&t){var a=e.id+"-"+t.id,l=new Z1(e,t,i);return l.hostGraph=this,this._directed&&(e.outEdges.push(l),t.inEdges.push(l)),e.edges.push(l),e!==t&&t.edges.push(l),this.edges.push(l),o[a]=l,l}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Jc&&(e=e.id),t instanceof Jc&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof Jc||(t=this._nodesMap[Uf(t)]),t){for(var o=i==="out"?"outEdges":i==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null))for(var l=[t];l.length;){var u=l.shift(),f=u[o];for(a=0;a<f.length;a++){var g=f[a],v=g.node1===u?g.node2:g.node1;if(!v.__visited){if(e.call(r,v,u))return;l.push(v),v.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(l){var u=r[t.getRawIndex(l)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)r[t.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},n}(),Jc=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n}(),Z1=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function i0(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}function NI(n,e,t,i,r){for(var o=new PI(i),a=0;a<n.length;a++)o.addNode(zi(n[a].id,n[a].name,a),a);var l=[],u=[],f=0;for(a=0;a<e.length;a++){var g=e[a],v=g.source,_=g.target;o.addEdge(v,_,f)&&(u.push(g),l.push(zi(wa(g.id,null),v+" > "+_)),f++)}var S,A=t.get("coordinateSystem");if(A==="cartesian2d"||A==="polar")S=yh(n,t);else{var E=Zh.get(A),D=E&&E.dimensions||[];dn(D,"value")<0&&D.concat(["value"]);var R=Ef(n,{coordDimensions:D,encodeDefine:t.getEncode()}).dimensions;(S=new fs(R,t)).initData(n)}var z=new fs(["value"],t);return z.initData(u,l),r&&r(S,z),ck({mainData:S,struct:o,structAttr:"graph",datas:{node:S,edge:z},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}jt(Jc,i0("hostGraph","data")),jt(Z1,i0("hostGraph","edgeData"));var $f=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new mm(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),pu(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r,o=t.edges||t.links||[],a=t.data||t.nodes||[],l=this;if(a&&o){Qy(r=this)&&(r.__curvenessList=[],r.__edgeMap={},SI(r));var u=NI(a,o,this,!0,function(f,g){f.wrapMethod("getItemModel",function(A){var E=l._categoriesModels[A.getShallow("category")];return E&&(E.parentModel=A.parentModel,A.parentModel=E),A});var v=ao.prototype.getModel;function _(A,E){var D=v.call(this,A,E);return D.resolveParentPath=S,D}function S(A){if(A&&(A[0]==="label"||A[1]==="label")){var E=A.slice();return A[0]==="label"?E[0]="edgeLabel":A[1]==="label"&&(E[1]="edgeLabel"),E}return A}g.wrapMethod("getItemModel",function(A){return A.resolveParentPath=S,A.getModel=_,A})});return ht(u.edges,function(f){(function(g,v,_,S){if(Qy(_)){var A=Xf(g,v,_),E=_.__edgeMap,D=E[CI(A)];E[A]&&!D?E[A].isForward=!0:D&&E[A]&&(D.isForward=!0,E[A].isForward=!1),E[A]=E[A]||[],E[A].push(S)}})(f.node1,f.node2,this,f.dataIndex)},this),u.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if(r==="edge"){var o=this.getData(),a=this.getDataParams(t,r),l=o.graph.getEdgeByIndex(t),u=o.getName(l.node1.dataIndex),f=o.getName(l.node2.dataIndex),g=[];return u!=null&&g.push(u),f!=null&&g.push(f),ia("nameValue",{name:g.join(" > "),value:a.value,noValue:a.value==null})}return PM({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=lt(this.option.categories||[],function(r){return r.value!=null?r:me({value:0},r)}),i=new fs(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Io),RI={type:"graphRoam",event:"graphRoam",update:"none"},pD=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},fD=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new pD},e.prototype.buildPath=function(t,i){var r=Math.cos,o=Math.sin,a=i.r,l=i.width,u=i.angle,f=i.x-r(u)*l*(l>=a/3?1:2),g=i.y-o(u)*l*(l>=a/3?1:2);u=i.angle-Math.PI/2,t.moveTo(f,g),t.lineTo(i.x+r(u)*l,i.y+o(u)*l),t.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),t.lineTo(i.x-r(u)*l,i.y-o(u)*l),t.lineTo(f,g)},e}(pr);function Em(n,e){var t=n==null?"":n+"";return e&&(Mn(e)?t=e.replace("{value}",t):Ge(e)&&(t=e(n))),t}var r0=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this.group.removeAll();var o=t.get(["axisLine","lineStyle","color"]),a=function(l,u){var f=l.get("center"),g=u.getWidth(),v=u.getHeight(),_=Math.min(g,v);return{cx:ei(f[0],u.getWidth()),cy:ei(f[1],u.getHeight()),r:ei(l.get("radius"),_/2)}}(t,r);this._renderMain(t,i,r,o,a),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,o,a){var l=this.group,u=t.get("clockwise"),f=-t.get("startAngle")/180*Math.PI,g=-t.get("endAngle")/180*Math.PI,v=t.getModel("axisLine"),_=v.get("roundCap")?fm:$s,S=v.get("show"),A=v.getModel("lineStyle"),E=A.get("width"),D=[f,g];yn(D,!u);for(var R=(g=D[1])-(f=D[0]),z=f,Y=[],G=0;S&&G<o.length;G++){var $=new _({shape:{startAngle:z,endAngle:g=f+R*Math.min(Math.max(o[G][0],0),1),cx:a.cx,cy:a.cy,clockwise:u,r0:a.r-E,r:a.r},silent:!0});$.setStyle({fill:o[G][1]}),$.setStyle(A.getLineStyle(["color","width"])),Y.push($),z=g}Y.reverse(),ht(Y,function(et){return l.add(et)});var Q=function(et){if(et<=0)return o[0][1];var ot;for(ot=0;ot<o.length;ot++)if(o[ot][0]>=et&&(ot===0?0:o[ot-1][0])<et)return o[ot][1];return o[ot-1][1]};this._renderTicks(t,i,r,Q,a,f,g,u,E),this._renderTitleAndDetail(t,i,r,Q,a),this._renderAnchor(t,a),this._renderPointer(t,i,r,Q,a,f,g,u,E)},e.prototype._renderTicks=function(t,i,r,o,a,l,u,f,g){for(var v,_,S=this.group,A=a.cx,E=a.cy,D=a.r,R=+t.get("min"),z=+t.get("max"),Y=t.getModel("splitLine"),G=t.getModel("axisTick"),$=t.getModel("axisLabel"),Q=t.get("splitNumber"),et=G.get("splitNumber"),ot=ei(Y.get("length"),D),xt=ei(G.get("length"),D),St=l,Mt=(u-l)/Q,Bt=Mt/et,Zt=Y.getModel("lineStyle").getLineStyle(),se=G.getModel("lineStyle").getLineStyle(),pe=Y.get("distance"),be=0;be<=Q;be++){if(v=Math.cos(St),_=Math.sin(St),Y.get("show")){var we=new Ha({shape:{x1:v*(D-(Re=pe?pe+g:g))+A,y1:_*(D-Re)+E,x2:v*(D-ot-Re)+A,y2:_*(D-ot-Re)+E},style:Zt,silent:!0});Zt.stroke==="auto"&&we.setStyle({stroke:o(be/Q)}),S.add(we)}if($.get("show")){var Re=$.get("distance")+pe,Ze=Em(Mo(be/Q*(z-R)+R),$.get("formatter")),Je=o(be/Q),rn=v*(D-ot-Re)+A,An=_*(D-ot-Re)+E,Yn=$.get("rotate"),cn=0;Yn==="radial"?(cn=-St+2*Math.PI)>Math.PI/2&&(cn+=Math.PI):Yn==="tangential"?cn=-St-Math.PI/2:Ln(Yn)&&(cn=Yn*Math.PI/180),cn===0?S.add(new $r({style:Do($,{text:Ze,x:rn,y:An,verticalAlign:_<-.8?"top":_>.8?"bottom":"middle",align:v<-.4?"left":v>.4?"right":"center"},{inheritColor:Je}),silent:!0})):S.add(new $r({style:Do($,{text:Ze,x:rn,y:An,verticalAlign:"middle",align:"center"},{inheritColor:Je}),silent:!0,originX:rn,originY:An,rotation:cn}))}if(G.get("show")&&be!==Q){Re=(Re=G.get("distance"))?Re+g:g;for(var Pn=0;Pn<=et;Pn++){v=Math.cos(St),_=Math.sin(St);var Jn=new Ha({shape:{x1:v*(D-Re)+A,y1:_*(D-Re)+E,x2:v*(D-xt-Re)+A,y2:_*(D-xt-Re)+E},silent:!0,style:se});se.stroke==="auto"&&Jn.setStyle({stroke:o((be+Pn/et)/Q)}),S.add(Jn),St+=Bt}St-=Bt}else St+=Mt}},e.prototype._renderPointer=function(t,i,r,o,a,l,u,f,g){var v=this.group,_=this._data,S=this._progressEls,A=[],E=t.get(["pointer","show"]),D=t.getModel("progress"),R=D.get("show"),z=t.getData(),Y=z.mapDimension("value"),G=+t.get("min"),$=+t.get("max"),Q=[G,$],et=[l,u];function ot(St,Mt){var Bt,Zt=z.getItemModel(St).getModel("pointer"),se=ei(Zt.get("width"),a.r),pe=ei(Zt.get("length"),a.r),be=t.get(["pointer","icon"]),we=Zt.get("offsetCenter"),Re=ei(we[0],a.r),Ze=ei(we[1],a.r),Je=Zt.get("keepAspect");return(Bt=be?va(be,Re-se/2,Ze-pe,se,pe,null,Je):new fD({shape:{angle:-Math.PI/2,width:se,r:pe,x:Re,y:Ze}})).rotation=-(Mt+Math.PI/2),Bt.x=a.cx,Bt.y=a.cy,Bt}function xt(St,Mt){var Bt=D.get("roundCap")?fm:$s,Zt=D.get("overlap"),se=Zt?D.get("width"):g/z.count(),pe=Zt?a.r-se:a.r-(St+1)*se,be=Zt?a.r:a.r-St*se,we=new Bt({shape:{startAngle:l,endAngle:Mt,cx:a.cx,cy:a.cy,clockwise:f,r0:pe,r:be}});return Zt&&(we.z2=$-z.get(Y,St)%$),we}(R||E)&&(z.diff(_).add(function(St){var Mt=z.get(Y,St);if(E){var Bt=ot(St,l);To(Bt,{rotation:-((isNaN(+Mt)?et[0]:eo(Mt,Q,et,!0))+Math.PI/2)},t),v.add(Bt),z.setItemGraphicEl(St,Bt)}if(R){var Zt=xt(St,l),se=D.get("clip");To(Zt,{shape:{endAngle:eo(Mt,Q,et,se)}},t),v.add(Zt),A0(t.seriesIndex,z.dataType,St,Zt),A[St]=Zt}}).update(function(St,Mt){var Bt=z.get(Y,St);if(E){var Zt=_.getItemGraphicEl(Mt),se=Zt?Zt.rotation:l,pe=ot(St,se);pe.rotation=se,Zr(pe,{rotation:-((isNaN(+Bt)?et[0]:eo(Bt,Q,et,!0))+Math.PI/2)},t),v.add(pe),z.setItemGraphicEl(St,pe)}if(R){var be=S[Mt],we=xt(St,be?be.shape.endAngle:l),Re=D.get("clip");Zr(we,{shape:{endAngle:eo(Bt,Q,et,Re)}},t),v.add(we),A0(t.seriesIndex,z.dataType,St,we),A[St]=we}}).execute(),z.each(function(St){var Mt=z.getItemModel(St),Bt=Mt.getModel("emphasis"),Zt=Bt.get("focus"),se=Bt.get("blurScope"),pe=Bt.get("disabled");if(E){var be=z.getItemGraphicEl(St),we=z.getItemVisual(St,"style"),Re=we.fill;if(be instanceof ua){var Ze=be.style;be.useStyle(me({image:Ze.image,x:Ze.x,y:Ze.y,width:Ze.width,height:Ze.height},we))}else be.useStyle(we),be.type!=="pointer"&&be.setColor(Re);be.setStyle(Mt.getModel(["pointer","itemStyle"]).getItemStyle()),be.style.fill==="auto"&&be.setStyle("fill",o(eo(z.get(Y,St),Q,[0,1],!0))),be.z2EmphasisLift=0,Is(be,Mt),fa(be,Zt,se,pe)}if(R){var Je=A[St];Je.useStyle(z.getItemVisual(St,"style")),Je.setStyle(Mt.getModel(["progress","itemStyle"]).getItemStyle()),Je.z2EmphasisLift=0,Is(Je,Mt),fa(Je,Zt,se,pe)}}),this._progressEls=A)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),f=va(a,i.cx-o/2+ei(l[0],i.r),i.cy-o/2+ei(l[1],i.r),o,o,null,u);f.z2=r.get("showAbove")?1:0,f.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(f)}},e.prototype._renderTitleAndDetail=function(t,i,r,o,a){var l=this,u=t.getData(),f=u.mapDimension("value"),g=+t.get("min"),v=+t.get("max"),_=new Di,S=[],A=[],E=t.isAnimationEnabled(),D=t.get(["pointer","showAbove"]);u.diff(this._data).add(function(R){S[R]=new $r({silent:!0}),A[R]=new $r({silent:!0})}).update(function(R,z){S[R]=l._titleEls[z],A[R]=l._detailEls[z]}).execute(),u.each(function(R){var z=u.getItemModel(R),Y=u.get(f,R),G=new Di,$=o(eo(Y,[g,v],[0,1],!0)),Q=z.getModel("title");if(Q.get("show")){var et=Q.get("offsetCenter"),ot=a.cx+ei(et[0],a.r),xt=a.cy+ei(et[1],a.r);(we=S[R]).attr({z2:D?0:2,style:Do(Q,{x:ot,y:xt,text:u.getName(R),align:"center",verticalAlign:"middle"},{inheritColor:$})}),G.add(we)}var St=z.getModel("detail");if(St.get("show")){var Mt=St.get("offsetCenter"),Bt=a.cx+ei(Mt[0],a.r),Zt=a.cy+ei(Mt[1],a.r),se=ei(St.get("width"),a.r),pe=ei(St.get("height"),a.r),be=t.get(["progress","show"])?u.getItemVisual(R,"style").fill:$,we=A[R],Re=St.get("formatter");we.attr({z2:D?0:2,style:Do(St,{x:Bt,y:Zt,text:Em(Y,Re),width:isNaN(se)?null:se,height:isNaN(pe)?null:pe,align:"center",verticalAlign:"middle"},{inheritColor:be})}),Es(we,{normal:St},Y,function(Ze){return Em(Ze,Re)}),E&&bu(we,R,u,t,{getFormattedLabel:function(Ze,Je,rn,An,Yn,cn){return Em(cn?cn.interpolatedValue:Y,Re)}}),G.add(we)}_.add(G)}),this.group.add(_),this._titleEls=S,this._detailEls=A},e.type="gauge",e}(wo),jk=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Vf(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Io),K1=["itemStyle","opacity"],Zf=function(n){function e(t,i){var r=n.call(this)||this,o=r,a=new Ks,l=new $r;return o.setTextContent(l),r.setTextGuideLine(a),r.updateData(t,i,!0),r}return Tt(e,n),e.prototype.updateData=function(t,i,r){var o=this,a=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i),f=l.getModel("emphasis"),g=l.get(K1);g=g??1,r||Fc(o),o.useStyle(t.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:u.points}),o.style.opacity=0,To(o,{style:{opacity:g}},a,i)):Zr(o,{style:{opacity:g},shape:{points:u.points}},a,i),Is(o,l),this._updateLabel(t,i),fa(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),l=t.hostModel,u=t.getItemModel(i),f=t.getItemLayout(i).label,g=t.getItemVisual(i,"style"),v=g.fill;na(a,Wa(u),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:g.opacity,defaultText:t.getName(i)},{normal:{align:f.textAlign,verticalAlign:f.verticalAlign}}),r.setTextConfig({local:!0,inside:!!f.inside,insideStroke:v,outsideFill:v});var _=f.linePoints;o.setShape({points:_}),r.textGuideLineConfig={anchor:_?new Gi(_[0][0],_[0][1]):null},Zr(a,{style:{x:f.x,y:f.y}},l,i),a.attr({rotation:f.rotation,originX:f.x,originY:f.y,z2:10}),NS(r,RS(u),{stroke:v})},e}(Zs),Q1=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._data,l=this.group;o.diff(a).add(function(u){var f=new Zf(o,u);o.setItemGraphicEl(u,f),l.add(f)}).update(function(u,f){var g=a.getItemGraphicEl(f);g.updateData(o,u),l.add(g),o.setItemGraphicEl(u,g)}).remove(function(u){Og(a.getItemGraphicEl(u),t,u)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(wo),BI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new mm(Te(this.getData,this),Te(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return Vf(this,{coordDimensions:["value"],encodeDefaulter:_n(gf,this)})},e.prototype._defaultLabelLine=function(t){pu(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,t)/a*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Io);function zI(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),o=t.get("sort"),a=function(Zt,se){return ma(Zt.getBoxLayoutParams(),{width:se.getWidth(),height:se.getHeight()})}(t,e),l=t.get("orient"),u=a.width,f=a.height,g=function(Zt,se){for(var pe=Zt.mapDimension("value"),be=Zt.mapArray(pe,function(rn){return rn}),we=[],Re=se==="ascending",Ze=0,Je=Zt.count();Ze<Je;Ze++)we[Ze]=Ze;return Ge(se)?we.sort(se):se!=="none"&&we.sort(function(rn,An){return Re?be[rn]-be[An]:be[An]-be[rn]}),we}(i,o),v=a.x,_=a.y,S=l==="horizontal"?[ei(t.get("minSize"),f),ei(t.get("maxSize"),f)]:[ei(t.get("minSize"),u),ei(t.get("maxSize"),u)],A=i.getDataExtent(r),E=t.get("min"),D=t.get("max");E==null&&(E=Math.min(A[0],0)),D==null&&(D=A[1]);var R=t.get("funnelAlign"),z=t.get("gap"),Y=((l==="horizontal"?u:f)-z*(i.count()-1))/i.count(),G=function(Zt,se){if(l==="horizontal"){var pe=eo(i.get(r,Zt)||0,[E,D],S,!0),be=void 0;switch(R){case"top":be=_;break;case"center":be=_+(f-pe)/2;break;case"bottom":be=_+(f-pe)}return[[se,be],[se,be+pe]]}var we,Re=eo(i.get(r,Zt)||0,[E,D],S,!0);switch(R){case"left":we=v;break;case"center":we=v+(u-Re)/2;break;case"right":we=v+u-Re}return[[we,se],[we+Re,se]]};o==="ascending"&&(Y=-Y,z=-z,l==="horizontal"?v+=u:_+=f,g=g.reverse());for(var $=0;$<g.length;$++){var Q=g[$],et=g[$+1],ot=i.getItemModel(Q);if(l==="horizontal"){var xt=ot.get(["itemStyle","width"]);xt==null?xt=Y:(xt=ei(xt,u),o==="ascending"&&(xt=-xt));var St=G(Q,v),Mt=G(et,v+xt);v+=xt+z,i.setItemLayout(Q,{points:St.concat(Mt.slice().reverse())})}else{var Bt=ot.get(["itemStyle","height"]);Bt==null?Bt=Y:(Bt=ei(Bt,f),o==="ascending"&&(Bt=-Bt)),St=G(Q,_),Mt=G(et,_+Bt),_+=Bt+z,i.setItemLayout(Q,{points:St.concat(Mt.slice().reverse())})}}(function(Zt){var se=Zt.hostModel.get("orient");Zt.each(function(pe){var be,we,Re,Ze,Je=Zt.getItemModel(pe),rn=Je.getModel("label").get("position"),An=Je.getModel("labelLine"),Yn=Zt.getItemLayout(pe),cn=Yn.points,Pn=rn==="inner"||rn==="inside"||rn==="center"||rn==="insideLeft"||rn==="insideRight";if(Pn)rn==="insideLeft"?(we=(cn[0][0]+cn[3][0])/2+5,Re=(cn[0][1]+cn[3][1])/2,be="left"):rn==="insideRight"?(we=(cn[1][0]+cn[2][0])/2-5,Re=(cn[1][1]+cn[2][1])/2,be="right"):(we=(cn[0][0]+cn[1][0]+cn[2][0]+cn[3][0])/4,Re=(cn[0][1]+cn[1][1]+cn[2][1]+cn[3][1])/4,be="center"),Ze=[[we,Re],[we,Re]];else{var Jn=void 0,Kn=void 0,Gn=void 0,ri=void 0,qn=An.get("length");rn==="left"?(Jn=(cn[3][0]+cn[0][0])/2,Kn=(cn[3][1]+cn[0][1])/2,we=(Gn=Jn-qn)-5,be="right"):rn==="right"?(Jn=(cn[1][0]+cn[2][0])/2,Kn=(cn[1][1]+cn[2][1])/2,we=(Gn=Jn+qn)+5,be="left"):rn==="top"?(Jn=(cn[3][0]+cn[0][0])/2,Re=(ri=(Kn=(cn[3][1]+cn[0][1])/2)-qn)-5,be="center"):rn==="bottom"?(Jn=(cn[1][0]+cn[2][0])/2,Re=(ri=(Kn=(cn[1][1]+cn[2][1])/2)+qn)+5,be="center"):rn==="rightTop"?(Jn=se==="horizontal"?cn[3][0]:cn[1][0],Kn=se==="horizontal"?cn[3][1]:cn[1][1],se==="horizontal"?(Re=(ri=Kn-qn)-5,be="center"):(we=(Gn=Jn+qn)+5,be="top")):rn==="rightBottom"?(Jn=cn[2][0],Kn=cn[2][1],se==="horizontal"?(Re=(ri=Kn+qn)+5,be="center"):(we=(Gn=Jn+qn)+5,be="bottom")):rn==="leftTop"?(Jn=cn[0][0],Kn=se==="horizontal"?cn[0][1]:cn[1][1],se==="horizontal"?(Re=(ri=Kn-qn)-5,be="center"):(we=(Gn=Jn-qn)-5,be="right")):rn==="leftBottom"?(Jn=se==="horizontal"?cn[1][0]:cn[3][0],Kn=se==="horizontal"?cn[1][1]:cn[2][1],se==="horizontal"?(Re=(ri=Kn+qn)+5,be="center"):(we=(Gn=Jn-qn)-5,be="right")):(Jn=(cn[1][0]+cn[2][0])/2,Kn=(cn[1][1]+cn[2][1])/2,se==="horizontal"?(Re=(ri=Kn+qn)+5,be="center"):(we=(Gn=Jn+qn)+5,be="left")),se==="horizontal"?we=Gn=Jn:Re=ri=Kn,Ze=[[Jn,Kn],[Gn,ri]]}Yn.label={linePoints:Ze,x:we,y:Re,verticalAlign:"middle",textAlign:be,inside:Pn}})})(i)})}var FI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Di,t._initialized=!1,t}return Tt(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._dataGroup,l=t.getData(),u=this._data,f=t.coordinateSystem,g=f.dimensions,v=Gk(t);if(l.diff(u).add(function(S){o0(Yk(l,a,S,g,f),l,S,v)}).update(function(S,A){var E=u.getItemGraphicEl(A),D=VI(l,S,g,f);l.setItemGraphicEl(S,E),Zr(E,{shape:{points:D}},t,S),Fc(E),o0(E,l,S,v)}).remove(function(S){var A=u.getItemGraphicEl(S);a.remove(A)}).execute(),!this._initialized){this._initialized=!0;var _=function(S,A,E){var D=S.model,R=S.getRect(),z=new Ur({shape:{x:R.x,y:R.y,width:R.width,height:R.height}}),Y=D.get("layout")==="horizontal"?"width":"height";return z.setShape(Y,0),To(z,{shape:{width:R.width,height:R.height}},A,E),z}(f,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(_)}this._data=l},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var o=i.getData(),a=i.coordinateSystem,l=a.dimensions,u=Gk(i),f=this._progressiveEls=[],g=t.start;g<t.end;g++){var v=Yk(o,this._dataGroup,g,l,a);v.incremental=!0,o0(v,o,g,u),f.push(v)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(wo);function VI(n,e,t,i){for(var r,o=[],a=0;a<t.length;a++){var l=t[a],u=n.get(n.mapDimension(l),e);r=u,(i.getAxis(l).type==="category"?r==null:r==null||isNaN(r))||o.push(i.dataToPoint(u,l))}return o}function Yk(n,e,t,i,r){var o=VI(n,t,i,r),a=new Ks({shape:{points:o},z2:10});return e.add(a),n.setItemGraphicEl(t,a),a}function Gk(n){var e=n.get("smooth",!0);return e===!0&&(e=.3),oi(e=ho(e))&&(e=0),{smooth:e}}function o0(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),o=r.getModel("emphasis");Is(n,r,"lineStyle"),fa(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var gD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return yh(null,this,{useEncodeDefaulter:Te(HI,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,l){t===a&&o.push(r.getRawIndex(l))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Io);function HI(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return ht(e.dimensions,function(i){var r=+i.replace("dim","");t[i]=r}),t}}var Xk=["lineStyle","opacity"],qk={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){t.eachActiveState(o,function(a,l){var u=i[a];if(a==="normal"&&o.hasItemOption){var f=o.getItemModel(l).get(Xk,!0);f!=null&&(u=f)}o.ensureUniqueItemVisual(l,"style").opacity=u},r.start,r.end)}}}};function mD(n){(function(e){if(!e.parallel){var t=!1;ht(e.series,function(i){i&&i.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}})(n),function(e){var t=oo(e.parallelAxis);ht(t,function(i){if(di(i)){var r=i.parallelIndex||0,o=oo(e.parallel)[r];o&&o.parallelAxisDefault&&ne(i,o.parallelAxisDefault,!1)}})}(n)}var WI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},ht(vD,function(o,a){r.getZr().on(a,this._handlers[a]=Te(o,this))},this)),Cf(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){Lv(this,"_throttledDispatchExpand"),ht(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(me({type:"parallelAxisExpand"},t))},e.type="parallel",e}(Ao),vD={mousedown:function(n){J1(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(J1(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&J1(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}}};function J1(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var yD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var i=this.option;t&&ne(i,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return r!=null&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){ht(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];ht(en(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){t.push("dim"+r.get("dim")),i.push(r.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Wr),Kf=function(n){function e(t,i,r,o,a){var l=n.call(this,t,i,r)||this;return l.type=o||"value",l.axisIndex=a,l}return Tt(e,n),e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(Ls);function Tp(n,e,t,i,r,o){n=n||0;var a=t[1]-t[0];if(r!=null&&(r=ld(r,[0,a])),o!=null&&(o=Math.max(o,r??0)),i==="all"){var l=Math.abs(e[1]-e[0]);l=ld(l,[0,a]),r=o=ld(l,[r,o]),i=0}e[0]=ld(e[0],t),e[1]=ld(e[1],t);var u=Uk(e,i);e[i]+=n;var f,g=r||0,v=t.slice();return u.sign<0?v[0]+=g:v[1]-=g,e[i]=ld(e[i],v),f=Uk(e,i),r!=null&&(f.sign!==u.sign||f.span<r)&&(e[1-i]=e[i]+u.sign*r),f=Uk(e,i),o!=null&&f.span>o&&(e[1-i]=e[i]+f.sign*o),e}function Uk(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function ld(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var Ip=ht,a0=Math.min,s0=Math.max,$k=Math.floor,al=Math.ceil,l0=Mo,jI=Math.PI,YI=function(){function n(e,t,i){this.type="parallel",this._axesMap=ze(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=e.dimensions,o=e.parallelAxisIndex;Ip(r,function(a,l){var u=o[l],f=t.getComponent("parallelAxis",u),g=this._axesMap.set(a,new Kf(a,pp(f),[0,0],f.get("type"),u)),v=g.type==="category";g.onBand=v&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.coordinateSystem=f.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],l=e[o];return a>=i&&a<=i+t.axisLength&&l>=r&&l<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();Ip(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),ed(a.scale,a.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=ma(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e,t=this._model,i=this._rect,r=["x","y"],o=["width","height"],a=t.get("layout"),l=a==="horizontal"?0:1,u=i[o[l]],f=[0,u],g=this.dimensions.length,v=t_(t.get("axisExpandWidth"),f),_=t_(t.get("axisExpandCount")||0,[0,g]),S=t.get("axisExpandable")&&g>3&&g>_&&_>1&&v>0&&u>0,A=t.get("axisExpandWindow");A?(e=t_(A[1]-A[0],f),A[1]=A[0]+e):(e=t_(v*(_-1),f),(A=[v*(t.get("axisExpandCenter")||$k(g/2))-e/2])[1]=A[0]+e);var E=(u-e)/(g-_);E<3&&(E=0);var D=[$k(l0(A[0]/v,1))+1,al(l0(A[1]/v,1))-1],R=E/v*A[0];return{layout:a,pixelDimIndex:l,layoutBase:i[r[l]],layoutLength:u,axisBase:i[r[1-l]],axisLength:i[o[1-l]],axisExpandable:S,axisExpandWidth:v,axisCollapseWidth:E,axisExpandWindow:A,axisCount:g,winInnerIndices:D,axisExpandWindow0Pos:R}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each(function(a){var l=[0,r.axisLength],u=a.inverse?1:0;a.setExtent(l[u],l[1-u])}),Ip(i,function(a,l){var u=(r.axisExpandable?bD:Ep)(l,r),f={horizontal:{x:u.position,y:r.axisLength},vertical:{x:0,y:u.position}},g={horizontal:jI/2,vertical:0},v=[f[o].x+e.x,f[o].y+e.y],_=g[o],S=[1,0,0,1,0,0];Xr(S,S,_),er(S,S,v),this._axesLayout[a]={position:v,rotation:_,transform:S,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){i==null&&(i=0),r==null&&(r=e.count());var o=this._axesMap,a=this.dimensions,l=[],u=[];ht(a,function(E){l.push(e.mapDimension(E)),u.push(o.get(E).model)});for(var f=this.hasAxisBrushed(),g=i;g<r;g++){var v=void 0;if(f){v="active";for(var _=e.getValues(l,g),S=0,A=a.length;S<A;S++)if(u[S].getActiveState(_[S])==="inactive"){v="inactive";break}}else v="normal";t(v,g)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,o=e.length;r<o;r++)t.get(e[r]).model.getActiveState()!=="normal"&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return vc([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return Kt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var l,u=e[i]-t.layoutBase-t.axisExpandWindow0Pos,f="slide",g=t.axisCollapseWidth,v=this._model.get("axisExpandSlideTriggerArea"),_=v[0]!=null;if(g)_&&g&&u<o*v[0]?(f="jump",l=u-o*v[2]):_&&g&&u>o*(1-v[0])?(f="jump",l=u-o*(1-v[2])):(l=u-o*v[1])>=0&&(l=u-o*(1-v[1]))<=0&&(l=0),(l*=t.axisExpandWidth/g)?Tp(l,r,a,"all"):f="none";else{var S=r[1]-r[0];(r=[s0(0,a[1]*u/S-S/2)])[1]=a0(a[1],r[0]+S),r[0]=r[1]-S}return{axisExpandWindow:r,behavior:f}},n}();function t_(n,e){return a0(s0(n,e[0]),e[1])}function Ep(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function bD(n,e){var t,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,l=e.axisCollapseWidth,u=e.winInnerIndices,f=l,g=!1;return n<u[0]?(t=n*l,i=l):n<=u[1]?(t=e.axisExpandWindow0Pos+n*o-e.axisExpandWindow[0],f=o,g=!0):(t=r-(a-1-n)*l,i=l),{position:t,axisNameAvailableWidth:f,axisLabelShow:g,nameTruncateMaxWidth:i}}var GI={create:function(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var o=new YI(i,n,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,t.push(o)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="parallel"){var r=i.getReferringComponents("parallel",da).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},Op=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return Tt(e,n),e.prototype.getAreaSelectStyle=function(){return ta([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=Kt(t);if(i)for(var r=i.length-1;r>=0;r--)ml(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(i.length===1){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=t&&t<=i[o][1])return"active";return"inactive"},e}(Wr);jt(Op,Df);var Th=!0,Om=Math.min,Bu=Math.max,xD=Math.pow,XI="globalPan",c0={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_D={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Zk={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},s=0,c=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new Di,i._uid="brushController_"+s++,ht(vn,function(r,o){this._handlers[o]=Te(r,this)},i),i}return Tt(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function(r,o,a){m1(r)[o]=a}(i,XI,this._uid),ht(this._handlers,function(r,o){i.on(o,r)}),this._brushType=t.brushType,this._brushOption=ne(Kt(Zk),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function(i,r,o){var a=m1(i);a[r]===o&&(a[r]=null)})(t,XI,this._uid),ht(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};ht(t,function(r){i[r.panelId]=Kt(r)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=lt(t,function(f){return ne(Kt(Zk),f,!0)});var i=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new Eu(i,t,function(f,g){return l(f.__brushOption,g)},l).add(u).update(u).remove(function(f){i[f]!==a&&o.group.remove(i[f])}).execute(),this;function l(f,g){return(f.id!=null?f.id:"\0-brush-index-"+g)+"-"+f.brushType}function u(f,g){var v=t[f];if(g!=null&&i[g]===a)r[f]=i[g];else{var _=r[f]=g!=null?(i[g].__brushOption=v,i[g]):m(o,p(o,v));T(o,_)}}},e.prototype.unmount=function(){return this.enableBrush(!1),U(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(M);function p(n,e){var t=Tn[e.brushType].createCover(n,e);return t.__brushOption=e,w(t,e),n.group.add(t),t}function m(n,e){var t=P(e);return t.endCreating&&(t.endCreating(n,e),w(e,e.__brushOption)),e}function x(n,e){var t=e.__brushOption;P(e).updateCoverShape(n,e,t.range,t)}function w(n,e){var t=e.z;t==null&&(t=1e4),n.traverse(function(i){i.z=t,i.z2=t})}function T(n,e){P(e).updateCommon(n,e),x(n,e)}function P(n){return Tn[n.__brushOption.brushType]}function F(n,e,t){var i,r=n._panels;if(!r)return Th;var o=n._transform;return ht(r,function(a){a.isTargetByCursor(e,t,o)&&(i=a)}),i}function j(n,e){var t=n._panels;if(!t)return Th;var i=e.__brushOption.panelId;return i!=null?t[i]:Th}function U(n){var e=n._covers,t=e.length;return ht(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function Z(n,e){var t=lt(n._covers,function(i){var r=i.__brushOption,o=Kt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function dt(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function gt(n,e,t,i){var r=new Di;return r.add(new Ur({name:"main",style:Ct(t),silent:!0,draggable:!0,cursor:"move",drift:_n(de,n,e,r,["n","s","w","e"]),ondragend:_n(Z,e,{isEnd:!0})})),ht(i,function(o){r.add(new Ur({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:_n(de,n,e,r,o),ondragend:_n(Z,e,{isEnd:!0})}))}),r}function ut(n,e,t,i){var r=i.brushStyle.lineWidth||0,o=Bu(r,6),a=t[0][0],l=t[1][0],u=a-r/2,f=l-r/2,g=t[0][1],v=t[1][1],_=g-o+r/2,S=v-o+r/2,A=g-a,E=v-l,D=A+r,R=E+r;st(n,e,"main",a,l,A,E),i.transformable&&(st(n,e,"w",u,f,o,R),st(n,e,"e",_,f,o,R),st(n,e,"n",u,f,D,o),st(n,e,"s",u,S,D,o),st(n,e,"nw",u,f,o,o),st(n,e,"ne",_,f,o,o),st(n,e,"sw",u,S,o,o),st(n,e,"se",_,S,o,o))}function yt(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(Ct(t)),r.attr({silent:!i,cursor:i?"move":"default"}),ht([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=e.childOfName(o.join("")),l=o.length===1?Ut(n,o[0]):function(u,f){var g=[Ut(u,f[0]),Ut(u,f[1])];return(g[0]==="e"||g[0]==="w")&&g.reverse(),g.join("")}(n,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?_D[l]+"-resize":null})})}function st(n,e,t,i,r,o,a){var l=e.childOfName(t);l&&l.setShape(function(u){var f=Om(u[0][0],u[1][0]),g=Om(u[0][1],u[1][1]),v=Bu(u[0][0],u[1][0]),_=Bu(u[0][1],u[1][1]);return{x:f,y:g,width:v-f,height:_-g}}(qe(n,e,[[i,r],[i+o,r+a]])))}function Ct(n){return Ne({strokeNoScale:!0},n.brushStyle)}function Rt(n,e,t,i){var r=[Om(n,t),Om(e,i)],o=[Bu(n,t),Bu(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function Ut(n,e){var t=rv({w:"left",e:"right",n:"top",s:"bottom"}[e],function(i){return Wc(i.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[t]}function de(n,e,t,i,r,o){var a=t.__brushOption,l=n.toRectRange(a.range),u=_e(e,r,o);ht(i,function(f){var g=c0[f];l[g[0]][g[1]]+=u[g[0]]}),a.range=n.fromRectRange(Rt(l[0][0],l[1][0],l[0][1],l[1][1])),T(e,t),Z(e,{isEnd:!1})}function ke(n,e,t,i){var r=e.__brushOption.range,o=_e(n,t,i);ht(r,function(a){a[0]+=o[0],a[1]+=o[1]}),T(n,e),Z(n,{isEnd:!1})}function _e(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function qe(n,e,t){var i=j(n,e);return i&&i!==Th?i.clipPath(t,n._transform):Kt(t)}function Xe(n){var e=n.event;e.preventDefault&&e.preventDefault()}function $e(n,e,t){return n.childOfName("main").contain(e,t)}function fn(n,e,t,i){var r,o=n._creatingCover,a=n._creatingPanel,l=n._brushOption;if(n._track.push(t.slice()),function(g){var v=g._track;if(!v.length)return!1;var _=v[v.length-1],S=v[0],A=_[0]-S[0],E=_[1]-S[1];return xD(A*A+E*E,.5)>6}(n)||o){if(a&&!o){l.brushMode==="single"&&U(n);var u=Kt(l);u.brushType=hn(u.brushType,a),u.panelId=a===Th?null:a.panelId,o=n._creatingCover=p(n,u),n._covers.push(o)}if(o){var f=Tn[hn(n._brushType,a)];o.__brushOption.range=f.getCreatingRange(qe(n,o,n._track)),i&&(m(n,o),f.updateCommon(n,o)),x(n,o),r={isEnd:i}}}else i&&l.brushMode==="single"&&l.removeOnClick&&F(n,e,t)&&U(n)&&(r={isEnd:i,removeOnClick:!0});return r}function hn(n,e){return n==="auto"?e.defaultBrushType:n}var vn={mousedown:function(n){if(this._dragging)sn(this,n);else if(!n.target||!n.target.draggable){Xe(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=F(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,i=this.group.transformCoordToLocal(e,t);if(function(o,a,l){if(o._brushType&&!function(S,A,E){var D=S._zr;return A<0||A>D.getWidth()||E<0||E>D.getHeight()}(o,a.offsetX,a.offsetY)){var u=o._zr,f=o._covers,g=F(o,a,l);if(!o._dragging)for(var v=0;v<f.length;v++){var _=f[v].__brushOption;if(g&&(g===Th||_.panelId===g.panelId)&&Tn[_.brushType].contain(f[v],l[0],l[1]))return}g&&u.setCursorStyle("crosshair")}}(this,n,i),this._dragging){Xe(n);var r=fn(this,n,i,!1);r&&Z(this,r)}},mouseup:function(n){sn(this,n)}};function sn(n,e){if(n._dragging){Xe(e);var t=e.offsetX,i=e.offsetY,r=n.group.transformCoordToLocal(t,i),o=fn(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&Z(n,o)}}var Tn={lineX:Qn(0),lineY:Qn(1),rect:{createCover:function(n,e){function t(i){return i}return gt({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=dt(n);return Rt(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){ut(n,e,t,i)},updateCommon:yt,contain:$e},polygon:{createCover:function(n,e){var t=new Di;return t.add(new Ks({name:"main",style:Ct(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Zs({name:"main",draggable:!0,drift:_n(ke,n,e),ondragend:_n(Z,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:qe(n,e,t)})},updateCommon:yt,contain:$e}};function Qn(n){return{createCover:function(e,t){return gt({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=dt(e);return[Om(t[0][n],t[1][n]),Bu(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,r){var o,a=j(e,t);if(a!==Th&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var l=e._zr;o=[0,[l.getWidth(),l.getHeight()][1-n]]}var u=[i,o];n&&u.reverse(),ut(e,t,u,r)},updateCommon:yt,contain:$e}}function ni(n){return n=Mr(n),function(e){return ov(e,n)}}function Pi(n,e){return n=Mr(n),function(t){var i=e??t,r=i?n.width:n.height,o=i?n.x:n.y;return[o,o+(r||0)]}}function qi(n,e,t){var i=Mr(n);return function(r,o){return i.contain(o[0],o[1])&&!b1(r,e,t)}}function Mr(n){return yr.create(n)}var po=["axisLine","axisTickLabel","axisName"],Ti=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new c(i.getZr())).on("brush",Te(this._onBrush,this))},e.prototype.render=function(t,i,r,o){if(!function(A,E,D){return D&&D.type==="axisAreaSelect"&&E.findComponents({mainType:"parallelAxis",query:D})[0]===A}(t,i,o)){this.axisModel=t,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Di,this.group.add(this._axisGroup),t.get("show")){var l=function(A,E){return E.getComponent("parallel",A.get("parallelIndex"))}(t,i),u=l.coordinateSystem,f=t.getAreaSelectStyle(),g=f.width,v=t.axis.dim,_=me({strokeContainThreshold:g},u.getAxisLayout(v)),S=new ol(t,_);ht(po,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(_,f,t,l,g,r),jd(a,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,o,a,l){var u=r.axis.getExtent(),f=u[1]-u[0],g=Math.min(30,.1*Math.abs(f)),v=yr.create({x:u[0],y:-a/2,width:f,height:a});v.x-=g,v.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:ni(v),isTargetByCursor:qi(v,l,o),getLinearBrushOtherExtent:Pi(v,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function(_){var S=_.axis;return lt(_.activeIntervals,function(A){return{brushType:"lineX",panelId:"pl",range:[S.dataToCoord(A[0],!0),S.dataToCoord(A[1],!0)]}})}(r))},e.prototype._onBrush=function(t){var i=t.areas,r=this.axisModel,o=r.axis,a=lt(i,function(l){return[o.coordToData(l.range[0],!0),o.coordToData(l.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(Ao),fr={type:"axisAreaSelect",event:"axisAreaSelected"},gr={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function tn(n){n.registerComponentView(WI),n.registerComponentModel(yD),n.registerCoordinateSystem("parallel",GI),n.registerPreprocessor(mD),n.registerComponentModel(Op),n.registerComponentView(Ti),vm(n,"parallel",Op,gr),function(e){e.registerAction(fr,function(t,i){i.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,i){i.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}(n)}var nn=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},kn=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new nn},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),i.orient==="vertical"?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){nh(this)},e.prototype.downplay=function(){ih(this)},e}(pr),En=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=this,a=t.getGraph(),l=this.group,u=t.layoutInfo,f=u.width,g=u.height,v=t.getData(),_=t.getData("edge"),S=t.get("orient");this._model=t,l.removeAll(),l.x=u.x,l.y=u.y,a.eachEdge(function(A){var E=new kn,D=lr(E);D.dataIndex=A.dataIndex,D.seriesIndex=t.seriesIndex,D.dataType="edge";var R,z,Y,G,$,Q,et,ot,xt=A.getModel(),St=xt.getModel("lineStyle"),Mt=St.get("curveness"),Bt=A.node1.getLayout(),Zt=A.node1.getModel(),se=Zt.get("localX"),pe=Zt.get("localY"),be=A.node2.getLayout(),we=A.node2.getModel(),Re=we.get("localX"),Ze=we.get("localY"),Je=A.getLayout();switch(E.shape.extent=Math.max(1,Je.dy),E.shape.orient=S,S==="vertical"?(R=(se!=null?se*f:Bt.x)+Je.sy,z=(pe!=null?pe*g:Bt.y)+Bt.dy,Y=(Re!=null?Re*f:be.x)+Je.ty,$=R,Q=z*(1-Mt)+(G=Ze!=null?Ze*g:be.y)*Mt,et=Y,ot=z*Mt+G*(1-Mt)):(R=(se!=null?se*f:Bt.x)+Bt.dx,z=(pe!=null?pe*g:Bt.y)+Je.sy,$=R*(1-Mt)+(Y=Re!=null?Re*f:be.x)*Mt,Q=z,et=R*Mt+Y*(1-Mt),ot=G=(Ze!=null?Ze*g:be.y)+Je.ty),E.setShape({x1:R,y1:z,x2:Y,y2:G,cpx1:$,cpy1:Q,cpx2:et,cpy2:ot}),E.useStyle(St.getItemStyle()),E.style.fill){case"source":E.style.fill=A.node1.getVisual("color"),E.style.decal=A.node1.getVisual("style").decal;break;case"target":E.style.fill=A.node2.getVisual("color"),E.style.decal=A.node2.getVisual("style").decal;break;case"gradient":var rn=A.node1.getVisual("color"),An=A.node2.getVisual("color");Mn(rn)&&Mn(An)&&(E.style.fill=new of(0,0,+(S==="horizontal"),+(S==="vertical"),[{color:rn,offset:0},{color:An,offset:1}]))}na(E,Wa(xt,"edgeLabel"),{labelFetcher:t,labelDataIndex:A.dataIndex,defaultText:""+xt.get("value")}),E.setTextConfig({position:"inside"});var Yn=xt.getModel("emphasis");Is(E,xt,"lineStyle",function(Pn){return Pn.getItemStyle()}),l.add(E),_.setItemGraphicEl(A.dataIndex,E);var cn=Yn.get("focus");fa(E,cn==="adjacency"?A.getAdjacentDataIndices():cn,Yn.get("blurScope"),Yn.get("disabled")),lr(E).dataType="edge"}),a.eachNode(function(A){var E=A.getLayout(),D=A.getModel(),R=D.get("localX"),z=D.get("localY"),Y=D.getModel("emphasis"),G=new Ur({shape:{x:R!=null?R*f:E.x,y:z!=null?z*g:E.y,width:E.dx,height:E.dy},style:D.getModel("itemStyle").getItemStyle(),z2:10});na(G,Wa(D),{labelFetcher:t,labelDataIndex:A.dataIndex,defaultText:A.id}),G.disableLabelAnimation=!0,G.setStyle("fill",A.getVisual("color")),G.setStyle("decal",A.getVisual("style").decal),Is(G,D),l.add(G),v.setItemGraphicEl(A.dataIndex,G),lr(G).dataType="node";var $=Y.get("focus");fa(G,$==="adjacency"?A.getAdjacentDataIndices():$,Y.get("blurScope"),Y.get("disabled"))}),v.eachItemGraphicEl(function(A,E){v.getItemModel(E).get("draggable")&&(A.drift=function(D,R){o._focusAdjacencyDisabled=!0,this.shape.x+=D,this.shape.y+=R,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:v.getRawIndex(E),localX:this.shape.x/f,localY:this.shape.y/g})},A.ondragend=function(){o._focusAdjacencyDisabled=!1},A.draggable=!0,A.cursor="move")}),!this._data&&t.isAnimationEnabled()&&l.setClipPath(function(A,E,D){var R=new Ur({shape:{x:A.x-10,y:A.y-10,width:0,height:A.height+20}});return To(R,{shape:{width:A.width+20}},E,D),R}(l.getBoundingRect(),t,function(){l.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(wo),In=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,o=t.data||t.nodes,a=t.levels;this.levelModels=[];for(var l=this.levelModels,u=0;u<a.length;u++)a[u].depth!=null&&a[u].depth>=0&&(l[a[u].depth]=new ao(a[u],this,i));if(o&&r){var f=NI(o,r,this,!0,function(g,v){g.wrapMethod("getItemModel",function(_,S){var A=_.parentModel,E=A.getData().getItemLayout(S);if(E){var D=E.depth,R=A.levelModels[D];R&&(_.parentModel=R)}return _}),v.wrapMethod("getItemModel",function(_,S){var A=_.parentModel,E=A.getGraph().getEdgeByIndex(S).node1.getLayout();if(E){var D=E.depth,R=A.levelModels[D];R&&(_.parentModel=R)}return _})});return f.data}},e.prototype.setNodePosition=function(t,i){var r=(this.option.data||this.option.nodes)[t];r.localX=i[0],r.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function o(v){return isNaN(v)||v==null}if(r==="edge"){var a=this.getDataParams(t,r),l=a.data,u=a.value;return ia("nameValue",{name:l.source+" -- "+l.target,value:u,noValue:o(u)})}var f=this.getGraph().getNodeByIndex(t).getLayout().value,g=this.getDataParams(t,r).data.name;return ia("nameValue",{name:g!=null?g+"":null,value:f,noValue:o(f)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(r.value==null&&i==="node"){var o=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=o}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Io);function On(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),o=function(v,_){return ma(v.getBoxLayoutParams(),{width:_.getWidth(),height:_.getHeight()})}(t,e);t.layoutInfo=o;var a=o.width,l=o.height,u=t.getGraph(),f=u.nodes,g=u.edges;(function(v){ht(v,function(_){var S=Aa(_.outEdges,Po),A=Aa(_.inEdges,Po),E=_.getValue()||0,D=Math.max(S,A,E);_.setLayout({value:D},!0)})})(f),function(v,_,S,A,E,D,R,z,Y){(function(G,$,Q,et,ot,xt,St){for(var Mt=[],Bt=[],Zt=[],se=[],pe=0,be=0;be<$.length;be++)Mt[be]=1;for(be=0;be<G.length;be++)Bt[be]=G[be].inEdges.length,Bt[be]===0&&Zt.push(G[be]);for(var we=-1;Zt.length;){for(var Re=0;Re<Zt.length;Re++){var Ze=Zt[Re],Je=Ze.hostGraph.data.getRawDataItem(Ze.dataIndex),rn=Je.depth!=null&&Je.depth>=0;rn&&Je.depth>we&&(we=Je.depth),Ze.setLayout({depth:rn?Je.depth:pe},!0),xt==="vertical"?Ze.setLayout({dy:Q},!0):Ze.setLayout({dx:Q},!0);for(var An=0;An<Ze.outEdges.length;An++){var Yn=Ze.outEdges[An];Mt[$.indexOf(Yn)]=0;var cn=Yn.node2;--Bt[G.indexOf(cn)]==0&&se.indexOf(cn)<0&&se.push(cn)}}++pe,Zt=se,se=[]}for(be=0;be<Mt.length;be++)if(Mt[be]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Pn=we>pe-1?we:pe-1;St&&St!=="left"&&function(Kn,Gn,ri,qn){if(Gn==="right"){for(var li=[],Ai=Kn,cr=0;Ai.length;){for(var kr=0;kr<Ai.length;kr++){var So=Ai[kr];So.setLayout({skNodeHeight:cr},!0);for(var zr=0;zr<So.inEdges.length;zr++){var Jr=So.inEdges[zr];li.indexOf(Jr.node1)<0&&li.push(Jr.node1)}}Ai=li,li=[],++cr}ht(Kn,function(so){Un(so)||so.setLayout({depth:Math.max(0,qn-so.getLayout().skNodeHeight)},!0)})}else Gn==="justify"&&function(so,Yo){ht(so,function($o){Un($o)||$o.outEdges.length||$o.setLayout({depth:Yo},!0)})}(Kn,qn)}(G,St,0,Pn);var Jn=xt==="vertical"?(ot-Q)/Pn:(et-Q)/Pn;(function(Kn,Gn,ri){ht(Kn,function(qn){var li=qn.getLayout().depth*Gn;ri==="vertical"?qn.setLayout({y:li},!0):qn.setLayout({x:li},!0)})})(G,Jn,xt)})(v,_,S,E,D,z,Y),function(G,$,Q,et,ot,xt,St){var Mt=function(Zt,se){var pe=[],be=se==="vertical"?"y":"x",we=Md(Zt,function(Re){return Re.getLayout()[be]});return we.keys.sort(function(Re,Ze){return Re-Ze}),ht(we.keys,function(Re){pe.push(we.buckets.get(Re))}),pe}(G,St);(function(Zt,se,pe,be,we,Re){var Ze=1/0;ht(Zt,function(Je){var rn=Je.length,An=0;ht(Je,function(cn){An+=cn.getLayout().value});var Yn=Re==="vertical"?(be-(rn-1)*we)/An:(pe-(rn-1)*we)/An;Yn<Ze&&(Ze=Yn)}),ht(Zt,function(Je){ht(Je,function(rn,An){var Yn=rn.getLayout().value*Ze;Re==="vertical"?(rn.setLayout({x:An},!0),rn.setLayout({dx:Yn},!0)):(rn.setLayout({y:An},!0),rn.setLayout({dy:Yn},!0))})}),ht(se,function(Je){var rn=+Je.getValue()*Ze;Je.setLayout({dy:rn},!0)})})(Mt,$,Q,et,ot,St),pi(Mt,ot,Q,et,St);for(var Bt=1;xt>0;xt--)Li(Mt,Bt*=.99,St),pi(Mt,ot,Q,et,St),sl(Mt,Bt,St),pi(Mt,ot,Q,et,St)}(v,_,D,E,A,R,z),function(G,$){var Q=$==="vertical"?"x":"y";ht(G,function(et){et.outEdges.sort(function(ot,xt){return ot.node2.getLayout()[Q]-xt.node2.getLayout()[Q]}),et.inEdges.sort(function(ot,xt){return ot.node1.getLayout()[Q]-xt.node1.getLayout()[Q]})}),ht(G,function(et){var ot=0,xt=0;ht(et.outEdges,function(St){St.setLayout({sy:ot},!0),ot+=St.getLayout().dy}),ht(et.inEdges,function(St){St.setLayout({ty:xt},!0),xt+=St.getLayout().dy})})}(v,z)}(f,g,i,r,a,l,en(f,function(v){return v.getLayout().value===0}).length!==0?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function Un(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function pi(n,e,t,i,r){var o=r==="vertical"?"x":"y";ht(n,function(a){var l,u,f;a.sort(function(A,E){return A.getLayout()[o]-E.getLayout()[o]});for(var g=0,v=a.length,_=r==="vertical"?"dx":"dy",S=0;S<v;S++)(f=g-(u=a[S]).getLayout()[o])>0&&(l=u.getLayout()[o]+f,r==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0)),g=u.getLayout()[o]+u.getLayout()[_]+e;if((f=g-e-(r==="vertical"?i:t))>0)for(l=u.getLayout()[o]-f,r==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0),g=l,S=v-2;S>=0;--S)(f=(u=a[S]).getLayout()[o]+u.getLayout()[_]+e-g)>0&&(l=u.getLayout()[o]-f,r==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0)),g=u.getLayout()[o]})}function Li(n,e,t){ht(n.slice().reverse(),function(i){ht(i,function(r){if(r.outEdges.length){var o=Aa(r.outEdges,Ki,t)/Aa(r.outEdges,Po);if(isNaN(o)){var a=r.outEdges.length;o=a?Aa(r.outEdges,ir,t)/a:0}if(t==="vertical"){var l=r.getLayout().x+(o-Lo(r,t))*e;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-Lo(r,t))*e;r.setLayout({y:u},!0)}}})})}function Ki(n,e){return Lo(n.node2,e)*n.getValue()}function ir(n,e){return Lo(n.node2,e)}function ui(n,e){return Lo(n.node1,e)*n.getValue()}function mr(n,e){return Lo(n.node1,e)}function Lo(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Po(n){return n.getValue()}function Aa(n,e,t){for(var i=0,r=n.length,o=-1;++o<r;){var a=+e(n[o],t);isNaN(a)||(i+=a)}return i}function sl(n,e,t){ht(n,function(i){ht(i,function(r){if(r.inEdges.length){var o=Aa(r.inEdges,ui,t)/Aa(r.inEdges,Po);if(isNaN(o)){var a=r.inEdges.length;o=a?Aa(r.inEdges,mr,t)/a:0}if(t==="vertical"){var l=r.getLayout().x+(o-Lo(r,t))*e;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-Lo(r,t))*e;r.setLayout({y:u},!0)}}})})}function zu(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var o=1/0,a=-1/0;ht(i,function(l){var u=l.getLayout().value;u<o&&(o=u),u>a&&(a=u)}),ht(i,function(l){var u=new ts({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}).mapValueToVisual(l.getLayout().value),f=l.getModel().get(["itemStyle","color"]);f!=null?(l.setVisual("color",f),l.setVisual("style",{fill:f})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}r.length&&ht(r,function(l){var u=l.getModel().get("lineStyle");l.setVisual("style",u)})})}var Ic=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,r,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=a.get("type");l==="category"?(e.layout="horizontal",i=o.getOrdinalMeta(),r=!0):u==="category"?(e.layout="vertical",i=a.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var f=["x","y"],g=e.layout==="horizontal"?0:1,v=this._baseAxisDim=f[g],_=f[1-g],S=[o,a],A=S[g].get("type"),E=S[1-g].get("type"),D=e.data;if(D&&r){var R=[];ht(D,function(G,$){var Q;Be(G)?(Q=G.slice(),G.unshift($)):Be(G.value)?((Q=me({},G)).value=Q.value.slice(),G.value.unshift($)):Q=G,R.push(Q)}),e.data=R}var z=this.defaultValueDimensions,Y=[{name:v,type:dx(A),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:_,type:dx(E),dimsDef:z.slice()}];return Vf(this,{coordDimensions:Y,dimensionsCount:z.length+1,encodeDefaulter:_n(ab,Y,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),La=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return Tt(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Io);jt(La,Ic,!0);var Tl=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this.group,l=this._data;this._data||a.removeAll();var u=t.get("layout")==="horizontal"?1:0;o.diff(l).add(function(f){if(o.hasValue(f)){var g=cd(o.getItemLayout(f),o,f,u,!0);o.setItemGraphicEl(f,g),a.add(g)}}).update(function(f,g){var v=l.getItemGraphicEl(g);if(o.hasValue(f)){var _=o.getItemLayout(f);v?(Fc(v),u0(_,v,o,f)):v=cd(_,o,f,u),a.add(v),o.setItemGraphicEl(f,v)}else a.remove(v)}).remove(function(f){var g=l.getItemGraphicEl(f);g&&a.remove(g)}).execute(),this._data=o},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},e.type="boxplot",e}(wo),oa=function(){},Ih=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new oa},e.prototype.buildPath=function(t,i){var r=i.points,o=0;for(t.moveTo(r[o][0],r[o][1]),o++;o<4;o++)t.lineTo(r[o][0],r[o][1]);for(t.closePath();o<r.length;o++)t.moveTo(r[o][0],r[o][1]),o++,t.lineTo(r[o][0],r[o][1])},e}(pr);function cd(n,e,t,i,r){var o=n.ends,a=new Ih({shape:{points:r?Eh(o,i,n):o}});return u0(n,a,e,t,r),a}function u0(n,e,t,i,r){var o=t.hostModel;(0,Gd[r?"initProps":"updateProps"])(e,{shape:{points:n.ends}},o,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=t.getItemModel(i),l=a.getModel("emphasis");Is(e,a),fa(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Eh(n,e,t){return lt(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}var ud=ht;function nc(n){var e=function(t){var i=[],r=[];return t.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),l=dn(r,a);l<0&&(l=r.length,r[l]=a,i[l]={axis:a,seriesModels:[]}),i[l].seriesModels.push(o)}),i}(n);ud(e,function(t){var i=t.seriesModels;i.length&&(function(r){var o,a=r.axis,l=r.seriesModels,u=l.length,f=r.boxWidthList=[],g=r.boxOffsetList=[],v=[];if(a.type==="category")o=a.getBandWidth();else{var _=0;ud(l,function(z){_=Math.max(_,z.getData().count())});var S=a.getExtent();o=Math.abs(S[1]-S[0])/_}ud(l,function(z){var Y=z.get("boxWidth");Be(Y)||(Y=[Y,Y]),v.push([ei(Y[0],o)||0,ei(Y[1],o)||0])});var A=.8*o-2,E=A/u*.3,D=(A-E*(u-1))/u,R=D/2-A/2;ud(l,function(z,Y){g.push(R),R+=E+D,f.push(Math.min(Math.max(D,v[Y][0]),v[Y][1]))})}(t),ud(i,function(r,o){(function(a,l,u){var f=a.coordinateSystem,g=a.getData(),v=u/2,_=a.get("layout")==="horizontal"?0:1,S=1-_,A=["x","y"],E=g.mapDimension(A[_]),D=g.mapDimensionsAll(A[S]);if(E==null||D.length<5)return;for(var R=0;R<g.count();R++){var z=g.get(E,R),Y=xt(z,D[2],R),G=xt(z,D[0],R),$=xt(z,D[1],R),Q=xt(z,D[3],R),et=xt(z,D[4],R),ot=[];St(ot,$,!1),St(ot,Q,!0),ot.push(G,$,et,Q),Mt(ot,G),Mt(ot,et),Mt(ot,Y),g.setItemLayout(R,{initBaseline:Y[S],ends:ot})}function xt(Bt,Zt,se){var pe,be=g.get(Zt,se),we=[];return we[_]=Bt,we[S]=be,isNaN(Bt)||isNaN(be)?pe=[NaN,NaN]:(pe=f.dataToPoint(we))[_]+=l,pe}function St(Bt,Zt,se){var pe=Zt.slice(),be=Zt.slice();pe[_]+=v,be[_]-=v,se?Bt.push(pe,be):Bt.push(be,pe)}function Mt(Bt,Zt){var se=Zt.slice(),pe=Zt.slice();se[_]-=v,pe[_]+=v,Bt.push(se,pe)}})(r,t.boxOffsetList[o],t.boxWidthList[o])}))})}var Dp={type:"echarts:boxplot",transform:function(n){var e=n.upstream;if(e.sourceFormat!==Os){var t="";ro(t)}var i=function(r,o){for(var a=[],l=[],u=(o=o||{}).boundIQR,f=u==="none"||u===0,g=0;g<r.length;g++){var v=ml(r[g].slice()),_=Cd(v,.25),S=Cd(v,.5),A=Cd(v,.75),E=v[0],D=v[v.length-1],R=(u??1.5)*(A-_),z=f?E:Math.max(E,_-R),Y=f?D:Math.min(D,A+R),G=o.itemNameFormatter,$=Ge(G)?G({value:g}):Mn(G)?G.replace("{value}",g+""):g+"";a.push([$,z,_,S,A,Y]);for(var Q=0;Q<v.length;Q++){var et=v[Q];if(et<z||et>Y){var ot=[$,et];l.push(ot)}}}return{boxData:a,outliers:l}}(e.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},ic=["color","borderColor"],Qf=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){Xh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;this._isLargeDraw!=null&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),l=t.get("clip",!0),u=t.coordinateSystem,f=u.getArea&&u.getArea();this._data||o.removeAll(),i.diff(r).add(function(g){if(i.hasValue(g)){var v=i.getItemLayout(g);if(l&&Jf(f,v))return;var _=Kk(v,g,!0);To(_,{shape:{points:v.ends}},t,g),Qk(_,i,g,a),o.add(_),i.setItemGraphicEl(g,_)}}).update(function(g,v){var _=r.getItemGraphicEl(v);if(i.hasValue(g)){var S=i.getItemLayout(g);l&&Jf(f,S)?o.remove(_):(_?(Zr(_,{shape:{points:S.ends}},t,g),Fc(_)):_=Kk(S),Qk(_,i,g,a),o.add(_),i.setItemGraphicEl(g,_))}else o.remove(_)}).remove(function(g){var v=r.getItemGraphicEl(g);v&&o.remove(v)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),tA(t,this.group);var i=t.get("clip",!0)?xy(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var r,o=i.getData(),a=o.getLayout("isSimpleBox");(r=t.next())!=null;){var l=Kk(o.getItemLayout(r));Qk(l,o,r,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,i){tA(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(wo),qI=function(){},wD=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new qI},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(pr);function Kk(n,e,t){var i=n.ends;return new wD({shape:{points:t?UI(i,n):i},z2:100})}function Jf(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function Qk(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,Is(n,r)}function UI(n,e){return lt(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var Jk=function(){},e_=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new Jk},e.prototype.buildPath=function(t,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];t.moveTo(a,r[o++]),t.lineTo(a,r[o++])}else o+=3},e}(pr);function tA(n,e,t,i){var r=n.getData().getLayout("largePoints"),o=new e_({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});e.add(o);var a=new e_({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});e.add(a);var l=new e_({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});e.add(l),eA(1,o,n),eA(-1,a,n),eA(0,l,n),i&&(o.incremental=!0,a.incremental=!0),t&&t.push(o,a)}function eA(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);n===0&&(r=t.get(["itemStyle","borderColorDoji"]));var o=t.getModel("itemStyle").getItemStyle(ic);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var h0=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return Tt(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var o=i.getItemLayout(t);return o&&r.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Io);function nA(n){n&&Be(n.series)&&ht(n.series,function(e){di(e)&&e.type==="k"&&(e.type="candlestick")})}jt(h0,Ic,!0);var SD=["itemStyle","borderColor"],hd=["itemStyle","borderColor0"],n_=["itemStyle","borderColorDoji"],$I=["itemStyle","color"],ZI=["itemStyle","color0"],CD={seriesType:"candlestick",plan:fh(),performRawSeries:!0,reset:function(n,e){function t(r,o){return o.get(r>0?$I:ZI)}function i(r,o){return o.get(r===0?n_:r>0?SD:hd)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var a;(a=r.next())!=null;){var l=o.getItemModel(a),u=o.getItemLayout(a).sign,f=l.getItemStyle();f.fill=t(u,l),f.stroke=i(u,l)||f.fill,me(o.ensureUniqueItemVisual(a,"style"),f)}}}}},d0={seriesType:"candlestick",plan:fh(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=function(v,_){var S,A=v.getBaseAxis(),E=A.type==="category"?A.getBandWidth():(S=A.getExtent(),Math.abs(S[1]-S[0])/_.count()),D=ei(yi(v.get("barMaxWidth"),E),E),R=ei(yi(v.get("barMinWidth"),1),E),z=v.get("barWidth");return z!=null?ei(z,E):Math.max(Math.min(E/2,D),R)}(n,t),r=["x","y"],o=t.getDimensionIndex(t.mapDimension(r[0])),a=lt(t.mapDimensionsAll(r[1]),t.getDimensionIndex,t),l=a[0],u=a[1],f=a[2],g=a[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:n.pipelineContext.large?function(v,_){for(var S,A,E=Du(4*v.count),D=0,R=[],z=[],Y=_.getStore(),G=!!n.get(["itemStyle","borderColorDoji"]);(A=v.next())!=null;){var $=Y.get(o,A),Q=Y.get(l,A),et=Y.get(u,A),ot=Y.get(f,A),xt=Y.get(g,A);isNaN($)||isNaN(ot)||isNaN(xt)?(E[D++]=NaN,D+=3):(E[D++]=Oh(Y,A,Q,et,u,G),R[0]=$,R[1]=ot,S=e.dataToPoint(R,null,z),E[D++]=S?S[0]:NaN,E[D++]=S?S[1]:NaN,R[1]=xt,S=e.dataToPoint(R,null,z),E[D++]=S?S[1]:NaN)}_.setLayout("largePoints",E)}:function(v,_){for(var S,A=_.getStore();(S=v.next())!=null;){var E=A.get(o,S),D=A.get(l,S),R=A.get(u,S),z=A.get(f,S),Y=A.get(g,S),G=Math.min(D,R),$=Math.max(D,R),Q=Bt(G,E),et=Bt($,E),ot=Bt(z,E),xt=Bt(Y,E),St=[];Zt(St,et,0),Zt(St,Q,1),St.push(pe(xt),pe(et),pe(ot),pe(Q));var Mt=!!_.getItemModel(S).get(["itemStyle","borderColorDoji"]);_.setItemLayout(S,{sign:Oh(A,S,D,R,u,Mt),initBaseline:D>R?et[1]:Q[1],ends:St,brushRect:se(z,Y,E)})}function Bt(be,we){var Re=[];return Re[0]=we,Re[1]=be,isNaN(we)||isNaN(be)?[NaN,NaN]:e.dataToPoint(Re)}function Zt(be,we,Re){var Ze=we.slice(),Je=we.slice();Ze[0]=Wd(Ze[0]+i/2,1,!1),Je[0]=Wd(Je[0]-i/2,1,!0),Re?be.push(Ze,Je):be.push(Je,Ze)}function se(be,we,Re){var Ze=Bt(be,Re),Je=Bt(we,Re);return Ze[0]-=i/2,Je[0]-=i/2,{x:Ze[0],y:Ze[1],width:i,height:Je[1]-Ze[1]}}function pe(be){return be[0]=Wd(be[0],1),be}}}}};function Oh(n,e,t,i,r,o){return t>i?-1:t<i?1:o?0:e>0?n.get(r,e-1)<=i?1:-1:1}function iA(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var KI=function(n){function e(t,i){var r=n.call(this)||this,o=new hm(t,i),a=new Di;return r.add(o),r.add(a),r.updateData(t,i),r}return Tt(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,o=t.rippleNumber,a=this.childAt(1),l=0;l<o;l++){var u=va(i,-1,-1,2,2,r);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-l/o*t.period+t.effectOffset;u.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(f).start(),u.animateStyle(!0).when(t.period,{opacity:0}).delay(f).start(),a.add(u)}iA(a,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var l=o[a];if(i[l]!==t[l])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}iA(r,t)},e.prototype.highlight=function(){nh(this)},e.prototype.downplay=function(){ih(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,o=t.hostModel;this.childAt(0).updateData(t,i);var a=this.childAt(1),l=t.getItemModel(i),u=t.getItemVisual(i,"symbol"),f=Zg(t.getItemVisual(i,"symbolSize")),g=t.getItemVisual(i,"style"),v=g&&g.fill,_=l.getModel("emphasis");a.setScale(f),a.traverse(function(D){D.setStyle("fill",v)});var S=rp(t.getItemVisual(i,"symbolOffset"),f);S&&(a.x=S[0],a.y=S[1]);var A=t.getItemVisual(i,"symbolRotate");a.rotation=(A||0)*Math.PI/180||0;var E={};E.showEffectOn=o.get("showEffectOn"),E.rippleScale=l.get(["rippleEffect","scale"]),E.brushType=l.get(["rippleEffect","brushType"]),E.period=1e3*l.get(["rippleEffect","period"]),E.effectOffset=i/t.count(),E.z=o.getShallow("z")||0,E.zlevel=o.getShallow("zlevel")||0,E.symbolType=u,E.color=v,E.rippleEffectColor=l.get(["rippleEffect","color"]),E.rippleNumber=l.get(["rippleEffect","number"]),E.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(E):this.startEffectAnimation(E),this._effectCfg=E):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(D){D==="emphasis"?E.showEffectOn!=="render"&&r.startEffectAnimation(E):D==="normal"&&E.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=E,fa(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Di),QI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){this._symbolDraw=new dm(KI)},e.prototype.render=function(t,i,r){var o=t.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(t)}),this.group.add(a.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var o=t.getData();this.group.dirty();var a=pm("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=fo(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(wo),JI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return yh(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Io),tE=function(n){function e(t,i,r){var o=n.call(this)||this;return o.add(o.createLine(t,i,r)),o._updateEffectSymbol(t,i),o}return Tt(e,n),e.prototype.createLine=function(t,i,r){return new Nk(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var r=t.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");Be(o)||(o=[o,o]);var l=t.getItemVisual(i,"style"),u=r.get("color")||l&&l.stroke,f=this.childAt(1);this._symbolType!==a&&(this.remove(f),(f=va(a,-.5,-.5,1,1,u)).z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",u),f.setStyle(r.getItemStyle(["color"])),f.scaleX=o[0],f.scaleY=o[1],f.setColor(u),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(t,r,i))},e.prototype._updateEffectAnimation=function(t,i,r){var o=this.childAt(1);if(o){var a=t.getItemLayout(r),l=1e3*i.get("period"),u=i.get("loop"),f=i.get("roundTrip"),g=i.get("constantSpeed"),v=zi(i.get("delay"),function(S){return S/t.count()*l/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),g>0&&(l=this._getLineLength(o)/g*1e3),l!==this._period||u!==this._loop||f!==this._roundTrip){o.stopAnimation();var _=void 0;_=Ge(v)?v(r):v,o.__t>0&&(_=-l*o.__t),this._animateSymbol(o,l,_,u,f)}this._period=l,this._loop=u,this._roundTrip=f}},e.prototype._animateSymbol=function(t,i,r,o,a){if(i>0){t.__t=0;var l=this,u=t.animate("",o).when(a?2*i:i,{__t:a?2:1}).delay(r).during(function(){l._updateSymbolPosition(t)});o||u.done(function(){l.remove(t)}),u.start()}},e.prototype._getLineLength=function(t){return hi(t.__p1,t.__cp1)+hi(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,o=t.__cp1,a=t.__t<1?t.__t:2-t.__t,l=[t.x,t.y],u=l.slice(),f=Vr,g=Eo;l[0]=f(i[0],o[0],r[0],a),l[1]=f(i[1],o[1],r[1],a);var v=t.__t<1?g(i[0],o[0],r[0],a):g(r[0],o[0],i[0],1-a),_=t.__t<1?g(i[1],o[1],r[1],a):g(r[1],o[1],i[1],1-a);t.rotation=-Math.atan2(_,v)-Math.PI/2,this._symbolType!=="line"&&this._symbolType!=="rect"&&this._symbolType!=="roundRect"||(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=1.05*hi(u,l),a===1&&(l[0]=u[0]+(l[0]-u[0])/2,l[1]=u[1]+(l[1]-u[1])/2)):t.__lastT===1?t.scaleY=2*hi(i,l):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=l[0],t.y=l[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(Di),pn=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createPolyline(t,i,r),o}return Tt(e,n),e.prototype._createPolyline=function(t,i,r){var o=t.getItemLayout(i),a=new Ks({shape:{points:o}});this.add(a),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel;Zr(this.childAt(0),{shape:{points:t.getItemLayout(i)}},o,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var o=this.childAt(0),a=t.getItemModel(i),l=r&&r.emphasisLineStyle,u=r&&r.focus,f=r&&r.blurScope,g=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var v=a.getModel("emphasis");l=v.getModel("lineStyle").getLineStyle(),g=v.get("disabled"),u=v.get("focus"),f=v.get("blurScope")}o.useStyle(t.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=l,fa(this,u,f,g)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(Di),Zi=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return Tt(e,n),e.prototype.createLine=function(t,i,r){return new pn(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++){var l=i[a-1],u=i[a];o+=hi(l,u),r.push(o)}if(o!==0){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,o=this._offsets,a=r.length;if(o){var l,u=this._lastFrame;if(i<this._lastFramePercent){for(l=Math.min(u+1,a-1);l>=0&&!(o[l]<=i);l--);l=Math.min(l,a-2)}else{for(l=u;l<a&&!(o[l]>i);l++);l=Math.min(l-1,a-2)}var f=(i-o[l])/(o[l+1]-o[l]),g=r[l],v=r[l+1];t.x=g[0]*(1-f)+f*v[0],t.y=g[1]*(1-f)+f*v[1];var _=t.__t<1?v[0]-g[0]:g[0]-v[0],S=t.__t<1?v[1]-g[1]:g[1]-v[1];t.rotation=-Math.atan2(S,_)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e}(tE),Ni=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Uo=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return Tt(e,n),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ni},e.prototype.buildPath=function(t,i){var r,o=i.segs,a=i.curveness;if(i.polyline)for(r=this._off;r<o.length;){var l=o[r++];if(l>0){t.moveTo(o[r++],o[r++]);for(var u=1;u<l;u++)t.lineTo(o[r++],o[r++])}}else for(r=this._off;r<o.length;){var f=o[r++],g=o[r++],v=o[r++],_=o[r++];if(t.moveTo(f,g),a>0){var S=(f+v)/2-(g-_)*a,A=(g+_)/2-(v-f)*a;t.quadraticCurveTo(S,A,v,_)}else t.lineTo(v,_)}this.incremental&&(this._off=r,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,o=r.segs,a=r.curveness,l=this.style.lineWidth;if(r.polyline)for(var u=0,f=0;f<o.length;){var g=o[f++];if(g>0){for(var v=o[f++],_=o[f++],S=1;S<g;S++)if(Rn(v,_,A=o[f++],E=o[f++],l,t,i))return u}u++}else for(u=0,f=0;f<o.length;){v=o[f++],_=o[f++];var A=o[f++],E=o[f++];if(a>0){if(mi(v,_,(v+A)/2-(_-E)*a,(_+E)/2-(A-v)*a,A,E,l,t,i))return u}else if(Rn(v,_,A,E,l,t,i))return u;u++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();return t=r[0],i=r[1],o.contain(t,i)?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape.segs,r=1/0,o=1/0,a=-1/0,l=-1/0,u=0;u<i.length;){var f=i[u++],g=i[u++];r=Math.min(f,r),a=Math.max(f,a),o=Math.min(g,o),l=Math.max(g,l)}t=this._rect=new yr(r,o,a,l)}return t},e}(pr),Pa=function(){function n(){this.group=new Di}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,l=new Float32Array(a+r.length);l.set(o),l.set(r,a),i.setShape({segs:l})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:r}),this._setCommon(u,t),u.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new Uo({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var a=lr(e);a.seriesIndex=r.seriesIndex,e.on("mousemove",function(l){a.dataIndex=null;var u=e.hoverDataIdx;u>0&&(a.dataIndex=u+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),ll={seriesType:"lines",plan:fh(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var l=void 0,u=r.end-r.start;if(t){for(var f=0,g=r.start;g<r.end;g++)f+=n.getLineCoordsCount(g);l=new Float32Array(u+2*f)}else l=new Float32Array(4*u);var v=0,_=[];for(g=r.start;g<r.end;g++){var S=n.getLineCoords(g,a);t&&(l[v++]=S);for(var A=0;A<S;A++)_=e.dataToPoint(a[A],!1,_),l[v++]=_[0],l[v++]=_[1]}o.setLayout("linesPoints",l)}else for(g=r.start;g<r.end;g++){var E=o.getItemModel(g),D=(S=n.getLineCoords(g,a),[]);if(t)for(var R=0;R<S;R++)D.push(e.dataToPoint(a[R]));else{D[0]=e.dataToPoint(a[0]),D[1]=e.dataToPoint(a[1]);var z=E.get(["lineStyle","curveness"]);+z&&(D[2]=[(D[0][0]+D[1][0])/2-(D[0][1]-D[1][1])*z,(D[0][1]+D[1][1])/2-(D[1][0]-D[0][0])*z])}o.setItemLayout(g,D)}}}}}},Ps=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._updateLineDraw(o,t),l=t.get("zlevel"),u=t.get(["effect","trailLength"]),f=r.getZr(),g=f.painter.getType()==="svg";g||f.painter.getLayer(l).clear(!0),this._lastZlevel==null||g||f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&u>0&&(g||f.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),a.updateData(o);var v=t.get("clip",!0)&&xy(t.coordinateSystem,!1,t);v?this.group.setClipPath(v):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateLineDraw(o,t).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var o=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var l=ll.reset(t,i,r);l.progress&&l.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),l=i.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&l===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=l?new Pa:new Rk(a?o?Zi:pn:o?tE:Nk),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();i.painter.getType()==="svg"||this._lastZlevel==null||i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(wo),p0=typeof Uint32Array>"u"?Array:Uint32Array,Dh=typeof Float64Array>"u"?Array:Float64Array;function tu(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=lt(e,function(t){var i={coords:[t[0].coord,t[1].coord]};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),De([i,t[0],t[1]])}))}var kD=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return Tt(e,n),e.prototype.init=function(t){t.data=t.data||[],tu(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(tu(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=Zn(this._flatCoords,i.flatCoords),this._flatCoordsOffset=Zn(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t),r=i.option instanceof Array?i.option:i.getShallow("coords");return r},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],o=this._flatCoordsOffset[2*t+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var l=this._getCoordsFromItemModel(t);for(a=0;a<l.length;a++)i[a]=i[a]||[],i[a][0]=l[a][0],i[a][1]=l[a][1];return l.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),Ln(t[0])){for(var r=t.length,o=new p0(r),a=new Dh(r),l=0,u=0,f=0,g=0;g<r;){f++;var v=t[g++];o[u++]=l+i,o[u++]=v;for(var _=0;_<v;_++){var S=t[g++],A=t[g++];a[l++]=S,a[l++]=A}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,u),flatCoords:a,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var r=new fs(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(o,a,l,u){if(o instanceof Array)return NaN;r.hasItemOption=!0;var f=o.value;return f!=null?f instanceof Array?f[u]:f:void 0}),r},e.prototype.formatTooltip=function(t,i,r){var o=this.getData().getItemModel(t),a=o.get("name");if(a)return a;var l=o.get("fromName"),u=o.get("toName"),f=[];return l!=null&&f.push(l),u!=null&&f.push(u),ia("nameValue",{name:f.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Io);function i_(n){return n instanceof Array||(n=[n,n]),n}var jL={seriesType:"lines",reset:function(n){var e=i_(n.get("symbol")),t=i_(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function(r,o){var a=r.getItemModel(o),l=i_(a.getShallow("symbol",!0)),u=i_(a.getShallow("symbolSize",!0));l[0]&&r.setItemVisual(o,"fromSymbol",l[0]),l[1]&&r.setItemVisual(o,"toSymbol",l[1]),u[0]&&r.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&r.setItemVisual(o,"toSymbolSize",u[1])}:null}}},sB=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ft.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,o,a){var l=this._getBrush(),u=this._getGradient(o,"inRange"),f=this._getGradient(o,"outOfRange"),g=this.pointSize+this.blurSize,v=this.canvas,_=v.getContext("2d"),S=e.length;v.width=t,v.height=i;for(var A=0;A<S;++A){var E=e[A],D=E[0],R=E[1],z=r(E[2]);_.globalAlpha=z,_.drawImage(l,D-g,R-g)}if(!v.width||!v.height)return v;for(var Y=_.getImageData(0,0,v.width,v.height),G=Y.data,$=0,Q=G.length,et=this.minOpacity,ot=this.maxOpacity-et;$<Q;){z=G[$+3]/256;var xt=4*Math.floor(255*z);if(z>0){var St=a(z)?u:f;z>0&&(z=z*ot+et),G[$++]=St[xt],G[$++]=St[xt+1],G[$++]=St[xt+2],G[$++]=St[xt+3]*z*256}else $+=4}return _.putImageData(Y,0,0),v},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ft.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,l=0;l<256;l++)e[t](l/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();function YL(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var lB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o;i.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===t&&(o=l)})}),this._progressiveEls=null,this.group.removeAll();var a=t.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):YL(a)&&this._renderOnGeo(a,t,o,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,o){var a=i.coordinateSystem;a&&(YL(a)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Xh(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,o,a){var l,u,f,g,v=t.coordinateSystem,_=_p(v,"cartesian2d");if(_){var S=v.getAxis("x"),A=v.getAxis("y");l=S.getBandWidth()+.5,u=A.getBandWidth()+.5,f=S.scale.getExtent(),g=A.scale.getExtent()}for(var E=this.group,D=t.getData(),R=t.getModel(["emphasis","itemStyle"]).getItemStyle(),z=t.getModel(["blur","itemStyle"]).getItemStyle(),Y=t.getModel(["select","itemStyle"]).getItemStyle(),G=t.get(["itemStyle","borderRadius"]),$=Wa(t),Q=t.getModel("emphasis"),et=Q.get("focus"),ot=Q.get("blurScope"),xt=Q.get("disabled"),St=_?[D.mapDimension("x"),D.mapDimension("y"),D.mapDimension("value")]:[D.mapDimension("time"),D.mapDimension("value")],Mt=r;Mt<o;Mt++){var Bt=void 0,Zt=D.getItemVisual(Mt,"style");if(_){var se=D.get(St[0],Mt),pe=D.get(St[1],Mt);if(isNaN(D.get(St[2],Mt))||isNaN(se)||isNaN(pe)||se<f[0]||se>f[1]||pe<g[0]||pe>g[1])continue;var be=v.dataToPoint([se,pe]);Bt=new Ur({shape:{x:be[0]-l/2,y:be[1]-u/2,width:l,height:u},style:Zt})}else{if(isNaN(D.get(St[1],Mt)))continue;Bt=new Ur({z2:1,shape:v.dataToRect([D.get(St[0],Mt)]).contentShape,style:Zt})}if(D.hasItemOption){var we=D.getItemModel(Mt),Re=we.getModel("emphasis");R=Re.getModel("itemStyle").getItemStyle(),z=we.getModel(["blur","itemStyle"]).getItemStyle(),Y=we.getModel(["select","itemStyle"]).getItemStyle(),G=we.get(["itemStyle","borderRadius"]),et=Re.get("focus"),ot=Re.get("blurScope"),xt=Re.get("disabled"),$=Wa(we)}Bt.shape.r=G;var Ze=t.getRawValue(Mt),Je="-";Ze&&Ze[2]!=null&&(Je=Ze[2]+""),na(Bt,$,{labelFetcher:t,labelDataIndex:Mt,defaultOpacity:Zt.opacity,defaultText:Je}),Bt.ensureState("emphasis").style=R,Bt.ensureState("blur").style=z,Bt.ensureState("select").style=Y,fa(Bt,et,ot,xt),Bt.incremental=a,a&&(Bt.states.emphasis.hoverLayer=!0),E.add(Bt),D.setItemGraphicEl(Mt,Bt),this._progressiveEls&&this._progressiveEls.push(Bt)}},e.prototype._renderOnGeo=function(t,i,r,o){var a=r.targetVisuals.inRange,l=r.targetVisuals.outOfRange,u=i.getData(),f=this._hmLayer||this._hmLayer||new sB;f.blurSize=i.get("blurSize"),f.pointSize=i.get("pointSize"),f.minOpacity=i.get("minOpacity"),f.maxOpacity=i.get("maxOpacity");var g=t.getViewRect().clone(),v=t.getRoamTransform();g.applyTransform(v);var _=Math.max(g.x,0),S=Math.max(g.y,0),A=Math.min(g.width+g.x,o.getWidth()),E=Math.min(g.height+g.y,o.getHeight()),D=A-_,R=E-S,z=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],Y=u.mapArray(z,function(et,ot,xt){var St=t.dataToPoint([et,ot]);return St[0]-=_,St[1]-=S,St.push(xt),St}),G=r.getExtent(),$=r.type==="visualMap.continuous"?function(et,ot){var xt=et[1]-et[0];return ot=[(ot[0]-et[0])/xt,(ot[1]-et[0])/xt],function(St){return St>=ot[0]&&St<=ot[1]}}(G,r.option.range):function(et,ot,xt){var St=et[1]-et[0],Mt=(ot=lt(ot,function(Zt){return{interval:[(Zt.interval[0]-et[0])/St,(Zt.interval[1]-et[0])/St]}})).length,Bt=0;return function(Zt){var se;for(se=Bt;se<Mt;se++)if((pe=ot[se].interval)[0]<=Zt&&Zt<=pe[1]){Bt=se;break}if(se===Mt)for(se=Bt-1;se>=0;se--){var pe;if((pe=ot[se].interval)[0]<=Zt&&Zt<=pe[1]){Bt=se;break}}return se>=0&&se<Mt&&xt[se]}}(G,r.getPieceList(),r.option.selected);f.update(Y,D,R,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:l.color.getColorMapper()},$);var Q=new ua({style:{width:D,height:R,x:_,y:S,image:f.canvas},silent:!0});this.group.add(Q)},e.type="heatmap",e}(wo),cB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return yh(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Zh.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Io),uB=["itemStyle","borderWidth"],GL=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],AD=new xl,hB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=this.group,a=t.getData(),l=this._data,u=t.coordinateSystem,f=u.getBaseAxis().isHorizontal(),g=u.master.getRect(),v={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:u,coordSysExtent:[[g.x,g.x+g.width],[g.y,g.y+g.height]],isHorizontal:f,valueDim:GL[+f],categoryDim:GL[1-+f]};return a.diff(l).add(function(_){if(a.hasValue(_)){var S=QL(a,_),A=XL(a,_,S,v),E=JL(a,v,A);a.setItemGraphicEl(_,E),o.add(E),nP(E,v,A)}}).update(function(_,S){var A=l.getItemGraphicEl(S);if(a.hasValue(_)){var E=QL(a,_),D=XL(a,_,E,v),R=eP(a,D);A&&R!==A.__pictorialShapeStr&&(o.remove(A),a.setItemGraphicEl(_,null),A=null),A?function(z,Y,G){var $=G.animationModel,Q=G.dataIndex,et=z.__pictorialBundle;Zr(et,{x:G.bundlePosition[0],y:G.bundlePosition[1]},$,Q),G.symbolRepeat?UL(z,Y,G,!0):$L(z,Y,G,!0),ZL(z,G,!0),KL(z,Y,G,!0)}(A,v,D):A=JL(a,v,D,!0),a.setItemGraphicEl(_,A),A.__pictorialSymbolMeta=D,o.add(A),nP(A,v,D)}else o.remove(A)}).remove(function(_){var S=l.getItemGraphicEl(_);S&&tP(l,_,S.__pictorialSymbolMeta.animationModel,S)}).execute(),this._data=a,this.group},e.prototype.remove=function(t,i){var r=this.group,o=this._data;t.get("animation")?o&&o.eachItemGraphicEl(function(a){tP(o,lr(a).dataIndex,t,a)}):r.removeAll()},e.type="pictorialBar",e}(wo);function XL(n,e,t,i){var r=n.getItemLayout(e),o=t.get("symbolRepeat"),a=t.get("symbolClip"),l=t.get("symbolPosition")||"start",u=(t.get("symbolRotate")||0)*Math.PI/180||0,f=t.get("symbolPatternSize")||2,g=t.isAnimationEnabled(),v={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:g?t:null,hoverScale:g&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function(A,E,D,R,z){var Y,G=R.valueDim,$=A.get("symbolBoundingData"),Q=R.coordSys.getOtherAxis(R.coordSys.getBaseAxis()),et=Q.toGlobalCoord(Q.dataToCoord(0)),ot=1-+(D[G.wh]<=0);if(Be($)){var xt=[MD(Q,$[0])-et,MD(Q,$[1])-et];xt[1]<xt[0]&&xt.reverse(),Y=xt[ot]}else Y=$!=null?MD(Q,$)-et:E?R.coordSysExtent[G.index][ot]-et:D[G.wh];z.boundingLength=Y,E&&(z.repeatCutLength=D[G.wh]),z.pxSign=Y>0?1:-1})(t,o,r,i,v),function(A,E,D,R,z,Y,G,$,Q,et){var ot,xt=Q.valueDim,St=Q.categoryDim,Mt=Math.abs(D[St.wh]),Bt=A.getItemVisual(E,"symbolSize");ot=Be(Bt)?Bt.slice():Bt==null?["100%","100%"]:[Bt,Bt],ot[St.index]=ei(ot[St.index],Mt),ot[xt.index]=ei(ot[xt.index],R?Mt:Math.abs(Y)),et.symbolSize=ot;var Zt=et.symbolScale=[ot[0]/$,ot[1]/$];Zt[xt.index]*=(Q.isHorizontal?-1:1)*G}(n,e,r,o,0,v.boundingLength,v.pxSign,f,i,v),function(A,E,D,R,z){var Y=A.get(uB)||0;Y&&(AD.attr({scaleX:E[0],scaleY:E[1],rotation:D}),AD.updateTransform(),Y/=AD.getLineScale(),Y*=E[R.valueDim.index]),z.valueLineWidth=Y||0}(t,v.symbolScale,u,i,v);var _=v.symbolSize,S=rp(t.get("symbolOffset"),_);return function(A,E,D,R,z,Y,G,$,Q,et,ot,xt){var St=ot.categoryDim,Mt=ot.valueDim,Bt=xt.pxSign,Zt=Math.max(E[Mt.index]+$,0),se=Zt;if(R){var pe=Math.abs(Q),be=zi(A.get("symbolMargin"),"15%")+"",we=!1;be.lastIndexOf("!")===be.length-1&&(we=!0,be=be.slice(0,be.length-1));var Re=ei(be,E[Mt.index]),Ze=Math.max(Zt+2*Re,0),Je=we?0:2*Re,rn=du(R),An=rn?R:iP((pe+Je)/Ze);Ze=Zt+2*(Re=(pe-An*Zt)/2/(we?An:Math.max(An-1,1))),Je=we?0:2*Re,rn||R==="fixed"||(An=et?iP((Math.abs(et)+Je)/Ze):0),se=An*Ze-Je,xt.repeatTimes=An,xt.symbolMargin=Re}var Yn=Bt*(se/2),cn=xt.pathPosition=[];cn[St.index]=D[St.wh]/2,cn[Mt.index]=G==="start"?Yn:G==="end"?Q-Yn:Q/2,Y&&(cn[0]+=Y[0],cn[1]+=Y[1]);var Pn=xt.bundlePosition=[];Pn[St.index]=D[St.xy],Pn[Mt.index]=D[Mt.xy];var Jn=xt.barRectShape=me({},D);Jn[Mt.wh]=Bt*Math.max(Math.abs(D[Mt.wh]),Math.abs(cn[Mt.index]+Yn)),Jn[St.wh]=D[St.wh];var Kn=xt.clipShape={};Kn[St.xy]=-D[St.xy],Kn[St.wh]=ot.ecSize[St.wh],Kn[Mt.xy]=0,Kn[Mt.wh]=D[Mt.wh]}(t,_,r,o,0,S,l,v.valueLineWidth,v.boundingLength,v.repeatCutLength,i,v),v}function MD(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function qL(n){var e=n.symbolPatternSize,t=va(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function UL(n,e,t,i){var r=n.__pictorialBundle,o=t.symbolSize,a=t.valueLineWidth,l=t.pathPosition,u=e.valueDim,f=t.repeatTimes||0,g=0,v=o[e.valueDim.index]+a+2*t.symbolMargin;for(TD(n,function(E){E.__pictorialAnimationIndex=g,E.__pictorialRepeatTimes=f,g<f?r_(E,null,A(g),t,i):r_(E,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(E)}),g++});g<f;g++){var _=qL(t);_.__pictorialAnimationIndex=g,_.__pictorialRepeatTimes=f,r.add(_);var S=A(g);r_(_,{x:S.x,y:S.y,scaleX:0,scaleY:0},{scaleX:S.scaleX,scaleY:S.scaleY,rotation:S.rotation},t,i)}function A(E){var D=l.slice(),R=t.pxSign,z=E;return(t.symbolRepeatDirection==="start"?R>0:R<0)&&(z=f-1-E),D[u.index]=v*(z-f/2+.5)+l[u.index],{x:D[0],y:D[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function $L(n,e,t,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?r_(o,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(o=n.__pictorialMainPath=qL(t),r.add(o),r_(o,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function ZL(n,e,t){var i=me({},e.barRectShape),r=n.__pictorialBarRect;r?r_(r,null,{shape:i},e,t):((r=n.__pictorialBarRect=new Ur({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function KL(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,o=me({},t.clipShape),a=e.valueDim,l=t.animationModel,u=t.dataIndex;if(r)Zr(r,{shape:o},l,u);else{o[a.wh]=0,r=new Ur({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var f={};f[a.wh]=t.clipShape[a.wh],Gd[i?"updateProps":"initProps"](r,{shape:f},l,u)}}}function QL(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=dB,t.isAnimationEnabled=pB,t}function dB(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function pB(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function JL(n,e,t,i){var r=new Di,o=new Di;return r.add(o),r.__pictorialBundle=o,o.x=t.bundlePosition[0],o.y=t.bundlePosition[1],t.symbolRepeat?UL(r,e,t):$L(r,0,t),ZL(r,t,i),KL(r,e,t,i),r.__pictorialShapeStr=eP(n,t),r.__pictorialSymbolMeta=t,r}function tP(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];TD(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),ht(o,function(a){ah(a,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function eP(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function TD(n,e,t){ht(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function r_(n,e,t,i,r,o){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&Gd[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,o)}function nP(n,e,t){var i=t.dataIndex,r=t.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),l=r.getModel(["blur","itemStyle"]).getItemStyle(),u=r.getModel(["select","itemStyle"]).getItemStyle(),f=r.getShallow("cursor"),g=o.get("focus"),v=o.get("blurScope"),_=o.get("scale");TD(n,function(A){if(A instanceof ua){var E=A.style;A.useStyle(me({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},t.style))}else A.useStyle(t.style);var D=A.ensureState("emphasis");D.style=a,_&&(D.scaleX=1.1*A.scaleX,D.scaleY=1.1*A.scaleY),A.ensureState("blur").style=l,A.ensureState("select").style=u,f&&(A.cursor=f),A.z2=t.z2});var S=e.valueDim.posDesc[+(t.boundingLength>0)];na(n.__pictorialBarRect,Wa(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Ff(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:S}),fa(n,g,v,o.get("disabled"))}function iP(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var fB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return Tt(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=xu(wy.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(wy),gB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this,l=this.group,u=t.getLayerSeries(),f=o.getLayout("layoutInfo"),g=f.rect,v=f.boundaryGap;function _(D){return D.name}l.x=0,l.y=g.y+v[0];var S=new Eu(this._layersSeries||[],u,_,_),A=[];function E(D,R,z){var Y=a._layers;if(D!=="remove"){for(var G,$,Q=[],et=[],ot=u[R].indices,xt=0;xt<ot.length;xt++){var St=o.getItemLayout(ot[xt]),Mt=St.x,Bt=St.y0,Zt=St.y;Q.push(Mt,Bt),et.push(Mt,Bt+Zt),G=o.getItemVisual(ot[xt],"style")}var se=o.getItemLayout(ot[0]),pe=t.getModel("label").get("margin"),be=t.getModel("emphasis");if(D==="add"){var we=A[R]=new Di;$=new aC({shape:{points:Q,stackedOnPoints:et,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),we.add($),l.add(we),t.isAnimationEnabled()&&$.setClipPath(function(Ze,Je,rn){var An=new Ur({shape:{x:Ze.x-10,y:Ze.y-10,width:0,height:Ze.height+20}});return To(An,{shape:{x:Ze.x-50,width:Ze.width+100,height:Ze.height+20}},Je,rn),An}($.getBoundingRect(),t,function(){$.removeClipPath()}))}else we=Y[z],$=we.childAt(0),l.add(we),A[R]=we,Zr($,{shape:{points:Q,stackedOnPoints:et}},t),Fc($);na($,Wa(t),{labelDataIndex:ot[xt-1],defaultText:o.getName(ot[xt-1]),inheritColor:G.fill},{normal:{verticalAlign:"middle"}}),$.setTextConfig({position:null,local:!0});var Re=$.getTextContent();Re&&(Re.x=se.x-pe,Re.y=se.y0+se.y/2),$.useStyle(G),o.setItemGraphicEl(R,$),Is($,t),fa($,be.get("focus"),be.get("blurScope"),be.get("disabled"))}else l.remove(Y[R])}S.add(Te(E,this,"add")).update(Te(E,this,"update")).remove(Te(E,this,"remove")).execute(),this._layersSeries=u,this._layers=A},e.type="themeRiver",e}(wo),mB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new mm(Te(this.getData,this),Te(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},o=Md(t,function(_){return r.hasOwnProperty(_[0]+"")||(r[_[0]+""]=-1),_[2]}),a=[];o.buckets.each(function(_,S){a.push({name:S,dataList:_})});for(var l=a.length,u=0;u<l;++u){for(var f=a[u].name,g=0;g<a[u].dataList.length;++g){var v=a[u].dataList[g][0]+"";r[v]=u}for(var v in r)r.hasOwnProperty(v)&&r[v]!==u&&(r[v]=u,t[i]=[v,0,f],i++)}return t},e.prototype.getInitialData=function(t,i){for(var r=this.getReferringComponents("singleAxis",da).models[0].get("type"),o=en(t.data,function(S){return S[2]!==void 0}),a=this.fixData(o||[]),l=[],u=this.nameMap=ze(),f=0,g=0;g<a.length;++g)l.push(a[g][2]),u.get(a[g][2])||(u.set(a[g][2],f),f++);var v=Ef(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:dx(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,_=new fs(v,this);return _.initData(a),_},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],o=0;o<i;++o)r[o]=o;var a=t.mapDimension("single"),l=Md(r,function(f){return t.get("name",f)}),u=[];return l.buckets.each(function(f,g){f.sort(function(v,_){return t.get(a,v)-t.get(a,_)}),u.push({name:g,indices:f})}),u},e.prototype.getAxisTooltipData=function(t,i,r){Be(t)||(t=t?[t]:[]);for(var o,a=this.getData(),l=this.getLayerSeries(),u=[],f=l.length,g=0;g<f;++g){for(var v=Number.MAX_VALUE,_=-1,S=l[g].indices.length,A=0;A<S;++A){var E=a.get(t[0],l[g].indices[A]),D=Math.abs(E-i);D<=v&&(o=E,v=D,_=l[g].indices[A])}u.push(_)}return{dataIndices:u,nestestValue:o}},e.prototype.formatTooltip=function(t,i,r){var o=this.getData();return ia("nameValue",{name:o.getName(t),value:o.get(o.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Io);function vB(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,o={},a=r.getRect();o.rect=a;var l=t.get("boundaryGap"),u=r.getAxis();o.boundaryGap=l,u.orient==="horizontal"?(l[0]=ei(l[0],a.height),l[1]=ei(l[1],a.height),rP(i,t,a.height-l[0]-l[1])):(l[0]=ei(l[0],a.width),l[1]=ei(l[1],a.width),rP(i,t,a.width-l[0]-l[1])),i.setLayout("layoutInfo",o)})}function rP(n,e,t){if(n.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),a=n.mapDimension("single"),l=n.mapDimension("value"),u=lt(o,function(D){return lt(D.indices,function(R){var z=r.dataToPoint(n.get(a,R));return z[1]=n.get(l,R),z})}),f=function(D){for(var R=D.length,z=D[0].length,Y=[],G=[],$=0,Q=0;Q<z;++Q){for(var et=0,ot=0;ot<R;++ot)et+=D[ot][Q][1];et>$&&($=et),Y.push(et)}for(var xt=0;xt<z;++xt)G[xt]=($-Y[xt])/2;$=0;for(var St=0;St<z;++St){var Mt=Y[St]+G[St];Mt>$&&($=Mt)}return{y0:G,max:$}}(u),g=f.y0,v=t/f.max,_=o.length,S=o[0].indices.length,A=0;A<S;++A){i=g[A]*v,n.setItemLayout(o[0].indices[A],{layerIndex:0,x:u[0][A][0],y0:i,y:u[0][A][1]*v});for(var E=1;E<_;++E)i+=u[E-1][A][1]*v,n.setItemLayout(o[E].indices[A],{layerIndex:E,x:u[E][A][0],y0:i,y:u[E][A][1]*v})}}var oP=function(n){function e(t,i,r,o){var a=n.call(this)||this;a.z2=2,a.textConfig={inside:!0},lr(a).seriesIndex=i.seriesIndex;var l=new $r({z2:4,silent:t.getModel().get(["label","silent"])});return a.setTextContent(l),a.updateData(!0,t,i,r,o),a}return Tt(e,n),e.prototype.updateData=function(t,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var l=this;lr(l).dataIndex=i.dataIndex;var u=i.getModel(),f=u.getModel("emphasis"),g=i.getLayout(),v=me({},g);v.label=null;var _=i.getVisual("style");_.lineJoin="bevel";var S=i.getVisual("decal");S&&(_.decal=op(S,a));var A=wp(u.getModel("itemStyle"),v,!0);me(v,A),ht(yl,function(R){var z=l.ensureState(R),Y=u.getModel([R,"itemStyle"]);z.style=Y.getItemStyle();var G=wp(Y,v);G&&(z.shape=G)}),t?(l.setShape(v),l.shape.r=g.r0,To(l,{shape:{r:g.r}},r,i.dataIndex)):(Zr(l,{shape:v},r),Fc(l)),l.useStyle(_),this._updateLabel(r);var E=u.getShallow("cursor");E&&l.attr("cursor",E),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var D=f.get("focus");fa(this,D==="ancestor"?i.getAncestorsIndices():D==="descendant"?i.getDescendantIndices():D,f.get("blurScope"),f.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),l=a.endAngle-a.startAngle,u=(a.startAngle+a.endAngle)/2,f=Math.cos(u),g=Math.sin(u),v=this,_=v.getTextContent(),S=this.node.dataIndex,A=o.get("minAngle")/180*Math.PI,E=o.get("show")&&!(A!=null&&Math.abs(l)<A);function D(R,z){var Y=R.get(z);return Y??o.get(z)}_.ignore=!E,ht(Sg,function(R){var z=R==="normal"?r.getModel("label"):r.getModel([R,"label"]),Y=R==="normal",G=Y?_:_.ensureState(R),$=t.getFormattedLabel(S,R);Y&&($=$||i.node.name),G.style=Do(z,{},null,R!=="normal",!0),$&&(G.style.text=$);var Q=z.get("show");Q==null||Y||(G.ignore=!Q);var et,ot=D(z,"position"),xt=Y?v:v.states[R],St=xt.style.fill;xt.textConfig={outsideFill:z.get("color")==="inherit"?St:null,inside:ot!=="outside"};var Mt=D(z,"distance")||0,Bt=D(z,"align");ot==="outside"?(et=a.r+Mt,Bt=u>Math.PI/2?"right":"left"):Bt&&Bt!=="center"?Bt==="left"?(et=a.r0+Mt,u>Math.PI/2&&(Bt="right")):Bt==="right"&&(et=a.r-Mt,u>Math.PI/2&&(Bt="left")):(et=l===2*Math.PI&&a.r0===0?0:(a.r+a.r0)/2,Bt="center"),G.style.align=Bt,G.style.verticalAlign=D(z,"verticalAlign")||"middle",G.x=et*f+a.cx,G.y=et*g+a.cy;var Zt=D(z,"rotate"),se=0;Zt==="radial"?(se=Mi(-u))>Math.PI/2&&se<1.5*Math.PI&&(se+=Math.PI):Zt==="tangential"?(se=Math.PI/2-u)>Math.PI/2?se-=Math.PI:se<-Math.PI/2&&(se+=Math.PI):Ln(Zt)&&(se=Zt*Math.PI/180),G.rotation=se}),_.dirtyStyle()},e}($s),ID="sunburstRootToNode",aP="sunburstHighlight",yB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){var a=this;this.seriesModel=t,this.api=r,this.ecModel=i;var l=t.getData(),u=l.tree.root,f=t.getViewRoot(),g=this.group,v=t.get("renderLabelForZeroData"),_=[];f.eachNode(function(A){_.push(A)});var S=this._oldChildren||[];(function(A,E){if(A.length===0&&E.length===0)return;function D(z){return z.getId()}function R(z,Y){(function(G,$){if(v||!G||G.getValue()||(G=null),G!==u&&$!==u){if($&&$.piece)G?($.piece.updateData(!1,G,t,i,r),l.setItemGraphicEl(G.dataIndex,$.piece)):function(et){et&&et.piece&&(g.remove(et.piece),et.piece=null)}($);else if(G){var Q=new oP(G,t,i,r);g.add(Q),l.setItemGraphicEl(G.dataIndex,Q)}}})(z==null?null:A[z],Y==null?null:E[Y])}new Eu(E,A,D,D).add(R).update(R).remove(_n(R,null)).execute()})(_,S),function(A,E){E.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,A,t,i,r):(a.virtualPiece=new oP(A,t,i,r),g.add(a.virtualPiece)),E.piece.off("click"),a.virtualPiece.on("click",function(D){a._rootToNode(E.parentNode)})):a.virtualPiece&&(g.remove(a.virtualPiece),a.virtualPiece=null)}(u,f),this._initEvents(),this._oldChildren=_},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var a=o.getModel().get("nodeClick");if(a==="rootToNode")t._rootToNode(o);else if(a==="link"){var l=o.getModel(),u=l.get("link");u&&nb(u,l.get("target",!0)||"_blank")}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ID,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var r=i.getData().getItemLayout(0);if(r){var o=t[0]-r.cx,a=t[1]-r.cy,l=Math.sqrt(o*o+a*a);return l<=r.r&&l>=r.r0}},e.type="sunburst",e}(wo),bB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};sP(r);var o=this._levelModels=lt(t.levels||[],function(l){return new ao(l,this,i)},this),a=N1.createTree(r,this,function(l){l.wrapMethod("getItemModel",function(u,f){var g=a.getNodeByDataIndex(f),v=o[g.depth];return v&&(u.parentModel=v),u})});return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=R1(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;t&&(t===i||i.contains(t))||(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){gk(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Io);function sP(n){var e=0;ht(n.children,function(i){sP(i);var r=i.value;Be(r)&&(r=r[0]),e+=r});var t=n.value;Be(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Be(n.value)?n.value[0]=t:n.value=t}var lP=Math.PI/180;function xB(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");Be(o)||(o=[0,o]),Be(r)||(r=[r,r]);var a=t.getWidth(),l=t.getHeight(),u=Math.min(a,l),f=ei(r[0],a),g=ei(r[1],l),v=ei(o[0],u/2),_=ei(o[1],u/2),S=-i.get("startAngle")*lP,A=i.get("minAngle")*lP,E=i.getData().tree.root,D=i.getViewRoot(),R=D.depth,z=i.get("sort");z!=null&&cP(D,z);var Y=0;ht(D.children,function(be){!isNaN(be.getValue())&&Y++});var G=D.getValue(),$=Math.PI/(G||Y)*2,Q=D.depth>0,et=D.height-(Q?-1:1),ot=(_-v)/(et||1),xt=i.get("clockwise"),St=i.get("stillShowZeroSum"),Mt=xt?1:-1,Bt=function(be,we){if(be){var Re=we;if(be!==E){var Ze=be.getValue(),Je=G===0&&St?$:Ze*$;Je<A&&(Je=A),Re=we+Mt*Je;var rn=be.depth-R-(Q?-1:1),An=v+ot*rn,Yn=v+ot*(rn+1),cn=i.getLevelModel(be);if(cn){var Pn=cn.get("r0",!0),Jn=cn.get("r",!0),Kn=cn.get("radius",!0);Kn!=null&&(Pn=Kn[0],Jn=Kn[1]),Pn!=null&&(An=ei(Pn,u/2)),Jn!=null&&(Yn=ei(Jn,u/2))}be.setLayout({angle:Je,startAngle:we,endAngle:Re,clockwise:xt,cx:f,cy:g,r0:An,r:Yn})}if(be.children&&be.children.length){var Gn=0;ht(be.children,function(ri){Gn+=Bt(ri,we+Gn)})}return Re-we}};if(Q){var Zt=v,se=v+ot,pe=2*Math.PI;E.setLayout({angle:pe,startAngle:S,endAngle:S+pe,clockwise:xt,cx:f,cy:g,r0:Zt,r:se})}Bt(D,S)})}function cP(n,e){var t=n.children||[];n.children=function(i,r){if(Ge(r)){var o=lt(i,function(l,u){var f=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return f}},index:u}});return o.sort(function(l,u){return r(l.params,u.params)}),lt(o,function(l){return i[l.index]})}var a=r==="asc";return i.sort(function(l,u){var f=(l.getValue()-u.getValue())*(a?1:-1);return f===0?(l.dataIndex-u.dataIndex)*(a?-1:1):f})}(t,e),t.length&&ht(n.children,function(i){cP(i,e)})}function _B(n){var e={};n.eachSeriesByType("sunburst",function(t){var i=t.getData(),r=i.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(l,u,f){for(var g=l;g&&g.depth>1;)g=g.parentNode;var v=u.getColorFromPalette(g.name||g.dataIndex+"",e);return l.depth>1&&Mn(v)&&(v=cc(v,(l.depth-1)/(f-1)*.5)),v}(o,t,r.root.height)),me(i.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var uP={color:"fill",borderColor:"stroke"},wB={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},tg=Hr(),SB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return yh(null,this)},e.prototype.getDataParams=function(t,i,r){var o=n.prototype.getDataParams.call(this,t,i);return r&&(o.info=tg(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Io);function CB(n,e){return e=e||[0,0],lt(["x","y"],function(t,i){var r=this.getAxis(t),o=e[i],a=n[i]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function kB(n,e){return e=e||[0,0],lt([0,1],function(t){var i=e[t],r=n[t]/2,o=[],a=[];return o[t]=i-r,a[t]=i+r,o[1-t]=a[1-t]=e[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}function AB(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function MB(n,e){return e=e||[0,0],lt(["Radius","Angle"],function(t,i){var r=this["get"+t+"Axis"](),o=e[i],a=n[i]/2,l=r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function hP(n,e,t,i){return n&&(n.legacy||n.legacy!==!1&&!t&&!i&&e!=="tspan"&&(e==="text"||ln(n,"text")))}function dP(n,e,t){var i,r,o,a=n;if(e==="text")o=a;else{o={},ln(a,"text")&&(o.text=a.text),ln(a,"rich")&&(o.rich=a.rich),ln(a,"textFill")&&(o.fill=a.textFill),ln(a,"textStroke")&&(o.stroke=a.textStroke),ln(a,"fontFamily")&&(o.fontFamily=a.fontFamily),ln(a,"fontSize")&&(o.fontSize=a.fontSize),ln(a,"fontStyle")&&(o.fontStyle=a.fontStyle),ln(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var l=ln(a,"textPosition");t?i.position=l?a.textPosition:"inside":l&&(i.position=a.textPosition),ln(a,"textPosition")&&(i.position=a.textPosition),ln(a,"textOffset")&&(i.offset=a.textOffset),ln(a,"textRotation")&&(i.rotation=a.textRotation),ln(a,"textDistance")&&(i.distance=a.textDistance)}return pP(o,n),ht(o.rich,function(u){pP(u,u)}),{textConfig:i,textContent:r}}function pP(n,e){e&&(e.font=e.textFont||e.font,ln(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),ln(e,"textAlign")&&(n.align=e.textAlign),ln(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),ln(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),ln(e,"textWidth")&&(n.width=e.textWidth),ln(e,"textHeight")&&(n.height=e.textHeight),ln(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),ln(e,"textPadding")&&(n.padding=e.textPadding),ln(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),ln(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),ln(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),ln(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),ln(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),ln(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),ln(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function fP(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",t.offset!=null&&(i.textOffset=t.offset),t.rotation!=null&&(i.textRotation=t.rotation),t.distance!=null&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";gP(i,e);var a=i.textFill==null;return r?a&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=o),i.textStrokeWidth==null&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,ht(e.rich,function(l){gP(l,l)}),i}function gP(n,e){e&&(ln(e,"fill")&&(n.textFill=e.fill),ln(e,"stroke")&&(n.textStroke=e.fill),ln(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),ln(e,"font")&&(n.font=e.font),ln(e,"fontStyle")&&(n.fontStyle=e.fontStyle),ln(e,"fontWeight")&&(n.fontWeight=e.fontWeight),ln(e,"fontSize")&&(n.fontSize=e.fontSize),ln(e,"fontFamily")&&(n.fontFamily=e.fontFamily),ln(e,"align")&&(n.textAlign=e.align),ln(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),ln(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),ln(e,"width")&&(n.textWidth=e.width),ln(e,"height")&&(n.textHeight=e.height),ln(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),ln(e,"padding")&&(n.textPadding=e.padding),ln(e,"borderColor")&&(n.textBorderColor=e.borderColor),ln(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),ln(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),ln(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),ln(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),ln(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),ln(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),ln(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),ln(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),ln(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),ln(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var mP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},vP=Qe(mP),eE=(an(Gr,function(n,e){return n[e]=1,n},{}),Gr.join(", "),["","style","shape","extra"]),o_=Hr();function ED(n,e,t,i,r){var o=n+"Animation",a=Ig(n,i,r)||{},l=o_(e).userDuring;return a.duration>0&&(a.during=l?Te(IB,{el:e,userDuring:l}):null,a.setToFinal=!0,a.scope=n),me(a,t[o]),a}function nE(n,e,t,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,l=t.isAnimationEnabled(),u=o_(n),f=e.style;u.userDuring=e.during;var g={},v={};if(function(A,E,D){for(var R=0;R<vP.length;R++){var z=vP[R],Y=mP[z],G=E[z];G&&(D[Y[0]]=G[0],D[Y[1]]=G[1])}for(R=0;R<Gr.length;R++){var $=Gr[R];E[$]!=null&&(D[$]=E[$])}}(0,e,v),xP("shape",e,v),xP("extra",e,v),!o&&l&&(function(A,E,D){for(var R=E.transition,z=f0(R)?Gr:oo(R||[]),Y=0;Y<z.length;Y++){var G=z[Y];if(G!=="style"&&G!=="shape"&&G!=="extra"){var $=A[G];D[G]=$}}}(n,e,g),bP("shape",n,e,g),bP("extra",n,e,g),function(A,E,D,R){if(D){var z,Y=A.style;if(Y){var G=D.transition,$=E.transition;if(G&&!f0(G)){var Q=oo(G);!z&&(z=R.style={});for(var et=0;et<Q.length;et++){var ot=Y[Bt=Q[et]];z[Bt]=ot}}else if(A.getAnimationStyleProps&&(f0($)||f0(G)||dn($,"style")>=0)){var xt=A.getAnimationStyleProps(),St=xt?xt.style:null;if(St){!z&&(z=R.style={});var Mt=Qe(D);for(et=0;et<Mt.length;et++){var Bt;St[Bt=Mt[et]]&&(ot=Y[Bt],z[Bt]=ot)}}}}}}(n,e,f,g)),v.style=f,function(A,E,D){var R=E.style;if(!A.isGroup&&R){if(D){A.useStyle({});for(var z=A.animators,Y=0;Y<z.length;Y++){var G=z[Y];G.targetName==="style"&&G.changeTarget(A.style)}}A.setStyle(R)}E&&(E.style=null,E&&A.attr(E),E.style=R)}(n,v,a),function(A,E){ln(E,"silent")&&(A.silent=E.silent),ln(E,"ignore")&&(A.ignore=E.ignore),A instanceof Ka&&ln(E,"invisible")&&(A.invisible=E.invisible),A instanceof pr&&ln(E,"autoBatch")&&(A.autoBatch=E.autoBatch)}(n,e),l)if(o){var _={};ht(eE,function(A){var E=A?e[A]:e;E&&E.enterFrom&&(A&&(_[A]=_[A]||{}),me(A?_[A]:_,E.enterFrom))});var S=ED("enter",n,e,t,r);S.duration>0&&n.animateFrom(_,S)}else(function(A,E,D,R,z){if(z){var Y=ED("update",A,E,R,D);Y.duration>0&&A.animateFrom(z,Y)}})(n,e,r||0,t,g);yP(n,e),f?n.dirty():n.markRedraw()}function yP(n,e){for(var t=o_(n).leaveToProps,i=0;i<eE.length;i++){var r=eE[i],o=r?e[r]:e;o&&o.leaveTo&&(t||(t=o_(n).leaveToProps={}),r&&(t[r]=t[r]||{}),me(r?t[r]:t,o.leaveTo))}}function iE(n,e,t,i){if(n){var r=n.parent,o=o_(n).leaveToProps;if(o){var a=ED("update",n,e,t,0);a.done=function(){r.remove(n),i&&i()},n.animateTo(o,a)}else r.remove(n),i&&i()}}function f0(n){return n==="all"}var Lp={},TB={setTransform:function(n,e){return Lp.el[n]=e,this},getTransform:function(n){return Lp.el[n]},setShape:function(n,e){var t=Lp.el;return(t.shape||(t.shape={}))[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=Lp.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=Lp.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=Lp.el.style;if(e)return e[n]},setExtra:function(n,e){return(Lp.el.extra||(Lp.el.extra={}))[n]=e,this},getExtra:function(n){var e=Lp.el.extra;if(e)return e[n]}};function IB(){var n=this,e=n.el;if(e){var t=o_(e).userDuring,i=n.userDuring;t===i?(Lp.el=e,i(TB)):n.el=n.userDuring=null}}function bP(n,e,t,i){var r=t[n];if(r){var o,a=e[n];if(a){var l=t.transition,u=r.transition;if(u)if(!o&&(o=i[n]={}),f0(u))me(o,a);else for(var f=oo(u),g=0;g<f.length;g++){var v=a[S=f[g]];o[S]=v}else if(f0(l)||dn(l,n)>=0){!o&&(o=i[n]={});var _=Qe(a);for(g=0;g<_.length;g++){var S;v=a[S=_[g]],EB(r[S],v)&&(o[S]=v)}}}}}function xP(n,e,t){var i=e[n];if(i)for(var r=t[n]={},o=Qe(i),a=0;a<o.length;a++){var l=o[a];r[l]=pl(i[l])}}function EB(n,e){return Fe(n)?n!==e:n!=null&&isFinite(n)}var _P=Hr(),OB=["percent","easing","shape","style","extra"];function wP(n){n.stopAnimation("keyframe"),n.attr(_P(n))}function rE(n,e,t){if(t.isAnimationEnabled()&&e)if(Be(e))ht(e,function(l){rE(n,l,t)});else{var i=e.keyframes,r=e.duration;if(t&&r==null){var o=Ig("enter",t,0);r=o&&o.duration}if(i&&r){var a=_P(n);ht(eE,function(l){if(!l||n[l]){var u;i.sort(function(f,g){return f.percent-g.percent}),ht(i,function(f){var g=n.animators,v=l?f[l]:f;if(v){var _=Qe(v);if(l||(_=en(_,function(E){return dn(OB,E)<0})),_.length){u||((u=n.animate(l,e.loop,!0)).scope="keyframe");for(var S=0;S<g.length;S++)g[S]!==u&&g[S].targetName===u.targetName&&g[S].stopTracks(_);l&&(a[l]=a[l]||{});var A=l?a[l]:a;ht(_,function(E){A[E]=((l?n[l]:n)||{})[E]}),u.whenWithKeys(r*f.percent,v,_,f.easing)}}}),u&&u.delay(e.delay||0).duration(r).start(e.easing)}})}}}var eg="emphasis",Dm="normal",OD="blur",DD="select",Lm=[Dm,eg,OD,DD],LD={normal:["itemStyle"],emphasis:[eg,"itemStyle"],blur:[OD,"itemStyle"],select:[DD,"itemStyle"]},PD={normal:["label"],emphasis:[eg,"label"],blur:[OD,"label"],select:[DD,"label"]},DB=["x","y"],Lh={normal:{},emphasis:{},blur:{},select:{}},LB={cartesian2d:function(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Te(CB,n)}}},geo:function(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:Te(kB,n)}}},single:function(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Te(AB,n)}}},polar:function(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),a=t.dataToAngle(r[1]),l=n.coordToPoint([o,a]);return l.push(o,a*Math.PI/180),l},size:Te(MB,n)}}},calendar:function(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function ND(n){return n instanceof pr}function RD(n){return n instanceof Ka}var PB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._data,l=t.getData(),u=this.group,f=CP(t,l,i,r);a||u.removeAll(),l.diff(a).add(function(v){FD(r,null,v,f(v,o),t,u,l)}).remove(function(v){var _=a.getItemGraphicEl(v);_&&iE(_,tg(_).option,t)}).update(function(v,_){var S=a.getItemGraphicEl(_);FD(r,S,v,f(v,o),t,u,l)}).execute();var g=t.get("clip",!0)?xy(t.coordinateSystem,!1,t):null;g?u.setClipPath(g):u.removeClipPath(),this._data=l},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,o,a){var l=i.getData(),u=CP(i,l,r,o),f=this._progressiveEls=[];function g(S){S.isGroup||(S.incremental=!0,S.ensureState("emphasis").hoverLayer=!0)}for(var v=t.start;v<t.end;v++){var _=FD(null,null,v,u(v,a),i,this.group,l);_&&(_.traverse(g),f.push(_))}},e.prototype.eachRendered=function(t){Xh(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,o){var a=i.element;if(a==null||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},e.type="custom",e}(wo);function BD(n){var e,t=n.type;if(t==="path"){var i=n.shape,r=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=IP(i);e=Vc(o,null,r,i.layout||"center"),tg(e).customPathData=o}else if(t==="image")e=new ua({}),tg(e).customImagePath=n.style.image;else if(t==="text")e=new $r({});else if(t==="group")e=new Di;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=Hd(t);if(!a){var l="";ro(l)}e=new a}return tg(e).customGraphicType=t,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function zD(n,e,t,i,r,o,a){wP(e);var l=r&&r.normal.cfg;l&&e.setTextConfig(l),i&&i.transition==null&&(i.transition=DB);var u=i&&i.style;if(u){if(e.type==="text"){var f=u;ln(f,"textFill")&&(f.fill=f.textFill),ln(f,"textStroke")&&(f.stroke=f.textStroke)}var g=void 0,v=ND(e)?u.decal:null;n&&v&&(v.dirty=!0,g=op(v,n)),u.__decalPattern=g}RD(e)&&u&&(g=u.__decalPattern)&&(u.decal=g),nE(e,i,o,{dataIndex:t,isInit:a,clearStyle:!0}),rE(e,i.keyframeAnimation,o)}function SP(n,e,t,i,r){var o=e.isGroup?null:e,a=r&&r[n].cfg;if(o){var l=o.ensureState(n);if(i===!1){var u=o.getState(n);u&&(u.style=null)}else l.style=i||null;a&&(l.textConfig=a),Jp(o)}}function NB(n,e,t){var i=t===Dm,r=i?e:oE(e,t),o=r?r.z2:null;o!=null&&((i?n:n.ensureState(t)).z2=o||0)}function CP(n,e,t,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):LB[o.type](o));for(var l,u,f=Ne({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(Q,et){return et==null&&(et=l),e.getStore().get(e.getDimensionIndex(Q||0),et)},style:function(Q,et){et==null&&(et=l);var ot=e.getItemVisual(et,"style"),xt=ot&&ot.fill,St=ot&&ot.opacity,Mt=z(et,Dm).getItemStyle();xt!=null&&(Mt.fill=xt),St!=null&&(Mt.opacity=St);var Bt={inheritColor:Mn(xt)?xt:"#000"},Zt=Y(et,Dm),se=Do(Zt,null,Bt,!1,!0);se.text=Zt.getShallow("show")?yi(n.getFormattedLabel(et,Dm),Ff(e,et)):null;var pe=uv(Zt,Bt,!1);return $(Q,Mt),Mt=fP(Mt,se,pe),Q&&G(Mt,Q),Mt.legacy=!0,Mt},ordinalRawValue:function(Q,et){et==null&&(et=l),Q=Q||0;var ot=e.getDimensionInfo(Q);if(!ot){var xt=e.getDimensionIndex(Q);return xt>=0?e.getStore().get(xt,et):void 0}var St=e.get(ot.name,et),Mt=ot&&ot.ordinalMeta;return Mt?Mt.categories[St]:St},styleEmphasis:function(Q,et){et==null&&(et=l);var ot=z(et,eg).getItemStyle(),xt=Y(et,eg),St=Do(xt,null,null,!0,!0);St.text=xt.getShallow("show")?Ar(n.getFormattedLabel(et,eg),n.getFormattedLabel(et,Dm),Ff(e,et)):null;var Mt=uv(xt,null,!0);return $(Q,ot),ot=fP(ot,St,Mt),Q&&G(ot,Q),ot.legacy=!0,ot},visual:function(Q,et){if(et==null&&(et=l),ln(uP,Q)){var ot=e.getItemVisual(et,"style");return ot?ot[uP[Q]]:null}if(ln(wB,Q))return e.getItemVisual(et,Q)},barLayout:function(Q){if(o.type==="cartesian2d")return function(et){var ot=[],xt=et.axis,St="axis0";if(xt.type==="category"){for(var Mt=xt.getBandWidth(),Bt=0;Bt<et.count;Bt++)ot.push(Ne({bandWidth:Mt,axisKey:St,stackId:mS+Bt},et));var Zt=Of(ot),se=[];for(Bt=0;Bt<et.count;Bt++){var pe=Zt[St][mS+Bt];pe.offsetCenter=pe.offset+pe.width/2,se.push(pe)}return se}}(Ne({axis:o.getBaseAxis()},Q))},currentSeriesIndices:function(){return t.getCurrentSeriesIndices()},font:function(Q){return Qs(Q,t)}},a.api||{}),g={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:RB(n.getData())},v={},_={},S={},A={},E=0;E<Lm.length;E++){var D=Lm[E];S[D]=n.getModel(LD[D]),A[D]=n.getModel(PD[D])}function R(Q){return Q===l?u||(u=e.getItemModel(Q)):e.getItemModel(Q)}function z(Q,et){return e.hasItemOption?Q===l?v[et]||(v[et]=R(Q).getModel(LD[et])):R(Q).getModel(LD[et]):S[et]}function Y(Q,et){return e.hasItemOption?Q===l?_[et]||(_[et]=R(Q).getModel(PD[et])):R(Q).getModel(PD[et]):A[et]}return function(Q,et){return l=Q,u=null,v={},_={},r&&r(Ne({dataIndexInside:Q,dataIndex:e.getRawIndex(Q),actionType:et?et.type:null},g),f)};function G(Q,et){for(var ot in et)ln(et,ot)&&(Q[ot]=et[ot])}function $(Q,et){Q&&(Q.textFill&&(et.textFill=Q.textFill),Q.textPosition&&(et.textPosition=Q.textPosition))}}function RB(n){var e={};return ht(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function FD(n,e,t,i,r,o,a){if(i){var l=VD(n,e,t,i,r,o);return l&&a.setItemGraphicEl(t,l),l&&fa(l,i.focus,i.blurScope,i.emphasisDisabled),l}o.remove(e)}function VD(n,e,t,i,r,o){var a=-1,l=e;e&&kP(e,i,r)&&(a=dn(o.childrenRef(),e),e=null);var u,f,g=!e,v=e;v?v.clearStates():(v=BD(i),l&&(u=l,(f=v).copyTransform(u),RD(f)&&RD(u)&&(f.setStyle(u.style),f.z=u.z,f.z2=u.z2,f.zlevel=u.zlevel,f.invisible=u.invisible,f.ignore=u.ignore,ND(f)&&ND(u)&&f.setShape(u.shape)))),i.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),Lh.normal.cfg=Lh.normal.conOpt=Lh.emphasis.cfg=Lh.emphasis.conOpt=Lh.blur.cfg=Lh.blur.conOpt=Lh.select.cfg=Lh.select.conOpt=null,Lh.isLegacy=!1,function(E,D,R,z,Y,G){if(!E.isGroup){AP(R,null,G),AP(R,eg,G);var $=G.normal.conOpt,Q=G.emphasis.conOpt,et=G.blur.conOpt,ot=G.select.conOpt;if($!=null||Q!=null||ot!=null||et!=null){var xt=E.getTextContent();if($===!1)xt&&E.removeTextContent();else{$=G.normal.conOpt=$||{type:"text"},xt?xt.clearStates():(xt=BD($),E.setTextContent(xt)),zD(null,xt,D,$,null,z,Y);for(var St=$&&$.style,Mt=0;Mt<Lm.length;Mt++){var Bt=Lm[Mt];if(Bt!==Dm){var Zt=G[Bt].conOpt;SP(Bt,xt,0,HD($,Zt,Bt),null)}}St?xt.dirty():xt.markRedraw()}}}}(v,t,i,r,g,Lh),function(E,D,R,z,Y){var G=R.clipPath;if(G===!1)E&&E.getClipPath()&&E.removeClipPath();else if(G){var $=E.getClipPath();$&&kP($,G,z)&&($=null),$||($=BD(G),E.setClipPath($)),zD(null,$,D,G,null,z,Y)}}(v,t,i,r,g),zD(n,v,t,i,Lh,r,g),ln(i,"info")&&(tg(v).info=i.info);for(var _=0;_<Lm.length;_++){var S=Lm[_];if(S!==Dm){var A=oE(i,S);SP(S,v,0,HD(i,A,S),Lh)}}return function(E,D,R){if(!E.isGroup){var z=E,Y=R.currentZ,G=R.currentZLevel;z.z=Y,z.zlevel=G;var $=D.z2;$!=null&&(z.z2=$||0);for(var Q=0;Q<Lm.length;Q++)NB(z,D,Lm[Q])}}(v,i,r),i.type==="group"&&function(E,D,R,z,Y){var G=z.children,$=G?G.length:0,Q=z.$mergeChildren,et=Q==="byName"||z.diffChildrenByName,ot=Q===!1;if(!(!$&&!et&&!ot)){if(et)return xt={api:E,oldChildren:D.children()||[],newChildren:G||[],dataIndex:R,seriesModel:Y,group:D},void new Eu(xt.oldChildren,xt.newChildren,MP,MP,xt).add(TP).update(TP).remove(zB).execute();var xt;ot&&D.removeAll();for(var St=0;St<$;St++){var Mt=G[St],Bt=D.childAt(St);Mt?(Mt.ignore==null&&(Mt.ignore=!1),VD(E,Bt,R,Mt,Y,D)):Bt.ignore=!0}for(var Zt=D.childCount()-1;Zt>=St;Zt--){var se=D.childAt(Zt);BB(D,se,Y)}}}(n,v,t,i,r),a>=0?o.replaceAt(v,a):o.add(v),v}function kP(n,e,t){var i,r=tg(n),o=e.type,a=e.shape,l=e.style;return t.isUniversalTransitionEnabled()||o!=null&&o!==r.customGraphicType||o==="path"&&(i=a)&&(ln(i,"pathData")||ln(i,"d"))&&IP(a)!==r.customPathData||o==="image"&&ln(l,"image")&&l.image!==r.customImagePath}function AP(n,e,t){var i=e?oE(n,e):n,r=e?HD(n,i,eg):n.style,o=n.type,a=i?i.textConfig:null,l=n.textContent,u=l?e?oE(l,e):l:null;if(r&&(t.isLegacy||hP(r,o,!!a,!!u))){t.isLegacy=!0;var f=dP(r,o,!e);!a&&f.textConfig&&(a=f.textConfig),!u&&f.textContent&&(u=f.textContent)}if(!e&&u){var g=u;!g.type&&(g.type="text")}var v=e?t[e]:t.normal;v.cfg=a,v.conOpt=u}function oE(n,e){return e?n?n[e]:null:n}function HD(n,e,t){var i=e&&e.style;return i==null&&t===eg&&n&&(i=n.styleEmphasis),i}function BB(n,e,t){e&&iE(e,tg(n).option,t)}function MP(n,e){var t=n&&n.name;return t??"e\0\0"+e}function TP(n,e){var t=this.context,i=n!=null?t.newChildren[n]:null,r=e!=null?t.oldChildren[e]:null;VD(t.api,r,t.dataIndex,i,t.seriesModel,t.group)}function zB(n){var e=this.context,t=e.oldChildren[n];t&&iE(t,tg(t).option,e.seriesModel)}function IP(n){return n&&(n.pathData||n.d)}var g0=Hr(),EP=Kt,WD=Te,jD=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var l=this._group,u=this._handle;if(!a||a==="hide")return l&&l.hide(),void(u&&u.hide());l&&l.show(),u&&u.show();var f={};this.makeElOption(f,o,e,t,i);var g=f.graphicKey;g!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=g;var v=this._moveAnimation=this.determineAnimation(e,t);if(l){var _=_n(OP,t,v);this.updatePointerEl(l,f,_),this.updateLabelEl(l,f,_,t)}else l=this._group=new Di,this.createPointerEl(l,f,e,t),this.createLabelEl(l,f,e,t),i.getZr().add(l);PP(l,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,o=r.type==="category",a=t.get("snap");if(!a&&!o)return!1;if(i==="auto"||i==null){var l=this.animationThreshold;if(o&&r.getBandWidth()>l)return!0;if(a){var u=Cp(e).seriesDataCount,f=r.getExtent();return Math.abs(f[0]-f[1])/u>l}return!1}return i===!0},n.prototype.makeElOption=function(e,t,i,r,o){},n.prototype.createPointerEl=function(e,t,i,r){var o=t.pointer;if(o){var a=g0(e).pointerEl=new Gd[o.type](EP(t.pointer));e.add(a)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var o=g0(e).labelEl=new $r(EP(t.label));e.add(o),LP(o,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=g0(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var o=g0(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),LP(o,r))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=i.getModel("handle"),l=i.get("status");if(!a.get("show")||!l||l==="hide")return o&&r.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=ea(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){Ie(f.event)},onmousedown:WD(this._onHandleDragMove,this,0,0),drift:WD(this._onHandleDragMove,this),ondragend:WD(this._onHandleDragEnd,this)}),r.add(o)),PP(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");Be(u)||(u=[u,u]),o.scaleX=u[0]/2,o.scaleY=u[1]/2,Cf(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},n.prototype._moveHandleToValue=function(e,t){OP(this._axisPointerModel,!t&&this._moveAnimation,this._handle,YD(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(YD(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(YD(r)),g0(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Lv(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function OP(n,e,t,i){DP(g0(t).lastProp,i)||(g0(t).lastProp=i,e?Zr(t,i,n):(t.stopAnimation(),t.attr(i)))}function DP(n,e){if(di(n)&&di(e)){var t=!0;return ht(e,function(i,r){t=t&&DP(n[r],i)}),!!t}return n===e}function LP(n,e){n[e.get(["label","show"])?"show":"hide"]()}function YD(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function PP(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),r!=null&&(o.zlevel=r),o.silent=t)})}function GD(n){var e,t=n.get("type"),i=n.getModel(t+"Style");return t==="line"?(e=i.getLineStyle()).fill=null:t==="shadow"&&((e=i.getAreaStyle()).stroke=null),e}function NP(n,e,t,i,r){var o=RP(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),a=t.getModel("label"),l=Uh(a.get("padding")||0),u=a.getFont(),f=xs(o,u),g=r.position,v=f.width+l[1]+l[3],_=f.height+l[0]+l[2],S=r.align;S==="right"&&(g[0]-=v),S==="center"&&(g[0]-=v/2);var A=r.verticalAlign;A==="bottom"&&(g[1]-=_),A==="middle"&&(g[1]-=_/2),function(D,R,z,Y){var G=Y.getWidth(),$=Y.getHeight();D[0]=Math.min(D[0]+R,G)-R,D[1]=Math.min(D[1]+z,$)-z,D[0]=Math.max(D[0],0),D[1]=Math.max(D[1],0)}(g,v,_,i);var E=a.get("backgroundColor");E&&E!=="auto"||(E=e.get(["axisLine","lineStyle","color"])),n.label={x:g[0],y:g[1],style:Do(a,{text:o,font:u,fill:a.getTextColor(),padding:l,backgroundColor:E}),z2:10}}function RP(n,e,t,i,r){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var l={value:Tx(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};ht(i,function(u){var f=t.getSeriesByIndex(u.seriesIndex),g=u.dataIndexInside,v=f&&f.getDataParams(g);v&&l.seriesData.push(v)}),Mn(a)?o=a.replace("{value}",o):Ge(a)&&(o=a(l))}return o}function XD(n,e,t){var i=[1,0,0,1,0,0];return Xr(i,i,t.rotation),er(i,i,t.position),vc([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function BP(n,e,t,i,r,o){var a=ol.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),NP(e,i,r,o,{position:XD(i.axis,n,t),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function qD(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function zP(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function FP(n,e,t,i,r,o){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:o,clockwise:!0}}var FB=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var l=r.axis,u=l.grid,f=o.get("type"),g=VP(u,l).getOtherAxis(l).getGlobalExtent(),v=l.toGlobalCoord(l.dataToCoord(i,!0));if(f&&f!=="none"){var _=GD(o),S=VB[f](l,v,g);S.style=_,t.graphicKey=S.type,t.pointer=S}BP(i,t,l1(u.model,r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=l1(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=XD(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,l=a.grid,u=a.getGlobalExtent(!0),f=VP(l,a).getOtherAxis(a).getGlobalExtent(),g=a.dim==="x"?0:1,v=[t.x,t.y];v[g]+=i[g],v[g]=Math.min(u[1],v[g]),v[g]=Math.max(u[0],v[g]);var _=(f[1]+f[0])/2,S=[_,_];return S[g]=v[g],{x:v[0],y:v[1],rotation:t.rotation,cursorPoint:S,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][g]}},e}(jD);function VP(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var VB={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:qD([e,t[0]],[e,t[1]],HP(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth()),r=t[1]-t[0];return{type:"Rect",shape:zP([e-i/2,t[0]],[i,r],HP(n))}}};function HP(n){return n.dim==="x"?0:1}var HB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Wr),ng=Hr(),WB=ht;function WP(n,e,t){if(!Oe.node){var i=e.getZr();ng(i).records||(ng(i).records={}),function(r,o){if(ng(r).initialized)return;function a(l,u){r.on(l,function(f){var g=function(v){var _={showTip:[],hideTip:[]},S=function(A){var E=_[A.type];E?E.push(A):(A.dispatchAction=S,v.dispatchAction(A))};return{dispatchAction:S,pendings:_}}(o);WB(ng(r).records,function(v){v&&u(v,f,g.dispatchAction)}),function(v,_){var S,A=v.showTip.length,E=v.hideTip.length;A?S=v.showTip[A-1]:E&&(S=v.hideTip[E-1]),S&&(S.dispatchAction=null,_.dispatchAction(S))}(g.pendings,o)})}ng(r).initialized=!0,a("click",_n(jP,"click")),a("mousemove",_n(jP,"mousemove")),a("globalout",jB)}(i,e),(ng(i).records[n]||(ng(i).records[n]={})).handler=t}}function jB(n,e,t){n.handler("leave",null,t)}function jP(n,e,t,i){e.handler(n,t,i)}function UD(n,e){if(!Oe.node){var t=e.getZr();(ng(t).records||{})[n]&&(ng(t).records[n]=null)}}var YB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=i.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";WP("axisPointer",r,function(l,u,f){a!=="none"&&(l==="leave"||a.indexOf(l)>=0)&&f({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(t,i){UD("axisPointer",i)},e.prototype.dispose=function(t,i){UD("axisPointer",i)},e.type="axisPointer",e}(Ao);function YP(n,e){var t,i=[],r=n.seriesIndex;if(r==null||!(t=e.getSeriesByIndex(r)))return{point:[]};var o=t.getData(),a=Zu(o,n);if(a==null||a<0||Be(a))return{point:[]};var l=o.getItemGraphicEl(a),u=t.coordinateSystem;if(t.getTooltipPosition)i=t.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)if(n.isStacked){var f=u.getBaseAxis(),g=u.getOtherAxis(f).dim,v=f.dim,_=g==="x"||g==="radius"?1:0,S=o.mapDimension(v),A=[];A[_]=o.get(S,a),A[1-_]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=u.dataToPoint(A)||[]}else i=u.dataToPoint(o.getValues(lt(u.dimensions,function(D){return o.mapDimension(D)}),a))||[];else if(l){var E=l.getBoundingRect().clone();E.applyTransform(l.transform),i=[E.x+E.width/2,E.y+E.height/2]}return{point:i,el:l}}var GP=Hr();function GB(n,e,t){var i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||Te(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){aE(r)&&(r=YP({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var u=aE(r),f=o.axesInfo,g=l.axesInfo,v=i==="leave"||aE(r),_={},S={},A={list:[],map:{}},E={showPointer:_n(XB,S),showTooltip:_n(qB,A)};ht(l.coordSysMap,function(R,z){var Y=u||R.containPoint(r);ht(l.coordSysAxesInfo[z],function(G,$){var Q=G.axis,et=function(xt,St){for(var Mt=0;Mt<(xt||[]).length;Mt++){var Bt=xt[Mt];if(St.axis.dim===Bt.axisDim&&St.axis.model.componentIndex===Bt.axisIndex)return Bt}}(f,G);if(!v&&Y&&(!f||et)){var ot=et&&et.value;ot!=null||u||(ot=Q.pointToData(r)),ot!=null&&XP(G,ot,E,!1,_)}})});var D={};return ht(g,function(R,z){var Y=R.linkGroup;Y&&!S[z]&&ht(Y.axesInfo,function(G,$){var Q=S[$];if(G!==R&&Q){var et=Q.value;Y.mapper&&(et=R.axis.scale.parse(Y.mapper(et,qP(G),qP(R)))),D[R.key]=et}})}),ht(D,function(R,z){XP(g[z],R,E,!0,_)}),function(R,z,Y){var G=Y.axesInfo=[];ht(z,function($,Q){var et=$.axisPointerModel.option,ot=R[Q];ot?(!$.useHandle&&(et.status="show"),et.value=ot.value,et.seriesDataIndices=(ot.payloadBatch||[]).slice()):!$.useHandle&&(et.status="hide"),et.status==="show"&&G.push({axisDim:$.axis.dim,axisIndex:$.axis.model.componentIndex,value:et.value})})}(S,g,_),function(R,z,Y,G){if(aE(z)||!R.list.length)return void G({type:"hideTip"});var $=((R.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};G({type:"showTip",escapeConnect:!0,x:z[0],y:z[1],tooltipOption:Y.tooltipOption,position:Y.position,dataIndexInside:$.dataIndexInside,dataIndex:$.dataIndex,seriesIndex:$.seriesIndex,dataByCoordSys:R.list})}(A,r,n,a),function(R,z,Y){var G=Y.getZr(),$="axisPointerLastHighlights",Q=GP(G)[$]||{},et=GP(G)[$]={};ht(R,function(St,Mt){var Bt=St.axisPointerModel.option;Bt.status==="show"&&ht(Bt.seriesDataIndices,function(Zt){var se=Zt.seriesIndex+" | "+Zt.dataIndex;et[se]=Zt})});var ot=[],xt=[];ht(Q,function(St,Mt){!et[Mt]&&xt.push(St)}),ht(et,function(St,Mt){!Q[Mt]&&ot.push(St)}),xt.length&&Y.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:xt}),ot.length&&Y.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ot})}(g,0,t),_}}function XP(n,e,t,i,r){var o=n.axis;if(!o.scale.isBlank()&&o.containData(e))if(n.involveSeries){var a=function(f,g){var v=g.axis,_=v.dim,S=f,A=[],E=Number.MAX_VALUE,D=-1;return ht(g.seriesModels,function(R,z){var Y,G,$=R.getData().mapDimensionsAll(_);if(R.getAxisTooltipData){var Q=R.getAxisTooltipData($,f,v);G=Q.dataIndices,Y=Q.nestestValue}else{if(!(G=R.getData().indicesOfNearest($[0],f,v.type==="category"?.5:null)).length)return;Y=R.getData().get($[0],G[0])}if(Y!=null&&isFinite(Y)){var et=f-Y,ot=Math.abs(et);ot<=E&&((ot<E||et>=0&&D<0)&&(E=ot,D=et,S=Y,A.length=0),ht(G,function(xt){A.push({seriesIndex:R.seriesIndex,dataIndexInside:xt,dataIndex:R.getData().getRawIndex(xt)})}))}}),{payloadBatch:A,snapToValue:S}}(e,n),l=a.payloadBatch,u=a.snapToValue;l[0]&&r.seriesIndex==null&&me(r,l[0]),!i&&n.snap&&o.containData(u)&&u!=null&&(e=u),t.showPointer(n,e,l),t.showTooltip(n,a,u)}else t.showPointer(n,e)}function XB(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function qB(n,e,t,i){var r=t.payloadBatch,o=e.axis,a=o.model,l=e.axisPointerModel;if(e.triggerTooltip&&r.length){var u=e.coordSys.model,f=Ey(u),g=n.map[f];g||(g=n.map[f]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(g)),g.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function qP(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function aE(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function rA(n){Ah.registerAxisPointerClass("CartesianAxisPointer",FB),n.registerComponentModel(HB),n.registerComponentView(YB),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Be(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=D2(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},GB)}var UB=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var l=r.axis;l.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=l.polar,f=u.getOtherAxis(l).getExtent(),g=l.dataToCoord(i),v=o.get("type");if(v&&v!=="none"){var _=GD(o),S=$B[v](l,u,g,f);S.style=_,t.graphicKey=S.type,t.pointer=S}var A=function(E,D,R,z,Y){var G=D.axis,$=G.dataToCoord(E),Q=z.getAngleAxis().getExtent()[0];Q=Q/180*Math.PI;var et,ot,xt,St=z.getRadiusAxis().getExtent();if(G.dim==="radius"){var Mt=[1,0,0,1,0,0];Xr(Mt,Mt,Q),er(Mt,Mt,[z.cx,z.cy]),et=vc([$,-Y],Mt);var Bt=D.getModel("axisLabel").get("rotate")||0,Zt=ol.innerTextLayout(Q,Bt*Math.PI/180,-1);ot=Zt.textAlign,xt=Zt.textVerticalAlign}else{var se=St[1];et=z.coordToPoint([se+Y,$]);var pe=z.cx,be=z.cy;ot=Math.abs(et[0]-pe)/se<.3?"center":et[0]>pe?"left":"right",xt=Math.abs(et[1]-be)/se<.3?"middle":et[1]>be?"top":"bottom"}return{position:et,align:ot,verticalAlign:xt}}(i,r,0,u,o.get(["label","margin"]));NP(t,r,o,a,A)},e}(jD),$B={line:function(n,e,t,i){return n.dim==="angle"?{type:"Line",shape:qD(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:FP(e.cx,e.cy,i[0],i[1],(-t-r/2)*o,(r/2-t)*o)}:{type:"Sector",shape:FP(e.cx,e.cy,t-r/2,t+r/2,0,2*Math.PI)}}},ZB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Wr),$D=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",da).models[0]},e.type="polarAxis",e}(Wr);jt($D,Df);var KB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="angleAxis",e}($D),QB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="radiusAxis",e}($D),ZD=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return Tt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e}(Ls);ZD.prototype.dataToRadius=Ls.prototype.dataToCoord,ZD.prototype.radiusToData=Ls.prototype.coordToData;var JB=Hr(),KD=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return Tt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),f=Math.abs(u),g=xs(l==null?"":l+"",i.getFont(),"center","top"),v=Math.max(g.height,7)/f;isNaN(v)&&(v=1/0);var _=Math.max(0,Math.floor(v)),S=JB(t.model),A=S.lastAutoInterval,E=S.lastTickCount;return A!=null&&E!=null&&Math.abs(A-_)<=1&&Math.abs(E-a)<=1&&A>_?_=A:(S.lastTickCount=a,S.lastAutoInterval=_),_},e}(Ls);KD.prototype.dataToAngle=Ls.prototype.dataToCoord,KD.prototype.angleToData=Ls.prototype.coordToData;var UP=["radius","angle"],tz=function(){function n(e){this.dimensions=UP,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new ZD,this._angleAxis=new KD,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]);r.inverse?a=l-360:l=a+360;var u=Math.sqrt(t*t+i*i);t/=u,i/=u;for(var f=Math.atan2(-i,t)/Math.PI*180,g=f<a?1:-1;f<a||f>l;)f+=360*g;return[u,f]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var i=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:e.inverse,contain:function(o,a){var l=o-this.cx,u=a-this.cy,f=l*l+u*u-1e-4,g=this.r,v=this.r0;return f<=g*g&&f>=v*v}}},n.prototype.convertToPixel=function(e,t,i){return $P(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return $P(t)===this?this.pointToData(i):null},n}();function $P(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function ez(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(l){if(l.coordinateSystem===t){var u=l.getData();ht(oy(u,"radius"),function(f){r.scale.unionExtentFromData(u,f)}),ht(oy(u,"angle"),function(f){i.scale.unionExtentFromData(u,f)})}}),ed(i.scale,i.model),ed(r.scale,r.model),i.type==="category"&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function ZP(n,e){if(n.type=e.get("type"),n.scale=pp(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),function(i){return i.mainType==="angleAxis"}(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var nz={dimensions:UP,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var o=new tz(r+"");o.update=ez;var a=o.getRadiusAxis(),l=o.getAngleAxis(),u=i.findAxisModel("radiusAxis"),f=i.findAxisModel("angleAxis");ZP(a,u),ZP(l,f),function(g,v,_){var S=v.get("center"),A=_.getWidth(),E=_.getHeight();g.cx=ei(S[0],A),g.cy=ei(S[1],E);var D=g.getRadiusAxis(),R=Math.min(A,E)/2,z=v.get("radius");z==null?z=[0,"100%"]:Be(z)||(z=[0,z]);var Y=[ei(z[0],R),ei(z[1],R)];D.inverse?D.setExtent(Y[1],Y[0]):D.setExtent(Y[0],Y[1])}(o,i,e),t.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="polar"){var r=i.getReferringComponents("polar",da).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},iz=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function sE(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function lE(n){return n.getRadiusAxis().inverse?0:1}function KP(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var rz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=t.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),l=r.getTicksCoords(),u=r.getMinorTicksCoords(),f=lt(r.getViewLabels(),function(g){g=Kt(g);var v=r.scale,_=v.type==="ordinal"?v.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=r.dataToCoord(_),g});KP(f),KP(l),ht(iz,function(g){!t.get([g,"show"])||r.scale.isBlank()&&g!=="axisLine"||oz[g](this.group,t,o,l,u,a,f)},this)}},e.type="angleAxis",e}(Ah),oz={axisLine:function(n,e,t,i,r,o){var a,l=e.getModel(["axisLine","lineStyle"]),u=lE(t),f=u?0:1;(a=o[f]===0?new xl({shape:{cx:t.cx,cy:t.cy,r:o[u]},style:l.getLineStyle(),z2:1,silent:!0}):new Tg({shape:{cx:t.cx,cy:t.cy,r:o[u],r0:o[f]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(a)},axisTick:function(n,e,t,i,r,o){var a=e.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),u=o[lE(t)],f=lt(i,function(g){return new Ha({shape:sE(t,[u,u+l],g.coord)})});n.add(Xl(f,{style:Ne(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),l=e.getModel("minorTick"),u=(a.get("inside")?-1:1)*l.get("length"),f=o[lE(t)],g=[],v=0;v<r.length;v++)for(var _=0;_<r[v].length;_++)g.push(new Ha({shape:sE(t,[f,f+u],r[v][_].coord)}));n.add(Xl(g,{style:Ne(l.getModel("lineStyle").getLineStyle(),Ne(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,o,a){var l=e.getCategories(!0),u=e.getModel("axisLabel"),f=u.get("margin"),g=e.get("triggerEvent");ht(a,function(v,_){var S=u,A=v.tickValue,E=o[lE(t)],D=t.coordToPoint([E+f,v.coord]),R=t.cx,z=t.cy,Y=Math.abs(D[0]-R)/E<.3?"center":D[0]>R?"left":"right",G=Math.abs(D[1]-z)/E<.3?"middle":D[1]>z?"top":"bottom";if(l&&l[A]){var $=l[A];di($)&&$.textStyle&&(S=new ao($.textStyle,u,u.ecModel))}var Q=new $r({silent:ol.isLabelSilent(e),style:Do(S,{x:D[0],y:D[1],fill:S.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:v.formattedLabel,align:Y,verticalAlign:G})});if(n.add(Q),g){var et=ol.makeAxisEventDataBase(e);et.targetType="axisLabel",et.value=v.rawLabel,lr(Q).eventData=et}},this)},splitLine:function(n,e,t,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=0;g<i.length;g++){var v=u++%l.length;f[v]=f[v]||[],f[v].push(new Ha({shape:sE(t,o,i[g].coord)}))}for(g=0;g<f.length;g++)n.add(Xl(f[g],{style:Ne({stroke:l[g%l.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,o){if(r.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var f=0;f<r[u].length;f++)l.push(new Ha({shape:sE(t,o,r[u][f].coord)}));n.add(Xl(l,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,o){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=Math.PI/180,v=-i[0].coord*g,_=Math.min(o[0],o[1]),S=Math.max(o[0],o[1]),A=e.get("clockwise"),E=1,D=i.length;E<=D;E++){var R=E===D?i[0].coord:i[E].coord,z=u++%l.length;f[z]=f[z]||[],f[z].push(new $s({shape:{cx:t.cx,cy:t.cy,r0:_,r:S,startAngle:v,endAngle:-R*g,clockwise:A},silent:!0})),v=-R*g}for(E=0;E<f.length;E++)n.add(Xl(f[E],{style:Ne({fill:l[E%l.length]},a.getAreaStyle()),silent:!0}))}}},az=["axisLine","axisTickLabel","axisName"],sz=["splitLine","splitArea","minorSplitLine"],lz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,o=this._axisGroup=new Di;this.group.add(o);var a=t.axis,l=a.polar,u=l.getAngleAxis(),f=a.getTicksCoords(),g=a.getMinorTicksCoords(),v=u.getExtent()[0],_=a.getExtent(),S=function(E,D,R){return{position:[E.cx,E.cy],rotation:R/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:D.getModel("axisLabel").get("rotate"),z2:1}}(l,t,v),A=new ol(t,S);ht(az,A.add,A),o.add(A.getGroup()),jd(r,o,t),ht(sz,function(E){t.get([E,"show"])&&!a.scale.isBlank()&&cz[E](this.group,t,l,v,_,f,g)},this)}},e.type="radiusAxis",e}(Ah),cz={splitLine:function(n,e,t,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=0;g<o.length;g++){var v=u++%l.length;f[v]=f[v]||[],f[v].push(new xl({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[g].coord,0)}}))}for(g=0;g<f.length;g++)n.add(Xl(f[g],{style:Ne({stroke:l[g%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,o,a){if(a.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),u=[],f=0;f<a.length;f++)for(var g=0;g<a[f].length;g++)u.push(new xl({shape:{cx:t.cx,cy:t.cy,r:a[f][g].coord}}));n.add(Xl(u,{style:Ne({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=o[0].coord,v=1;v<o.length;v++){var _=u++%l.length;f[_]=f[_]||[],f[_].push(new $s({shape:{cx:t.cx,cy:t.cy,r0:g,r:o[v].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),g=o[v].coord}for(v=0;v<f.length;v++)n.add(Xl(f[v],{style:Ne({fill:l[v%l.length]},a.getAreaStyle()),silent:!0}))}}};function QP(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function JP(n,e){return e.dim+n.model.componentIndex}function uz(n,e,t){var i={},r=function(o){var a={};ht(o,function(u,f){var g=u.getData(),v=u.coordinateSystem,_=v.getBaseAxis(),S=JP(v,_),A=_.getExtent(),E=_.type==="category"?_.getBandWidth():Math.abs(A[1]-A[0])/g.count(),D=a[S]||{bandWidth:E,remainedWidth:E,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},R=D.stacks;a[S]=D;var z=QP(u);R[z]||D.autoWidthCount++,R[z]=R[z]||{width:0,maxWidth:0};var Y=ei(u.get("barWidth"),E),G=ei(u.get("barMaxWidth"),E),$=u.get("barGap"),Q=u.get("barCategoryGap");Y&&!R[z].width&&(Y=Math.min(D.remainedWidth,Y),R[z].width=Y,D.remainedWidth-=Y),G&&(R[z].maxWidth=G),$!=null&&(D.gap=$),Q!=null&&(D.categoryGap=Q)});var l={};return ht(a,function(u,f){l[f]={};var g=u.stacks,v=u.bandWidth,_=ei(u.categoryGap,v),S=ei(u.gap,1),A=u.remainedWidth,E=u.autoWidthCount,D=(A-_)/(E+(E-1)*S);D=Math.max(D,0),ht(g,function(G,$){var Q=G.maxWidth;Q&&Q<D&&(Q=Math.min(Q,A),G.width&&(Q=Math.min(Q,G.width)),A-=Q,G.width=Q,E--)}),D=(A-_)/(E+(E-1)*S),D=Math.max(D,0);var R,z=0;ht(g,function(G,$){G.width||(G.width=D),R=G,z+=G.width*(1+S)}),R&&(z-=R.width*S);var Y=-z/2;ht(g,function(G,$){l[f][$]=l[f][$]||{offset:Y,width:G.width},Y+=G.width*(1+S)})}),l}(en(e.getSeriesByType(n),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(o){if(o.coordinateSystem.type==="polar"){var a=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),f=JP(l,u),g=QP(o),v=r[f][g],_=v.offset,S=v.width,A=l.getOtherAxis(u),E=o.coordinateSystem.cx,D=o.coordinateSystem.cy,R=o.get("barMinHeight")||0,z=o.get("barMinAngle")||0;i[g]=i[g]||[];for(var Y=a.mapDimension(A.dim),G=a.mapDimension(u.dim),$=td(a,Y),Q=u.dim!=="radius"||!o.get("roundCap",!0),et=A.dataToCoord(0),ot=0,xt=a.count();ot<xt;ot++){var St=a.get(Y,ot),Mt=a.get(G,ot),Bt=St>=0?"p":"n",Zt=et;$&&(i[g][Mt]||(i[g][Mt]={p:et,n:et}),Zt=i[g][Mt][Bt]);var se=void 0,pe=void 0,be=void 0,we=void 0;if(A.dim==="radius"){var Re=A.dataToCoord(St)-et,Ze=u.dataToCoord(Mt);Math.abs(Re)<R&&(Re=(Re<0?-1:1)*R),se=Zt,pe=Zt+Re,we=(be=Ze-_)-S,$&&(i[g][Mt][Bt]=pe)}else{var Je=A.dataToCoord(St,Q)-et,rn=u.dataToCoord(Mt);Math.abs(Je)<z&&(Je=(Je<0?-1:1)*z),pe=(se=rn+_)+S,be=Zt,we=Zt+Je,$&&(i[g][Mt][Bt]=we)}a.setItemLayout(ot,{cx:E,cy:D,r0:se,r:pe,startAngle:-be*Math.PI/180,endAngle:-we*Math.PI/180,clockwise:be>=we})}}})}var hz={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},dz={splitNumber:5},pz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="polar",e}(Ao);function QD(n,e){e=e||{};var t=n.coordinateSystem,i=n.axis,r={},o=i.position,a=i.orient,l=t.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],f={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};r.position=[a==="vertical"?f.vertical[o]:u[0],a==="horizontal"?f.horizontal[o]:u[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),zi(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var g=e.rotate;return g==null&&(g=n.get(["axisLabel","rotate"])),r.labelRotation=o==="top"?-g:g,r.z2=1,r}var fz=["axisLine","axisTickLabel","axisName"],gz=["splitArea","splitLine"],mz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;a.removeAll();var l=this._axisGroup;this._axisGroup=new Di;var u=QD(t),f=new ol(t,u);ht(fz,f.add,f),a.add(this._axisGroup),a.add(f.getGroup()),ht(gz,function(g){t.get([g,"show"])&&vz[g](this,this.group,this._axisGroup,t)},this),jd(l,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)},e.prototype.remove=function(){d1(this)},e.type="singleAxis",e}(Ah),vz={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),l=a.get("color");l=l instanceof Array?l:[l];for(var u=a.get("width"),f=i.coordinateSystem.getRect(),g=r.isHorizontal(),v=[],_=0,S=r.getTicksCoords({tickModel:o}),A=[],E=[],D=0;D<S.length;++D){var R=r.toGlobalCoord(S[D].coord);g?(A[0]=R,A[1]=f.y,E[0]=R,E[1]=f.y+f.height):(A[0]=f.x,A[1]=R,E[0]=f.x+f.width,E[1]=R);var z=new Ha({shape:{x1:A[0],y1:A[1],x2:E[0],y2:E[1]},silent:!0});af(z.shape,u);var Y=_++%l.length;v[Y]=v[Y]||[],v[Y].push(z)}var G=a.getLineStyle(["color"]);for(D=0;D<v.length;++D)e.add(Xl(v[D],{style:Ne({stroke:l[D%l.length]},G),silent:!0}))}},splitArea:function(n,e,t,i){PC(n,t,i,i)}},cE=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Wr);jt(cE,Df.prototype);var yz=function(n){function e(t,i,r,o,a){var l=n.call(this,t,i,r)||this;return l.type=o||"value",l.position=a||"bottom",l}return Tt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(Ls),tN=["single"],bz=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=tN,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=this.dimension,o=new yz(r,pp(e),[0,0],e.get("type"),e.get("position")),a=o.type==="category";o.onBand=a&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();ht(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),ed(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=ma({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return r-a+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return i.orient==="horizontal"?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],o=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=o===0?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){return eN(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return eN(t)===this?this.pointToData(i):null},n}();function eN(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var xz={create:function(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var o=new bz(i,n,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,t.push(o)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="singleAxis"){var r=i.getReferringComponents("singleAxis",da).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:tN},nN=["x","y"],_z=["width","height"],wz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var l=r.axis,u=l.coordinateSystem,f=JD(u,1-uE(l)),g=u.dataToPoint(i)[0],v=o.get("type");if(v&&v!=="none"){var _=GD(o),S=Sz[v](l,g,f);S.style=_,t.graphicKey=S.type,t.pointer=S}BP(i,t,QD(r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=QD(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=XD(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,l=a.coordinateSystem,u=uE(a),f=JD(l,u),g=[t.x,t.y];g[u]+=i[u],g[u]=Math.min(f[1],g[u]),g[u]=Math.max(f[0],g[u]);var v=JD(l,1-u),_=(v[1]+v[0])/2,S=[_,_];return S[u]=g[u],{x:g[0],y:g[1],rotation:t.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}},e}(jD),Sz={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:qD([e,t[0]],[e,t[1]],uE(n))}},shadow:function(n,e,t){var i=n.getBandWidth(),r=t[1]-t[0];return{type:"Rect",shape:zP([e-i/2,t[0]],[i,r],uE(n))}}};function uE(n){return n.isHorizontal()?0:1}function JD(n,e){var t=n.getRect();return[t[nN[e]],t[nN[e]]+t[_z[e]]]}var Cz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="single",e}(Ao),kz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i,r){var o=Vg(t);n.prototype.init.apply(this,arguments),iN(t,o)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),iN(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Wr);function iN(n,e){var t,i=n.cellSize;(t=Be(i)?i:n.cellSize=[i,i]).length===1&&(t[1]=t[0]);var r=lt([0,1],function(o){return function(a,l){return a[$d[l][0]]!=null||a[$d[l][1]]!=null&&a[$d[l][2]]!=null}(e,o)&&(t[o]="auto"),t[o]!=null&&t[o]!=="auto"});jc(n,e,{type:"box",ignoreSize:r})}var Az=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=this.group;o.removeAll();var a=t.coordinateSystem,l=a.getRangeInfo(),u=a.getOrient(),f=i.getLocaleModel();this._renderDayRect(t,l,o),this._renderLines(t,l,u,o),this._renderYearText(t,l,u,o),this._renderMonthText(t,f,u,o),this._renderWeekText(t,f,l,u,o)},e.prototype._renderDayRect=function(t,i,r){for(var o=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),l=o.getCellWidth(),u=o.getCellHeight(),f=i.start.time;f<=i.end.time;f=o.getNextNDay(f,1).time){var g=o.dataToRect([f],!1).tl,v=new Ur({shape:{x:g[0],y:g[1],width:l,height:u},cursor:"default",style:a});r.add(v)}},e.prototype._renderLines=function(t,i,r,o){var a=this,l=t.coordinateSystem,u=t.getModel(["splitLine","lineStyle"]).getLineStyle(),f=t.get(["splitLine","show"]),g=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var v=i.start,_=0;v.time<=i.end.time;_++){A(v.formatedDate),_===0&&(v=l.getDateInfo(i.start.y+"-"+i.start.m));var S=v.date;S.setMonth(S.getMonth()+1),v=l.getDateInfo(S)}function A(E){a._firstDayOfMonth.push(l.getDateInfo(E)),a._firstDayPoints.push(l.dataToRect([E],!1).tl);var D=a._getLinePointsOfOneWeek(t,E,r);a._tlpoints.push(D[0]),a._blpoints.push(D[D.length-1]),f&&a._drawSplitline(D,u,o)}A(l.getNextNDay(i.end.time,1).formatedDate),f&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,g,r),u,o),f&&this._drawSplitline(a._getEdgesPoints(a._blpoints,g,r),u,o)},e.prototype._getEdgesPoints=function(t,i,r){var o=[t[0].slice(),t[t.length-1].slice()],a=r==="horizontal"?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},e.prototype._drawSplitline=function(t,i,r){var o=new Ks({z2:20,shape:{points:t},style:i});r.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var o=t.coordinateSystem,a=o.getDateInfo(i),l=[],u=0;u<7;u++){var f=o.getNextNDay(a.time,u),g=o.dataToRect([f.time],!1);l[2*f.day]=g.tl,l[2*f.day+1]=g[r==="horizontal"?"bl":"tr"]}return l},e.prototype._formatterLabel=function(t,i){return Mn(t)&&t?(r=t,ht(i,function(a,l){r=r.replace("{"+l+"}",o?Nt(a):a)}),r):Ge(t)?t(i):i.nameMap;var r,o},e.prototype._yearTextPositionControl=function(t,i,r,o,a){var l=i[0],u=i[1],f=["center","bottom"];o==="bottom"?(u+=a,f=["center","top"]):o==="left"?l-=a:o==="right"?(l+=a,f=["center","top"]):u-=a;var g=0;return o!=="left"&&o!=="right"||(g=Math.PI/2),{rotation:g,x:l,y:u,style:{align:f[0],verticalAlign:f[1]}}},e.prototype._renderYearText=function(t,i,r,o){var a=t.getModel("yearLabel");if(a.get("show")){var l=a.get("margin"),u=a.get("position");u||(u=r!=="horizontal"?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(f[0][0]+f[1][0])/2,v=(f[0][1]+f[1][1])/2,_=r==="horizontal"?0:1,S={top:[g,f[_][1]],bottom:[g,f[1-_][1]],left:[f[1-_][0],v],right:[f[_][0],v]},A=i.start.y;+i.end.y>+i.start.y&&(A=A+"-"+i.end.y);var E=a.get("formatter"),D={start:i.start.y,end:i.end.y,nameMap:A},R=this._formatterLabel(E,D),z=new $r({z2:30,style:Do(a,{text:R})});z.attr(this._yearTextPositionControl(z,S[u],r,u,l)),o.add(z)}},e.prototype._monthTextPositionControl=function(t,i,r,o,a){var l="left",u="top",f=t[0],g=t[1];return r==="horizontal"?(g+=a,i&&(l="center"),o==="start"&&(u="bottom")):(f+=a,i&&(u="middle"),o==="start"&&(l="right")),{x:f,y:g,align:l,verticalAlign:u}},e.prototype._renderMonthText=function(t,i,r,o){var a=t.getModel("monthLabel");if(a.get("show")){var l=a.get("nameMap"),u=a.get("margin"),f=a.get("position"),g=a.get("align"),v=[this._tlpoints,this._blpoints];l&&!Mn(l)||(l&&(i=$0(l)||i),l=i.get(["time","monthAbbr"])||[]);var _=f==="start"?0:1,S=r==="horizontal"?0:1;u=f==="start"?-u:u;for(var A=g==="center",E=0;E<v[_].length-1;E++){var D=v[_][E].slice(),R=this._firstDayOfMonth[E];if(A){var z=this._firstDayPoints[E];D[S]=(z[S]+v[0][E+1][S])/2}var Y=a.get("formatter"),G=l[+R.m-1],$={yyyy:R.y,yy:(R.y+"").slice(2),MM:R.m,M:+R.m,nameMap:G},Q=this._formatterLabel(Y,$),et=new $r({z2:30,style:me(Do(a,{text:Q}),this._monthTextPositionControl(D,A,r,f,u))});o.add(et)}}},e.prototype._weekTextPositionControl=function(t,i,r,o,a){var l="center",u="middle",f=t[0],g=t[1],v=r==="start";return i==="horizontal"?(f=f+o+(v?1:-1)*a[0]/2,l=v?"right":"left"):(g=g+o+(v?1:-1)*a[1]/2,u=v?"bottom":"top"),{x:f,y:g,align:l,verticalAlign:u}},e.prototype._renderWeekText=function(t,i,r,o,a){var l=t.getModel("dayLabel");if(l.get("show")){var u=t.coordinateSystem,f=l.get("position"),g=l.get("nameMap"),v=l.get("margin"),_=u.getFirstDayOfWeek();(!g||Mn(g))&&(g&&(i=$0(g)||i),g=i.get(["time","dayOfWeekShort"])||lt(i.get(["time","dayOfWeekAbbr"]),function(G){return G[0]}));var S=u.getNextNDay(r.end.time,7-r.lweek).time,A=[u.getCellWidth(),u.getCellHeight()];v=ei(v,Math.min(A[1],A[0])),f==="start"&&(S=u.getNextNDay(r.start.time,-(7+r.fweek)).time,v=-v);for(var E=0;E<7;E++){var D,R=u.getNextNDay(S,E),z=u.dataToRect([R.time],!1).center;D=Math.abs((E+_)%7);var Y=new $r({z2:30,style:me(Do(l,{text:g[D]}),this._weekTextPositionControl(z,o,f,v,A))});a.add(Y)}}},e.type="calendar",e}(Ao),tL=864e5,Mz=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=Ss(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,o=e.getDate(),a=o<10?"0"+o:""+o,l=e.getDay();return{y:t+"",m:r,d:a,day:l=Math.abs((l+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+a,date:e}},n.prototype.getNextNDay=function(e,t){return(t=t||0)===0||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),l=this._orient==="horizontal"?[i,7]:[7,i];ht([0,1],function(v){g(o,v)&&(a[r[v]]=o[v]*l[v])});var u={width:t.getWidth(),height:t.getHeight()},f=this._rect=ma(a,u);function g(v,_){return v[_]!=null&&v[_]!=="auto"}ht([0,1],function(v){g(o,v)||(o[v]=f[r[v]]/l[v])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(e,t){Be(e)&&(e=e[0]),t==null&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo,o=i.formatedDate;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+tL))return[NaN,NaN];var a=i.day,l=this._getRangeInfo([r.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=rN(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=rN(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(Be(t)&&t.length===1&&(t=t[0]),Be(t))e=t;else{var i=t.toString();if(/^\d{4}$/.test(i)&&(e=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);e=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(e=[i,i])}if(!e)return t;var l=this._getRangeInfo(e);return l.start.time>l.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(e){var t,i=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];i[0].time>i[1].time&&(t=!0,i.reverse());var r=Math.floor(i[1].time/tL)-Math.floor(i[0].time/tL)+1,o=new Date(i[0].time),a=o.getDate(),l=i[1].date.getDate();o.setDate(a+r-1);var u=o.getDate();if(u!==l)for(var f=o.getTime()-i[1].time>0?1:-1;(u=o.getDate())!==l&&(o.getTime()-i[1].time)*f>0;)r-=f,o.setDate(u-f);var g=Math.floor((r+i[0].day+6)/7),v=t?1-g:g-1;return t&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:g,nthWeek:v,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||e===0&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=7*(e-1)-r.fweek+t,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(r){r.get("coordinateSystem")==="calendar"&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function rN(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}function oN(n,e){var t;return ht(e,function(i){n[i]!=null&&n[i]!=="auto"&&(t=!0)}),t}var aN=["transition","enterFrom","leaveTo"],Tz=aN.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function hE(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),n&&e)for(var i=t?aN:Tz,r=0;r<i.length;r++){var o=i[r];n[o]==null&&e[o]!=null&&(n[o]=e[o])}}var Iz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return Tt(e,n),e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,o=(i?r:t).elements,a=r.elements=i?[]:r.elements,l=[];this._flatten(o,l,null);var u=b0(a,l,"normalMerge"),f=this._elOptionsToUpdate=[];ht(u,function(g,v){var _=g.newOption;_&&(f.push(_),function(S,A){var E=S.existing;if(A.id=S.keyInfo.id,!A.type&&E&&(A.type=E.type),A.parentId==null){var D=A.parentOption;D?A.parentId=D.id:E&&(A.parentId=E.parentId)}A.parentOption=null}(g,_),function(S,A,E){var D=me({},E),R=S[A],z=E.$action||"merge";z==="merge"?R?(ne(R,D,!0),jc(R,D,{ignoreSize:!0}),tw(E,R),hE(E,R),hE(E,R,"shape"),hE(E,R,"style"),hE(E,R,"extra"),E.clipPath=R.clipPath):S[A]=D:z==="replace"?S[A]=D:z==="remove"&&R&&(S[A]=null)}(a,v,_),function(S,A){if(S&&(S.hv=A.hv=[oN(A,["left","right"]),oN(A,["top","bottom"])],S.type==="group")){var E=S,D=A;E.width==null&&(E.width=D.width=0),E.height==null&&(E.height=D.height=0)}}(a[v],_))},this),r.elements=en(a,function(g){return g&&delete g.$action,g!=null})},e.prototype._flatten=function(t,i,r){ht(t,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;a&&a.length&&this._flatten(a,i,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Wr),sN={path:null,compoundPath:null,group:Di,image:ua,text:$r},Ph=Hr(),Ez=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){this._elMap=ze()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,a=t.get("z"),l=t.get("zlevel");ht(i,function(u){var f=wa(u.id,null),g=f!=null?r.get(f):null,v=wa(u.parentId,null),_=v!=null?r.get(v):o,S=u.type,A=u.style;S==="text"&&A&&u.hv&&u.hv[1]&&(A.textVerticalAlign=A.textBaseline=A.verticalAlign=A.align=null);var E=u.textContent,D=u.textConfig;if(A&&hP(A,S,!!D,!!E)){var R=dP(A,S,!0);!D&&R.textConfig&&(D=u.textConfig=R.textConfig),!E&&R.textContent&&(E=R.textContent)}var z=function(be){return be=me({},be),ht(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(J_),function(we){delete be[we]}),be}(u),Y=u.$action||"merge",G=Y==="merge",$=Y==="replace";if(G){var Q=g;(Zt=!g)?Q=lN(f,_,u.type,r):(Q&&(Ph(Q).isNew=!1),wP(Q)),Q&&(nE(Q,z,t,{isInit:Zt}),cN(Q,u,a,l))}else if($){dE(g,u,r,t);var et=lN(f,_,u.type,r);et&&(nE(et,z,t,{isInit:!0}),cN(et,u,a,l))}else Y==="remove"&&(yP(g,u),dE(g,u,r,t));var ot=r.get(f);if(ot&&E)if(G){var xt=ot.getTextContent();xt?xt.attr(E):ot.setTextContent(new $r(E))}else $&&ot.setTextContent(new $r(E));if(ot){var St=u.clipPath;if(St){var Mt=St.type,Bt=void 0,Zt=!1;if(G){var se=ot.getClipPath();Bt=(Zt=!se||Ph(se).type!==Mt)?eL(Mt):se}else $&&(Zt=!0,Bt=eL(Mt));ot.setClipPath(Bt),nE(Bt,St,t,{isInit:Zt}),rE(Bt,St.keyframeAnimation,t)}var pe=Ph(ot);ot.setTextConfig(D),pe.option=u,function(be,we,Re){var Ze=lr(be).eventData;be.silent||be.ignore||Ze||(Ze=lr(be).eventData={componentType:"graphic",componentIndex:we.componentIndex,name:be.name}),Ze&&(Ze.info=Re.info)}(ot,t,u),Yd({el:ot,componentModel:t,itemName:ot.name,itemTooltipOption:u.tooltip}),rE(ot,u.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,o=this.group,a=this._elMap,l=i.getWidth(),u=i.getHeight(),f=["x","y"],g=0;g<r.length;g++)if((D=(E=wa((A=r[g]).id,null))!=null?a.get(E):null)&&D.isGroup){var v=(R=D.parent)===o,_=Ph(D),S=Ph(R);_.width=ei(_.option.width,v?l:S.width)||0,_.height=ei(_.option.height,v?u:S.height)||0}for(g=r.length-1;g>=0;g--){var A,E,D;if(D=(E=wa((A=r[g]).id,null))!=null?a.get(E):null){var R=D.parent,z=(S=Ph(R),{}),Y=xv(D,A,R===o?{width:l,height:u}:{width:S.width,height:S.height},null,{hv:A.hv,boundingMode:A.bounding},z);if(!Ph(D).isNew&&Y){for(var G=A.transition,$={},Q=0;Q<f.length;Q++){var et=f[Q],ot=z[et];G&&(f0(G)||dn(G,et)>=0)?$[et]=ot:D[et]=ot}Zr(D,$,t,0)}else D.attr(z)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){dE(r,Ph(r).option,i,t._lastGraphicModel)}),this._elMap=ze()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(Ao);function eL(n){var e=ln(sN,n)?sN[n]:Hd(n),t=new e({});return Ph(t).type=n,t}function lN(n,e,t,i){var r=eL(t);return e.add(r),i.set(n,r),Ph(r).id=n,Ph(r).isNew=!0,r}function dE(n,e,t,i){n&&n.parent&&(n.type==="group"&&n.traverse(function(r){dE(r,e,t,i)}),iE(n,e,i),t.removeKey(Ph(n).id))}function cN(n,e,t,i){n.isGroup||ht([["cursor",Ka.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var o=r[0];ln(e,o)?n[o]=yi(e[o],r[1]):n[o]==null&&(n[o]=r[1])}),ht(Qe(e),function(r){if(r.indexOf("on")===0){var o=e[r];n[r]=Ge(o)?o:null}}),ln(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}var uN=["x","y","radius","angle","single"],Oz=["cartesian2d","polar","singleAxis"];function Pm(n){return n+"Axis"}function Dz(n,e){var t,i=ze(),r=[],o=ze();n.eachComponent({mainType:"dataZoom",query:e},function(u){o.get(u.uid)||l(u)});do t=!1,n.eachComponent("dataZoom",a);while(t);function a(u){!o.get(u.uid)&&function(f){var g=!1;return f.eachTargetAxis(function(v,_){var S=i.get(v);S&&S[_]&&(g=!0)}),g}(u)&&(l(u),t=!0)}function l(u){o.set(u.uid,!0),r.push(u),u.eachTargetAxis(function(f,g){(i.get(f)||i.set(f,[]))[g]=!0})}return r}function hN(n){var e=n.ecModel,t={infoList:[],infoMap:ze()};return n.eachTargetAxis(function(i,r){var o=e.getComponent(Pm(i),r);if(o){var a=o.getCoordSysModel();if(a){var l=a.uid,u=t.infoMap.get(l);u||(u={model:a,axisModels:[]},t.infoList.push(u),t.infoMap.set(l,u)),u.axisModels.push(o)}}}),t}var nL=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),oA=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return Tt(e,n),e.prototype.init=function(t,i,r){var o=dN(t);this.settledOption=o,this.mergeDefaultAndTheme(t,r),this._doInit(o)},e.prototype.mergeOption=function(t){var i=dN(t);ne(this.option,t,!0),ne(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;ht([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=ze();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return ht(uN,function(r){var o=this.getReferringComponents(Pm(r),x0);if(o.specified){i=!0;var a=new nL;ht(o.models,function(l){a.add(l.componentIndex)}),t.set(r,a)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,o=!0;if(o){var a=i==="vertical"?"y":"x";l(r.findComponents({mainType:a+"Axis"}),a)}o&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}}),"single");function l(u,f){var g=u[0];if(g){var v=new nL;if(v.add(g.componentIndex),t.set(f,v),o=!1,f==="x"||f==="y"){var _=g.getReferringComponents("grid",da).models[0];_&&ht(u,function(S){g.componentIndex!==S.componentIndex&&_===S.getReferringComponents("grid",da).models[0]&&v.add(S.componentIndex)})}}}o&&ht(uN,function(u){if(o){var f=r.findComponents({mainType:Pm(u),filter:function(v){return v.get("type",!0)==="category"}});if(f[0]){var g=new nL;g.add(f[0].componentIndex),t.set(u,g),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");ht([["start","startValue"],["end","endValue"]],function(o,a){var l=t[o[0]]!=null,u=t[o[1]]!=null;l&&!u?i[a]="percent":!l&&u?i[a]="value":r?i[a]=r[a]:l&&(i[a]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){t==null&&(t=this.ecModel.getComponent(Pm(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,o){ht(r.indexList,function(a){t.call(i,o,a)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(Pm(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;ht([["start","startValue"],["end","endValue"]],function(o){t[o[0]]==null&&t[o[1]]==null||(i[o[0]]=r[o[0]]=t[o[0]],i[o[1]]=r[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;ht(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(t!=null||i!=null)return this.getAxisProxy(t,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],l=this._targetAxisInfoMap.get(a),u=0;u<l.indexList.length;u++){var f=this.getAxisProxy(a,l.indexList[u]);if(f.hostedBy(this))return f;i||(i=f)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Wr);function dN(n){var e={};return ht(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var Lz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.select",e}(oA),iL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(Ao),Pz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.select",e}(iL),a_=ht,pN=ml,Nz=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function(o){var a=o.get("coordinateSystem");return dn(Oz,a)>=0}(t)){var i=Pm(this._dimName),r=t.getReferringComponents(i,da).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Kt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],l=[],u=[];a_(["start","end"],function(v,_){var S=e[v],A=e[v+"Value"];o[_]==="percent"?(S==null&&(S=a[_]),A=r.parse(eo(S,a,i))):(t=!0,S=eo(A=A==null?i[_]:r.parse(A),i,a)),u[_]=A==null||isNaN(A)?i[_]:A,l[_]=S==null||isNaN(S)?a[_]:S}),pN(u),pN(l);var f=this._minMaxSpan;function g(v,_,S,A,E){var D=E?"Span":"ValueSpan";Tp(0,v,S,"all",f["min"+D],f["max"+D]);for(var R=0;R<2;R++)_[R]=eo(v[R],S,A,!0),E&&(_[R]=r.parse(_[R]))}return t?g(u,l,i,a,!1):g(l,u,a,i,!0),{valueWindow:u,percentWindow:l}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var l=[1/0,-1/0];a_(a,function(g){(function(v,_,S){_&&ht(oy(_,S),function(A){var E=_.getApproximateExtent(A);E[0]<v[0]&&(v[0]=E[0]),E[1]>v[1]&&(v[1]=E[1])})})(l,g.getData(),o)});var u=r.getAxisModel(),f=Ax(u.axis.scale,u,l).calculate();return[f.min,f.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;o!=="none"&&a_(r,function(l){var u=l.getData(),f=u.mapDimensionsAll(i);if(f.length){if(o==="weakFilter"){var g=u.getStore(),v=lt(f,function(_){return u.getDimensionIndex(_)},u);u.filterSelf(function(_){for(var S,A,E,D=0;D<f.length;D++){var R=g.get(v[D],_),z=!isNaN(R),Y=R<a[0],G=R>a[1];if(z&&!Y&&!G)return!0;z&&(E=!0),Y&&(S=!0),G&&(A=!0)}return E&&S&&A})}else a_(f,function(_){if(o==="empty")l.setData(u=u.map(_,function(A){return function(E){return E>=a[0]&&E<=a[1]}(A)?A:NaN}));else{var S={};S[_]=a,u.selectRange(S)}});a_(f,function(_){u.setApproximateExtent(a,_)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;a_(["min","max"],function(r){var o=t.get(r+"Span"),a=t.get(r+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=eo(i[0]+a,i,[0,100],!0):o!=null&&(a=eo(o,[0,100],i,!0)-i[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=sg(i,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;t[0]!==0&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),t[1]!==100&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),Rz={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,l){var u=n.getComponent(Pm(a),l);r(a,l,u,o)})})}e(function(r,o,a,l){a.__dzAxisProxy=null});var t=[];e(function(r,o,a,l){a.__dzAxisProxy||(a.__dzAxisProxy=new Nz(r,o,l,n),t.push(a.__dzAxisProxy))});var i=ze();return ht(t,function(r){ht(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},fN=!1;function rL(n){fN||(fN=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Rz),function(e){e.registerAction("dataZoom",function(t,i){ht(Dz(i,t),function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Bz(n){n.registerComponentModel(Lz),n.registerComponentView(Pz),rL(n)}var Nh=function(){},gN={};function s_(n,e){gN[n]=e}function mN(n){return gN[n]}var zz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;ht(this.option.feature,function(i,r){var o=mN(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),ne(i,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Wr);function vN(n,e){var t=Uh(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),n=new Ur({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var Fz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;if(a.removeAll(),t.get("show")){var l=+t.get("itemSize"),u=t.get("orient")==="vertical",f=t.get("feature")||{},g=this._features||(this._features={}),v=[];ht(f,function(S,A){v.push(A)}),new Eu(this._featureNames||[],v).add(_).update(_).remove(_n(_,null)).execute(),this._featureNames=v,function(S,A,E){var D=A.getBoxLayoutParams(),R=A.get("padding"),z={width:E.getWidth(),height:E.getHeight()},Y=ma(D,z,R);Zd(A.get("orient"),S,A.get("itemGap"),Y.width,Y.height),xv(S,D,z,R)}(a,t,r),a.add(vN(a.getBoundingRect(),t)),u||a.eachChild(function(S){var A=S.__title,E=S.ensureState("emphasis"),D=E.textConfig||(E.textConfig={}),R=S.getTextContent(),z=R&&R.ensureState("emphasis");if(z&&!Ge(z)&&A){var Y=z.style||(z.style={}),G=xs(A,$r.makeFont(Y)),$=S.x+a.x,Q=!1;S.y+a.y+l+G.height>r.getHeight()&&(D.position="top",Q=!0);var et=Q?-5-G.height:l+10;$+G.width/2>r.getWidth()?(D.position=["100%",et],Y.align="right"):$-G.width/2<0&&(D.position=[0,et],Y.align="left")}})}function _(S,A){var E,D=v[S],R=v[A],z=f[D],Y=new ao(z,t,t.ecModel);if(o&&o.newTitle!=null&&o.featureName===D&&(z.title=o.newTitle),D&&!R){if(function(Q){return Q.indexOf("my")===0}(D))E={onclick:Y.option.onclick,featureName:D};else{var G=mN(D);if(!G)return;E=new G}g[D]=E}else if(!(E=g[R]))return;E.uid=ds("toolbox-feature"),E.model=Y,E.ecModel=i,E.api=r;var $=E instanceof Nh;D||!R?!Y.get("show")||$&&E.unusable?$&&E.remove&&E.remove(i,r):(function(Q,et,ot){var xt,St,Mt=Q.getModel("iconStyle"),Bt=Q.getModel(["emphasis","iconStyle"]),Zt=et instanceof Nh&&et.getIcons?et.getIcons():Q.get("icon"),se=Q.get("title")||{};Mn(Zt)?(xt={})[ot]=Zt:xt=Zt,Mn(se)?(St={})[ot]=se:St=se;var pe=Q.iconPaths={};ht(xt,function(be,we){var Re=ea(be,{},{x:-l/2,y:-l/2,width:l,height:l});Re.setStyle(Mt.getItemStyle()),Re.ensureState("emphasis").style=Bt.getItemStyle();var Ze=new $r({style:{text:St[we],align:Bt.get("textAlign"),borderRadius:Bt.get("textBorderRadius"),padding:Bt.get("textPadding"),fill:null},ignore:!0});Re.setTextContent(Ze),Yd({el:Re,componentModel:t,itemName:we,formatterParamsExtra:{title:St[we]}}),Re.__title=St[we],Re.on("mouseover",function(){var Je=Bt.getItemStyle(),rn=u?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";Ze.setStyle({fill:Bt.get("textFill")||Je.fill||Je.stroke||"#000",backgroundColor:Bt.get("textBackgroundColor")}),Re.setTextConfig({position:Bt.get("textPosition")||rn}),Ze.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){Q.get(["iconStatus",we])!=="emphasis"&&r.leaveEmphasis(this),Ze.hide()}),(Q.get(["iconStatus",we])==="emphasis"?nh:ih)(Re),a.add(Re),Re.on("click",Te(et.onclick,et,i,r,we)),pe[we]=Re})}(Y,E,D),Y.setIconStatus=function(Q,et){var ot=this.option,xt=this.iconPaths;ot.iconStatus=ot.iconStatus||{},ot.iconStatus[Q]=et,xt[Q]&&(et==="emphasis"?nh:ih)(xt[Q])},E instanceof Nh&&E.render&&E.render(Y,i,r,o)):$&&E.dispose&&E.dispose(i,r)}},e.prototype.updateView=function(t,i,r,o){ht(this._features,function(a){a instanceof Nh&&a.updateView&&a.updateView(a.model,i,r,o)})},e.prototype.remove=function(t,i){ht(this._features,function(r){r instanceof Nh&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){ht(this._features,function(r){r instanceof Nh&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(Ao),Vz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.onclick=function(t,i){var r=this.model,o=r.get("name")||t.get("title.0.text")||"echarts",a=i.getZr().painter.getType()==="svg",l=a?"svg":r.get("type",!0)||"png",u=i.getConnectedDataURL({type:l,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),f=Oe.browser;if(Ge(MouseEvent)&&(f.newEdge||!f.ie&&!f.edge)){var g=document.createElement("a");g.download=o+"."+l,g.target="_blank",g.href=u;var v=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(v)}else if(window.navigator.msSaveOrOpenBlob||a){var _=u.split(","),S=_[0].indexOf("base64")>-1,A=a?decodeURIComponent(_[1]):_[1];S&&(A=window.atob(A));var E=o+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var D=A.length,R=new Uint8Array(D);D--;)R[D]=A.charCodeAt(D);var z=new Blob([R]);window.navigator.msSaveOrOpenBlob(z,E)}else{var Y=document.createElement("iframe");document.body.appendChild(Y);var G=Y.contentWindow,$=G.document;$.open("image/svg+xml","replace"),$.write(A),$.close(),G.focus(),$.execCommand("SaveAs",!0,E),document.body.removeChild(Y)}}else{var Q=r.get("lang"),et='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(Q&&Q[0]||"")+'" /></body>',ot=window.open();ot.document.write(et),ot.document.title=o}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(Nh),yN="__ec_magicType_stack__",Hz=[["line","bar"],["stack"]],Wz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return ht(t.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(bN[r]){var l,u={series:[]};ht(Hz,function(g){dn(g,r)>=0&&ht(g,function(v){o.setIconStatus(v,"normal")})}),o.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},function(g){var v=g.subType,_=g.id,S=bN[r](v,_,g,o);S&&(Ne(S,g.option),u.series.push(S));var A=g.coordinateSystem;if(A&&A.type==="cartesian2d"&&(r==="line"||r==="bar")){var E=A.getAxesByScale("ordinal")[0];if(E){var D=E.dim+"Axis",R=g.getReferringComponents(D,da).models[0].componentIndex;u[D]=u[D]||[];for(var z=0;z<=R;z++)u[D][R]=u[D][R]||{};u[D][R].boundaryGap=r==="bar"}}});var f=r;r==="stack"&&(l=ne({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",r])!=="emphasis"&&(f="tiled")),i.dispatchAction({type:"changeMagicType",currentType:f,newOption:u,newTitle:l,featureName:"magicType"})}},e}(Nh),bN={line:function(n,e,t,i){if(n==="bar")return ne({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if(n==="line")return ne({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===yN;if(n==="line"||n==="bar")return i.setIconStatus("stack",r?"normal":"emphasis"),ne({id:e,stack:r?"":yN},i.get(["option","stack"])||{},!0)}};Iu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var pE=new Array(60).join("-"),aA="	";function fE(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var oL=new RegExp("[	]+","g");function jz(n,e){var t=n.split(new RegExp(`
*`+pE+`
*`,"g")),i={series:[]};return ht(t,function(r,o){if(function(f){if(f.slice(0,f.indexOf(`
`)).indexOf(aA)>=0)return!0}(r)){var a=function(f){for(var g=f.split(/\n+/g),v=[],_=lt(fE(g.shift()).split(oL),function(D){return{name:D,data:[]}}),S=0;S<g.length;S++){var A=fE(g[S]).split(oL);v.push(A.shift());for(var E=0;E<A.length;E++)_[E]&&(_[E].data[S]=A[E])}return{series:_,categories:v}}(r),l=e[o],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function(f){for(var g=f.split(/\n+/g),v=fE(g.shift()),_=[],S=0;S<g.length;S++){var A=fE(g[S]);if(A){var E=A.split(oL),D="",R=void 0,z=!1;isNaN(E[0])?(z=!0,D=E[0],E=E.slice(1),_[S]={name:D,value:[]},R=_[S].value):R=_[S]=[];for(var Y=0;Y<E.length;Y++)R.push(+E[Y]);R.length===1&&(z?_[S].value=R[0]:_[S]=R[0])}}return{name:v,data:_}}(r),i.series.push(a)}),i}var Yz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=o.get("lang")||[];l.innerHTML=u[0]||o.get("title"),l.style.cssText="margin:10px 20px",l.style.color=o.get("textColor");var f=document.createElement("div"),g=document.createElement("textarea");f.style.cssText="overflow:auto";var v=o.get("optionToContent"),_=o.get("contentToOption"),S=function(et){var ot,xt,St,Mt=function(Bt){var Zt={},se=[],pe=[];return Bt.eachRawSeries(function(be){var we=be.coordinateSystem;if(!we||we.type!=="cartesian2d"&&we.type!=="polar")se.push(be);else{var Re=we.getBaseAxis();if(Re.type==="category"){var Ze=Re.dim+"_"+Re.index;Zt[Ze]||(Zt[Ze]={categoryAxis:Re,valueAxis:we.getOtherAxis(Re),series:[]},pe.push({axisDim:Re.dim,axisIndex:Re.index})),Zt[Ze].series.push(be)}else se.push(be)}}),{seriesGroupByCategoryAxis:Zt,other:se,meta:pe}}(et);return{value:en([(xt=Mt.seriesGroupByCategoryAxis,St=[],ht(xt,function(Bt,Zt){var se=Bt.categoryAxis,pe=Bt.valueAxis.dim,be=[" "].concat(lt(Bt.series,function(An){return An.name})),we=[se.model.getCategories()];ht(Bt.series,function(An){var Yn=An.getRawData();we.push(An.getRawData().mapArray(Yn.mapDimension(pe),function(cn){return cn}))});for(var Re=[be.join(aA)],Ze=0;Ze<we[0].length;Ze++){for(var Je=[],rn=0;rn<we.length;rn++)Je.push(we[rn][Ze]);Re.push(Je.join(aA))}St.push(Re.join(`
`))}),St.join(`

`+pE+`

`)),(ot=Mt.other,lt(ot,function(Bt){var Zt=Bt.getRawData(),se=[Bt.name],pe=[];return Zt.each(Zt.dimensions,function(){for(var be=arguments.length,we=arguments[be-1],Re=Zt.getName(we),Ze=0;Ze<be-1;Ze++)pe[Ze]=arguments[Ze];se.push((Re?Re+aA:"")+pe.join(aA))}),se.join(`
`)}).join(`

`+pE+`

`))],function(Bt){return!!Bt.replace(/[\n\t\s]/g,"")}).join(`

`+pE+`

`),meta:Mt.meta}}(t);if(Ge(v)){var A=v(i.getOption());Mn(A)?f.innerHTML=A:wn(A)&&f.appendChild(A)}else{g.readOnly=o.get("readOnly");var E=g.style;E.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",E.color=o.get("textColor"),E.borderColor=o.get("textareaBorderColor"),E.backgroundColor=o.get("textareaColor"),g.value=S.value,f.appendChild(g)}var D=S.meta,R=document.createElement("div");R.style.cssText="position:absolute;bottom:5px;left:0;right:0";var z="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Y=document.createElement("div"),G=document.createElement("div");z+=";background-color:"+o.get("buttonColor"),z+=";color:"+o.get("buttonTextColor");var $=this;function Q(){r.removeChild(a),$._dom=null}xe(Y,"click",Q),xe(G,"click",function(){if(_==null&&v!=null||_!=null&&v==null)Q();else{var et;try{et=Ge(_)?_(f,i.getOption()):jz(g.value,D)}catch(ot){throw Q(),new Error("Data view format error "+ot)}et&&i.dispatchAction({type:"changeDataView",newOption:et}),Q()}}),Y.innerHTML=u[1],G.innerHTML=u[2],G.style.cssText=Y.style.cssText=z,!o.get("readOnly")&&R.appendChild(G),R.appendChild(Y),a.appendChild(l),a.appendChild(f),a.appendChild(R),f.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(Nh);function Gz(n,e){return lt(n,function(t,i){var r=e&&e[i];if(di(r)&&!Be(r)){di(t)&&!Be(t)||(t={value:t});var o=r.name!=null&&t.name==null;return t=Ne(t,r),o&&delete t.name,t}return t})}Iu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];ht(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(r){var o=r.get("data");t.push({name:i.name,data:Gz(i.data,o)})}else t.push(me({type:"scatter"},i))}),e.mergeOption(Ne({series:t},n.newOption))});var xN=ht,_N=Hr();function aL(n){var e=_N(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Xz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.onclick=function(t,i){(function(r){_N(r).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(Nh);Iu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var qz=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],sL=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var o=wN(t,e);ht(Uz,function(a,l){(!i||!i.include||dn(i.include,l)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=cL[i.brushType](0,o,r);i.__rangeOffset={offset:AN[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){ht(e,function(r){var o=this.findTargetInfo(r,t);o&&o!==!0&&ht(o.coordSyses,function(a){var l=cL[r.brushType](1,a,r.range,!0);i(r,l.values,a,t)})},this)},n.prototype.setInputRanges=function(e,t){ht(e,function(i){var r,o,a,l,u,f=this.findTargetInfo(i,t);if(i.range=i.range||[],f&&f!==!0){i.panelId=f.panelId;var g=cL[i.brushType](0,f.coordSys,i.coordRange),v=i.__rangeOffset;i.range=v?AN[i.brushType](g.values,v.offset,(r=g.xyMinMax,o=v.xyMinMax,a=TN(r),l=TN(o),u=[a[0]/l[0],a[1]/l[1]],isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u)):g.values}},this)},n.prototype.makePanelOpts=function(e,t){return lt(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:ni(r),isTargetByCursor:qi(r,e,i.coordSysModel),getLinearBrushOtherExtent:Pi(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return r===!0||r&&dn(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=wN(t,e),o=0;o<i.length;o++){var a=i[o],l=e.panelId;if(l){if(a.panelId===l)return a}else for(var u=0;u<SN.length;u++)if(SN[u](r,a))return a}return!0},n}();function lL(n){return n[0]>n[1]&&n.reverse(),n}function wN(n,e){return Ku(n,e,{includeMainTypes:qz})}var Uz={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=ze(),a={},l={};(t||i||r)&&(ht(t,function(u){var f=u.axis.grid.model;o.set(f.id,f),a[f.id]=!0}),ht(i,function(u){var f=u.axis.grid.model;o.set(f.id,f),l[f.id]=!0}),ht(r,function(u){o.set(u.id,u),a[u.id]=!0,l[u.id]=!0}),o.each(function(u){var f=u.coordinateSystem,g=[];ht(f.getCartesians(),function(v,_){(dn(t,v.getAxis("x").model)>=0||dn(i,v.getAxis("y").model)>=0)&&g.push(v)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:g[0],coordSyses:g,getPanelRect:CN.grid,xAxisDeclared:a[u.id],yAxisDeclared:l[u.id]})}))},geo:function(n,e){ht(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:CN.geo})})}},SN=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],CN={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Wc(n)),e}},cL={lineX:_n(kN,0),lineY:_n(kN,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),o=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),a=[lL([r[0],o[0]]),lL([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:lt(t,function(o){var a=n?e.pointToData(o,i):e.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function kN(n,e,t,i){var r=t.getAxis(["x","y"][n]),o=lL(lt([0,1],function(l){return e?r.coordToData(r.toLocalCoord(i[l]),!0):r.toGlobalCoord(r.dataToCoord(i[l]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var AN={lineX:_n(MN,0),lineY:_n(MN,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return lt(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function MN(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function TN(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var uL,hL,dL=ht,$z=Gp+"toolbox-dataZoom_",Zz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.render=function(t,i,r,o){this._brushController||(this._brushController=new c(r.getZr()),this._brushController.on("brush",Te(this._onBrush,this)).mount()),function(a,l,u,f,g){var v=u._isZoomActive;f&&f.type==="takeGlobalCursor"&&(v=f.key==="dataZoomSelect"&&f.dataZoomSelectActive),u._isZoomActive=v,a.setIconStatus("zoom",v?"emphasis":"normal");var _=new sL(pL(a),l,{include:["grid"]}),S=_.makePanelOpts(g,function(A){return A.xAxisDeclared&&!A.yAxisDeclared?"lineX":!A.xAxisDeclared&&A.yAxisDeclared?"lineY":"rect"});u._brushController.setPanels(S).enableBrush(!(!v||!S.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(t,i,this,o,r),function(a,l){a.setIconStatus("back",function(u){return aL(u).length}(l)>1?"emphasis":"normal")}(t,i)},e.prototype.onclick=function(t,i,r){Kz[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new sL(pL(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(l,u,f){if(f.type==="cartesian2d"){var g=l.brushType;g==="rect"?(a("x",f,u[0]),a("y",f,u[1])):a({lineX:"x",lineY:"y"}[g],f,u)}}),function(l,u){var f=aL(l);xN(u,function(g,v){for(var _=f.length-1;_>=0&&!f[_][v];_--);if(_<0){var S=l.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(S){var A=S.getPercentRange();f[0][v]={dataZoomId:v,start:A[0],end:A[1]}}}}),f.push(u)}(o,r),this._dispatchZoomAction(r)}function a(l,u,f){var g=u.getAxis(l),v=g.model,_=function(A,E,D){var R;return D.eachComponent({mainType:"dataZoom",subType:"select"},function(z){z.getAxisModel(A,E.componentIndex)&&(R=z)}),R}(l,v,o),S=_.findRepresentativeAxisProxy(v).getMinMaxSpan();S.minValueSpan==null&&S.maxValueSpan==null||(f=Tp(0,f.slice(),g.scale.getExtent(),0,S.minValueSpan,S.maxValueSpan)),_&&(r[_.id]={dataZoomId:_.id,startValue:f[0],endValue:f[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];dL(t,function(r,o){i.push(Kt(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(Nh),Kz={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(function(n){var e=aL(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return xN(t,function(r,o){for(var a=e.length-1;a>=0;a--)if(r=e[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function pL(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}uL="dataZoom",hL=function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&e.get(t)!=null){var i=e.getModel(t),r=[],o=Ku(n,pL(i));return dL(o.xAxisModels,function(l){return a(l,"xAxis","xAxisIndex")}),dL(o.yAxisModels,function(l){return a(l,"yAxis","yAxisIndex")}),r}function a(l,u,f){var g=l.componentIndex,v={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:$z+u+g};v[f]=g,r.push(v)}},At(_v.get(uL)==null&&hL),_v.set(uL,hL);var Qz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Wr);function IN(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function EN(n){if(Oe.domSupported){for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}}var ON=EN(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function DN(n,e){if(!n)return e;e=ga(e,!0);var t=n.indexOf(e);return(n=t===-1?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var Jz=DN(EN(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),fL=DN(ON,"transform"),t5="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Oe.transform3dSupported?"will-change:transform;":"");function LN(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!Oe.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Oe.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return t?"top:0;left:0;"+fL+":"+a+";":[["top",0],["left",0],[ON,a]]}function e5(n,e,t){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),f=n.get("shadowOffsetY"),g=n.getModel("textStyle"),v=LM(n,"html"),_=u+"px "+f+"px "+a+"px "+l;return i.push("box-shadow:"+_),e&&r&&i.push(function(S,A){var E="cubic-bezier(0.23,1,0.32,1)",D=" "+S/2+"s "+E,R="opacity"+D+",visibility"+D;return A||(D=" "+S+"s "+E,R+=Oe.transformSupported?","+fL+D:",left"+D+",top"+D),Jz+":"+R}(r,t)),o&&i.push("background-color:"+o),ht(["width","color","radius"],function(S){var A="border-"+S,E=ga(A),D=n.get(E);D!=null&&i.push(A+":"+D+(S==="color"?"":"px"))}),i.push(function(S){var A=[],E=S.get("fontSize"),D=S.getTextColor();D&&A.push("color:"+D),A.push("font:"+S.getFont()),E&&A.push("line-height:"+Math.round(3*E/2)+"px");var R=S.get("textShadowColor"),z=S.get("textShadowBlur")||0,Y=S.get("textShadowOffsetX")||0,G=S.get("textShadowOffsetY")||0;return R&&z&&A.push("text-shadow:"+Y+"px "+G+"px "+z+"px "+R),ht(["decoration","align"],function($){var Q=S.get($);Q&&A.push("text-"+$+":"+Q)}),A.join(";")}(g)),v!=null&&i.push("padding:"+Uh(v).join("px ")+"px"),i.join(";")+";"}function PN(n,e,t,i,r){var o=e&&e.painter;if(t){var a=o&&o.getViewportRoot();a&&function(u,f,g,v,_){J(K,f,v,_,!0)&&J(u,g,K[0],K[1])}(n,a,document.body,i,r)}else{n[0]=i,n[1]=r;var l=o&&o.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var n5=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Oe.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),a=this._appendToBody=i&&i.appendToBody;PN(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(r):e.appendChild(r),this._container=e;var l=this;r.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},r.onmousemove=function(u){if(u=u||window.event,!l._enterable){var f=o.handler;ce(o.painter.getViewportRoot(),u,!0),f.dispatch("mousemove",u)}},r.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(e){var t,i,r,o=this._container,a=(i="position",(r=(t=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t))?i?r[i]:r:null),l=o.style;l.position!=="absolute"&&a!=="absolute"&&(l.position="relative");var u=e.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=t5+e5(e,!this._firstShow,this._longHide)+LN(o[0],o[1],!0)+"border-color:"+Ud(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,o){var a=this.el;if(e!=null){var l="";if(Mn(o)&&i.get("trigger")==="item"&&!IN(i)&&(l=function(g,v,_){if(!Mn(_)||_==="inside")return"";var S=g.get("backgroundColor"),A=g.get("borderWidth");v=Ud(v);var E,D,R=(E=_)==="left"?"right":E==="right"?"left":E==="top"?"bottom":"top",z=Math.max(1.5*Math.round(A),6),Y="",G=fL+":";dn(["left","right"],R)>-1?(Y+="top:50%",G+="translateY(-50%) rotate("+(D=R==="left"?-225:-45)+"deg)"):(Y+="left:50%",G+="translateX(-50%) rotate("+(D=R==="top"?225:45)+"deg)");var $=D*Math.PI/180,Q=z+A,et=Q*Math.abs(Math.cos($))+Q*Math.abs(Math.sin($)),ot=v+" solid "+A+"px;";return'<div style="'+["position:absolute;width:"+z+"px;height:"+z+"px;z-index:-1;",(Y+=";"+R+":-"+Math.round(100*((et-Math.SQRT2*A)/2+Math.SQRT2*A-(et-Q)/2))/100+"px")+";"+G+";","border-bottom:"+ot,"border-right:"+ot,"background-color:"+S+";"].join("")+'"></div>'}(i,r,o)),Mn(e))a.innerHTML=e+l;else if(e){a.innerHTML="",Be(e)||(e=[e]);for(var u=0;u<e.length;u++)wn(e[u])&&e[u].parentNode!==a&&a.appendChild(e[u]);if(l&&a.childNodes.length){var f=document.createElement("div");f.innerHTML=l,a.appendChild(f)}}}else a.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(PN(i,this._zr,this._appendToBody,e,t),i[0]!=null&&i[1]!=null){var r=this.el.style;ht(LN(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Oe.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Te(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),i5=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),RN(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,o){var a=this;di(e)&&ro(""),this.el&&this._zr.remove(this.el);var l=i.getModel("textStyle");this.el=new $r({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:l.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:LM(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),ht(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){a.el.style[f]=i.get(f)}),ht(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){a.el.style[f]=l.get(f)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=NN(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;RN(r,this._zr,e,t),e=r[0],t=r[1];var o=i.style,a=Nm(o.borderWidth||0),l=NN(o);i.x=e+a+l.left,i.y=t+a+l.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Te(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Nm(n){return Math.max(0,n)}function NN(n){var e=Nm(n.shadowBlur||0),t=Nm(n.shadowOffsetX||0),i=Nm(n.shadowOffsetY||0);return{left:Nm(e-t),right:Nm(e+t),top:Nm(e-i),bottom:Nm(e+i)}}function RN(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var r5=new Ur({shape:{x:-1,y:-1,width:2,height:2}}),o5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){if(!Oe.node&&i.getDom()){var r,o=t.getComponent("tooltip"),a=this._renderMode=(r=o.get("renderMode"))==="auto"?Oe.domSupported?"html":"richText":r||"html";this._tooltipContent=a==="richText"?new i5(i):new n5(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,i,r){if(!Oe.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Cf(this,"_updatePosition",50,"fixRate"):Lv(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");WP("itemTooltip",this._api,Te(function(i,r,o){t!=="none"&&(t.indexOf(i)>=0?this._tryShow(r,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,o=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(t,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,o){if(o.from!==this.uid&&!Oe.node&&r.getDom()){var a=BN(o,r);this._ticket="";var l=o.dataByCoordSys,u=function(A,E,D){var R=jh(A).queryOptionMap,z=R.keys()[0];if(!(!z||z==="series")){var Y=Ad(E,z,R.get(z),{useDefault:!1,enableAll:!1,enableNone:!1}),G=Y.models[0];if(G){var $,Q=D.getViewOfComponentModel(G);if(Q.group.traverse(function(et){var ot=lr(et).tooltipConfig;if(ot&&ot.name===A.name)return $=et,!0}),$)return{componentMainType:z,componentIndex:G.componentIndex,el:$}}}}(o,i,r);if(u){var f=u.el.getBoundingRect().clone();f.applyTransform(u.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:u.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var g=r5;g.x=o.x,g.y=o.y,g.update(),lr(g).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:g},a)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:l,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(t,i,r,o))return;var v=YP(o,i),_=v.point[0],S=v.point[1];_!=null&&S!=null&&this._tryShow({offsetX:_,offsetY:S,target:v.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(t,i,r,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(BN(o,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,o){var a=o.seriesIndex,l=o.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(a!=null&&l!=null&&u!=null){var f=i.getSeriesByIndex(a);if(f&&sA([f.getData().getItemModel(l),f,(f.coordinateSystem||{}).model],this._tooltipModel).get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:l,position:o.position}),!0}},e.prototype._tryShow=function(t,i){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var a,l;this._lastDataByCoordSys=null,wc(r,function(u){return lr(u).dataIndex!=null?(a=u,!0):lr(u).tooltipConfig!=null?(l=u,!0):void 0},!0),a?this._showSeriesItemTooltip(t,a,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=Te(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],l=sA([i.tooltipOption],o),u=this._renderMode,f=[],g=ia("section",{blocks:[],noHeader:!0}),v=[],_=new kw;ht(t,function(z){ht(z.dataByAxis,function(Y){var G=r.getComponent(Y.axisDim+"Axis",Y.axisIndex),$=Y.value;if(G&&$!=null){var Q=RP($,G.axis,r,Y.seriesDataIndices,Y.valueLabelOpt),et=ia("section",{header:Q,noHeader:!Dt(Q),sortBlocks:!0,blocks:[]});g.blocks.push(et),ht(Y.seriesDataIndices,function(ot){var xt=r.getSeriesByIndex(ot.seriesIndex),St=ot.dataIndexInside,Mt=xt.getDataParams(St);if(!(Mt.dataIndex<0)){Mt.axisDim=Y.axisDim,Mt.axisIndex=Y.axisIndex,Mt.axisType=Y.axisType,Mt.axisId=Y.axisId,Mt.axisValue=Tx(G.axis,{value:$}),Mt.axisValueLabel=Q,Mt.marker=_.makeTooltipMarker("item",Ud(Mt.color),u);var Bt=Sb(xt.formatTooltip(St,!0,null)),Zt=Bt.frag;if(Zt){var se=sA([xt],o).get("valueFormatter");et.blocks.push(se?me({valueFormatter:se},Zt):Zt)}Bt.text&&v.push(Bt.text),f.push(Mt)}})}})}),g.blocks.reverse(),v.reverse();var S=i.position,A=l.get("order"),E=Sw(g,_,u,A,r.get("useUTC"),l.get("textStyle"));E&&v.unshift(E);var D=u==="richText"?`

`:"<br/>",R=v.join(D);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,f)?this._updatePosition(l,S,a[0],a[1],this._tooltipContent,f):this._showTooltipContent(l,R,f,Math.random()+"",a[0],a[1],S,null,_)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var o=this._ecModel,a=lr(i),l=a.seriesIndex,u=o.getSeriesByIndex(l),f=a.dataModel||u,g=a.dataIndex,v=a.dataType,_=f.getData(v),S=this._renderMode,A=t.positionDefault,E=sA([_.getItemModel(g),f,u&&(u.coordinateSystem||{}).model],this._tooltipModel,A?{position:A}:null),D=E.get("trigger");if(D==null||D==="item"){var R=f.getDataParams(g,v),z=new kw;R.marker=z.makeTooltipMarker("item",Ud(R.color),S);var Y=Sb(f.formatTooltip(g,!1,v)),G=E.get("order"),$=E.get("valueFormatter"),Q=Y.frag,et=Q?Sw($?me({valueFormatter:$},Q):Q,z,S,G,o.get("useUTC"),E.get("textStyle")):Y.text,ot="item_"+f.name+"_"+g;this._showOrMove(E,function(){this._showTooltipContent(E,et,R,ot,t.offsetX,t.offsetY,t.position,t.target,z)}),r({type:"showTip",dataIndexInside:g,dataIndex:_.getRawIndex(g),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var o=lr(i),a=o.tooltipConfig.option||{};Mn(a)&&(a={content:a,formatter:a});var l=[a],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&l.push(u),l.push({formatter:a.content});var f=t.positionDefault,g=sA(l,this._tooltipModel,f?{position:f}:null),v=g.get("content"),_=Math.random()+"",S=new kw;this._showOrMove(g,function(){var A=Kt(g.get("formatterParams")||{});this._showTooltipContent(g,v,A,_,t.offsetX,t.offsetY,t.position,i,S)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,o,a,l,u,f,g){if(this._ticket="",t.get("showContent")&&t.get("show")){var v=this._tooltipContent;v.setEnterable(t.get("enterable"));var _=t.get("formatter");u=u||t.get("position");var S=i,A=this._getNearestPoint([a,l],r,t.get("trigger"),t.get("borderColor")).color;if(_)if(Mn(_)){var E=t.ecModel.get("useUTC"),D=Be(r)?r[0]:r;S=_,D&&D.axisType&&D.axisType.indexOf("time")>=0&&(S=hf(D.axisValue,S,E)),S=K_(S,r,!0)}else if(Ge(_)){var R=Te(function(z,Y){z===this._ticket&&(v.setContent(Y,g,t,A,u),this._updatePosition(t,u,a,l,v,r,f))},this);this._ticket=o,S=_(r,o,R)}else S=_;v.setContent(S,g,t,A,u),v.show(t,A),this._updatePosition(t,u,a,l,v,r,f)}},e.prototype._getNearestPoint=function(t,i,r,o){return r==="axis"||Be(i)?{color:o||(this._renderMode==="html"?"#fff":"none")}:Be(i)?void 0:{color:o||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,o,a,l,u){var f=this._api.getWidth(),g=this._api.getHeight();i=i||t.get("position");var v=a.getSize(),_=t.get("align"),S=t.get("verticalAlign"),A=u&&u.getBoundingRect().clone();if(u&&A.applyTransform(u.transform),Ge(i)&&(i=i([r,o],l,a.el,A,{viewSize:[f,g],contentSize:v.slice()})),Be(i))r=ei(i[0],f),o=ei(i[1],g);else if(di(i)){var E=i;E.width=v[0],E.height=v[1];var D=ma(E,{width:f,height:g});r=D.x,o=D.y,_=null,S=null}else if(Mn(i)&&u){var R=function(z,Y,G,$){var Q=G[0],et=G[1],ot=Math.ceil(Math.SQRT2*$)+8,xt=0,St=0,Mt=Y.width,Bt=Y.height;switch(z){case"inside":xt=Y.x+Mt/2-Q/2,St=Y.y+Bt/2-et/2;break;case"top":xt=Y.x+Mt/2-Q/2,St=Y.y-et-ot;break;case"bottom":xt=Y.x+Mt/2-Q/2,St=Y.y+Bt+ot;break;case"left":xt=Y.x-Q-ot,St=Y.y+Bt/2-et/2;break;case"right":xt=Y.x+Mt+ot,St=Y.y+Bt/2-et/2}return[xt,St]}(i,A,v,t.get("borderWidth"));r=R[0],o=R[1]}else R=function(z,Y,G,$,Q,et,ot){var xt=G.getSize(),St=xt[0],Mt=xt[1];return et!=null&&(z+St+et+2>$?z-=St+et:z+=et),ot!=null&&(Y+Mt+ot>Q?Y-=Mt+ot:Y+=ot),[z,Y]}(r,o,a,f,g,_?null:20,S?null:20),r=R[0],o=R[1];_&&(r-=zN(_)?v[0]/2:_==="right"?v[0]:0),S&&(o-=zN(S)?v[1]/2:S==="bottom"?v[1]:0),IN(t)&&(R=function(z,Y,G,$,Q){var et=G.getSize(),ot=et[0],xt=et[1];return z=Math.min(z+ot,$)-ot,Y=Math.min(Y+xt,Q)-xt,z=Math.max(z,0),Y=Math.max(Y,0),[z,Y]}(r,o,a,f,g),r=R[0],o=R[1]),a.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===t.length;return a&&ht(r,function(l,u){var f=l.dataByAxis||[],g=(t[u]||{}).dataByAxis||[];(a=a&&f.length===g.length)&&ht(f,function(v,_){var S=g[_]||{},A=v.seriesDataIndices||[],E=S.seriesDataIndices||[];(a=a&&v.value===S.value&&v.axisType===S.axisType&&v.axisId===S.axisId&&A.length===E.length)&&ht(A,function(D,R){var z=E[R];a=a&&D.seriesIndex===z.seriesIndex&&D.dataIndex===z.dataIndex}),o&&ht(v.seriesDataIndices,function(D){var R=D.seriesIndex,z=i[R],Y=o[R];z&&Y&&Y.data!==z.data&&(a=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){!Oe.node&&i.getDom()&&(Lv(this,"_updatePosition"),this._tooltipContent.dispose(),UD("itemTooltip",i))},e.type="tooltip",e}(Ao);function sA(n,e,t){var i,r=e.ecModel;t?(i=new ao(t,r,r),i=new ao(e.option,i,r)):i=e;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof ao&&(a=a.get("tooltip",!0)),Mn(a)&&(a={formatter:a}),a&&(i=new ao(a,i,r)))}return i}function BN(n,e){return n.dispatchAction||Te(e.dispatchAction,e)}function zN(n){return n==="center"||n==="middle"}var a5=["rect","polygon","keep","clear"];function s5(n,e){var t=oo(n?n.brush:[]);if(t.length){var i=[];ht(t,function(u){var f=u.hasOwnProperty("toolbox")?u.toolbox:[];f instanceof Array&&(i=i.concat(f))});var r=n&&n.toolbox;Be(r)&&(r=r[0]),r||(r={feature:{}},n.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),l=a.type||(a.type=[]);l.push.apply(l,i),function(u){var f={};ht(u,function(g){f[g]=1}),u.length=0,ht(f,function(g,v){u.push(v)})}(l),e&&!l.length&&l.push.apply(l,a5)}}var FN=ht;function VN(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function gL(n,e,t){var i={};return FN(e,function(r){var o,a=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);FN(n[r],function(l,u){if(ts.isValidType(u)){var f={type:u,visual:l};t&&t(f,r),a[u]=new ts(f),u==="opacity"&&((f=Kt(f)).type="colorAlpha",a.__hidden.__alphaForOpacity=new ts(f))}})}),i}function HN(n,e,t){var i;ht(t,function(r){e.hasOwnProperty(r)&&VN(e[r])&&(i=!0)}),i&&ht(t,function(r){e.hasOwnProperty(r)&&VN(e[r])?n[r]=Kt(e[r]):delete n[r]})}var WN={lineX:jN(0),lineY:jN(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&fp(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,l=n.height,u=i[0];return!!(fp(i,r,o)||fp(i,r+a,o)||fp(i,r,o+l)||fp(i,r+a,o+l)||yr.create(n).contain(u[0],u[1])||sv(r,o,r+a,o,i)||sv(r,o,r,o+l,i)||sv(r+a,o,r+a,o+l,i)||sv(r,o+l,r+a,o+l,i))||void 0}}};function jN(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,o){if(i){var a=o.range;return lA(i[n],a)}},rect:function(i,r,o){if(i){var a=o.range,l=[i[e[n]],i[e[n]]+i[t[n]]];return l[1]<l[0]&&l.reverse(),lA(l[0],a)||lA(l[1],a)||lA(a[0],l)||lA(a[1],l)}}}}function lA(n,e){return e[0]<=n&&n<=e[1]}var YN=["inBrush","outOfBrush"],mL="__ecBrushSelect",vL="__ecInBrushSelectEvent";function GN(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new sL(e.option,n)).setInputRanges(e.areas,n)})}function l5(n,e,t){var i,r,o=[];n.eachComponent({mainType:"brush"},function(a){t&&t.type==="takeGlobalCursor"&&a.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),GN(n),n.eachComponent({mainType:"brush"},function(a,l){var u={brushId:a.id,brushIndex:l,brushName:a.name,areas:Kt(a.areas),selected:[]};o.push(u);var f=a.option,g=f.brushLink,v=[],_=[],S=[],A=!1;l||(i=f.throttleType,r=f.throttleDelay);var E=lt(a.areas,function(Y){var G=u5[Y.brushType],$=Ne({boundingRect:G?G(Y):void 0},Y);return $.selectors=function(Q){var et=Q.brushType,ot={point:function(xt){return WN[et].point(xt,ot,Q)},rect:function(xt){return WN[et].rect(xt,ot,Q)}};return ot}($),$}),D=gL(a.option,YN,function(Y){Y.mappingMethod="fixed"});function R(Y){return g==="all"||!!v[Y]}function z(Y){return!!Y.length}Be(g)&&ht(g,function(Y){v[Y]=1}),n.eachSeries(function(Y,G){var $=S[G]=[];Y.subType==="parallel"?function(Q,et){var ot=Q.coordinateSystem;A=A||ot.hasAxisBrushed(),R(et)&&ot.eachActiveState(Q.getData(),function(xt,St){xt==="active"&&(_[St]=1)})}(Y,G):function(Q,et,ot){if(!(!Q.brushSelector||function(St,Mt){var Bt=St.option.seriesIndex;return Bt!=null&&Bt!=="all"&&(Be(Bt)?dn(Bt,Mt)<0:Mt!==Bt)}(a,et))&&(ht(E,function(St){a.brushTargetManager.controlSeries(St,Q,n)&&ot.push(St),A=A||z(ot)}),R(et)&&z(ot))){var xt=Q.getData();xt.each(function(St){XN(Q,ot,xt,St)&&(_[St]=1)})}}(Y,G,$)}),n.eachSeries(function(Y,G){var $={seriesId:Y.id,seriesIndex:G,seriesName:Y.name,dataIndex:[]};u.selected.push($);var Q=S[G],et=Y.getData(),ot=R(G)?function(xt){return _[xt]?($.dataIndex.push(et.getRawIndex(xt)),"inBrush"):"outOfBrush"}:function(xt){return XN(Y,Q,et,xt)?($.dataIndex.push(et.getRawIndex(xt)),"inBrush"):"outOfBrush"};(R(G)?A:z(Q))&&function(xt,St,Mt,Bt,Zt,se){var pe,be={};function we(Je){return zv(Mt,pe,Je)}function Re(Je,rn){Vw(Mt,pe,Je,rn)}function Ze(Je,rn){pe=se==null?Je:rn;var An=Mt.getRawDataItem(pe);if(!An||An.visualMap!==!1)for(var Yn=Bt.call(Zt,Je),cn=St[Yn],Pn=be[Yn],Jn=0,Kn=Pn.length;Jn<Kn;Jn++){var Gn=Pn[Jn];cn[Gn]&&cn[Gn].applyVisual(Je,we,Re)}}ht(xt,function(Je){var rn=ts.prepareVisualTypes(St[Je]);be[Je]=rn}),se==null?Mt.each(Ze):Mt.each([se],Ze)}(YN,D,et,ot)})}),function(a,l,u,f,g){if(g){var v=a.getZr();if(!v[vL]){v[mL]||(v[mL]=c5);var _=Cf(v,mL,u,l);_(a,f)}}}(e,i,r,o,t)}function c5(n,e){if(!n.isDisposed()){var t=n.getZr();t[vL]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[vL]=!1}}function XN(n,e,t,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(n.brushSelector(i,t,a.selectors,a))return!0}}var u5={rect:function(n){return qN(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=t[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&qN(e)}};function qN(n){return new yr(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var h5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,this.model,(this._brushController=new c(i.getZr())).on("brush",Te(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,o){this.model=t,this._updateController(t,i,r,o)},e.prototype.updateTransform=function(t,i,r,o){GN(i),this._updateController(t,i,r,o)},e.prototype.updateVisual=function(t,i,r,o){this.updateTransform(t,i,r,o)},e.prototype.updateView=function(t,i,r,o){this._updateController(t,i,r,o)},e.prototype._updateController=function(t,i,r,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Kt(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Kt(r),$from:i})},e.type="brush",e}(Ao),d5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return Tt(e,n),e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&HN(r,t,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=lt(t,function(i){return UN(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=UN(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Wr);function UN(n,e){return ne({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new ao(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var p5=["rect","polygon","lineX","lineY","keep","clear"],f5=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.render=function(t,i,r){var o,a,l;i.eachComponent({mainType:"brush"},function(u){o=u.brushType,a=u.brushOption.brushMode||"single",l=l||!!u.areas.length}),this._brushType=o,this._brushMode=a,ht(t.get("type",!0),function(u){t.setIconStatus(u,(u==="keep"?a==="multiple":u==="clear"?l:u===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return ht(t.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},e.prototype.onclick=function(t,i,r){var o=this._brushType,a=this._brushMode;r==="clear"?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?o:o!==r&&r,brushMode:r==="keep"?a==="multiple"?"single":"multiple":a}})},e.getDefaultOption=function(t){return{show:!0,type:p5.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(Nh),g5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return Tt(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Wr),m5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){if(this.group.removeAll(),t.get("show")){var o=this.group,a=t.getModel("textStyle"),l=t.getModel("subtextStyle"),u=t.get("textAlign"),f=yi(t.get("textBaseline"),t.get("textVerticalAlign")),g=new $r({style:Do(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),v=g.getBoundingRect(),_=t.get("subtext"),S=new $r({style:Do(l,{text:_,fill:l.getTextColor(),y:v.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),A=t.get("link"),E=t.get("sublink"),D=t.get("triggerEvent",!0);g.silent=!A&&!D,S.silent=!E&&!D,A&&g.on("click",function(){nb(A,"_"+t.get("target"))}),E&&S.on("click",function(){nb(E,"_"+t.get("subtarget"))}),lr(g).eventData=lr(S).eventData=D?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(g),_&&o.add(S);var R=o.getBoundingRect(),z=t.getBoxLayoutParams();z.width=R.width,z.height=R.height;var Y=ma(z,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));u||((u=t.get("left")||t.get("right"))==="middle"&&(u="center"),u==="right"?Y.x+=Y.width:u==="center"&&(Y.x+=Y.width/2)),f||((f=t.get("top")||t.get("bottom"))==="center"&&(f="middle"),f==="bottom"?Y.y+=Y.height:f==="middle"&&(Y.y+=Y.height/2),f=f||"top"),o.x=Y.x,o.y=Y.y,o.markRedraw();var G={align:u,verticalAlign:f};g.setStyle(G),S.setStyle(G),R=o.getBoundingRect();var $=Y.margin,Q=t.getItemStyle(["color","opacity"]);Q.fill=t.get("backgroundColor");var et=new Ur({shape:{x:R.x-$[3],y:R.y-$[0],width:R.width+$[1]+$[3],height:R.height+$[0]+$[2],r:t.get("borderRadius")},style:Q,subPixelOptimize:!0,silent:!0});o.add(et)}},e.type="title",e}(Ao),$N=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,i=this.option,r=i.data||[],o=i.axisType,a=this._names=[];o==="category"?(t=[],ht(r,function(u,f){var g,v=wa($u(u),"");di(u)?(g=Kt(u)).value=f:g=f,t.push(g),a.push(v)})):t=r;var l={category:"ordinal",time:"time",value:"number"}[o]||"number";(this._data=new fs([{name:"value",type:l}],this)).initData(t,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Wr),ZN=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="timeline.slider",e.defaultOption=xu($N.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}($N);jt(ZN,wb.prototype);var v5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="timeline",e}(Ao),y5=function(n){function e(t,i,r,o){var a=n.call(this,t,i,r)||this;return a.type=o||"value",a}return Tt(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Ls),yL=Math.PI,KN=Hr(),b5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,r),a=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(o,t);t.formatTooltip=function(f){return ia("nameValue",{noName:!0,value:u.scale.getLabel({value:f})})},ht(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](o,a,u,t)},this),this._renderAxisLabel(o,l,u,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var r,o,a,l,u=t.get(["label","position"]),f=t.get("orient"),g=function(Bt,Zt){return ma(Bt.getBoxLayoutParams(),{width:Zt.getWidth(),height:Zt.getHeight()},Bt.get("padding"))}(t,i),v={horizontal:"center",vertical:(r=u==null||u==="auto"?f==="horizontal"?g.y+g.height/2<i.getHeight()/2?"-":"+":g.x+g.width/2<i.getWidth()/2?"+":"-":Mn(u)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[f][u]:u)>=0||r==="+"?"left":"right"},_={horizontal:r>=0||r==="+"?"top":"bottom",vertical:"middle"},S={horizontal:0,vertical:yL/2},A=f==="vertical"?g.height:g.width,E=t.getModel("controlStyle"),D=E.get("show",!0),R=D?E.get("itemSize"):0,z=D?E.get("itemGap"):0,Y=R+z,G=t.get(["label","rotate"])||0;G=G*yL/180;var $=E.get("position",!0),Q=D&&E.get("showPlayBtn",!0),et=D&&E.get("showPrevBtn",!0),ot=D&&E.get("showNextBtn",!0),xt=0,St=A;$==="left"||$==="bottom"?(Q&&(o=[0,0],xt+=Y),et&&(a=[xt,0],xt+=Y),ot&&(l=[St-R,0],St-=Y)):(Q&&(o=[St-R,0],St-=Y),et&&(a=[0,0],xt+=Y),ot&&(l=[St-R,0],St-=Y));var Mt=[xt,St];return t.get("inverse")&&Mt.reverse(),{viewRect:g,mainLength:A,orient:f,rotation:S[f],labelRotation:G,labelPosOpt:r,labelAlign:t.get(["label","align"])||v[f],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||_[f],playPosition:o,prevBtnPosition:a,nextBtnPosition:l,axisExtent:Mt,controlSize:R,controlGap:z}},e.prototype._position=function(t,i){var r=this._mainGroup,o=this._labelGroup,a=t.viewRect;if(t.orient==="vertical"){var l=[1,0,0,1,0,0],u=a.x,f=a.y+a.height;er(l,l,[-u,-f]),Xr(l,l,-yL/2),er(l,l,[u,f]),(a=a.clone()).applyTransform(l)}var g=z(a),v=z(r.getBoundingRect()),_=z(o.getBoundingRect()),S=[r.x,r.y],A=[o.x,o.y];A[0]=S[0]=g[0][0];var E,D=t.labelPosOpt;D==null||Mn(D)?(Y(S,v,g,1,E=D==="+"?0:1),Y(A,_,g,1,1-E)):(Y(S,v,g,1,E=D>=0?0:1),A[1]=S[1]+D);function R(G){G.originX=g[0][0]-G.x,G.originY=g[1][0]-G.y}function z(G){return[[G.x,G.x+G.width],[G.y,G.y+G.height]]}function Y(G,$,Q,et,ot){G[et]+=Q[et][ot]-$[et][ot]}r.setPosition(S),o.setPosition(A),r.rotation=o.rotation=t.rotation,R(r),R(o)},e.prototype._createAxis=function(t,i){var r=i.getData(),o=i.get("axisType"),a=function(f,g){if(g=g||f.get("type"),g)switch(g){case"category":return new rm({ordinalMeta:f.getCategories(),extent:[1/0,-1/0]});case"time":return new ey({locale:f.ecModel.getLocaleModel(),useUTC:f.ecModel.get("useUTC")});default:return new xh}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(f){return{value:f}})};var l=r.getDataExtent("value");a.setExtent(l[0],l[1]),a.calcNiceTicks();var u=new y5("value",a,t.axisExtent,o);return u.model=i,u},e.prototype._createGroup=function(t){var i=this[t]=new Di;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var l=new Ha({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:me({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(l);var u=this._progressLine=new Ha({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Ne({lineCap:"round",lineWidth:l.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(u)}},e.prototype._renderAxisTick=function(t,i,r,o){var a=this,l=o.getData(),u=r.scale.getTicks();this._tickSymbols=[],ht(u,function(f){var g=r.dataToCoord(f.value),v=l.getItemModel(f.value),_=v.getModel("itemStyle"),S=v.getModel(["emphasis","itemStyle"]),A=v.getModel(["progress","itemStyle"]),E={x:g,y:0,onclick:Te(a._changeTimeline,a,f.value)},D=QN(v,_,i,E);D.ensureState("emphasis").style=S.getItemStyle(),D.ensureState("progress").style=A.getItemStyle(),Gh(D);var R=lr(D);v.get("tooltip")?(R.dataIndex=f.value,R.dataModel=o):R.dataIndex=R.dataModel=null,a._tickSymbols.push(D)})},e.prototype._renderAxisLabel=function(t,i,r,o){var a=this;if(r.getLabelModel().get("show")){var l=o.getData(),u=r.getViewLabels();this._tickLabels=[],ht(u,function(f){var g=f.tickValue,v=l.getItemModel(g),_=v.getModel("label"),S=v.getModel(["emphasis","label"]),A=v.getModel(["progress","label"]),E=r.dataToCoord(f.tickValue),D=new $r({x:E,y:0,rotation:t.labelRotation-t.rotation,onclick:Te(a._changeTimeline,a,g),silent:!1,style:Do(_,{text:f.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});D.ensureState("emphasis").style=Do(S),D.ensureState("progress").style=Do(A),i.add(D),Gh(D),KN(D).dataIndex=g,a._tickLabels.push(D)})}},e.prototype._renderControl=function(t,i,r,o){var a=t.controlSize,l=t.rotation,u=o.getModel("controlStyle").getItemStyle(),f=o.getModel(["emphasis","controlStyle"]).getItemStyle(),g=o.getPlayState(),v=o.get("inverse",!0);function _(S,A,E,D){if(S){var R=js(yi(o.get(["controlStyle",A+"BtnSize"]),a),a),z=function(Y,G,$,Q){var et=Q.style,ot=ea(Y.get(["controlStyle",G]),Q||{},new yr($[0],$[1],$[2],$[3]));return et&&ot.setStyle(et),ot}(o,A+"Icon",[0,-R/2,R,R],{x:S[0],y:S[1],originX:a/2,originY:0,rotation:D?-l:0,rectHover:!0,style:u,onclick:E});z.ensureState("emphasis").style=f,i.add(z),Gh(z)}}_(t.nextBtnPosition,"next",Te(this._changeTimeline,this,v?"-":"+")),_(t.prevBtnPosition,"prev",Te(this._changeTimeline,this,v?"+":"-")),_(t.playPosition,g?"stop":"play",Te(this._handlePlayClick,this,!g),!0)},e.prototype._renderCurrentPointer=function(t,i,r,o){var a=o.getData(),l=o.getCurrentIndex(),u=a.getItemModel(l).getModel("checkpointStyle"),f=this,g={onCreate:function(v){v.draggable=!0,v.drift=Te(f._handlePointerDrag,f),v.ondragend=Te(f._handlePointerDragend,f),JN(v,f._progressLine,l,r,o,!0)},onUpdate:function(v){JN(v,f._progressLine,l,r,o)}};this._currentPointer=QN(u,u,this._mainGroup,{},this._currentPointer,g)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],o=ml(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=r,a.dirty());var l=this._findNearestTick(r),u=this.model;(i||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return vc(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var i,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(l,u){var f=a.dataToCoord(l),g=Math.abs(f-t);g<o&&(o=g,i=u)}),i},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();t==="+"?t=i+1:t==="-"&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<t);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",KN(r[o]).dataIndex<=t)},e.type="timeline.slider",e}(v5);function QN(n,e,t,i,r,o){var a=e.get("color");r?(r.setColor(a),t.add(r),o&&o.onUpdate(r)):((r=va(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),t.add(r),o&&o.onCreate(r));var l=e.getItemStyle(["color"]);r.setStyle(l),i=ne({rectHover:!0,z2:100},i,!0);var u=Zg(n.get("symbolSize"));i.scaleX=u[0]/2,i.scaleY=u[1]/2;var f=rp(n.get("symbolOffset"),u);f&&(i.x=(i.x||0)+f[0],i.y=(i.y||0)+f[1]);var g=n.get("symbolRotate");return i.rotation=(g||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function JN(n,e,t,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),l=i.dataToCoord(r.getData().get("value",t));if(o||!a.get("animation",!0))n.attr({x:l,y:0}),e&&e.attr({shape:{x2:l}});else{var u={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},u),e&&e.animateTo({shape:{x2:l}},u)}}}function x5(n){var e=n&&n.timeline;Be(e)||(e=e?[e]:[]),ht(e,function(t){t&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),tR(i),m0(i,"controlPosition")){var a=i.controlStyle||(i.controlStyle={});m0(a,"position")||(a.position=i.controlPosition),a.position!=="none"||m0(a,"show")||(a.show=!1,delete a.position),delete i.controlPosition}ht(i.data||[],function(l){di(l)&&!Be(l)&&(!m0(l,"value")&&m0(l,"name")&&(l.value=l.name),tR(l))})}(t)})}function tR(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};ht(i,function(a,l){o[l]||m0(r,l)||(r[l]=a)}),t.label&&!m0(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function m0(n,e){return n.hasOwnProperty(e)}function bL(n,e){if(!n)return!1;for(var t=Be(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function gE(n){pu(n,"label",["show"])}var mE=Hr(),ig=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Oe.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,o){var a=this.mainType;r||i.eachSeries(function(l){var u=l.get(this.mainType,!0),f=mE(l)[a];u&&u.data?(f?f._mergeOption(u,i,!0):(o&&gE(u),ht(u.data,function(g){g instanceof Array?(gE(g[0]),gE(g[1])):gE(g)}),me(f=this.createMarkerModelFromSeries(u,this,i),{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),f.__hostSeries=l),mE(l)[a]=f):mE(l)[a]=null},this)},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t),l=o.getName(t);return ia("section",{header:this.name,blocks:[ia("nameValue",{name:l,value:a,noName:!l,noValue:a==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return mE(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Wr);jt(ig,wb.prototype);var _5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(ig);function xL(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function vE(n,e,t,i,r,o){var a=[],l=td(e,i)?e.getCalculationInfo("stackResultDimension"):i,u=wL(e,l,n),f=e.indicesOfNearest(l,u)[0];a[r]=e.get(t,f),a[o]=e.get(l,f);var g=e.get(i,f),v=Fl(e.get(i,f));return(v=Math.min(v,20))>=0&&(a[o]=+a[o].toFixed(v)),[a,g]}var _L={min:_n(vE,"min"),max:_n(vE,"max"),average:_n(vE,"average"),median:_n(vE,"median")};function cA(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(!function(v){return!isNaN(parseFloat(v.x))&&!isNaN(parseFloat(v.y))}(e)&&!Be(e.coord)&&Be(r)){var o=eR(e,t,i,n);if((e=Kt(e)).type&&_L[e.type]&&o.baseAxis&&o.valueAxis){var a=dn(r,o.baseAxis.dim),l=dn(r,o.valueAxis.dim),u=_L[e.type](t,o.baseDataDim,o.valueDataDim,a,l);e.coord=u[0],e.value=u[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord!=null&&Be(r))for(var f=e.coord,g=0;g<2;g++)_L[f[g]]&&(f[g]=wL(t,t.mapDimension(r[g]),f[g]));else e.coord=[];return e}}function eR(n,e,t,i){var r={};return n.valueIndex!=null||n.valueDim!=null?(r.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(function(o,a){var l=o.getData().getDimensionInfo(a);return l&&l.coordDim}(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function uA(n,e){return!(n&&n.containData&&e.coord&&!xL(e))||n.containData(e.coord)}function nR(n,e){return n?function(t,i,r,o){return Jd(o<2?t.coord&&t.coord[o]:t.value,e[o])}:function(t,i,r,o){return Jd(t.value,e[o])}}function wL(n,e,t){if(t==="average"){var i=0,r=0;return n.each(e,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var SL=Hr(),CL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){this.markerGroupMap=ze()},e.prototype.render=function(t,i,r){var o=this,a=this.markerGroupMap;a.each(function(l){SL(l).keep=!1}),i.eachSeries(function(l){var u=ig.getMarkerModelFromSeries(l,o.type);u&&o.renderSeries(l,u,i,r)}),a.each(function(l){!SL(l).keep&&o.group.remove(l.group)})},e.prototype.markKeep=function(t){SL(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;ht(t,function(o){var a=ig.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(l){l&&(i?TA(l):O0(l))})})},e.type="marker",e}(Ao);function iR(n,e,t){var i=e.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),l=ei(a.get("x"),t.getWidth()),u=ei(a.get("y"),t.getHeight());if(isNaN(l)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var f=n.get(i.dimensions[0],r),g=n.get(i.dimensions[1],r);o=i.dataToPoint([f,g])}}else o=[l,u];isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u),n.setItemLayout(r,o)})}var w5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=ig.getMarkerModelFromSeries(o,"markPoint");a&&(iR(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,new dm),v=function(_,S,A){var E;E=_?lt(_&&_.dimensions,function(Y){return me(me({},S.getData().getDimensionInfo(S.getData().mapDimension(Y))||{}),{name:Y,ordinalMeta:null})}):[{name:"value",type:"float"}];var D=new fs(E,A),R=lt(A.get("data"),_n(cA,S));_&&(R=en(R,_n(uA,_)));var z=nR(!!_,E);return D.initData(R,null,z),D}(a,t,i);i.setData(v),iR(i.getData(),t,o),v.each(function(_){var S=v.getItemModel(_),A=S.getShallow("symbol"),E=S.getShallow("symbolSize"),D=S.getShallow("symbolRotate"),R=S.getShallow("symbolOffset"),z=S.getShallow("symbolKeepAspect");if(Ge(A)||Ge(E)||Ge(D)||Ge(R)){var Y=i.getRawValue(_),G=i.getDataParams(_);Ge(A)&&(A=A(Y,G)),Ge(E)&&(E=E(Y,G)),Ge(D)&&(D=D(Y,G)),Ge(R)&&(R=R(Y,G))}var $=S.getModel("itemStyle").getItemStyle(),Q=ep(u,"color");$.fill||($.fill=Q),v.setItemVisual(_,{symbol:A,symbolSize:E,symbolRotate:D,symbolOffset:R,symbolKeepAspect:z,style:$})}),g.updateData(v),this.group.add(g.group),v.eachItemGraphicEl(function(_){_.traverse(function(S){lr(S).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(CL),S5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(ig),yE=Hr(),C5=function(n,e,t,i){var r,o=n.getData();if(Be(i))r=i;else{var a=i.type;if(a==="min"||a==="max"||a==="average"||a==="median"||i.xAxis!=null||i.yAxis!=null){var l=void 0,u=void 0;if(i.yAxis!=null||i.xAxis!=null)l=e.getAxis(i.yAxis!=null?"y":"x"),u=zi(i.yAxis,i.xAxis);else{var f=eR(i,o,e,n);l=f.valueAxis,u=wL(o,dS(o,f.valueDataDim),a)}var g=l.dim==="x"?0:1,v=1-g,_=Kt(i),S={coord:[]};_.type=null,_.coord=[],_.coord[v]=-1/0,S.coord[v]=1/0;var A=t.get("precision");A>=0&&Ln(u)&&(u=+u.toFixed(Math.min(A,20))),_.coord[g]=S.coord[g]=u,r=[_,S,{type:a,valueIndex:i.valueIndex,value:u}]}else r=[]}var E=[cA(n,r[0]),cA(n,r[1]),me({},r[2])];return E[2].type=E[2].type||null,ne(E[2],E[0]),ne(E[2],E[1]),E};function bE(n){return!isNaN(n)&&!isFinite(n)}function rR(n,e,t,i){var r=1-n,o=i.dimensions[n];return bE(e[r])&&bE(t[r])&&e[n]===t[n]&&i.getAxis(o).containData(e[n])}function k5(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,i=e[1].coord;if(t&&i&&(rR(1,t,i,n)||rR(0,t,i,n)))return!0}return uA(n,e[0])&&uA(n,e[1])}function kL(n,e,t,i,r){var o,a=i.coordinateSystem,l=n.getItemModel(e),u=ei(l.get("x"),r.getWidth()),f=ei(l.get("y"),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var g=a.dimensions,v=n.get(g[0],e),_=n.get(g[1],e);o=a.dataToPoint([v,_])}if(_p(a,"cartesian2d")){var S=a.getAxis("x"),A=a.getAxis("y");g=a.dimensions,bE(n.get(g[0],e))?o[0]=S.toGlobalCoord(S.getExtent()[t?0:1]):bE(n.get(g[1],e))&&(o[1]=A.toGlobalCoord(A.getExtent()[t?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];n.setItemLayout(e,o)}var A5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=ig.getMarkerModelFromSeries(o,"markLine");if(a){var l=a.getData(),u=yE(a).from,f=yE(a).to;u.each(function(g){kL(u,g,!0,o,r),kL(f,g,!1,o,r)}),l.each(function(g){l.setItemLayout(g,[u.getItemLayout(g),f.getItemLayout(g)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,new Rk);this.group.add(g.group);var v=function(G,$,Q){var et;et=G?lt(G&&G.dimensions,function(Zt){return me(me({},$.getData().getDimensionInfo($.getData().mapDimension(Zt))||{}),{name:Zt,ordinalMeta:null})}):[{name:"value",type:"float"}];var ot=new fs(et,Q),xt=new fs(et,Q),St=new fs([],Q),Mt=lt(Q.get("data"),_n(C5,$,G,Q));G&&(Mt=en(Mt,_n(k5,G)));var Bt=nR(!!G,et);return ot.initData(lt(Mt,function(Zt){return Zt[0]}),null,Bt),xt.initData(lt(Mt,function(Zt){return Zt[1]}),null,Bt),St.initData(lt(Mt,function(Zt){return Zt[2]})),St.hasItemOption=!0,{from:ot,to:xt,line:St}}(a,t,i),_=v.from,S=v.to,A=v.line;yE(i).from=_,yE(i).to=S,i.setData(A);var E=i.get("symbol"),D=i.get("symbolSize"),R=i.get("symbolRotate"),z=i.get("symbolOffset");function Y(G,$,Q){var et=G.getItemModel($);kL(G,$,Q,t,o);var ot=et.getModel("itemStyle").getItemStyle();ot.fill==null&&(ot.fill=ep(u,"color")),G.setItemVisual($,{symbolKeepAspect:et.get("symbolKeepAspect"),symbolOffset:yi(et.get("symbolOffset",!0),z[Q?0:1]),symbolRotate:yi(et.get("symbolRotate",!0),R[Q?0:1]),symbolSize:yi(et.get("symbolSize"),D[Q?0:1]),symbol:yi(et.get("symbol",!0),E[Q?0:1]),style:ot})}Be(E)||(E=[E,E]),Be(D)||(D=[D,D]),Be(R)||(R=[R,R]),Be(z)||(z=[z,z]),v.from.each(function(G){Y(_,G,!0),Y(S,G,!1)}),A.each(function(G){var $=A.getItemModel(G).getModel("lineStyle").getLineStyle();A.setItemLayout(G,[_.getItemLayout(G),S.getItemLayout(G)]),$.stroke==null&&($.stroke=_.getItemVisual(G,"style").fill),A.setItemVisual(G,{fromSymbolKeepAspect:_.getItemVisual(G,"symbolKeepAspect"),fromSymbolOffset:_.getItemVisual(G,"symbolOffset"),fromSymbolRotate:_.getItemVisual(G,"symbolRotate"),fromSymbolSize:_.getItemVisual(G,"symbolSize"),fromSymbol:_.getItemVisual(G,"symbol"),toSymbolKeepAspect:S.getItemVisual(G,"symbolKeepAspect"),toSymbolOffset:S.getItemVisual(G,"symbolOffset"),toSymbolRotate:S.getItemVisual(G,"symbolRotate"),toSymbolSize:S.getItemVisual(G,"symbolSize"),toSymbol:S.getItemVisual(G,"symbol"),style:$})}),g.updateData(A),v.line.eachItemGraphicEl(function(G){lr(G).dataModel=i,G.traverse(function($){lr($).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(CL),M5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(ig),xE=Hr(),T5=function(n,e,t,i){var r=i[0],o=i[1];if(r&&o){var a=cA(n,r),l=cA(n,o),u=a.coord,f=l.coord;u[0]=zi(u[0],-1/0),u[1]=zi(u[1],-1/0),f[0]=zi(f[0],1/0),f[1]=zi(f[1],1/0);var g=De([{},a,l]);return g.coord=[a.coord,l.coord],g.x0=a.x,g.y0=a.y,g.x1=l.x,g.y1=l.y,g}};function _E(n){return!isNaN(n)&&!isFinite(n)}function oR(n,e,t,i){var r=1-n;return _E(e[r])&&_E(t[r])}function I5(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},o={coord:i,x:e.x1,y:e.y1};return _p(n,"cartesian2d")?!(!t||!i||!oR(1,t,i)&&!oR(0,t,i))||function(a,l,u){return!(a&&a.containZone&&l.coord&&u.coord&&!xL(l)&&!xL(u))||a.containZone(l.coord,u.coord)}(n,r,o):uA(n,r)||uA(n,o)}function aR(n,e,t,i,r){var o,a=i.coordinateSystem,l=n.getItemModel(e),u=ei(l.get(t[0]),r.getWidth()),f=ei(l.get(t[1]),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition){var g=n.getValues(["x0","y0"],e),v=n.getValues(["x1","y1"],e),_=a.clampData(g),S=a.clampData(v),A=[];t[0]==="x0"?A[0]=_[0]>S[0]?v[0]:g[0]:A[0]=_[0]>S[0]?g[0]:v[0],t[1]==="y0"?A[1]=_[1]>S[1]?v[1]:g[1]:A[1]=_[1]>S[1]?g[1]:v[1],o=i.getMarkerPosition(A,t,!0)}else{var E=[z=n.get(t[0],e),Y=n.get(t[1],e)];a.clampData&&a.clampData(E,E),o=a.dataToPoint(E,!0)}if(_p(a,"cartesian2d")){var D=a.getAxis("x"),R=a.getAxis("y"),z=n.get(t[0],e),Y=n.get(t[1],e);_E(z)?o[0]=D.toGlobalCoord(D.getExtent()[t[0]==="x0"?0:1]):_E(Y)&&(o[1]=R.toGlobalCoord(R.getExtent()[t[1]==="y0"?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];return o}var sR=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],E5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=ig.getMarkerModelFromSeries(o,"markArea");if(a){var l=a.getData();l.each(function(u){var f=lt(sR,function(g){return aR(l,u,g,o,r)});l.setItemLayout(u,f),l.getItemGraphicEl(u).setShape("points",f)})}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,{group:new Di});this.group.add(g.group),this.markKeep(g);var v=function(_,S,A){var E,D,R=["x0","y0","x1","y1"];if(_){var z=lt(_&&_.dimensions,function($){var Q=S.getData();return me(me({},Q.getDimensionInfo(Q.mapDimension($))||{}),{name:$,ordinalMeta:null})});D=lt(R,function($,Q){return{name:$,type:z[Q%2].type}}),E=new fs(D,A)}else E=new fs(D=[{name:"value",type:"float"}],A);var Y=lt(A.get("data"),_n(T5,S,_,A));_&&(Y=en(Y,_n(I5,_)));var G=_?function($,Q,et,ot){return Jd($.coord[Math.floor(ot/2)][ot%2],D[ot])}:function($,Q,et,ot){return Jd($.value,D[ot])};return E.initData(Y,null,G),E.hasItemOption=!0,E}(a,t,i);i.setData(v),v.each(function(_){var S=lt(sR,function(et){return aR(v,_,et,t,o)}),A=a.getAxis("x").scale,E=a.getAxis("y").scale,D=A.getExtent(),R=E.getExtent(),z=[A.parse(v.get("x0",_)),A.parse(v.get("x1",_))],Y=[E.parse(v.get("y0",_)),E.parse(v.get("y1",_))];ml(z),ml(Y);var G=D[0]>z[1]||D[1]<z[0]||R[0]>Y[1]||R[1]<Y[0];v.setItemLayout(_,{points:S,allClipped:G});var $=v.getItemModel(_).getModel("itemStyle").getItemStyle(),Q=ep(u,"color");$.fill||($.fill=Q,Mn($.fill)&&($.fill=hc($.fill,.4))),$.stroke||($.stroke=Q),v.setItemVisual(_,"style",$)}),v.diff(xE(g).data).add(function(_){var S=v.getItemLayout(_);if(!S.allClipped){var A=new Zs({shape:{points:S.points}});v.setItemGraphicEl(_,A),g.group.add(A)}}).update(function(_,S){var A=xE(g).data.getItemGraphicEl(S),E=v.getItemLayout(_);E.allClipped?A&&g.group.remove(A):(A?Zr(A,{shape:{points:E.points}},i,_):A=new Zs({shape:{points:E.points}}),v.setItemGraphicEl(_,A),g.group.add(A))}).remove(function(_){var S=xE(g).data.getItemGraphicEl(_);g.group.remove(S)}).execute(),v.eachItemGraphicEl(function(_,S){var A=v.getItemModel(S),E=v.getItemVisual(S,"style");_.useStyle(v.getItemVisual(S,"style")),na(_,Wa(A),{labelFetcher:i,labelDataIndex:S,defaultText:v.getName(S)||"",inheritColor:Mn(E.fill)?hc(E.fill,1):"#000"}),Is(_,A),fa(_,null,null,A.get(["emphasis","disabled"])),lr(_).dataModel=i}),xE(g).data=v,g.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(CL),AL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;i===!0&&(i=t.selector=["all","inverse"]),Be(i)&&ht(i,function(o,a){Mn(o)&&(o={type:o}),i[a]=ne(o,function(l,u){return u==="all"?{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])}:u==="inverse"?{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var i=!1,r=0;r<t.length;r++){var o=t[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(u){var f,g=u.name;if(r.push(g),u.legendVisualProvider){var v=u.legendVisualProvider.getAllNames();t.isSeriesFiltered(u)||(r=r.concat(v)),v.length?i=i.concat(v):f=!0}else f=!0;f&&fg(u)&&i.push(u.name)}),this._availableNames=r;var o=this.get("data")||i,a=ze(),l=lt(o,function(u){return(Mn(u)||Ln(u))&&(u={name:u}),a.get(u.name)?null:(a.set(u.name,!0),new ao(u,this,this.ecModel))},this);this._data=en(l,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;this.get("selectedMode")==="single"&&ht(this._data,function(r){i[r.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,i=this.option.selected;ht(t,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,i=this.option.selected;ht(t,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&dn(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Wr),l_=_n,ML=ht,wE=Di,lR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return Tt(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new wE),this.group.add(this._selectorGroup=new wE),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),l=t.get("orient");a&&a!=="auto"||(a=t.get("left")==="right"&&l==="vertical"?"right":"left");var u=t.get("selector",!0),f=t.get("selectorPosition",!0);!u||f&&f!=="auto"||(f=l==="horizontal"?"end":"start"),this.renderInner(a,t,i,r,u,l,f);var g=t.getBoxLayoutParams(),v={width:r.getWidth(),height:r.getHeight()},_=t.get("padding"),S=ma(g,v,_),A=this.layoutInner(t,a,S,o,u,f),E=ma(Ne({width:A.width,height:A.height},g),v,_);this.group.x=E.x-A.x,this.group.y=E.y-A.y,this.group.markRedraw(),this.group.add(this._backgroundEl=vN(A,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,o,a,l,u){var f=this.getContentGroup(),g=ze(),v=i.get("selectedMode"),_=[];r.eachRawSeries(function(S){!S.get("legendHoverLink")&&_.push(S.id)}),ML(i.getData(),function(S,A){var E=S.get("name");if(!this.newlineDisabled&&(E===""||E===`
`)){var D=new wE;return D.newline=!0,void f.add(D)}var R=r.getSeriesByName(E)[0];if(!g.get(E))if(R){var z=R.getData(),Y=z.getVisual("legendLineStyle")||{},G=z.getVisual("legendIcon"),$=z.getVisual("style");this._createItem(R,E,A,S,i,t,Y,$,G,v,o).on("click",l_(cR,E,null,o,_)).on("mouseover",l_(TL,R.name,null,o,_)).on("mouseout",l_(IL,R.name,null,o,_)),g.set(E,!0)}else r.eachRawSeries(function(Q){if(!g.get(E)&&Q.legendVisualProvider){var et=Q.legendVisualProvider;if(!et.containName(E))return;var ot=et.indexOfName(E),xt=et.getItemVisual(ot,"style"),St=et.getItemVisual(ot,"legendIcon"),Mt=Vo(xt.fill);Mt&&Mt[3]===0&&(Mt[3]=.2,xt=me(me({},xt),{fill:Oa(Mt,"rgba")})),this._createItem(Q,E,A,S,i,t,{},xt,St,v,o).on("click",l_(cR,null,E,o,_)).on("mouseover",l_(TL,null,E,o,_)).on("mouseout",l_(IL,null,E,o,_)),g.set(E,!0)}},this)},this),a&&this._createSelector(a,i,o,l,u)},e.prototype._createSelector=function(t,i,r,o,a){var l=this.getSelectorGroup();ML(t,function(u){var f=u.type,g=new $r({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:f==="all"?"legendAllSelect":"legendInverseSelect"})}});l.add(g),na(g,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:u.title}),Gh(g)})},e.prototype._createItem=function(t,i,r,o,a,l,u,f,g,v,_){var S=t.visualDrawType,A=a.get("itemWidth"),E=a.get("itemHeight"),D=a.isSelected(i),R=o.get("symbolRotate"),z=o.get("symbolKeepAspect"),Y=o.get("icon"),G=function(pe,be,we,Re,Ze,Je,rn){function An(li,Ai){li.lineWidth==="auto"&&(li.lineWidth=Ai.lineWidth>0?2:0),ML(li,function(cr,kr){li[kr]==="inherit"&&(li[kr]=Ai[kr])})}var Yn=be.getModel("itemStyle"),cn=Yn.getItemStyle(),Pn=pe.lastIndexOf("empty",0)===0?"fill":"stroke",Jn=Yn.getShallow("decal");cn.decal=Jn&&Jn!=="inherit"?op(Jn,rn):Re.decal,cn.fill==="inherit"&&(cn.fill=Re[Ze]),cn.stroke==="inherit"&&(cn.stroke=Re[Pn]),cn.opacity==="inherit"&&(cn.opacity=(Ze==="fill"?Re:we).opacity),An(cn,Re);var Kn=be.getModel("lineStyle"),Gn=Kn.getLineStyle();if(An(Gn,we),cn.fill==="auto"&&(cn.fill=Re.fill),cn.stroke==="auto"&&(cn.stroke=Re.fill),Gn.stroke==="auto"&&(Gn.stroke=Re.fill),!Je){var ri=be.get("inactiveBorderWidth"),qn=cn[Pn];cn.lineWidth=ri==="auto"?Re.lineWidth>0&&qn?2:0:cn.lineWidth,cn.fill=be.get("inactiveColor"),cn.stroke=be.get("inactiveBorderColor"),Gn.stroke=Kn.get("inactiveColor"),Gn.lineWidth=Kn.get("inactiveWidth")}return{itemStyle:cn,lineStyle:Gn}}(g=Y||g||"roundRect",o,u,f,S,D,_),$=new wE,Q=o.getModel("textStyle");if(!Ge(t.getLegendIcon)||Y&&Y!=="inherit"){var et=Y==="inherit"&&t.getData().getVisual("symbol")?R==="inherit"?t.getData().getVisual("symbolRotate"):R:0;$.add(function(pe){var be=pe.icon||"roundRect",we=va(be,0,0,pe.itemWidth,pe.itemHeight,pe.itemStyle.fill,pe.symbolKeepAspect);return we.setStyle(pe.itemStyle),we.rotation=(pe.iconRotate||0)*Math.PI/180,we.setOrigin([pe.itemWidth/2,pe.itemHeight/2]),be.indexOf("empty")>-1&&(we.style.stroke=we.style.fill,we.style.fill="#fff",we.style.lineWidth=2),we}({itemWidth:A,itemHeight:E,icon:g,iconRotate:et,itemStyle:G.itemStyle,lineStyle:G.lineStyle,symbolKeepAspect:z}))}else $.add(t.getLegendIcon({itemWidth:A,itemHeight:E,icon:g,iconRotate:R,itemStyle:G.itemStyle,lineStyle:G.lineStyle,symbolKeepAspect:z}));var ot=l==="left"?A+5:-5,xt=l,St=a.get("formatter"),Mt=i;Mn(St)&&St?Mt=St.replace("{name}",i??""):Ge(St)&&(Mt=St(i));var Bt=o.get("inactiveColor");$.add(new $r({style:Do(Q,{text:Mt,x:ot,y:E/2,fill:D?Q.getTextColor():Bt,align:xt,verticalAlign:"middle"})}));var Zt=new Ur({shape:$.getBoundingRect(),invisible:!0}),se=o.getModel("tooltip");return se.get("show")&&Yd({el:Zt,componentModel:a,itemName:i,itemTooltipOption:se.option}),$.add(Zt),$.eachChild(function(pe){pe.silent=!0}),Zt.silent=!v,this.getContentGroup().add($),Gh($),$.__legendDataIndex=r,$},e.prototype.layoutInner=function(t,i,r,o,a,l){var u=this.getContentGroup(),f=this.getSelectorGroup();Zd(t.get("orient"),u,t.get("itemGap"),r.width,r.height);var g=u.getBoundingRect(),v=[-g.x,-g.y];if(f.markRedraw(),u.markRedraw(),a){Zd("horizontal",f,t.get("selectorItemGap",!0));var _=f.getBoundingRect(),S=[-_.x,-_.y],A=t.get("selectorButtonGap",!0),E=t.getOrient().index,D=E===0?"width":"height",R=E===0?"height":"width",z=E===0?"y":"x";l==="end"?S[E]+=g[D]+A:v[E]+=_[D]+A,S[1-E]+=g[R]/2-_[R]/2,f.x=S[0],f.y=S[1],u.x=v[0],u.y=v[1];var Y={x:0,y:0};return Y[D]=g[D]+A+_[D],Y[R]=Math.max(g[R],_[R]),Y[z]=Math.min(0,_[z]+S[1-E]),Y}return u.x=v[0],u.y=v[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Ao);function cR(n,e,t,i){IL(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),TL(n,e,t,i)}function uR(n){for(var e,t=n.getZr().storage.getDisplayList(),i=0,r=t.length;i<r&&!(e=t[i].states.emphasis);)i++;return e&&e.hoverLayer}function TL(n,e,t,i){uR(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function IL(n,e,t,i){uR(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}function O5(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function hA(n,e,t){var i,r={},o=n==="toggleSelected";return t.eachComponent("legend",function(a){o&&i!=null?a[i?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?a[n]():(a[n](e.name),i=a.isSelected(e.name)),ht(a.getData(),function(l){var u=l.get("name");if(u!==`
`&&u!==""){var f=a.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&f:r[u]=f}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function hR(n){n.registerComponentModel(AL),n.registerComponentView(lR),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,O5),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(e){e.registerAction("legendToggleSelect","legendselectchanged",_n(hA,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",_n(hA,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",_n(hA,"inverseSelect")),e.registerAction("legendSelect","legendselected",_n(hA,"select")),e.registerAction("legendUnSelect","legendunselected",_n(hA,"unSelect"))}(n)}var D5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var o=Vg(t);n.prototype.init.call(this,t,i,r),dR(this,t,o)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),dR(this,this.option,t)},e.type="legend.scroll",e.defaultOption=xu(AL.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(AL);function dR(n,e,t){var i=[1,1];i[n.getOrient().index]=0,jc(e,t,{type:"box",ignoreSize:!!i})}var pR=Di,EL=["width","height"],OL=["x","y"],L5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return Tt(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new pR),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new pR)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,o,a,l,u){var f=this;n.prototype.renderInner.call(this,t,i,r,o,a,l,u);var g=this._controllerGroup,v=i.get("pageIconSize",!0),_=Be(v)?v:[v,v];A("pagePrev",0);var S=i.getModel("pageTextStyle");function A(E,D){var R=E+"DataIndex",z=ea(i.get("pageIcons",!0)[i.getOrient().name][D],{onclick:Te(f._pageGo,f,R,i,o)},{x:-_[0]/2,y:-_[1]/2,width:_[0],height:_[1]});z.name=E,g.add(z)}g.add(new $r({name:"pageText",style:{text:"xx/xx",fill:S.getTextColor(),font:S.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),A("pageNext",1)},e.prototype.layoutInner=function(t,i,r,o,a,l){var u=this.getSelectorGroup(),f=t.getOrient().index,g=EL[f],v=OL[f],_=EL[1-f],S=OL[1-f];a&&Zd("horizontal",u,t.get("selectorItemGap",!0));var A=t.get("selectorButtonGap",!0),E=u.getBoundingRect(),D=[-E.x,-E.y],R=Kt(r);a&&(R[g]=r[g]-E[g]-A);var z=this._layoutContentAndController(t,o,R,f,g,_,S,v);if(a){if(l==="end")D[f]+=z[g]+A;else{var Y=E[g]+A;D[f]-=Y,z[v]-=Y}z[g]+=E[g]+A,D[1-f]+=z[S]+z[_]/2-E[_]/2,z[_]=Math.max(z[_],E[_]),z[S]=Math.min(z[S],E[S]+D[1-f]),u.x=D[0],u.y=D[1],u.markRedraw()}return z},e.prototype._layoutContentAndController=function(t,i,r,o,a,l,u,f){var g=this.getContentGroup(),v=this._containerGroup,_=this._controllerGroup;Zd(t.get("orient"),g,t.get("itemGap"),o?r.width:null,o?null:r.height),Zd("horizontal",_,t.get("pageButtonItemGap",!0));var S=g.getBoundingRect(),A=_.getBoundingRect(),E=this._showController=S[a]>r[a],D=[-S.x,-S.y];i||(D[o]=g[f]);var R=[0,0],z=[-A.x,-A.y],Y=yi(t.get("pageButtonGap",!0),t.get("itemGap",!0));E&&(t.get("pageButtonPosition",!0)==="end"?z[o]+=r[a]-A[a]:R[o]+=A[a]+Y),z[1-o]+=S[l]/2-A[l]/2,g.setPosition(D),v.setPosition(R),_.setPosition(z);var G={x:0,y:0};if(G[a]=E?r[a]:S[a],G[l]=Math.max(S[l],A[l]),G[u]=Math.min(0,A[u]+z[1-o]),v.__rectSize=r[a],E){var $={x:0,y:0};$[a]=Math.max(r[a]-A[a]-Y,0),$[l]=G[l],v.setClipPath(new Ur({shape:$})),v.__rectSize=$[a]}else _.eachChild(function(et){et.attr({invisible:!0,silent:!0})});var Q=this._getPageInfo(t);return Q.pageIndex!=null&&Zr(g,{x:Q.contentPosition[0],y:Q.contentPosition[1]},E?t:null),this._updatePageInfoView(t,Q),G},e.prototype._pageGo=function(t,i,r){var o=this._getPageInfo(i)[t];o!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;ht(["pagePrev","pageNext"],function(g){var v=i[g+"DataIndex"]!=null,_=r.childOfName(g);_&&(_.setStyle("fill",v?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),_.cursor=v?"pointer":"default")});var o=r.childOfName("pageText"),a=t.get("pageFormatter"),l=i.pageIndex,u=l!=null?l+1:0,f=i.pageCount;o&&a&&o.setStyle("text",Mn(a)?a.replace("{current}",u==null?"":u+"").replace("{total}",f==null?"":f+""):a({current:u,total:f}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=t.getOrient().index,l=EL[a],u=OL[a],f=this._findTargetItemIndex(i),g=r.children(),v=g[f],_=g.length,S=_?1:0,A={contentPosition:[r.x,r.y],pageCount:S,pageIndex:S-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return A;var E=G(v);A.contentPosition[a]=-E.s;for(var D=f+1,R=E,z=E,Y=null;D<=_;++D)(!(Y=G(g[D]))&&z.e>R.s+o||Y&&!$(Y,R.s))&&(R=z.i>R.i?z:Y)&&(A.pageNextDataIndex==null&&(A.pageNextDataIndex=R.i),++A.pageCount),z=Y;for(D=f-1,R=E,z=E,Y=null;D>=-1;--D)(Y=G(g[D]))&&$(z,Y.s)||!(R.i<z.i)||(z=R,A.pagePrevDataIndex==null&&(A.pagePrevDataIndex=R.i),++A.pageCount,++A.pageIndex),R=Y;return A;function G(Q){if(Q){var et=Q.getBoundingRect(),ot=et[u]+Q[u];return{s:ot,e:ot+et[l],i:Q.__legendDataIndex}}}function $(Q,et){return Q.e>=et&&Q.s<=et+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,a){var l=o.__legendDataIndex;r==null&&l!=null&&(r=a),l===t&&(i=a)}),i??r):0;var i,r},e.type="legend.scroll",e}(lR);function P5(n){Nr(hR),n.registerComponentModel(D5),n.registerComponentView(L5),function(e){e.registerAction("legendScroll","legendscroll",function(t,i){var r=t.scrollDataIndex;r!=null&&i.eachComponent({mainType:"legend",subType:"scroll",query:t},function(o){o.setScrollDataIndex(r)})})}(n)}var N5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.inside",e.defaultOption=xu(oA.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(oA),DL=Hr();function R5(n,e,t){DL(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function fR(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function B5(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function z5(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}function F5(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=DL(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=ze());r.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){ht(hN(o).infoList,function(a){var l=a.model.uid,u=r.get(l)||r.set(l,function(f,g){var v={model:g,containsPoint:_n(z5,g),dispatchAction:_n(B5,f),dataZoomInfoMap:null,controller:null},_=v.controller=new bm(f.getZr());return ht(["pan","zoom","scrollMove"],function(S){_.on(S,function(A){var E=[];v.dataZoomInfoMap.each(function(D){if(A.isAvailableBehavior(D.model.option)){var R=(D.getRange||{})[S],z=R&&R(D.dzReferCoordSysInfo,v.model.mainType,v.controller,A);!D.model.get("disabled",!0)&&z&&E.push({dataZoomId:D.model.id,start:z[0],end:z[1]})}}),E.length&&v.dispatchAction(E)})}),v}(t,a.model));(u.dataZoomInfoMap||(u.dataZoomInfoMap=ze())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,l=o.controller,u=o.dataZoomInfoMap;if(u){var f=u.keys()[0];f!=null&&(a=u.get(f))}if(a){var g=function(v){var _,S="type_",A={type_true:2,type_move:1,type_false:0,type_undefined:-1},E=!0;return v.each(function(D){var R=D.model,z=!R.get("disabled",!0)&&(!R.get("zoomLock",!0)||"move");A[S+z]>A[S+_]&&(_=z),E=E&&R.get("preventDefaultMouseMove",!0)}),{controlType:_,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!E}}}(u);l.enable(g.controlType,g.opt),l.setPointerChecker(o.containsPoint),Cf(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else fR(r,o)})})}var V5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return Tt(e,n),e.prototype.render=function(t,i,r){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),R5(r,t,{pan:Te(LL.pan,this),zoom:Te(LL.zoom,this),scrollMove:Te(LL.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function(t,i){for(var r=DL(t).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var l=o[a],u=r.get(l),f=u.dataZoomInfoMap;if(f){var g=i.uid;f.get(g)&&(f.removeKey(g),f.keys().length||fR(r,u))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(iL),LL={zoom:function(n,e,t,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var l=PL[e](null,[i.originX,i.originY],a,t,n),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],f=Math.max(1/i.scale,0);o[0]=(o[0]-u)*f+u,o[1]=(o[1]-u)*f+u;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Tp(0,o,[0,100],0,g.minSpan,g.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:gR(function(n,e,t,i,r,o){var a=PL[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,t);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:gR(function(n,e,t,i,r,o){return PL[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,t).signal*(n[1]-n[0])*o.scrollDelta})};function gR(n){return function(e,t,i,r){var o=this.range,a=o.slice(),l=e.axisModels[0];if(l)return Tp(n(a,l,e,t,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var PL={grid:function(n,e,t,i,r){var o=t.axis,a={},l=r.model.coordinateSystem.getRect();return n=n||[0,0],o.dim==="x"?(a.pixel=e[0]-n[0],a.pixelLength=l.width,a.pixelStart=l.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=l.height,a.pixelStart=l.y,a.signal=o.inverse?-1:1),a},polar:function(n,e,t,i,r){var o=t.axis,a={},l=r.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),f=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],e=l.pointToCoord(e),t.mainType==="radiusAxis"?(a.pixel=e[0]-n[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=f[1]-f[0],a.pixelStart=f[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,e,t,i,r){var o=t.axis,a=r.model.coordinateSystem.getRect(),l={};return n=n||[0,0],o.orient==="horizontal"?(l.pixel=e[0]-n[0],l.pixelLength=a.width,l.pixelStart=a.x,l.signal=o.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=a.height,l.pixelStart=a.y,l.signal=o.inverse?-1:1),l}};function mR(n){rL(n),n.registerComponentModel(N5),n.registerComponentView(V5),F5(n)}var H5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=xu(oA.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(oA),dA=Ur,pA="horizontal",vR="vertical",W5=["line","bar","candlestick","scatter"],j5={easing:"cubicOut",duration:100,delay:0},Y5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return Tt(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=Te(this._onBrush,this),this._onBrushEnd=Te(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,o){if(n.prototype.render.apply(this,arguments),Cf(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")!==!1){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&o.type==="dataZoom"&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Lv(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Di;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,r=t.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},l=this._orient===pA?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},u=Vg(t.option);ht(["right","top","width","height"],function(g){u[g]==="ph"&&(u[g]=l[g])});var f=ma(u,a);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===vR&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(r!==pA||a?r===pA&&a?{scaleY:u?1:-1,scaleX:-1}:r!==vR||a?{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?1:-1,scaleX:1});var f=t.getBoundingRect([l]);t.x=i.x-f.x,t.y=i.y-f.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=t.get("brushSelect");r.add(new dA({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new dA({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:Te(this._onClickPanel,this)}),l=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),r.add(a)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,r=this._shadowSize||[],o=t.series,a=o.getRawData(),l=o.getShadowDim&&o.getShadowDim(),u=l&&a.getDimensionInfo(l)?o.getShadowDim():t.otherDim;if(u!=null){var f=this._shadowPolygonPts,g=this._shadowPolylinePts;if(a!==this._shadowData||u!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var v=a.getDataExtent(u),_=.3*(v[1]-v[0]);v=[v[0]-_,v[1]+_];var S,A=[0,i[1]],E=[0,i[0]],D=[[i[0],0],[0,0]],R=[],z=E[1]/(a.count()-1),Y=0,G=Math.round(a.count()/i[0]);a.each([u],function(xt,St){if(G>0&&St%G)Y+=z;else{var Mt=xt==null||isNaN(xt)||xt==="",Bt=Mt?0:eo(xt,v,A,!0);Mt&&!S&&St?(D.push([D[D.length-1][0],0]),R.push([R[R.length-1][0],0])):!Mt&&S&&(D.push([Y,0]),R.push([Y,0])),D.push([Y,Bt]),R.push([Y,Bt]),Y+=z,S=Mt}}),f=this._shadowPolygonPts=D,g=this._shadowPolylinePts=R}this._shadowData=a,this._shadowDim=u,this._shadowSize=[i[0],i[1]];for(var $=this.dataZoomModel,Q=0;Q<3;Q++){var et=ot(Q===1);this._displayables.sliderGroup.add(et),this._displayables.dataShadowSegs.push(et)}}}function ot(xt){var St=$.getModel(xt?"selectedDataBackground":"dataBackground"),Mt=new Di,Bt=new Zs({shape:{points:f},segmentIgnoreThreshold:1,style:St.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Zt=new Ks({shape:{points:g},segmentIgnoreThreshold:1,style:St.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Mt.add(Bt),Mt.add(Zt),Mt}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(i!==!1){var r,o=this.ecModel;return t.eachTargetAxis(function(a,l){ht(t.getAxisProxy(a,l).getTargetSeriesModels(),function(u){if(!(r||i!==!0&&dn(W5,u.get("type"))<0)){var f,g=o.getComponent(Pm(a),l).axis,v=function(S){var A={x:"y",y:"x",radius:"angle",angle:"radius"};return A[S]}(a),_=u.coordinateSystem;v!=null&&_.getOtherAxis&&(f=_.getOtherAxis(g).inverse),v=u.getData().mapDimension(v),r={thisAxis:g,series:u,thisDim:a,otherDim:v,otherAxisInverse:f}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,f=this.api,g=u.get("borderRadius")||0,v=u.get("brushSelect"),_=i.filler=new dA({silent:v,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});a.add(_),a.add(new dA({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:g},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),ht([0,1],function(Y){var G=u.get("handleIcon");!ip[G]&&G.indexOf("path://")<0&&G.indexOf("image://")<0&&(G="path://"+G);var $=va(G,-1,0,2,2,null,!0);$.attr({cursor:yR(this._orient),draggable:!0,drift:Te(this._onDragMove,this,Y),ondragend:Te(this._onDragEnd,this),onmouseover:Te(this._showDataInfo,this,!0),onmouseout:Te(this._showDataInfo,this,!1),z2:5});var Q=$.getBoundingRect(),et=u.get("handleSize");this._handleHeight=ei(et,this._size[1]),this._handleWidth=Q.width/Q.height*this._handleHeight,$.setStyle(u.getModel("handleStyle").getItemStyle()),$.style.strokeNoScale=!0,$.rectHover=!0,$.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),Gh($);var ot=u.get("handleColor");ot!=null&&($.style.fill=ot),a.add(r[Y]=$);var xt=u.getModel("textStyle");t.add(o[Y]=new $r({silent:!0,invisible:!0,style:Do(xt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:xt.getTextColor(),font:xt.getFont()}),z2:10}))},this);var S=_;if(v){var A=ei(u.get("moveHandleSize"),l[1]),E=i.moveHandle=new Ur({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:A}}),D=.8*A,R=i.moveHandleIcon=va(u.get("moveHandleIcon"),-D/2,-D/2,D,D,"#fff",!0);R.silent=!0,R.y=l[1]+A/2-.5,E.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var z=Math.min(l[1]/2,Math.max(A,10));(S=i.moveZone=new Ur({invisible:!0,shape:{y:l[1]-z,height:A+z}})).on("mouseover",function(){f.enterEmphasis(E)}).on("mouseout",function(){f.leaveEmphasis(E)}),a.add(E),a.add(R),a.add(S)}S.attr({draggable:!0,cursor:yR(this._orient),drift:Te(this._onDragMove,this,"all"),ondragstart:Te(this._showDataInfo,this,!0),ondragend:Te(this._onDragEnd,this),onmouseover:Te(this._showDataInfo,this,!0),onmouseout:Te(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[eo(t[0],[0,100],i,!0),eo(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),l=r.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];Tp(i,o,a,r.get("zoomLock")?"all":t,l.minSpan!=null?eo(l.minSpan,u,a,!0):null,l.maxSpan!=null?eo(l.maxSpan,u,a,!0):null);var f=this._range,g=this._range=ml([eo(o[0],a,u,!0),eo(o[1],a,u,!0)]);return!f||f[0]!==g[0]||f[1]!==g[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,o=ml(r.slice()),a=this._size;ht([0,1],function(S){var A=i.handles[S],E=this._handleHeight;A.attr({scaleX:E/2,scaleY:E/2,x:r[S]+(S?-1:1),y:a[1]/2-E/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var l={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(l),i.moveZone.setShape(l),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=i.dataShadowSegs,f=[0,o[0],o[1],a[0]],g=0;g<u.length;g++){var v=u[g],_=v.getClipPath();_||(_=new Ur,v.setClipPath(_)),_.setShape({x:f[g],y:0,width:f[g+1]-f[g],height:a[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,l=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var f=u.getAxisModel().axis,g=this._range,v=t?u.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(v[0],f),this._formatLabel(v[1],f)]}}var _=ml(this._handleEnds.slice());function S(A){var E=Wc(r.handles[A].parent,this.group),D=rv(A===0?"right":"left",E),R=this._handleWidth/2+5,z=vc([_[A]+(A===0?-R:R),this._size[1]/2],E);o[A].setStyle({x:z[0],y:z[1],verticalAlign:a===pA?"middle":D,align:a===pA?D:"center",text:l[A]})}S.call(this,0),S.call(this,1)},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");a!=null&&a!=="auto"||(a=i.getPixelPrecision());var l=t==null||isNaN(t)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return Ge(o)?o(t,l):Mn(o)?o.replace("{value}",l):l},e.prototype._showDataInfo=function(t){t=this._dragging||t;var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!t),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,o){this._dragging=!0,Ie(o.event);var a=vc([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(t,a[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,l=this._updateInterval("all",r[0]-a);this._updateView(),l&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var i=t.offsetX,r=t.offsetY;this._brushStart=new Gi(i,r),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=ml([eo(r.x,o,a,!0),eo(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Ie(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,o=this.dataZoomModel,a=r.brushRect;a||(a=r.brushRect=new dA({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,f=u.transformCoordToLocal(t,i),g=u.transformCoordToLocal(l.x,l.y),v=this._size;f[0]=Math.max(Math.min(v[0],f[0]),0),a.setShape({x:g[0],y:0,width:f[0]-g[0],height:v[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?j5:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=hN(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var o=this.api.getWidth(),a=this.api.getHeight();t={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return t},e.type="dataZoom.slider",e}(iL);function yR(n){return n==="vertical"?"ns-resize":"ew-resize"}function bR(n){n.registerComponentModel(H5),n.registerComponentView(Y5),rL(n)}var xR=function(n,e,t){var i=Kt((G5[n]||{})[e]);return t&&Be(i)?i[i.length-1]:i},G5={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_R=ts.mapVisual,X5=ts.eachVisual,q5=Be,wR=ht,U5=ml,$5=eo,SE=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&HN(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=Te(t,this),this.controllerVisuals=gL(this.option.controller,i,t),this.targetVisuals=gL(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return t==null||t==="all"?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=oo(t),i},e.prototype.eachTargetSeries=function(t,i){ht(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&t.call(i,o)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var o,a=this.option,l=a.precision,u=this.dataBound,f=a.formatter;r=r||["<",">"],Be(t)&&(t=t.slice(),o=!0);var g=i?t:o?[v(t[0]),v(t[1])]:v(t);return Mn(f)?f.replace("{value}",o?g[0]:g).replace("{value2}",o?g[1]:g):Ge(f)?o?f(t[0],t[1]):f(t):o?t[0]===u[0]?r[0]+" "+g[1]:t[1]===u[1]?r[1]+" "+g[0]:g[0]+" - "+g[1]:g;function v(_){return _===u[0]?"min":_===u[1]?"max":(+_).toFixed(Math.min(l,20))}},e.prototype.resetExtent=function(){var t=this.option,i=U5([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(i!=null)return t.getDimensionIndex(i);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var a=r[o],l=t.getDimensionInfo(a);if(!l.isCalculationCoord)return l.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});ne(o,r),ne(a,r);var l=this.isCategory();function u(f){q5(i.color)&&!f.inRange&&(f.inRange={color:i.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}u.call(this,o),u.call(this,a),function(f,g,v){var _=f[g],S=f[v];_&&!S&&(S=f[v]={},wR(_,function(A,E){if(ts.isValidType(E)){var D=xR(E,"inactive",l);D!=null&&(S[E]=D,E!=="color"||S.hasOwnProperty("opacity")||S.hasOwnProperty("colorAlpha")||(S.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(f){var g=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,v=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,_=this.get("inactiveColor"),S=this.getItemSymbol()||"roundRect";wR(this.stateList,function(A){var E=this.itemSize,D=f[A];D||(D=f[A]={color:l?_:[_]}),D.symbol==null&&(D.symbol=g&&Kt(g)||(l?S:[S])),D.symbolSize==null&&(D.symbolSize=v&&Kt(v)||(l?E[0]:[E[0],E[0]])),D.symbol=_R(D.symbol,function(Y){return Y==="none"?S:Y});var R=D.symbolSize;if(R!=null){var z=-1/0;X5(R,function(Y){Y>z&&(z=Y)}),D.symbolSize=_R(R,function(Y){return $5(Y,[0,z],[0,E[0]],!0)})}},this)}.call(this,a)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Wr),SR=[20,140],Z5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=SR[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=SR[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):Be(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),ht(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=ml((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(l,u){t[0]<=l&&l<=t[1]&&o.push(u)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},e.prototype.getVisualMeta=function(t){var i=CR(this,"outOfRange",this.getExtent()),r=CR(this,"inRange",this.option.range.slice()),o=[];function a(S,A){o.push({value:S,color:t(S,A)})}for(var l=0,u=0,f=r.length,g=i.length;u<g&&(!r.length||i[u]<=r[0]);u++)i[u]<r[l]&&a(i[u],"outOfRange");for(var v=1;l<f;l++,v=0)v&&o.length&&a(r[l],"outOfRange"),a(r[l],"inRange");for(v=1;u<g;u++)(!r.length||r[r.length-1]<i[u])&&(v&&(o.length&&a(o[o.length-1].value,"outOfRange"),v=0),a(i[u],"outOfRange"));var _=o.length;return{stops:o,outerColors:[_?o[0].color:"transparent",_?o[_-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=xu(SE.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(SE);function CR(n,e,t){if(t[0]===t[1])return t.slice();for(var i=(t[1]-t[0])/200,r=t[0],o=[],a=0;a<=200&&r<t[1];a++)o.push(r),r+=i;return o.push(t[1]),o}var kR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return Tt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,o){this.visualMapModel=t,t.get("show")!==!1?this.doRender(t,i,r,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=Uh(i.get("padding")||0),o=t.getBoundingRect();t.add(new Ur({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,l={};if(i==="color"){var u=a.get("contentColor");l.color=u}function f(_){return l[_]}function g(_,S){l[_]=S}var v=a.controllerVisuals[o||a.getValueState(t)];return ht(ts.prepareVisualTypes(v),function(_){var S=v[_];r.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",S=v.__alphaForOpacity),ts.dependsOn(_,i)&&S&&S.applyVisual(t,f,g)}),l[i]},e.prototype.positionGroup=function(t){var i=this.visualMapModel,r=this.api;xv(t,i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,o){},e.type="visualMap",e}(Ao),AR=[["left","right","width"],["top","bottom","height"]];function MR(n,e,t){var i=n.option,r=i.align;if(r!=null&&r!=="auto")return r;for(var o={width:e.getWidth(),height:e.getHeight()},a=i.orient==="horizontal"?1:0,l=AR[a],u=[0,null,10],f={},g=0;g<3;g++)f[AR[1-a][g]]=u[g],f[l[g]]=g===2?t[0]:i[l[g]];var v=[["x","width",3],["y","height",0]][a],_=ma(f,o,i.padding);return l[(_.margin[v[2]]||0)+_[v[0]]+.5*_[v[1]]<.5*o[v[1]]?0:1]}function CE(n,e){return ht(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Pp=eo,K5=ht,TR=Math.min,NL=Math.max,Q5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return Tt(e,n),e.prototype.doRender=function(t,i,r,o){this._api=r,o&&o.type==="selectDataRange"&&o.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var o=i[1-r];o=o!=null?o+"":"";var a=this.visualMapModel,l=a.get("textGap"),u=a.itemSize,f=this._shapes.mainGroup,g=this._applyTransform([u[0]/2,r===0?-l:u[1]+l],f),v=this._applyTransform(r===0?"bottom":"top",f),_=this._orient,S=this.visualMapModel.textStyleModel;this.group.add(new $r({style:Do(S,{x:g[0],y:g[1],verticalAlign:_==="horizontal"?"middle":v,align:_==="horizontal"?v:"center",text:o})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,l=this._useHandle,u=MR(i,this.api,o),f=r.mainGroup=this._createBarGroup(u),g=new Di;f.add(g),g.add(r.outOfRange=IR()),g.add(r.inRange=IR(null,l?OR(this._orient):null,Te(this._dragHandle,this,"all",!1),Te(this._dragHandle,this,"all",!0))),g.setClipPath(new Ur({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var v=i.textStyleModel.getTextRect("\u56FD"),_=NL(v.width,v.height);l&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,f,0,o,_,a),this._createHandle(i,f,1,o,_,a)),this._createIndicator(i,f,o,_,a),t.add(f)},e.prototype._createHandle=function(t,i,r,o,a,l){var u=Te(this._dragHandle,this,r,!1),f=Te(this._dragHandle,this,r,!0),g=js(t.get("handleSize"),o[0]),v=va(t.get("handleIcon"),-g/2,-g/2,g,g,null,!0),_=OR(this._orient);v.attr({cursor:_,draggable:!0,drift:u,ondragend:f,onmousemove:function(R){Ie(R.event)}}),v.x=o[0]/2,v.useStyle(t.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),tf(v,!0),i.add(v);var S=this.visualMapModel.textStyleModel,A=new $r({cursor:_,draggable:!0,drift:u,onmousemove:function(R){Ie(R.event)},ondragend:f,style:Do(S,{x:0,y:0,text:""})});A.ensureState("blur").style={opacity:.1},A.stateTransition={duration:200},this.group.add(A);var E=[g,0],D=this._shapes;D.handleThumbs[r]=v,D.handleLabelPoints[r]=E,D.handleLabels[r]=A},e.prototype._createIndicator=function(t,i,r,o,a){var l=js(t.get("indicatorSize"),r[0]),u=va(t.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var f=t.getModel("indicatorStyle").getItemStyle();if(u instanceof ua){var g=u.style;u.useStyle(me({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},f))}else u.useStyle(f);i.add(u);var v=this.visualMapModel.textStyleModel,_=new $r({silent:!0,invisible:!0,style:Do(v,{x:0,y:0,text:""})});this.group.add(_);var S=[(a==="horizontal"?o/2:6)+r[0]/2,0],A=this._shapes;A.indicator=u,A.indicatorLabel=_,A.indicatorLabelPoint=S,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(t,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():ER(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[Pp(i[0],r,o,!0),Pp(i[1],r,o,!0)]},e.prototype._updateInterval=function(t,i){i=i||0;var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];Tp(i,o,a,t,0);var l=r.getExtent();this._dataInterval=[Pp(o[0],a,l,!0),Pp(o[1],a,l,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],l=t?a:this._handleEnds,u=this._createBarVisual(this._dataInterval,r,l,"inRange"),f=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),o.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(l,u)},e.prototype._createBarVisual=function(t,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},l=this._makeColorGradient(t,a),u=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],f=this._createBarPoints(r,u);return{barColor:new of(0,0,0,1,l),barPoints:f,handlesColor:[l[0].color,l[l.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var r=[],o=(t[1]-t[0])/100;r.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var a=1;a<100;a++){var l=t[0]+o*a;if(l>t[1])break;r.push({color:this.getControllerVisual(l,"color",i),offset:a/100})}return r.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),r},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new Di(i!=="horizontal"||r?i==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:i!=="vertical"||r?{scaleX:t==="left"?1:-1}:{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,l=r.handleLabels,u=o.itemSize,f=o.getExtent();K5([0,1],function(g){var v=a[g];v.setStyle("fill",i.handlesColor[g]),v.y=t[g];var _=Pp(t[g],[0,u[1]],f,!0),S=this.getControllerVisual(_,"symbolSize");v.scaleX=v.scaleY=S/u[0],v.x=u[0]-S/2;var A=vc(r.handleLabelPoints[g],Wc(v,this.group));l[g].setStyle({x:A[0],y:A[1],text:o.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,o){var a=this.visualMapModel,l=a.getExtent(),u=a.itemSize,f=[0,u[1]],g=this._shapes,v=g.indicator;if(v){v.attr("invisible",!1);var _=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),S=this.getControllerVisual(t,"symbolSize"),A=Pp(t,l,f,!0),E=u[0]-S/2,D={x:v.x,y:v.y};v.y=A,v.x=E;var R=vc(g.indicatorLabelPoint,Wc(v,this.group)),z=g.indicatorLabel;z.attr("invisible",!1);var Y=this._applyTransform("left",g.mainGroup),G=this._orient==="horizontal";z.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:G?Y:"middle",align:G?"center":Y});var $={x:E,y:A,style:{fill:_}},Q={style:{x:R[0],y:R[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var et={duration:100,easing:"cubicInOut",additive:!0};v.x=D.x,v.y=D.y,v.animateTo($,et),z.animateTo(Q,et)}else v.attr($),z.attr(Q);this._firstShowIndicator=!1;var ot=this._shapes.handleLabels;if(ot)for(var xt=0;xt<ot.length;xt++)this._api.enterBlur(ot[xt])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,o=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);o[1]=TR(NL(0,o[1]),r[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel,o=r.itemSize;if(r.option.hoverLink){var a=[0,o[1]],l=r.getExtent();t=TR(NL(a[0],t),a[1]);var u=function(E,D,R){var z=6,Y=E.get("hoverLinkDataSize");return Y&&(z=Pp(Y,D,R,!0)/2),z}(r,l,a),f=[t-u,t+u],g=Pp(t,a,l,!0),v=[Pp(f[0],a,l,!0),Pp(f[1],a,l,!0)];f[0]<a[0]&&(v[0]=-1/0),f[1]>a[1]&&(v[1]=1/0),i&&(v[0]===-1/0?this._showIndicator(g,v[1],"< ",u):v[1]===1/0?this._showIndicator(g,v[0],"> ",u):this._showIndicator(g,g,"\u2248 ",u));var _=this._hoverLinkDataIndices,S=[];(i||ER(r))&&(S=this._hoverLinkDataIndices=r.findTargetDataIndices(v));var A=function(E,D){var R={},z={};return Y(E||[],R),Y(D||[],z,R),[G(R),G(z)];function Y($,Q,et){for(var ot=0,xt=$.length;ot<xt;ot++){var St=wa($[ot].seriesId,null);if(St==null)return;for(var Mt=oo($[ot].dataIndex),Bt=et&&et[St],Zt=0,se=Mt.length;Zt<se;Zt++){var pe=Mt[Zt];Bt&&Bt[pe]?Bt[pe]=null:(Q[St]||(Q[St]={}))[pe]=1}}}function G($,Q){var et=[];for(var ot in $)if($.hasOwnProperty(ot)&&$[ot]!=null)if(Q)et.push(+ot);else{var xt=G($[ot],!0);xt.length&&et.push({seriesId:ot,dataIndex:xt})}return et}}(_,S);this._dispatchHighDown("downplay",CE(A[0],r)),this._dispatchHighDown("highlight",CE(A[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(wc(t.target,function(u){var f=lr(u);if(f.dataIndex!=null)return i=f,!0},!0),i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var a=r.getData(i.dataType),l=a.getStore().get(o.getDataDimensionIndex(a),i.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",CE(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,o){var a=Wc(i,o?null:this.group);return Be(t)?vc(t,a,r):rv(t,a,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(kR);function IR(n,e,t,i){return new Zs({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){Ie(r.event)},ondragend:i})}function ER(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function OR(n){return n==="vertical"?"ns-resize":"ew-resize"}var J5={type:"selectDataRange",event:"dataRangeSelected",update:"update"},tF=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},eF=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r,o,a,l,u,f=n.pipelineContext;!i.isTargetSeries(n)||f&&f.large||t.push((r=i.stateList,o=i.targetVisuals,a=Te(i.getValueState,i),l=i.getDataDimensionIndex(n.getData()),u={},ht(r,function(g){var v=ts.prepareVisualTypes(o[g]);u[g]=v}),{progress:function(g,v){var _,S;function A(xt){return zv(v,S,xt)}function E(xt,St){Vw(v,S,xt,St)}l!=null&&(_=v.getDimensionIndex(l));for(var D=v.getStore();(S=g.next())!=null;){var R=v.getRawDataItem(S);if(!R||R.visualMap!==!1)for(var z=l!=null?D.get(_,S):S,Y=a(z),G=o[Y],$=u[Y],Q=0,et=$.length;Q<et;Q++){var ot=$[Q];G[ot]&&G[ot].applyVisual(z,A,E)}}}}))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(Te(nF,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(t);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function nF(n,e,t,i){for(var r=e.targetVisuals[i],o=ts.prepareVisualTypes(r),a={color:ep(n.getData(),"color")},l=0,u=o.length;l<u;l++){var f=o[l],g=r[f==="opacity"?"__alphaForOpacity":f];g&&g.applyVisual(t,v,_)}return a.color;function v(S){return a[S]}function _(S,A){a[S]=A}}var DR=ht;function iF(n){var e=n&&n.visualMap;Be(e)||(e=e?[e]:[]),DR(e,function(t){if(t){c_(t,"splitList")&&!c_(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&Be(i)&&DR(i,function(r){di(r)&&(c_(r,"start")&&!c_(r,"min")&&(r.min=r.start),c_(r,"end")&&!c_(r,"max")&&(r.max=r.end))})}})}function c_(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var LR=!1;function PR(n){LR||(LR=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(J5,tF),ht(eF,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(iF))}function NR(n){n.registerComponentModel(Z5),n.registerComponentView(Q5),PR(n)}var rF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return Tt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],oF[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual(function(a,l){r==="categories"?(a.mappingMethod="category",a.categories=Kt(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=lt(this._pieceList,function(u){return u=Kt(u),l!=="inRange"&&(u.visual=null),u}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=ts.listVisualTypes(),o=this.isCategory();function a(l,u,f){return l&&l[u]&&l[u].hasOwnProperty(f)}ht(t.pieces,function(l){ht(r,function(u){l.hasOwnProperty(u)&&(i[u]=1)})}),ht(i,function(l,u){var f=!1;ht(this.stateList,function(g){f=f||a(t,g,u)||a(t.target,g,u)},this),!f&&ht(this.stateList,function(g){(t[g]||(t[g]={}))[u]=xR(u,g==="inRange"?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,o=this._pieceList,a=(i?r:t).selected||{};if(r.selected=a,ht(o,function(u,f){var g=this.getSelectedMapKey(u);a.hasOwnProperty(g)||(a[g]=!0)},this),r.selectedMode==="single"){var l=!1;ht(o,function(u,f){var g=this.getSelectedMapKey(u);a[g]&&(l?a[g]=!1:l=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Kt(t)},e.prototype.getValueState=function(t){var i=ts.findPieceIndex(t,this._pieceList);return i!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],l=o.getData();l.each(this.getDataDimensionIndex(l),function(u,f){ts.findPieceIndex(u,r)===t&&a.push(f)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(t.value!=null)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var l=a[0].interval[0];l!==-1/0&&a.unshift({interval:[-1/0,l]}),(l=a[a.length-1].interval[1])!==1/0&&a.push({interval:[l,1/0]})}else a.push({interval:[-1/0,1/0]});var u=-1/0;return ht(a,function(g){var v=g.interval;v&&(v[0]>u&&f([u,v[0]],"outOfRange"),f(v.slice()),u=v[1])},this),{stops:i,outerColors:r}}function f(g,v){var _=o.getRepresentValue({interval:g});v||(v=o.getValueState(_));var S=t(_,v);g[0]===-1/0?r[0]=S:g[1]===1/0?r[1]=S:i.push({value:g[0],color:S},{value:g[1],color:S})}},e.type="visualMap.piecewise",e.defaultOption=xu(SE.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(SE),oF={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,l=i[0];a<r;l+=o,a++){var u=a===r-1?i[1]:l+o;n.push({interval:[l,u],close:[1,1]})}e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),Fm(n),ht(n,function(f,g){f.index=g,f.text=this.formatValueText(f.interval)},this)},categories:function(n){var e=this.option;ht(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),RR(e,n)},pieces:function(n){var e=this.option;ht(e.pieces,function(t,i){di(t)||(t={value:t});var r={text:"",index:i};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],l=r.close=[0,0],u=[1,0,1],f=[-1/0,1/0],g=[],v=0;v<2;v++){for(var _=[["gte","gt","min"],["lte","lt","max"]][v],S=0;S<3&&a[v]==null;S++)a[v]=t[_[S]],l[v]=u[S],g[v]=S===2;a[v]==null&&(a[v]=f[v])}g[0]&&a[1]===1/0&&(l[0]=0),g[1]&&a[0]===-1/0&&(l[1]=0),a[0]===a[1]&&l[0]&&l[1]&&(r.value=a[0])}r.visual=ts.retrieveVisuals(t),n.push(r)},this),RR(e,n),Fm(n),ht(n,function(t){var i=t.close,r=[["<","\u2264"][i[1]],[">","\u2265"][i[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,r)},this)}};function RR(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var aF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),l=o.getTextColor(),u=this._getItemAlign(),f=i.itemSize,g=this._getViewData(),v=g.endsText,_=zi(i.get("showLabel",!0),!v);v&&this._renderEndsText(t,v[0],f,_,u),ht(g.viewPieceList,function(S){var A=S.piece,E=new Di;E.onclick=Te(this._onItemClick,this,A),this._enableHoverLink(E,S.indexInModelPieceList);var D=i.getRepresentValue(A);if(this._createItemSymbol(E,D,[0,0,f[0],f[1]]),_){var R=this.visualMapModel.getValueState(D);E.add(new $r({style:{x:u==="right"?-r:f[0]+r,y:f[1]/2,text:A.text,verticalAlign:"middle",align:u,font:a,fill:l,opacity:R==="outOfRange"?.5:1}}))}t.add(E)},this),v&&this._renderEndsText(t,v[1],f,_,u),Zd(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var l=r.visualMapModel;l.option.hoverLink&&r.api.dispatchAction({type:a,batch:CE(l.findTargetDataIndices(i),l)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if(i.orient==="vertical")return MR(t,this.api,t.itemSize);var r=i.align;return r&&r!=="auto"||(r="left"),r},e.prototype._renderEndsText=function(t,i,r,o,a){if(i){var l=new Di,u=this.visualMapModel.textStyleModel;l.add(new $r({style:Do(u,{x:o?a==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i})})),t.add(l)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=lt(t.getPieceList(),function(l,u){return{piece:l,indexInModelPieceList:u}}),r=t.get("text"),o=t.get("orient"),a=t.get("inverse");return(o==="horizontal"?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(va(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var a=Kt(r.selected),l=i.getSelectedMapKey(t);o==="single"||o===!0?(a[l]=!0,ht(a,function(u,f){a[f]=f===l})):a[l]=!a[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},e.type="visualMap.piecewise",e}(kR);function BR(n){n.registerComponentModel(rF),n.registerComponentView(aF),PR(n)}var sF={label:{enabled:!0},decal:{show:!1}},zR=Hr(),lF={};function cF(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=Kt(sF);ne(i.label,n.getLocaleModel().get("aria"),!1),ne(t.option,i,!1),function(){if(t.getModel("decal").get("show")){var o=ze();n.eachSeries(function(a){if(!a.isColorBySeries()){var l=o.get(a.type);l||(l={},o.set(a.type,l)),zR(a).scope=l}}),n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a))if(Ge(a.enableAriaDecal))a.enableAriaDecal();else{var l=a.getData();if(a.isColorBySeries()){var u=Sv(a.ecModel,a.name,lF,n.getSeriesCount()),f=l.getVisual("decal");l.setVisual("decal",A(f,u))}else{var g=a.getRawData(),v={},_=zR(a).scope;l.each(function(E){var D=l.getRawIndex(E);v[D]=E});var S=g.count();g.each(function(E){var D=v[E],R=g.getName(E)||E+"",z=Sv(a.ecModel,R,_,S),Y=l.getItemVisual(D,"decal");l.setItemVisual(D,"decal",A(Y,z))})}}function A(E,D){var R=E?me(me({},D),E):D;return R.dirty=!0,R}})}}(),function(){var o=n.getLocaleModel().get("aria"),a=t.getModel("label");if(a.option=Ne(a.option,o),!!a.get("enabled")){var l=e.getZr().dom;if(a.get("description"))return void l.setAttribute("aria-label",a.get("description"));var u,f=n.getSeriesCount(),g=a.get(["data","maxCount"])||10,v=a.get(["series","maxCount"])||10,_=Math.min(f,v);if(!(f<1)){var S=function(){var z=n.get("title");return z&&z.length&&(z=z[0]),z&&z.text}();u=S?r(a.get(["general","withTitle"]),{title:S}):a.get(["general","withoutTitle"]);var A=[];u+=r(f>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]),{seriesCount:f}),n.eachSeries(function(z,Y){if(Y<_){var G=void 0,$=z.get("name")?"withName":"withoutName";G=r(G=f>1?a.get(["series","multiple",$]):a.get(["series","single",$]),{seriesId:z.seriesIndex,seriesName:z.get("name"),seriesType:(se=z.subType,n.getLocaleModel().get(["series","typeNames"])[se]||"\u81EA\u5B9A\u4E49\u56FE")});var Q=z.getData();Q.count()>g?G+=r(a.get(["data","partialData"]),{displayCnt:g}):G+=a.get(["data","allData"]);for(var et=a.get(["data","separator","middle"]),ot=a.get(["data","separator","end"]),xt=[],St=0;St<Q.count();St++)if(St<g){var Mt=Q.getName(St),Bt=Q.getValues(St),Zt=a.get(["data",Mt?"withName":"withoutName"]);xt.push(r(Zt,{name:Mt,value:Bt.join(et)}))}G+=xt.join(et)+ot,A.push(G)}var se});var E=a.getModel(["series","multiple","separator"]),D=E.get("middle"),R=E.get("end");u+=A.join(D)+R,l.setAttribute("aria-label",u)}}}()}function r(o,a){if(!Mn(o))return o;var l=o;return ht(a,function(u,f){l=l.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),u)}),l}}function uF(n){if(n&&n.aria){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},ht(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}var FR={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},hF=function(){function n(e){if((this._condVal=Mn(e)?new RegExp(e):xi(e)?e:null)==null){var t="";ro(t)}}return n.prototype.evaluate=function(e){var t=typeof e;return Mn(t)?this._condVal.test(e):!!Ln(t)&&this._condVal.test(e+"")},n}(),dF=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),pF=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),fF=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),gF=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),mF=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),i=e?this.valueParser(t):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(e?i:t))return!1;return!0},n}();function RL(n,e){if(n===!0||n===!1){var t=new dF;return t.value=n,t}var i="";return HR(n)||ro(i),n.and?VR("and",n,e):n.or?VR("or",n,e):n.not?function(r,o){var a=r.not,l="";HR(a)||ro(l);var u=new gF;return u.child=RL(a,o),u.child||ro(l),u}(n,e):function(r,o){for(var a="",l=o.prepareGetValue(r),u=[],f=Qe(r),g=r.parser,v=g?bM(g):null,_=0;_<f.length;_++){var S=f[_];if(S!=="parser"&&!o.valueGetterAttrMap.get(S)){var A=ln(FR,S)?FR[S]:S,E=r[S],D=v?v(E):E,R=xM(A,D)||A==="reg"&&new hF(D);R||ro(a),u.push(R)}}u.length||ro(a);var z=new mF;return z.valueGetterParam=l,z.valueParser=v,z.getValue=o.getValue,z.subCondList=u,z}(n,e)}function VR(n,e,t){var i=e[n],r="";Be(i)||ro(r),i.length||ro(r);var o=n==="and"?new pF:new fF;return o.children=lt(i,function(a){return RL(a,t)}),o.children.length||ro(r),o}function HR(n){return di(n)&&!Fe(n)}var vF=function(){function n(e,t){this._cond=RL(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),yF={type:"echarts:filter",transform:function(n){for(var e,t,i,r=n.upstream,o=(t=n.config,i={valueGetterAttrMap:ze({dimension:!0}),prepareGetValue:function(f){var g="",v=f.dimension;ln(f,"dimension")||ro(g);var _=r.getDimensionInfo(v);return _||ro(g),{dimIdx:_.index}},getValue:function(f){return r.retrieveValueFromItem(e,f.dimIdx)}},new vF(t,i)),a=[],l=0,u=r.count();l<u;l++)e=r.getRawDataItem(l),o.evaluate()&&a.push(e);return{data:a}}},bF={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,i="",r=oo(t);r.length||ro(i);var o=[];ht(r,function(g){var v=g.dimension,_=g.order,S=g.parser,A=g.incomparable;if(v==null&&ro(i),_!=="asc"&&_!=="desc"&&ro(i),A&&A!=="min"&&A!=="max"){var E="";ro(E)}if(_!=="asc"&&_!=="desc"){var D="";ro(D)}var R=e.getDimensionInfo(v);R||ro(i);var z=S?bM(S):null;S&&!z&&ro(i),o.push({dimIdx:R.index,parser:z,comparator:new mw(_,A)})});var a=e.sourceFormat;a!==Os&&a!==bc&&ro(i);for(var l=[],u=0,f=e.count();u<f;u++)l.push(e.getRawDataItem(u));return l.sort(function(g,v){for(var _=0;_<o.length;_++){var S=o[_],A=e.retrieveValueFromItem(g,S.dimIdx),E=e.retrieveValueFromItem(v,S.dimIdx);S.parser&&(A=S.parser(A),E=S.parser(E));var D=S.comparator.evaluate(A,E);if(D!==0)return D}return 0}),{data:l}}},xF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return Tt(e,n),e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new bw(this),xw(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),xw(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:$l},e}(Wr),_F=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return Tt(e,n),e.type="dataset",e}(Ao),Np=mn.CMD;function u_(n,e){return Math.abs(n-e)<1e-5}function BL(n){var e,t,i,r,o,a=n.data,l=n.len(),u=[],f=0,g=0,v=0,_=0;function S(Bt,Zt){e&&e.length>2&&u.push(e),e=[Bt,Zt]}function A(Bt,Zt,se,pe){u_(Bt,se)&&u_(Zt,pe)||e.push(Bt,Zt,se,pe,se,pe)}function E(Bt,Zt,se,pe,be,we){var Re=Math.abs(Zt-Bt),Ze=4*Math.tan(Re/4)/3,Je=Zt<Bt?-1:1,rn=Math.cos(Bt),An=Math.sin(Bt),Yn=Math.cos(Zt),cn=Math.sin(Zt),Pn=rn*be+se,Jn=An*we+pe,Kn=Yn*be+se,Gn=cn*we+pe,ri=be*Ze*Je,qn=we*Ze*Je;e.push(Pn-ri*An,Jn+qn*rn,Kn+ri*cn,Gn-qn*Yn,Kn,Gn)}for(var D=0;D<l;){var R=a[D++],z=D===1;switch(z&&(v=f=a[D],_=g=a[D+1],R!==Np.L&&R!==Np.C&&R!==Np.Q||(e=[v,_])),R){case Np.M:f=v=a[D++],g=_=a[D++],S(v,_);break;case Np.L:A(f,g,t=a[D++],i=a[D++]),f=t,g=i;break;case Np.C:e.push(a[D++],a[D++],a[D++],a[D++],f=a[D++],g=a[D++]);break;case Np.Q:t=a[D++],i=a[D++],r=a[D++],o=a[D++],e.push(f+2/3*(t-f),g+2/3*(i-g),r+2/3*(t-r),o+2/3*(i-o),r,o),f=r,g=o;break;case Np.A:var Y=a[D++],G=a[D++],$=a[D++],Q=a[D++],et=a[D++],ot=a[D++]+et;D+=1;var xt=!a[D++];t=Math.cos(et)*$+Y,i=Math.sin(et)*Q+G,z?S(v=t,_=i):A(f,g,t,i),f=Math.cos(ot)*$+Y,g=Math.sin(ot)*Q+G;for(var St=(xt?-1:1)*Math.PI/2,Mt=et;xt?Mt>ot:Mt<ot;Mt+=St)E(Mt,xt?Math.max(Mt+St,ot):Math.min(Mt+St,ot),Y,G,$,Q);break;case Np.R:v=f=a[D++],_=g=a[D++],t=v+a[D++],i=_+a[D++],S(t,_),A(t,_,t,i),A(t,i,v,i),A(v,i,v,_),A(v,_,t,_);break;case Np.Z:e&&A(f,g,v,_),f=v,g=_}}return e&&e.length>2&&u.push(e),u}function zL(n,e,t,i,r,o,a,l,u,f){if(u_(n,t)&&u_(e,i)&&u_(r,a)&&u_(o,l))u.push(a,l);else{var g=2/f,v=g*g,_=a-n,S=l-e,A=Math.sqrt(_*_+S*S);_/=A,S/=A;var E=t-n,D=i-e,R=r-a,z=o-l,Y=E*E+D*D,G=R*R+z*z;if(Y<v&&G<v)u.push(a,l);else{var $=_*E+S*D,Q=-_*R-S*z;if(Y-$*$<v&&$>=0&&G-Q*Q<v&&Q>=0)u.push(a,l);else{var et=[],ot=[];Ir(n,t,r,a,.5,et),Ir(e,i,o,l,.5,ot),zL(et[0],ot[0],et[1],ot[1],et[2],ot[2],et[3],ot[3],u,f),zL(et[4],ot[4],et[5],ot[5],et[6],ot[6],et[7],ot[7],u,f)}}}}function WR(n,e,t){var i=n[e],r=n[1-e],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*t)),l=Math.floor(t/a);l===0&&(l=1,a=t);for(var u=[],f=0;f<a;f++)u.push(l);var g=t-a*l;if(g>0)for(f=0;f<g;f++)u[f%a]+=1;return u}function jR(n,e,t){for(var i=n.r0,r=n.r,o=n.startAngle,a=n.endAngle,l=Math.abs(a-o),u=l*r,f=r-i,g=u>Math.abs(f),v=WR([u,f],g?0:1,e),_=(g?l:f)/v.length,S=0;S<v.length;S++)for(var A=(g?f:l)/v[S],E=0;E<v[S];E++){var D={};g?(D.startAngle=o+_*S,D.endAngle=o+_*(S+1),D.r0=i+A*E,D.r=i+A*(E+1)):(D.startAngle=o+A*E,D.endAngle=o+A*(E+1),D.r0=i+_*S,D.r=i+_*(S+1)),D.clockwise=n.clockwise,D.cx=n.cx,D.cy=n.cy,t.push(D)}}function YR(n,e,t,i){return n*i-t*e}function wF(n,e,t,i,r,o,a,l){var u=t-n,f=i-e,g=a-r,v=l-o,_=YR(g,v,u,f);if(Math.abs(_)<1e-6)return null;var S=YR(n-r,e-o,g,v)/_;return S<0||S>1?null:new Gi(S*u+n,S*f+e)}function SF(n,e,t){var i=new Gi;Gi.sub(i,t,e),i.normalize();var r=new Gi;return Gi.sub(r,n,e),r.dot(i)}function h_(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function GR(n){var e=n.points,t=[],i=[];Sa(e,t,i);var r=new yr(t[0],t[1],i[0]-t[0],i[1]-t[1]),o=r.width,a=r.height,l=r.x,u=r.y,f=new Gi,g=new Gi;return o>a?(f.x=g.x=l+o/2,f.y=u,g.y=u+a):(f.y=g.y=u+a/2,f.x=l,g.x=l+o),function(v,_,S){for(var A=v.length,E=[],D=0;D<A;D++){var R=v[D],z=v[(D+1)%A],Y=wF(R[0],R[1],z[0],z[1],_.x,_.y,S.x,S.y);Y&&E.push({projPt:SF(Y,_,S),pt:Y,idx:D})}if(E.length<2)return[{points:v},{points:v}];E.sort(function(Mt,Bt){return Mt.projPt-Bt.projPt});var G=E[0],$=E[E.length-1];if($.idx<G.idx){var Q=G;G=$,$=Q}var et=[G.pt.x,G.pt.y],ot=[$.pt.x,$.pt.y],xt=[et],St=[ot];for(D=G.idx+1;D<=$.idx;D++)h_(xt,v[D].slice());for(h_(xt,ot),h_(xt,et),D=$.idx+1;D<=G.idx+A;D++)h_(St,v[D%A].slice());return h_(St,et),h_(St,ot),[{points:xt},{points:St}]}(e,f,g)}function kE(n,e,t,i){if(t===1)i.push(e);else{var r=Math.floor(t/2),o=n(e);kE(n,o[0],r,i),kE(n,o[1],t-r,i)}return i}function CF(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function kF(n,e){var t,i=[],r=n.shape;switch(n.type){case"rect":(function(R,z,Y){for(var G=R.width,$=R.height,Q=G>$,et=WR([G,$],Q?0:1,z),ot=Q?"width":"height",xt=Q?"height":"width",St=Q?"x":"y",Mt=Q?"y":"x",Bt=R[ot]/et.length,Zt=0;Zt<et.length;Zt++)for(var se=R[xt]/et[Zt],pe=0;pe<et[Zt];pe++){var be={};be[St]=Zt*Bt,be[Mt]=pe*se,be[ot]=Bt,be[xt]=se,be.x+=R.x,be.y+=R.y,Y.push(be)}})(r,e,i),t=Ur;break;case"sector":jR(r,e,i),t=$s;break;case"circle":jR({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),t=$s;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,l=lt(function(R,z){var Y=BL(R),G=[];z=z||1;for(var $=0;$<Y.length;$++){var Q=Y[$],et=[],ot=Q[0],xt=Q[1];et.push(ot,xt);for(var St=2;St<Q.length;){var Mt=Q[St++],Bt=Q[St++],Zt=Q[St++],se=Q[St++],pe=Q[St++],be=Q[St++];zL(ot,xt,Mt,Bt,Zt,se,pe,be,et,z),ot=pe,xt=be}G.push(et)}return G}(n.getUpdatedPathProxy(),a),function(R){return function(z){for(var Y=[],G=0;G<z.length;)Y.push([z[G++],z[G++]]);return Y}(R)}),u=l.length;if(u===0)kE(GR,{points:l[0]},e,i);else if(u===e)for(var f=0;f<u;f++)i.push({points:l[f]});else{var g=0,v=lt(l,function(R){var z=[],Y=[];Sa(R,z,Y);var G=(Y[1]-z[1])*(Y[0]-z[0]);return g+=G,{poly:R,area:G}});v.sort(function(R,z){return z.area-R.area});var _=e;for(f=0;f<u;f++){var S=v[f];if(_<=0)break;var A=f===u-1?_:Math.ceil(S.area/g*e);A<0||(kE(GR,{points:S.poly},A,i),_-=A)}}t=Zs}if(!t)return function(R,z){for(var Y=[],G=0;G<z;G++)Y.push(N0(R));return Y}(n,e);var E=[];for(f=0;f<i.length;f++){var D=new t;D.setShape(i[f]),CF(n,D),E.push(D)}return E}function AF(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],o=[],a=t<i?n:e,l=Math.min(t,i),u=Math.abs(i-t)/6,f=(l-2)/6,g=Math.ceil(u/f)+1,v=[a[0],a[1]],_=u,S=2;S<l;){var A=a[S-2],E=a[S-1],D=a[S++],R=a[S++],z=a[S++],Y=a[S++],G=a[S++],$=a[S++];if(_<=0)v.push(D,R,z,Y,G,$);else{for(var Q=Math.min(_,g-1)+1,et=1;et<=Q;et++){var ot=et/Q;Ir(A,D,z,G,ot,r),Ir(E,R,Y,$,ot,o),A=r[3],E=o[3],v.push(r[1],o[1],r[2],o[2],A,E),D=r[5],R=o[5],z=r[6],Y=o[6]}_-=Q-1}}return a===n?[v,e]:[n,v]}function XR(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function qR(n){for(var e=0,t=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var l=n[a],u=n[a+1],f=n[o],g=n[o+1],v=l*g-f*u;e+=v,t+=(l+f)*v,i+=(u+g)*v}return e===0?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function MF(n,e,t,i){for(var r=(n.length-2)/6,o=1/0,a=0,l=n.length,u=l-2,f=0;f<r;f++){for(var g=6*f,v=0,_=0;_<l;_+=2){var S=_===0?g:(g+_-2)%u+2,A=n[S]-t[0],E=n[S+1]-t[1],D=e[_]-i[0]-A,R=e[_+1]-i[1]-E;v+=D*D+R*R}v<o&&(o=v,a=f)}return a}function TF(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function AE(n){return n.__isCombineMorphing}var UR="__mOriginal_";function ME(n,e,t){var i=UR+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var o=t.replace,a=t.after,l=t.before;n[e]=function(){var u,f=arguments;return l&&l.apply(this,f),u=o?o.apply(this,f):r.apply(this,f),a&&a.apply(this,f),u}}function fA(n,e){var t=UR+e;n[t]&&(n[e]=n[t],n[t]=null)}function $R(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function ZR(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(v,_){for(var S,A,E,D=[],R=[],z=0;z<Math.max(v.length,_.length);z++){var Y=v[z],G=_[z],$=void 0,Q=void 0;Y?G?(A=$=(S=AF(Y,G))[0],E=Q=S[1]):(Q=XR(E||Y,Y),$=Y):($=XR(A||G,G),Q=G),D.push($),R.push(Q)}return[D,R]}(BL(t),BL(i)),o=r[0],a=r[1],l=n.getComputedTransform(),u=e.getComputedTransform();l&&$R(o,l),u&&$R(a,u),ME(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var f=function(v,_,S,A){for(var E,D=[],R=0;R<v.length;R++){var z=v[R],Y=_[R],G=qR(z),$=qR(Y);E==null&&(E=G[2]<0!=$[2]<0);var Q=[],et=[],ot=0,xt=1/0,St=[],Mt=z.length;E&&(z=TF(z));for(var Bt=6*MF(z,Y,G,$),Zt=Mt-2,se=0;se<Zt;se+=2){var pe=(Bt+se)%Zt+2;Q[se+2]=z[pe]-G[0],Q[se+3]=z[pe+1]-G[1]}if(Q[0]=z[Bt]-G[0],Q[1]=z[Bt+1]-G[1],S>0)for(var be=A/S,we=-A/2;we<=A/2;we+=be){var Re=Math.sin(we),Ze=Math.cos(we),Je=0;for(se=0;se<z.length;se+=2){var rn=Q[se],An=Q[se+1],Yn=Y[se]-$[0],cn=Y[se+1]-$[1],Pn=Yn*Ze-cn*Re,Jn=Yn*Re+cn*Ze;St[se]=Pn,St[se+1]=Jn;var Kn=Pn-rn,Gn=Jn-An;Je+=Kn*Kn+Gn*Gn}if(Je<xt){xt=Je,ot=we;for(var ri=0;ri<St.length;ri++)et[ri]=St[ri]}}else for(var qn=0;qn<Mt;qn+=2)et[qn]=Y[qn]-$[0],et[qn+1]=Y[qn+1]-$[1];D.push({from:Q,to:et,fromCp:G,toCp:$,rotation:-ot})}return D}(o,a,10,Math.PI),g=[];ME(e,"buildPath",{replace:function(v){for(var _=e.__morphT,S=1-_,A=[],E=0;E<f.length;E++){var D=f[E],R=D.from,z=D.to,Y=D.rotation*_,G=D.fromCp,$=D.toCp,Q=Math.sin(Y),et=Math.cos(Y);Wi(A,G,$,_);for(var ot=0;ot<R.length;ot+=2){var xt=R[ot],St=R[ot+1],Mt=xt*S+(pe=z[ot])*_,Bt=St*S+(be=z[ot+1])*_;g[ot]=Mt*et-Bt*Q+A[0],g[ot+1]=Mt*Q+Bt*et+A[1]}var Zt=g[0],se=g[1];for(v.moveTo(Zt,se),ot=2;ot<R.length;){var pe=g[ot++],be=g[ot++],we=g[ot++],Re=g[ot++],Ze=g[ot++],Je=g[ot++];Zt===pe&&se===be&&we===Ze&&Re===Je?v.lineTo(Ze,Je):v.bezierCurveTo(pe,be,we,Re,Ze,Je),Zt=Ze,se=Je}}}})}function FL(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;return ZR(n,e),e.__morphT=0,e.animateTo({__morphT:1},Ne({during:function(o){e.dirtyShape(),r&&r(o)},done:function(){fA(e,"buildPath"),fA(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},t)),e}function IF(n,e,t,i,r,o){n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a,l=0,u=32768;u>0;u/=2){var f=0,g=0;(n&u)>0&&(f=1),(e&u)>0&&(g=1),l+=u*u*(3*f^g),g===0&&(f===1&&(n=u-1-n,e=u-1-e),a=n,n=e,e=a)}return l}function TE(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,o=lt(n,function(a){var l=a.getBoundingRect(),u=a.getComputedTransform(),f=l.x+l.width/2+(u?u[4]:0),g=l.y+l.height/2+(u?u[5]:0);return e=Math.min(f,e),t=Math.min(g,t),i=Math.max(f,i),r=Math.max(g,r),[f,g]});return lt(o,function(a,l){return{cp:a,z:IF(a[0],a[1],e,t,i,r),path:n[l]}}).sort(function(a,l){return a.z-l.z}).map(function(a){return a.path})}function KR(n){return kF(n.path,n.count)}function QR(n){return Be(n[0])}function JR(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)t[a%i].many.push(e[r][a])}var l=0;for(r=i-1;r>=0;r--)if(!t[r].many.length){var u=t[l].many;if(u.length<=1){if(!l)return t;l=0}o=u.length;var f=Math.ceil(o/2);t[r].many=u.slice(f,o),t[l].many=u.slice(0,f),l++}return t}var EF={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=N0(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function VL(n,e,t,i,r,o){if(n.length&&e.length){var a=Ig("update",i,r);if(a&&a.duration>0){var l,u,f=i.getModel("universalTransition").get("delay"),g=Object.assign({setToFinal:!0},a);QR(n)&&(l=n,u=e),QR(e)&&(l=e,u=n);for(var v=l?l===n:n.length>e.length,_=l?JR(u,l):JR(v?e:n,[v?n:e]),S=0,A=0;A<_.length;A++)S+=_[A].many.length;var E=0;for(A=0;A<_.length;A++)D(_[A],v,E,S),E+=_[A].many.length}}function D(R,z,Y,G,$){var Q=R.many,et=R.one;if(Q.length!==1||$)for(var ot=Ne({dividePath:EF[t],individualDelay:f&&function(we,Re,Ze,Je){return f(we+Y,G)}},g),xt=z?function(we,Re,Ze){var Je=[];(function zr(Jr){for(var so=0;so<Jr.length;so++){var Yo=Jr[so];AE(Yo)?zr(Yo.childrenRef()):Yo instanceof pr&&Je.push(Yo)}})(we);var rn=Je.length;if(!rn)return{fromIndividuals:[],toIndividuals:[],count:0};var An=(Ze.dividePath||KR)({path:Re,count:rn});if(An.length!==rn)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Je=TE(Je),An=TE(An);for(var Yn=Ze.done,cn=Ze.during,Pn=Ze.individualDelay,Jn=new Wo,Kn=0;Kn<rn;Kn++){var Gn=Je[Kn],ri=An[Kn];ri.parent=Re,ri.copyTransform(Jn),Pn||ZR(Gn,ri)}function qn(zr){for(var Jr=0;Jr<An.length;Jr++)An[Jr].addSelfToZr(zr)}function li(){Re.__isCombineMorphing=!1,Re.__morphT=-1,Re.childrenRef=null,fA(Re,"addSelfToZr"),fA(Re,"removeSelfFromZr")}Re.__isCombineMorphing=!0,Re.childrenRef=function(){return An},ME(Re,"addSelfToZr",{after:function(zr){qn(zr)}}),ME(Re,"removeSelfFromZr",{after:function(zr){for(var Jr=0;Jr<An.length;Jr++)An[Jr].removeSelfFromZr(zr)}});var Ai=An.length;if(Pn){var cr=Ai,kr=function(){--cr==0&&(li(),Yn&&Yn())};for(Kn=0;Kn<Ai;Kn++){var So=Pn?Ne({delay:(Ze.delay||0)+Pn(Kn,Ai,Je[Kn],An[Kn]),done:kr},Ze):Ze;FL(Je[Kn],An[Kn],So)}}else Re.__morphT=0,Re.animateTo({__morphT:1},Ne({during:function(zr){for(var Jr=0;Jr<Ai;Jr++){var so=An[Jr];so.__morphT=Re.__morphT,so.dirtyShape()}cn&&cn(zr)},done:function(){li();for(var zr=0;zr<we.length;zr++)fA(we[zr],"updateTransform");Yn&&Yn()}},Ze));return Re.__zr&&qn(Re.__zr),{fromIndividuals:Je,toIndividuals:An,count:Ai}}(Q,et,ot):function(we,Re,Ze){var Je=Re.length,rn=[],An=Ze.dividePath||KR;if(AE(we)){(function ri(qn){for(var li=0;li<qn.length;li++){var Ai=qn[li];AE(Ai)?ri(Ai.childrenRef()):Ai instanceof pr&&rn.push(Ai)}})(we.childrenRef());var Yn=rn.length;if(Yn<Je)for(var cn=0,Pn=Yn;Pn<Je;Pn++)rn.push(N0(rn[cn++%Yn]));rn.length=Je}else{rn=An({path:we,count:Je});var Jn=we.getComputedTransform();for(Pn=0;Pn<rn.length;Pn++)rn[Pn].setLocalTransform(Jn);if(rn.length!==Je)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}rn=TE(rn),Re=TE(Re);var Kn=Ze.individualDelay;for(Pn=0;Pn<Je;Pn++){var Gn=Kn?Ne({delay:(Ze.delay||0)+Kn(Pn,Je,rn[Pn],Re[Pn])},Ze):Ze;FL(rn[Pn],Re[Pn],Gn)}return{fromIndividuals:rn,toIndividuals:Re,count:Re.length}}(et,Q,ot),St=xt.fromIndividuals,Mt=xt.toIndividuals,Bt=St.length,Zt=0;Zt<Bt;Zt++)se=f?Ne({delay:f(Zt,Bt)},g):g,o(St[Zt],Mt[Zt],z?Q[Zt]:R.one,z?R.one:Q[Zt],se);else{var se,pe=z?Q[0]:et,be=z?et:Q[0];AE(pe)?D({many:[pe],one:be},!0,Y,G,!0):(FL(pe,be,se=f?Ne({delay:f(Y,G)},g):g),o(pe,be,pe,be,se))}}}function v0(n){if(!n)return[];if(Be(n)){for(var e=[],t=0;t<n.length;t++)e.push(v0(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof pr&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var OF=Hr();function tB(n){var e=[];return ht(n,function(t){var i=t.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(l){for(var u=l.dimensions,f=0;f<u.length;f++){var g=l.getDimensionInfo(u[f]);if(g&&g.otherDims.itemGroupId===0)return u[f]}}(i),a=0;a<r.length;a++)e.push({dataGroupId:t.dataGroupId,data:i,dim:t.dim||o,divide:t.divide,dataIndex:a})}),e}function HL(n,e,t){n.traverse(function(i){i instanceof pr&&To(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function WL(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function d_(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function DF(n,e,t){var i=Ig("update",t,e);i&&n.traverse(function(r){if(r instanceof Ka){var o=function(a){return R_(a).oldStyle}(r);o&&r.animateFrom({style:o},i)}})}function eB(n,e,t){var i=tB(n),r=tB(e);function o(R,z,Y,G,$){(Y||R)&&z.animateFrom({style:Y&&Y!==R?me(me({},Y.style),R.style):R.style},$)}function a(R){for(var z=0;z<R.length;z++)if(R[z].dim)return R[z].dim}var l=a(i),u=a(r),f=!1;function g(R,z){return function(Y){var G=Y.data,$=Y.dataIndex;if(z)return G.getId($);var Q=Y.dataGroupId,et=R?l||u:u||l,ot=et&&G.getDimensionInfo(et),xt=ot&&ot.ordinalMeta;if(ot){var St=G.get(ot.name,$);return xt&&xt.categories[St]||St+""}var Mt=G.getRawDataItem($);return Mt&&Mt.groupId?Mt.groupId+"":Q||G.getId($)}}var v=function(R,z){var Y=R.length;if(Y!==z.length)return!1;for(var G=0;G<Y;G++){var $=R[G],Q=z[G];if($.data.getId($.dataIndex)!==Q.data.getId(Q.dataIndex))return!1}return!0}(i,r),_={};if(!v)for(var S=0;S<r.length;S++){var A=r[S],E=A.data.getItemGraphicEl(A.dataIndex);E&&(_[E.id]=!0)}function D(R,z){var Y=i[z],G=r[R],$=G.data.hostModel,Q=Y.data.getItemGraphicEl(Y.dataIndex),et=G.data.getItemGraphicEl(G.dataIndex);Q!==et?Q&&_[Q.id]||et&&(d_(et),Q?(d_(Q),WL(Q),f=!0,VL(v0(Q),v0(et),G.divide,$,R,o)):HL(et,$,R)):et&&DF(et,G.dataIndex,$)}new Eu(i,r,g(!0,v),g(!1,v),null,"multiple").update(D).updateManyToOne(function(R,z){var Y=r[R],G=Y.data,$=G.hostModel,Q=G.getItemGraphicEl(Y.dataIndex),et=en(lt(z,function(ot){return i[ot].data.getItemGraphicEl(i[ot].dataIndex)}),function(ot){return ot&&ot!==Q&&!_[ot.id]});Q&&(d_(Q),et.length?(ht(et,function(ot){d_(ot),WL(ot)}),f=!0,VL(v0(et),v0(Q),Y.divide,$,R,o)):HL(Q,$,Y.dataIndex))}).updateOneToMany(function(R,z){var Y=i[z],G=Y.data.getItemGraphicEl(Y.dataIndex);if(!G||!_[G.id]){var $=en(lt(R,function(et){return r[et].data.getItemGraphicEl(r[et].dataIndex)}),function(et){return et&&et!==G}),Q=r[R[0]].data.hostModel;$.length&&(ht($,function(et){return d_(et)}),G?(d_(G),WL(G),f=!0,VL(v0(G),v0($),Y.divide,Q,R[0],o)):ht($,function(et){return HL(et,Q,R[0])}))}}).updateManyToMany(function(R,z){new Eu(z,R,function(Y){return i[Y].data.getId(i[Y].dataIndex)},function(Y){return r[Y].data.getId(r[Y].dataIndex)}).update(function(Y,G){D(R[Y],z[G])}).execute()}).execute(),f&&ht(e,function(R){var z=R.data.hostModel,Y=z&&t.getViewOfSeriesModel(z),G=Ig("update",z,0);Y&&z.isAnimationEnabled()&&G&&G.duration>0&&Y.group.traverse(function($){$ instanceof pr&&!$.animators.length&&$.animateFrom({style:{opacity:0}},G)})})}function nB(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function iB(n){return Be(n)?n.sort().join(","):n}function Rm(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function rB(n,e){for(var t=0;t<n.length;t++)if(e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id)return t}Nr([function(n){n.registerPainter("canvas",QT)}]),Nr([function(n){n.registerPainter("svg",vy)}]),Nr([function(n){n.registerChartView(EO),n.registerSeriesModel(JT),n.registerLayout(pm("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,t1("line"))},function(n){n.registerChartView(u2),n.registerSeriesModel(Sy),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,_n(xS,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_S("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,t1("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})},function(n){n.registerChartView(Ay),n.registerSeriesModel(w2),ZM("pie",n.registerAction),n.registerLayout(_n(y2,"pie")),n.registerProcessor(Sp("pie")),n.registerProcessor(function(e){return{seriesType:e,reset:function(t,i){var r=t.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),l=r.get(a,o);return!(Ln(l)&&!isNaN(l)&&l<0)})}}}("pie"))},function(n){Nr(BC),n.registerSeriesModel(S2),n.registerChartView(SC),n.registerLayout(pm("scatter"))},function(n){Nr(FC),n.registerChartView(FO),n.registerSeriesModel(g1),n.registerLayout(zO),n.registerProcessor(Sp("radar")),n.registerPreprocessor(f1)},function(n){Nr(E1),n.registerChartView(qO),n.registerSeriesModel(M1),n.registerLayout(Kc),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,UO),ZM("map",n.registerAction)},function(n){n.registerChartView(JO),n.registerSeriesModel(eD),n.registerLayout(nD),n.registerVisual(dI),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,i){i.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var o=t.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,i,r){i.eachComponent({mainType:"series",subType:"tree",query:t},function(o){var a=ik(o.coordinateSystem,t,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}(n)},function(n){n.registerSeriesModel(iD),n.registerChartView(lD),n.registerVisual(uD),n.registerLayout(V1),function(e){for(var t=0;t<fk.length;t++)e.registerAction({type:fk[t],update:"updateView"},Vn);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,a){var l=Gy(i,["treemapZoomToNode","treemapRootToNode"],o);if(l){var u=o.getViewRoot();u&&(i.direction=pk(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView(dD),n.registerSeriesModel($f),n.registerProcessor(W1),n.registerVisual(_I),n.registerVisual(wI),n.registerLayout(kI),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,hD),n.registerLayout(TI),n.registerCoordinateSystem("graphView",{dimensions:_m.dimensions,create:II}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Vn),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Vn),n.registerAction(RI,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var o=ik(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function(n){n.registerChartView(r0),n.registerSeriesModel(jk)},function(n){n.registerChartView(Q1),n.registerSeriesModel(BI),n.registerLayout(zI),n.registerProcessor(Sp("funnel"))},function(n){Nr(tn),n.registerChartView(FI),n.registerSeriesModel(gD),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,qk)},function(n){n.registerChartView(En),n.registerSeriesModel(In),n.registerLayout(On),n.registerVisual(zu),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(n){n.registerSeriesModel(La),n.registerChartView(Tl),n.registerLayout(nc),n.registerTransform(Dp)},function(n){n.registerChartView(Qf),n.registerSeriesModel(h0),n.registerPreprocessor(nA),n.registerVisual(CD),n.registerLayout(d0)},function(n){n.registerChartView(QI),n.registerSeriesModel(JI),n.registerLayout(pm("effectScatter"))},function(n){n.registerChartView(Ps),n.registerSeriesModel(kD),n.registerLayout(ll),n.registerVisual(jL)},function(n){n.registerChartView(lB),n.registerSeriesModel(cB)},function(n){n.registerChartView(hB),n.registerSeriesModel(fB),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,_n(xS,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_S("pictorialBar"))},function(n){n.registerChartView(gB),n.registerSeriesModel(mB),n.registerLayout(vB),n.registerProcessor(Sp("themeRiver"))},function(n){n.registerChartView(yB),n.registerSeriesModel(bB),n.registerLayout(_n(xB,"sunburst")),n.registerProcessor(_n(Sp,"sunburst")),n.registerVisual(_B),function(e){e.registerAction({type:ID,update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"sunburst",query:t},function(r,o){var a=Gy(t,[ID],r);if(a){var l=r.getViewRoot();l&&(t.direction=pk(l,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),e.registerAction({type:aP,update:"none"},function(t,i,r){t=me({},t),i.eachComponent({mainType:"series",subType:"sunburst",query:t},function(o){var a=Gy(t,[aP],o);a&&(t.dataIndex=a.node.dataIndex)}),r.dispatchAction(me(t,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,i,r){t=me({},t),r.dispatchAction(me(t,{type:"downplay"}))})}(n)},function(n){n.registerChartView(PB),n.registerSeriesModel(SB)}]),Nr(function(n){Nr(BC),Nr(rA)}),Nr(function(n){Nr(rA),Ah.registerAxisPointerClass("PolarAxisPointer",UB),n.registerCoordinateSystem("polar",nz),n.registerComponentModel(ZB),n.registerComponentView(pz),vm(n,"angle",KB,hz),vm(n,"radius",QB,dz),n.registerComponentView(rz),n.registerComponentView(lz),n.registerLayout(_n(uz,"bar"))}),Nr(E1),Nr(function(n){Nr(rA),Ah.registerAxisPointerClass("SingleAxisPointer",wz),n.registerComponentView(Cz),n.registerComponentView(mz),n.registerComponentModel(cE),vm(n,"single",cE,cE.defaultOption),n.registerCoordinateSystem("single",xz)}),Nr(tn),Nr(function(n){n.registerComponentModel(kz),n.registerComponentView(Az),n.registerCoordinateSystem("calendar",Mz)}),Nr(function(n){n.registerComponentModel(Iz),n.registerComponentView(Ez),n.registerPreprocessor(function(e){var t=e.graphic;Be(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),Nr(function(n){n.registerComponentModel(zz),n.registerComponentView(Fz),s_("saveAsImage",Vz),s_("magicType",Wz),s_("dataView",Yz),s_("dataZoom",Zz),s_("restore",Xz),Nr(Bz)}),Nr(function(n){Nr(rA),n.registerComponentModel(Qz),n.registerComponentView(o5),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Vn),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Vn)}),Nr(rA),Nr(function(n){n.registerComponentView(h5),n.registerComponentModel(d5),n.registerPreprocessor(s5),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,l5),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Vn),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Vn),s_("brush",f5)}),Nr(function(n){n.registerComponentModel(g5),n.registerComponentView(m5)}),Nr(function(n){n.registerComponentModel(ZN),n.registerComponentView(b5),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,i,r){var o=i.getComponent("timeline");return o&&t.currentIndex!=null&&(o.setCurrentIndex(t.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Ne({currentIndex:o.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,i){var r=i.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}(n),n.registerPreprocessor(x5)}),Nr(function(n){n.registerComponentModel(_5),n.registerComponentView(w5),n.registerPreprocessor(function(e){bL(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),Nr(function(n){n.registerComponentModel(S5),n.registerComponentView(A5),n.registerPreprocessor(function(e){bL(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),Nr(function(n){n.registerComponentModel(M5),n.registerComponentView(E5),n.registerPreprocessor(function(e){bL(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),Nr(function(n){Nr(hR),Nr(P5)}),Nr(function(n){Nr(mR),Nr(bR)}),Nr(mR),Nr(bR),Nr(function(n){Nr(NR),Nr(BR)}),Nr(NR),Nr(BR),Nr(function(n){n.registerPreprocessor(uF),n.registerVisual(n.PRIORITY.VISUAL.ARIA,cF)}),Nr(function(n){n.registerTransform(yF),n.registerTransform(bF)}),Nr(function(n){n.registerComponentModel(xF),n.registerComponentView(_F)}),Nr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){ht(oo(i.seriesTransition),function(r){ht(oo(r.to),function(o){for(var a=i.updatedSeries,l=0;l<a.length;l++)(o.seriesIndex!=null&&o.seriesIndex===a[l].seriesIndex||o.seriesId!=null&&o.seriesId===a[l].id)&&(a[l][qg]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=OF(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)ht(oo(o),function(S){(function(A,E,D,R){var z=[],Y=[];ht(oo(A.from),function(G){var $=rB(E.oldSeries,G);$>=0&&z.push({dataGroupId:E.oldDataGroupIds[$],data:E.oldData[$],divide:Rm(E.oldData[$]),dim:G.dimension})}),ht(oo(A.to),function(G){var $=rB(D.updatedSeries,G);if($>=0){var Q=D.updatedSeries[$].getData();Y.push({dataGroupId:E.oldDataGroupIds[$],data:Q,divide:Rm(Q),dim:G.dimension})}}),z.length>0&&Y.length>0&&eB(z,Y,R)})(S,r,i,t)});else{var a=function(S,A){var E=ze(),D=ze(),R=ze();return ht(S.oldSeries,function(z,Y){var G=S.oldDataGroupIds[Y],$=S.oldData[Y],Q=nB(z),et=iB(Q);D.set(et,{dataGroupId:G,data:$}),Be(Q)&&ht(Q,function(ot){R.set(ot,{key:et,dataGroupId:G,data:$})})}),ht(A.updatedSeries,function(z){if(z.isUniversalTransitionEnabled()&&z.isAnimationEnabled()){var Y=z.get("dataGroupId"),G=z.getData(),$=nB(z),Q=iB($),et=D.get(Q);if(et)E.set(Q,{oldSeries:[{dataGroupId:et.dataGroupId,divide:Rm(et.data),data:et.data}],newSeries:[{dataGroupId:Y,divide:Rm(G),data:G}]});else if(Be($)){var ot=[];ht($,function(Mt){var Bt=D.get(Mt);Bt.data&&ot.push({dataGroupId:Bt.dataGroupId,divide:Rm(Bt.data),data:Bt.data})}),ot.length&&E.set(Q,{oldSeries:ot,newSeries:[{dataGroupId:Y,data:G,divide:Rm(G)}]})}else{var xt=R.get($);if(xt){var St=E.get(xt.key);St||(St={oldSeries:[{dataGroupId:xt.dataGroupId,data:xt.data,divide:Rm(xt.data)}],newSeries:[]},E.set(xt.key,St)),St.newSeries.push({dataGroupId:Y,data:G,divide:Rm(G)})}}}}),E}(r,i);ht(a.keys(),function(S){var A=a.get(S);eB(A.oldSeries,A.newSeries,t)})}ht(i.updatedSeries,function(S){S[qg]&&(S[qg]=!1)})}for(var l=e.getSeries(),u=r.oldSeries=[],f=r.oldDataGroupIds=[],g=r.oldData=[],v=0;v<l.length;v++){var _=l[v].getData();_.count()<1e4&&(u.push(l[v]),f.push(l[v].get("dataGroupId")),g.push(_))}})}),Nr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=HS(t).labelManager;r||(r=HS(t).labelManager=new kO),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=HS(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}),Ye.Axis=Ls,Ye.ChartView=wo,Ye.ComponentModel=Wr,Ye.ComponentView=Ao,Ye.List=fs,Ye.Model=ao,Ye.PRIORITY=Jg,Ye.SeriesModel=Io,Ye.color=hl,Ye.connect=function(n){if(Be(n)){var e=n;n=null,ht(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+rT++,ht(e,function(t){t.group=n})}return Zv[n]=!0,n},Ye.dataTool={},Ye.dependencies={zrender:"5.4.3"},Ye.disConnect=ax,Ye.disconnect=oT,Ye.dispose=function(n){Mn(n)?n=lp[n]:n instanceof qv||(n=sx(n)),n instanceof qv&&!n.isDisposed()&&n.dispose()},Ye.env=Oe,Ye.extendChartView=function(n){var e=wo.extend(n);return wo.registerClass(e),e},Ye.extendComponentModel=function(n){var e=Wr.extend(n);return Wr.registerClass(e),e},Ye.extendComponentView=function(n){var e=Ao.extend(n);return Ao.registerClass(e),e},Ye.extendSeriesModel=function(n){var e=Io.extend(n);return Io.registerClass(e),e},Ye.format=SO,Ye.getCoordinateSystemDimensions=function(n){var e=Zh.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},Ye.getInstanceByDom=sx,Ye.getInstanceById=function(n){return lp[n]},Ye.getMap=function(n){var e=Kw("getMap");return e&&e(n)},Ye.graphic=wO,Ye.helper=kT,Ye.init=function(n,e,t){var i=!(t&&t.ssr);if(i){var r=sx(n);if(r)return r}var o=new qv(n,e,t);return o.id="ec_"+iT++,lp[o.id]=o,i&&Rc(n,sS,o.id),nS(o),Mu.trigger("afterinit",o),o},Ye.innerDrawElementOnCanvas=Vv,Ye.matrix=Na,Ye.number=OT,Ye.parseGeoJSON=ES,Ye.parseGeoJson=ES,Ye.registerAction=Iu,Ye.registerCoordinateSystem=ux,Ye.registerLayout=Uc,Ye.registerLoading=uS,Ye.registerLocale=U0,Ye.registerMap=sT,Ye.registerPostInit=cS,Ye.registerPostUpdate=cp,Ye.registerPreprocessor=lx,Ye.registerProcessor=cx,Ye.registerTheme=lS,Ye.registerTransform=lT,Ye.registerUpdateLifecycle=tm,Ye.registerVisual=gh,Ye.setCanvasCreator=function(n){_t({createCanvas:n})},Ye.setPlatformAPI=_t,Ye.throttle=Dv,Ye.time=_O,Ye.use=Nr,Ye.util=Ex,Ye.vector=d,Ye.version="5.4.2",Ye.zrUtil=Hn,Ye.zrender=Vh,Object.defineProperty(Ye,"__esModule",{value:!0})});/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(Ye,Gt){typeof exports=="object"&&typeof module=="object"?module.exports=Gt():typeof define=="function"&&define.amd?define([],Gt):typeof exports=="object"?exports.Quill=Gt():Ye.Quill=Gt()})(typeof self<"u"?self:this,function(){return function(Ye){function Gt(Qt){if(Tt[Qt])return Tt[Qt].exports;var Oe=Tt[Qt]={i:Qt,l:!1,exports:{}};return Ye[Qt].call(Oe.exports,Oe,Oe.exports,Gt),Oe.l=!0,Oe.exports}var Tt={};return Gt.m=Ye,Gt.c=Tt,Gt.d=function(Qt,Oe,$t){Gt.o(Qt,Oe)||Object.defineProperty(Qt,Oe,{configurable:!1,enumerable:!0,get:$t})},Gt.n=function(Qt){var Oe=Qt&&Qt.__esModule?function(){return Qt.default}:function(){return Qt};return Gt.d(Oe,"a",Oe),Oe},Gt.o=function(Qt,Oe){return Object.prototype.hasOwnProperty.call(Qt,Oe)},Gt.p="",Gt(Gt.s=45)}([function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Qt=Tt(17),Oe=Tt(18),$t=Tt(19),ue=Tt(48),Jt=Tt(49),Vt=Tt(50),bt=Tt(51),ft=Tt(52),_t=Tt(11),vt=Tt(29),Pt=Tt(30),kt=Tt(28),wt=Tt(1),ct={Scope:wt.Scope,create:wt.create,find:wt.find,query:wt.query,register:wt.register,Container:Qt.default,Format:Oe.default,Leaf:$t.default,Embed:bt.default,Scroll:ue.default,Block:Vt.default,Inline:Jt.default,Text:ft.default,Attributor:{Attribute:_t.default,Class:vt.default,Style:Pt.default,Store:kt.default}};Gt.default=ct},function(Ye,Gt,Tt){"use strict";function Qt(kt,wt){var ct=$t(kt);if(ct==null)throw new Vt("Unable to create "+kt+" blot");var ie=ct;return new ie(kt instanceof Node||kt.nodeType===Node.TEXT_NODE?kt:ie.create(wt),wt)}function Oe(kt,wt){return wt===void 0&&(wt=!1),kt==null?null:kt[Gt.DATA_KEY]!=null?kt[Gt.DATA_KEY].blot:wt?Oe(kt.parentNode,wt):null}function $t(kt,wt){wt===void 0&&(wt=Pt.ANY);var ct;if(typeof kt=="string")ct=vt[kt]||bt[kt];else if(kt instanceof Text||kt.nodeType===Node.TEXT_NODE)ct=vt.text;else if(typeof kt=="number")kt&Pt.LEVEL&Pt.BLOCK?ct=vt.block:kt&Pt.LEVEL&Pt.INLINE&&(ct=vt.inline);else if(kt instanceof HTMLElement){var ie=(kt.getAttribute("class")||"").split(/\s+/);for(var It in ie)if(ct=ft[ie[It]])break;ct=ct||_t[kt.tagName]}return ct==null?null:wt&Pt.LEVEL&ct.scope&&wt&Pt.TYPE&ct.scope?ct:null}function ue(){for(var kt=[],wt=0;wt<arguments.length;wt++)kt[wt]=arguments[wt];if(kt.length>1)return kt.map(function(It){return ue(It)});var ct=kt[0];if(typeof ct.blotName!="string"&&typeof ct.attrName!="string")throw new Vt("Invalid definition");if(ct.blotName==="abstract")throw new Vt("Cannot register abstract class");if(vt[ct.blotName||ct.attrName]=ct,typeof ct.keyName=="string")bt[ct.keyName]=ct;else if(ct.className!=null&&(ft[ct.className]=ct),ct.tagName!=null){Array.isArray(ct.tagName)?ct.tagName=ct.tagName.map(function(It){return It.toUpperCase()}):ct.tagName=ct.tagName.toUpperCase();var ie=Array.isArray(ct.tagName)?ct.tagName:[ct.tagName];ie.forEach(function(It){_t[It]!=null&&ct.className!=null||(_t[It]=ct)})}return ct}var Jt=this&&this.__extends||function(){var kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(wt,ct){wt.__proto__=ct}||function(wt,ct){for(var ie in ct)ct.hasOwnProperty(ie)&&(wt[ie]=ct[ie])};return function(wt,ct){function ie(){this.constructor=wt}kt(wt,ct),wt.prototype=ct===null?Object.create(ct):(ie.prototype=ct.prototype,new ie)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Vt=function(kt){function wt(ct){var ie=this;return ct="[Parchment] "+ct,ie=kt.call(this,ct)||this,ie.message=ct,ie.name=ie.constructor.name,ie}return Jt(wt,kt),wt}(Error);Gt.ParchmentError=Vt;var bt={},ft={},_t={},vt={};Gt.DATA_KEY="__blot";var Pt;(function(kt){kt[kt.TYPE=3]="TYPE",kt[kt.LEVEL=12]="LEVEL",kt[kt.ATTRIBUTE=13]="ATTRIBUTE",kt[kt.BLOT=14]="BLOT",kt[kt.INLINE=7]="INLINE",kt[kt.BLOCK=11]="BLOCK",kt[kt.BLOCK_BLOT=10]="BLOCK_BLOT",kt[kt.INLINE_BLOT=6]="INLINE_BLOT",kt[kt.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",kt[kt.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",kt[kt.ANY=15]="ANY"})(Pt=Gt.Scope||(Gt.Scope={})),Gt.create=Qt,Gt.find=Oe,Gt.query=$t,Gt.register=ue},function(Ye,Gt){"use strict";var Tt=Object.prototype.hasOwnProperty,Qt=Object.prototype.toString,Oe=Object.defineProperty,$t=Object.getOwnPropertyDescriptor,ue=function(ft){return typeof Array.isArray=="function"?Array.isArray(ft):Qt.call(ft)==="[object Array]"},Jt=function(ft){if(!ft||Qt.call(ft)!=="[object Object]")return!1;var _t=Tt.call(ft,"constructor"),vt=ft.constructor&&ft.constructor.prototype&&Tt.call(ft.constructor.prototype,"isPrototypeOf");if(ft.constructor&&!_t&&!vt)return!1;var Pt;for(Pt in ft);return Pt===void 0||Tt.call(ft,Pt)},Vt=function(ft,_t){Oe&&_t.name==="__proto__"?Oe(ft,_t.name,{enumerable:!0,configurable:!0,value:_t.newValue,writable:!0}):ft[_t.name]=_t.newValue},bt=function(ft,_t){if(_t==="__proto__"){if(!Tt.call(ft,_t))return;if($t)return $t(ft,_t).value}return ft[_t]};Ye.exports=function ft(){var _t,vt,Pt,kt,wt,ct,ie=arguments[0],It=1,Wt=arguments.length,te=!1;for(typeof ie=="boolean"&&(te=ie,ie=arguments[1]||{},It=2),(ie==null||typeof ie!="object"&&typeof ie!="function")&&(ie={});It<Wt;++It)if((_t=arguments[It])!=null)for(vt in _t)Pt=bt(ie,vt),kt=bt(_t,vt),ie!==kt&&(te&&kt&&(Jt(kt)||(wt=ue(kt)))?(wt?(wt=!1,ct=Pt&&ue(Pt)?Pt:[]):ct=Pt&&Jt(Pt)?Pt:{},Vt(ie,{name:vt,newValue:ft(te,ct,kt)})):kt!==void 0&&Vt(ie,{name:vt,newValue:kt}));return ie}},function(Ye,Gt,Tt){"use strict";function Qt(le){return le&&le.__esModule?le:{default:le}}function Oe(le,Xt){if(!(le instanceof Xt))throw new TypeError("Cannot call a class as a function")}function $t(le,Xt){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Xt||typeof Xt!="object"&&typeof Xt!="function"?le:Xt}function ue(le,Xt){if(typeof Xt!="function"&&Xt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Xt);le.prototype=Object.create(Xt&&Xt.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),Xt&&(Object.setPrototypeOf?Object.setPrototypeOf(le,Xt):le.__proto__=Xt)}function Jt(le){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return le==null?Xt:(typeof le.formats=="function"&&(Xt=(0,_t.default)(Xt,le.formats())),le.parent==null||le.parent.blotName=="scroll"||le.parent.statics.scope!==le.statics.scope?Xt:Jt(le.parent,Xt))}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.BlockEmbed=Gt.bubbleFormats=void 0;var Vt=function(){function le(Xt,Kt){for(var ne=0;ne<Kt.length;ne++){var De=Kt[ne];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Xt,De.key,De)}}return function(Xt,Kt,ne){return Kt&&le(Xt.prototype,Kt),ne&&le(Xt,ne),Xt}}(),bt=function le(Xt,Kt,ne){Xt===null&&(Xt=Function.prototype);var De=Object.getOwnPropertyDescriptor(Xt,Kt);if(De===void 0){var me=Object.getPrototypeOf(Xt);return me===null?void 0:le(me,Kt,ne)}if("value"in De)return De.value;var Ne=De.get;if(Ne!==void 0)return Ne.call(ne)},ft=Tt(2),_t=Qt(ft),vt=Tt(4),Pt=Qt(vt),kt=Tt(0),wt=Qt(kt),ct=Tt(14),ie=Qt(ct),It=Tt(5),Wt=Qt(It),te=Tt(8),fe=Qt(te),Me=function(le){function Xt(){return Oe(this,Xt),$t(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).apply(this,arguments))}return ue(Xt,le),Vt(Xt,[{key:"attach",value:function(){bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"attach",this).call(this),this.attributes=new wt.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new Pt.default().insert(this.value(),(0,_t.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Kt,ne){var De=wt.default.query(Kt,wt.default.Scope.BLOCK_ATTRIBUTE);De!=null&&this.attributes.attribute(De,ne)}},{key:"formatAt",value:function(Kt,ne,De,me){this.format(De,me)}},{key:"insertAt",value:function(Kt,ne,De){if(typeof ne=="string"&&ne.endsWith(`
`)){var me=wt.default.create(ve.blotName);this.parent.insertBefore(me,Kt===0?this:this.next),me.insertAt(0,ne.slice(0,-1))}else bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"insertAt",this).call(this,Kt,ne,De)}}]),Xt}(wt.default.Embed);Me.scope=wt.default.Scope.BLOCK_BLOT;var ve=function(le){function Xt(Kt){Oe(this,Xt);var ne=$t(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this,Kt));return ne.cache={},ne}return ue(Xt,le),Vt(Xt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(wt.default.Leaf).reduce(function(Kt,ne){return ne.length()===0?Kt:Kt.insert(ne.value(),Jt(ne))},new Pt.default).insert(`
`,Jt(this))),this.cache.delta}},{key:"deleteAt",value:function(Kt,ne){bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"deleteAt",this).call(this,Kt,ne),this.cache={}}},{key:"formatAt",value:function(Kt,ne,De,me){ne<=0||(wt.default.query(De,wt.default.Scope.BLOCK)?Kt+ne===this.length()&&this.format(De,me):bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"formatAt",this).call(this,Kt,Math.min(ne,this.length()-Kt-1),De,me),this.cache={})}},{key:"insertAt",value:function(Kt,ne,De){if(De!=null)return bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"insertAt",this).call(this,Kt,ne,De);if(ne.length!==0){var me=ne.split(`
`),Ne=me.shift();Ne.length>0&&(Kt<this.length()-1||this.children.tail==null?bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"insertAt",this).call(this,Math.min(Kt,this.length()-1),Ne):this.children.tail.insertAt(this.children.tail.length(),Ne),this.cache={});var Fn=this;me.reduce(function(dn,gn){return Fn=Fn.split(dn,!0),Fn.insertAt(0,gn),gn.length},Kt+Ne.length)}}},{key:"insertBefore",value:function(Kt,ne){var De=this.children.head;bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"insertBefore",this).call(this,Kt,ne),De instanceof ie.default&&De.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(Kt,ne){bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"moveChildren",this).call(this,Kt,ne),this.cache={}}},{key:"optimize",value:function(Kt){bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"optimize",this).call(this,Kt),this.cache={}}},{key:"path",value:function(Kt){return bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"path",this).call(this,Kt,!0)}},{key:"removeChild",value:function(Kt){bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"removeChild",this).call(this,Kt),this.cache={}}},{key:"split",value:function(Kt){var ne=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ne&&(Kt===0||Kt>=this.length()-1)){var De=this.clone();return Kt===0?(this.parent.insertBefore(De,this),this):(this.parent.insertBefore(De,this.next),De)}var me=bt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"split",this).call(this,Kt,ne);return this.cache={},me}}]),Xt}(wt.default.Block);ve.blotName="block",ve.tagName="P",ve.defaultChild="break",ve.allowedChildren=[Wt.default,wt.default.Embed,fe.default],Gt.bubbleFormats=Jt,Gt.BlockEmbed=Me,Gt.default=ve},function(Ye,Gt,Tt){var Qt=Tt(54),Oe=Tt(12),$t=Tt(2),ue=Tt(20),Jt="\0",Vt=function(bt){Array.isArray(bt)?this.ops=bt:bt!=null&&Array.isArray(bt.ops)?this.ops=bt.ops:this.ops=[]};Vt.prototype.insert=function(bt,ft){var _t={};return bt.length===0?this:(_t.insert=bt,ft!=null&&typeof ft=="object"&&Object.keys(ft).length>0&&(_t.attributes=ft),this.push(_t))},Vt.prototype.delete=function(bt){return bt<=0?this:this.push({delete:bt})},Vt.prototype.retain=function(bt,ft){if(bt<=0)return this;var _t={retain:bt};return ft!=null&&typeof ft=="object"&&Object.keys(ft).length>0&&(_t.attributes=ft),this.push(_t)},Vt.prototype.push=function(bt){var ft=this.ops.length,_t=this.ops[ft-1];if(bt=$t(!0,{},bt),typeof _t=="object"){if(typeof bt.delete=="number"&&typeof _t.delete=="number")return this.ops[ft-1]={delete:_t.delete+bt.delete},this;if(typeof _t.delete=="number"&&bt.insert!=null&&(ft-=1,typeof(_t=this.ops[ft-1])!="object"))return this.ops.unshift(bt),this;if(Oe(bt.attributes,_t.attributes)){if(typeof bt.insert=="string"&&typeof _t.insert=="string")return this.ops[ft-1]={insert:_t.insert+bt.insert},typeof bt.attributes=="object"&&(this.ops[ft-1].attributes=bt.attributes),this;if(typeof bt.retain=="number"&&typeof _t.retain=="number")return this.ops[ft-1]={retain:_t.retain+bt.retain},typeof bt.attributes=="object"&&(this.ops[ft-1].attributes=bt.attributes),this}}return ft===this.ops.length?this.ops.push(bt):this.ops.splice(ft,0,bt),this},Vt.prototype.chop=function(){var bt=this.ops[this.ops.length-1];return bt&&bt.retain&&!bt.attributes&&this.ops.pop(),this},Vt.prototype.filter=function(bt){return this.ops.filter(bt)},Vt.prototype.forEach=function(bt){this.ops.forEach(bt)},Vt.prototype.map=function(bt){return this.ops.map(bt)},Vt.prototype.partition=function(bt){var ft=[],_t=[];return this.forEach(function(vt){(bt(vt)?ft:_t).push(vt)}),[ft,_t]},Vt.prototype.reduce=function(bt,ft){return this.ops.reduce(bt,ft)},Vt.prototype.changeLength=function(){return this.reduce(function(bt,ft){return ft.insert?bt+ue.length(ft):ft.delete?bt-ft.delete:bt},0)},Vt.prototype.length=function(){return this.reduce(function(bt,ft){return bt+ue.length(ft)},0)},Vt.prototype.slice=function(bt,ft){bt=bt||0,typeof ft!="number"&&(ft=1/0);for(var _t=[],vt=ue.iterator(this.ops),Pt=0;Pt<ft&&vt.hasNext();){var kt;Pt<bt?kt=vt.next(bt-Pt):(kt=vt.next(ft-Pt),_t.push(kt)),Pt+=ue.length(kt)}return new Vt(_t)},Vt.prototype.compose=function(bt){var ft=ue.iterator(this.ops),_t=ue.iterator(bt.ops),vt=[],Pt=_t.peek();if(Pt!=null&&typeof Pt.retain=="number"&&Pt.attributes==null){for(var kt=Pt.retain;ft.peekType()==="insert"&&ft.peekLength()<=kt;)kt-=ft.peekLength(),vt.push(ft.next());Pt.retain-kt>0&&_t.next(Pt.retain-kt)}for(var wt=new Vt(vt);ft.hasNext()||_t.hasNext();)if(_t.peekType()==="insert")wt.push(_t.next());else if(ft.peekType()==="delete")wt.push(ft.next());else{var ct=Math.min(ft.peekLength(),_t.peekLength()),ie=ft.next(ct),It=_t.next(ct);if(typeof It.retain=="number"){var Wt={};typeof ie.retain=="number"?Wt.retain=ct:Wt.insert=ie.insert;var te=ue.attributes.compose(ie.attributes,It.attributes,typeof ie.retain=="number");if(te&&(Wt.attributes=te),wt.push(Wt),!_t.hasNext()&&Oe(wt.ops[wt.ops.length-1],Wt)){var fe=new Vt(ft.rest());return wt.concat(fe).chop()}}else typeof It.delete=="number"&&typeof ie.retain=="number"&&wt.push(It)}return wt.chop()},Vt.prototype.concat=function(bt){var ft=new Vt(this.ops.slice());return bt.ops.length>0&&(ft.push(bt.ops[0]),ft.ops=ft.ops.concat(bt.ops.slice(1))),ft},Vt.prototype.diff=function(bt,ft){if(this.ops===bt.ops)return new Vt;var _t=[this,bt].map(function(ct){return ct.map(function(ie){if(ie.insert!=null)return typeof ie.insert=="string"?ie.insert:Jt;var It=ct===bt?"on":"with";throw new Error("diff() called "+It+" non-document")}).join("")}),vt=new Vt,Pt=Qt(_t[0],_t[1],ft),kt=ue.iterator(this.ops),wt=ue.iterator(bt.ops);return Pt.forEach(function(ct){for(var ie=ct[1].length;ie>0;){var It=0;switch(ct[0]){case Qt.INSERT:It=Math.min(wt.peekLength(),ie),vt.push(wt.next(It));break;case Qt.DELETE:It=Math.min(ie,kt.peekLength()),kt.next(It),vt.delete(It);break;case Qt.EQUAL:It=Math.min(kt.peekLength(),wt.peekLength(),ie);var Wt=kt.next(It),te=wt.next(It);Oe(Wt.insert,te.insert)?vt.retain(It,ue.attributes.diff(Wt.attributes,te.attributes)):vt.push(te).delete(It)}ie-=It}}),vt.chop()},Vt.prototype.eachLine=function(bt,ft){ft=ft||`
`;for(var _t=ue.iterator(this.ops),vt=new Vt,Pt=0;_t.hasNext();){if(_t.peekType()!=="insert")return;var kt=_t.peek(),wt=ue.length(kt)-_t.peekLength(),ct=typeof kt.insert=="string"?kt.insert.indexOf(ft,wt)-wt:-1;if(ct<0)vt.push(_t.next());else if(ct>0)vt.push(_t.next(ct));else{if(bt(vt,_t.next(1).attributes||{},Pt)===!1)return;Pt+=1,vt=new Vt}}vt.length()>0&&bt(vt,{},Pt)},Vt.prototype.transform=function(bt,ft){if(ft=!!ft,typeof bt=="number")return this.transformPosition(bt,ft);for(var _t=ue.iterator(this.ops),vt=ue.iterator(bt.ops),Pt=new Vt;_t.hasNext()||vt.hasNext();)if(_t.peekType()!=="insert"||!ft&&vt.peekType()==="insert")if(vt.peekType()==="insert")Pt.push(vt.next());else{var kt=Math.min(_t.peekLength(),vt.peekLength()),wt=_t.next(kt),ct=vt.next(kt);if(wt.delete)continue;ct.delete?Pt.push(ct):Pt.retain(kt,ue.attributes.transform(wt.attributes,ct.attributes,ft))}else Pt.retain(ue.length(_t.next()));return Pt.chop()},Vt.prototype.transformPosition=function(bt,ft){ft=!!ft;for(var _t=ue.iterator(this.ops),vt=0;_t.hasNext()&&vt<=bt;){var Pt=_t.peekLength(),kt=_t.peekType();_t.next(),kt!=="delete"?(kt==="insert"&&(vt<bt||!ft)&&(bt+=Pt),vt+=Pt):bt-=Math.min(Pt,bt-vt)}return bt},Ye.exports=Vt},function(Ye,Gt,Tt){"use strict";function Qt(kt){return kt&&kt.__esModule?kt:{default:kt}}function Oe(kt,wt){if(!(kt instanceof wt))throw new TypeError("Cannot call a class as a function")}function $t(kt,wt){if(!kt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!wt||typeof wt!="object"&&typeof wt!="function"?kt:wt}function ue(kt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof wt);kt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:kt,enumerable:!1,writable:!0,configurable:!0}}),wt&&(Object.setPrototypeOf?Object.setPrototypeOf(kt,wt):kt.__proto__=wt)}Object.defineProperty(Gt,"__esModule",{value:!0});var Jt=function(){function kt(wt,ct){for(var ie=0;ie<ct.length;ie++){var It=ct[ie];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(wt,It.key,It)}}return function(wt,ct,ie){return ct&&kt(wt.prototype,ct),ie&&kt(wt,ie),wt}}(),Vt=function kt(wt,ct,ie){wt===null&&(wt=Function.prototype);var It=Object.getOwnPropertyDescriptor(wt,ct);if(It===void 0){var Wt=Object.getPrototypeOf(wt);return Wt===null?void 0:kt(Wt,ct,ie)}if("value"in It)return It.value;var te=It.get;if(te!==void 0)return te.call(ie)},bt=Tt(8),ft=Qt(bt),_t=Tt(0),vt=Qt(_t),Pt=function(kt){function wt(){return Oe(this,wt),$t(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return ue(wt,kt),Jt(wt,[{key:"formatAt",value:function(ct,ie,It,Wt){if(wt.compare(this.statics.blotName,It)<0&&vt.default.query(It,vt.default.Scope.BLOT)){var te=this.isolate(ct,ie);Wt&&te.wrap(It,Wt)}else Vt(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"formatAt",this).call(this,ct,ie,It,Wt)}},{key:"optimize",value:function(ct){if(Vt(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"optimize",this).call(this,ct),this.parent instanceof wt&&wt.compare(this.statics.blotName,this.parent.statics.blotName)>0){var ie=this.parent.isolate(this.offset(),this.length());this.moveChildren(ie),ie.wrap(this)}}}],[{key:"compare",value:function(ct,ie){var It=wt.order.indexOf(ct),Wt=wt.order.indexOf(ie);return It>=0||Wt>=0?It-Wt:ct===ie?0:ct<ie?-1:1}}]),wt}(vt.default.Inline);Pt.allowedChildren=[Pt,vt.default.Embed,ft.default],Pt.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],Gt.default=Pt},function(Ye,Gt,Tt){"use strict";function Qt(gn){return gn&&gn.__esModule?gn:{default:gn}}function Oe(gn,jt,Fe){return jt in gn?Object.defineProperty(gn,jt,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):gn[jt]=Fe,gn}function $t(gn,jt){if(!(gn instanceof jt))throw new TypeError("Cannot call a class as a function")}function ue(gn,jt){if(jt=(0,Kt.default)(!0,{container:gn,modules:{clipboard:!0,keyboard:!0,history:!0}},jt),jt.theme&&jt.theme!==dn.DEFAULTS.theme){if(jt.theme=dn.import("themes/"+jt.theme),jt.theme==null)throw new Error("Invalid theme "+jt.theme+". Did you register it?")}else jt.theme=Ne.default;var Fe=(0,Kt.default)(!0,{},jt.theme.DEFAULTS);[Fe,jt].forEach(function(an){an.modules=an.modules||{},Object.keys(an.modules).forEach(function(en){an.modules[en]===!0&&(an.modules[en]={})})});var ht=Object.keys(Fe.modules).concat(Object.keys(jt.modules)),lt=ht.reduce(function(an,en){var je=dn.import("modules/"+en);return je==null?Fn.error("Cannot load "+en+" module. Are you sure you registered it?"):an[en]=je.DEFAULTS||{},an},{});return jt.modules!=null&&jt.modules.toolbar&&jt.modules.toolbar.constructor!==Object&&(jt.modules.toolbar={container:jt.modules.toolbar}),jt=(0,Kt.default)(!0,{},dn.DEFAULTS,{modules:lt},Fe,jt),["bounds","container","scrollingContainer"].forEach(function(an){typeof jt[an]=="string"&&(jt[an]=document.querySelector(jt[an]))}),jt.modules=Object.keys(jt.modules).reduce(function(an,en){return jt.modules[en]&&(an[en]=jt.modules[en]),an},{}),jt}function Jt(gn,jt,Fe,ht){if(this.options.strict&&!this.isEnabled()&&jt===It.default.sources.USER)return new kt.default;var lt=Fe==null?null:this.getSelection(),an=this.editor.delta,en=gn();if(lt!=null&&(Fe===!0&&(Fe=lt.index),ht==null?lt=bt(lt,en,jt):ht!==0&&(lt=bt(lt,Fe,ht,jt)),this.setSelection(lt,It.default.sources.SILENT)),en.length()>0){var je,Qe=[It.default.events.TEXT_CHANGE,en,an,jt];if((je=this.emitter).emit.apply(je,[It.default.events.EDITOR_CHANGE].concat(Qe)),jt!==It.default.sources.SILENT){var Te;(Te=this.emitter).emit.apply(Te,Qe)}}return en}function Vt(gn,jt,Fe,ht,lt){var an={};return typeof gn.index=="number"&&typeof gn.length=="number"?typeof jt!="number"?(lt=ht,ht=Fe,Fe=jt,jt=gn.length,gn=gn.index):(jt=gn.length,gn=gn.index):typeof jt!="number"&&(lt=ht,ht=Fe,Fe=jt,jt=0),(Fe===void 0?"undefined":ft(Fe))==="object"?(an=Fe,lt=ht):typeof Fe=="string"&&(ht!=null?an[Fe]=ht:lt=Fe),lt=lt||It.default.sources.API,[gn,jt,an,lt]}function bt(gn,jt,Fe,ht){if(gn==null)return null;var lt=void 0,an=void 0;if(jt instanceof kt.default){var en=[gn.index,gn.index+gn.length].map(function(_n){return jt.transformPosition(_n,ht!==It.default.sources.USER)}),je=_t(en,2);lt=je[0],an=je[1]}else{var Qe=[gn.index,gn.index+gn.length].map(function(_n){return _n<jt||_n===jt&&ht===It.default.sources.USER?_n:Fe>=0?_n+Fe:Math.max(jt,_n+Fe)}),Te=_t(Qe,2);lt=Te[0],an=Te[1]}return new ve.Range(lt,an-lt)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.overload=Gt.expandConfig=void 0;var ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gn){return typeof gn}:function(gn){return gn&&typeof Symbol=="function"&&gn.constructor===Symbol&&gn!==Symbol.prototype?"symbol":typeof gn},_t=function(){function gn(jt,Fe){var ht=[],lt=!0,an=!1,en=void 0;try{for(var je,Qe=jt[Symbol.iterator]();!(lt=(je=Qe.next()).done)&&(ht.push(je.value),!Fe||ht.length!==Fe);lt=!0);}catch(Te){an=!0,en=Te}finally{try{!lt&&Qe.return&&Qe.return()}finally{if(an)throw en}}return ht}return function(jt,Fe){if(Array.isArray(jt))return jt;if(Symbol.iterator in Object(jt))return gn(jt,Fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vt=function(){function gn(jt,Fe){for(var ht=0;ht<Fe.length;ht++){var lt=Fe[ht];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(jt,lt.key,lt)}}return function(jt,Fe,ht){return Fe&&gn(jt.prototype,Fe),ht&&gn(jt,ht),jt}}();Tt(53);var Pt=Tt(4),kt=Qt(Pt),wt=Tt(57),ct=Qt(wt),ie=Tt(9),It=Qt(ie),Wt=Tt(7),te=Qt(Wt),fe=Tt(0),Me=Qt(fe),ve=Tt(22),le=Qt(ve),Xt=Tt(2),Kt=Qt(Xt),ne=Tt(10),De=Qt(ne),me=Tt(32),Ne=Qt(me),Fn=(0,De.default)("quill"),dn=function(){function gn(jt){var Fe=this,ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($t(this,gn),this.options=ue(jt,ht),this.container=this.options.container,this.container==null)return Fn.error("Invalid Quill container",jt);this.options.debug&&gn.debug(this.options.debug);var lt=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new It.default,this.scroll=Me.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new ct.default(this.scroll),this.selection=new le.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(It.default.events.EDITOR_CHANGE,function(en){en===It.default.events.TEXT_CHANGE&&Fe.root.classList.toggle("ql-blank",Fe.editor.isBlank())}),this.emitter.on(It.default.events.SCROLL_UPDATE,function(en,je){var Qe=Fe.selection.lastRange,Te=Qe&&Qe.length===0?Qe.index:void 0;Jt.call(Fe,function(){return Fe.editor.update(null,je,Te)},en)});var an=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+lt+"<p><br></p></div>");this.setContents(an),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return vt(gn,null,[{key:"debug",value:function(jt){jt===!0&&(jt="log"),De.default.level(jt)}},{key:"find",value:function(jt){return jt.__quill||Me.default.find(jt)}},{key:"import",value:function(jt){return this.imports[jt]==null&&Fn.error("Cannot import "+jt+". Are you sure it was registered?"),this.imports[jt]}},{key:"register",value:function(jt,Fe){var ht=this,lt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof jt!="string"){var an=jt.attrName||jt.blotName;typeof an=="string"?this.register("formats/"+an,jt,Fe):Object.keys(jt).forEach(function(en){ht.register(en,jt[en],Fe)})}else this.imports[jt]==null||lt||Fn.warn("Overwriting "+jt+" with",Fe),this.imports[jt]=Fe,(jt.startsWith("blots/")||jt.startsWith("formats/"))&&Fe.blotName!=="abstract"?Me.default.register(Fe):jt.startsWith("modules")&&typeof Fe.register=="function"&&Fe.register()}}]),vt(gn,[{key:"addContainer",value:function(jt){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof jt=="string"){var ht=jt;jt=document.createElement("div"),jt.classList.add(ht)}return this.container.insertBefore(jt,Fe),jt}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(jt,Fe,ht){var lt=this,an=Vt(jt,Fe,ht),en=_t(an,4);return jt=en[0],Fe=en[1],ht=en[3],Jt.call(this,function(){return lt.editor.deleteText(jt,Fe)},ht,jt,-1*Fe)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var jt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(jt),this.container.classList.toggle("ql-disabled",!jt)}},{key:"focus",value:function(){var jt=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=jt,this.scrollIntoView()}},{key:"format",value:function(jt,Fe){var ht=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:It.default.sources.API;return Jt.call(this,function(){var an=ht.getSelection(!0),en=new kt.default;if(an==null)return en;if(Me.default.query(jt,Me.default.Scope.BLOCK))en=ht.editor.formatLine(an.index,an.length,Oe({},jt,Fe));else{if(an.length===0)return ht.selection.format(jt,Fe),en;en=ht.editor.formatText(an.index,an.length,Oe({},jt,Fe))}return ht.setSelection(an,It.default.sources.SILENT),en},lt)}},{key:"formatLine",value:function(jt,Fe,ht,lt,an){var en=this,je=void 0,Qe=Vt(jt,Fe,ht,lt,an),Te=_t(Qe,4);return jt=Te[0],Fe=Te[1],je=Te[2],an=Te[3],Jt.call(this,function(){return en.editor.formatLine(jt,Fe,je)},an,jt,0)}},{key:"formatText",value:function(jt,Fe,ht,lt,an){var en=this,je=void 0,Qe=Vt(jt,Fe,ht,lt,an),Te=_t(Qe,4);return jt=Te[0],Fe=Te[1],je=Te[2],an=Te[3],Jt.call(this,function(){return en.editor.formatText(jt,Fe,je)},an,jt,0)}},{key:"getBounds",value:function(jt){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ht=void 0;ht=typeof jt=="number"?this.selection.getBounds(jt,Fe):this.selection.getBounds(jt.index,jt.length);var lt=this.container.getBoundingClientRect();return{bottom:ht.bottom-lt.top,height:ht.height,left:ht.left-lt.left,right:ht.right-lt.left,top:ht.top-lt.top,width:ht.width}}},{key:"getContents",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-jt,ht=Vt(jt,Fe),lt=_t(ht,2);return jt=lt[0],Fe=lt[1],this.editor.getContents(jt,Fe)}},{key:"getFormat",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof jt=="number"?this.editor.getFormat(jt,Fe):this.editor.getFormat(jt.index,jt.length)}},{key:"getIndex",value:function(jt){return jt.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(jt){return this.scroll.leaf(jt)}},{key:"getLine",value:function(jt){return this.scroll.line(jt)}},{key:"getLines",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof jt!="number"?this.scroll.lines(jt.index,jt.length):this.scroll.lines(jt,Fe)}},{key:"getModule",value:function(jt){return this.theme.modules[jt]}},{key:"getSelection",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-jt,ht=Vt(jt,Fe),lt=_t(ht,2);return jt=lt[0],Fe=lt[1],this.editor.getText(jt,Fe)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(jt,Fe,ht){var lt=this,an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gn.sources.API;return Jt.call(this,function(){return lt.editor.insertEmbed(jt,Fe,ht)},an,jt)}},{key:"insertText",value:function(jt,Fe,ht,lt,an){var en=this,je=void 0,Qe=Vt(jt,0,ht,lt,an),Te=_t(Qe,4);return jt=Te[0],je=Te[2],an=Te[3],Jt.call(this,function(){return en.editor.insertText(jt,Fe,je)},an,jt,Fe.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(jt,Fe,ht){this.clipboard.dangerouslyPasteHTML(jt,Fe,ht)}},{key:"removeFormat",value:function(jt,Fe,ht){var lt=this,an=Vt(jt,Fe,ht),en=_t(an,4);return jt=en[0],Fe=en[1],ht=en[3],Jt.call(this,function(){return lt.editor.removeFormat(jt,Fe)},ht,jt)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(jt){var Fe=this,ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:It.default.sources.API;return Jt.call(this,function(){jt=new kt.default(jt);var lt=Fe.getLength(),an=Fe.editor.deleteText(0,lt),en=Fe.editor.applyDelta(jt),je=en.ops[en.ops.length-1];return je!=null&&typeof je.insert=="string"&&je.insert[je.insert.length-1]===`
`&&(Fe.editor.deleteText(Fe.getLength()-1,1),en.delete(1)),an.compose(en)},ht)}},{key:"setSelection",value:function(jt,Fe,ht){if(jt==null)this.selection.setRange(null,Fe||gn.sources.API);else{var lt=Vt(jt,Fe,ht),an=_t(lt,4);jt=an[0],Fe=an[1],ht=an[3],this.selection.setRange(new ve.Range(jt,Fe),ht),ht!==It.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(jt){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:It.default.sources.API,ht=new kt.default().insert(jt);return this.setContents(ht,Fe)}},{key:"update",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:It.default.sources.USER,Fe=this.scroll.update(jt);return this.selection.update(jt),Fe}},{key:"updateContents",value:function(jt){var Fe=this,ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:It.default.sources.API;return Jt.call(this,function(){return jt=new kt.default(jt),Fe.editor.applyDelta(jt,ht)},ht,!0)}}]),gn}();dn.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},dn.events=It.default.events,dn.sources=It.default.sources,dn.version="1.3.7",dn.imports={delta:kt.default,parchment:Me.default,"core/module":te.default,"core/theme":Ne.default},Gt.expandConfig=ue,Gt.overload=Vt,Gt.default=dn},function(Ye,Gt,Tt){"use strict";function Qt($t,ue){if(!($t instanceof ue))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=function $t(ue){var Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qt(this,$t),this.quill=ue,this.options=Jt};Oe.DEFAULTS={},Gt.default=Oe},function(Ye,Gt,Tt){"use strict";function Qt(bt,ft){if(!(bt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Oe(bt,ft){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?bt:ft}function $t(bt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);bt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,ft):bt.__proto__=ft)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=Tt(0),Jt=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(ue),Vt=function(bt){function ft(){return Qt(this,ft),Oe(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return $t(ft,bt),ft}(Jt.default.Text);Gt.default=Vt},function(Ye,Gt,Tt){"use strict";function Qt(wt){return wt&&wt.__esModule?wt:{default:wt}}function Oe(wt,ct){if(!(wt instanceof ct))throw new TypeError("Cannot call a class as a function")}function $t(wt,ct){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ct||typeof ct!="object"&&typeof ct!="function"?wt:ct}function ue(wt,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);wt.prototype=Object.create(ct&&ct.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(wt,ct):wt.__proto__=ct)}Object.defineProperty(Gt,"__esModule",{value:!0});var Jt=function(){function wt(ct,ie){for(var It=0;It<ie.length;It++){var Wt=ie[It];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(ct,Wt.key,Wt)}}return function(ct,ie,It){return ie&&wt(ct.prototype,ie),It&&wt(ct,It),ct}}(),Vt=function wt(ct,ie,It){ct===null&&(ct=Function.prototype);var Wt=Object.getOwnPropertyDescriptor(ct,ie);if(Wt===void 0){var te=Object.getPrototypeOf(ct);return te===null?void 0:wt(te,ie,It)}if("value"in Wt)return Wt.value;var fe=Wt.get;if(fe!==void 0)return fe.call(It)},bt=Tt(58),ft=Qt(bt),_t=Tt(10),vt=Qt(_t),Pt=(0,vt.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(wt){document.addEventListener(wt,function(){for(var ct=arguments.length,ie=Array(ct),It=0;It<ct;It++)ie[It]=arguments[It];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(Wt){if(Wt.__quill&&Wt.__quill.emitter){var te;(te=Wt.__quill.emitter).handleDOM.apply(te,ie)}})})});var kt=function(wt){function ct(){Oe(this,ct);var ie=$t(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this));return ie.listeners={},ie.on("error",Pt.error),ie}return ue(ct,wt),Jt(ct,[{key:"emit",value:function(){Pt.log.apply(Pt,arguments),Vt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(ie){for(var It=arguments.length,Wt=Array(It>1?It-1:0),te=1;te<It;te++)Wt[te-1]=arguments[te];(this.listeners[ie.type]||[]).forEach(function(fe){var Me=fe.node,ve=fe.handler;(ie.target===Me||Me.contains(ie.target))&&ve.apply(void 0,[ie].concat(Wt))})}},{key:"listenDOM",value:function(ie,It,Wt){this.listeners[ie]||(this.listeners[ie]=[]),this.listeners[ie].push({node:It,handler:Wt})}}]),ct}(ft.default);kt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},kt.sources={API:"api",SILENT:"silent",USER:"user"},Gt.default=kt},function(Ye,Gt,Tt){"use strict";function Qt(Jt){if($t.indexOf(Jt)<=$t.indexOf(ue)){for(var Vt,bt=arguments.length,ft=Array(bt>1?bt-1:0),_t=1;_t<bt;_t++)ft[_t-1]=arguments[_t];(Vt=console)[Jt].apply(Vt,ft)}}function Oe(Jt){return $t.reduce(function(Vt,bt){return Vt[bt]=Qt.bind(console,bt,Jt),Vt},{})}Object.defineProperty(Gt,"__esModule",{value:!0});var $t=["error","warn","log","info"],ue="warn";Qt.level=Oe.level=function(Jt){ue=Jt},Gt.default=Oe},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Qt=Tt(1),Oe=function(){function $t(ue,Jt,Vt){Vt===void 0&&(Vt={}),this.attrName=ue,this.keyName=Jt;var bt=Qt.Scope.TYPE&Qt.Scope.ATTRIBUTE;Vt.scope!=null?this.scope=Vt.scope&Qt.Scope.LEVEL|bt:this.scope=Qt.Scope.ATTRIBUTE,Vt.whitelist!=null&&(this.whitelist=Vt.whitelist)}return $t.keys=function(ue){return[].map.call(ue.attributes,function(Jt){return Jt.name})},$t.prototype.add=function(ue,Jt){return!!this.canAdd(ue,Jt)&&(ue.setAttribute(this.keyName,Jt),!0)},$t.prototype.canAdd=function(ue,Jt){return Qt.query(ue,Qt.Scope.BLOT&(this.scope|Qt.Scope.TYPE))!=null&&(this.whitelist==null||(typeof Jt=="string"?this.whitelist.indexOf(Jt.replace(/["']/g,""))>-1:this.whitelist.indexOf(Jt)>-1))},$t.prototype.remove=function(ue){ue.removeAttribute(this.keyName)},$t.prototype.value=function(ue){var Jt=ue.getAttribute(this.keyName);return this.canAdd(ue,Jt)&&Jt?Jt:""},$t}();Gt.default=Oe},function(Ye,Gt,Tt){function Qt(ft){return ft==null}function Oe(ft){return!(!ft||typeof ft!="object"||typeof ft.length!="number")&&typeof ft.copy=="function"&&typeof ft.slice=="function"&&!(ft.length>0&&typeof ft[0]!="number")}function $t(ft,_t,vt){var Pt,kt;if(Qt(ft)||Qt(_t)||ft.prototype!==_t.prototype)return!1;if(Vt(ft))return!!Vt(_t)&&(ft=ue.call(ft),_t=ue.call(_t),bt(ft,_t,vt));if(Oe(ft)){if(!Oe(_t)||ft.length!==_t.length)return!1;for(Pt=0;Pt<ft.length;Pt++)if(ft[Pt]!==_t[Pt])return!1;return!0}try{var wt=Jt(ft),ct=Jt(_t)}catch{return!1}if(wt.length!=ct.length)return!1;for(wt.sort(),ct.sort(),Pt=wt.length-1;Pt>=0;Pt--)if(wt[Pt]!=ct[Pt])return!1;for(Pt=wt.length-1;Pt>=0;Pt--)if(kt=wt[Pt],!bt(ft[kt],_t[kt],vt))return!1;return typeof ft==typeof _t}var ue=Array.prototype.slice,Jt=Tt(55),Vt=Tt(56),bt=Ye.exports=function(ft,_t,vt){return vt||(vt={}),ft===_t||(ft instanceof Date&&_t instanceof Date?ft.getTime()===_t.getTime():!ft||!_t||typeof ft!="object"&&typeof _t!="object"?vt.strict?ft===_t:ft==_t:$t(ft,_t,vt))}},function(Ye,Gt,Tt){"use strict";function Qt(Me){return Me&&Me.__esModule?Me:{default:Me}}function Oe(Me,ve){if(!(Me instanceof ve))throw new TypeError("Cannot call a class as a function")}function $t(Me,ve){if(!Me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ve||typeof ve!="object"&&typeof ve!="function"?Me:ve}function ue(Me,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);Me.prototype=Object.create(ve&&ve.prototype,{constructor:{value:Me,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(Me,ve):Me.__proto__=ve)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.Code=void 0;var Jt=function(){function Me(ve,le){var Xt=[],Kt=!0,ne=!1,De=void 0;try{for(var me,Ne=ve[Symbol.iterator]();!(Kt=(me=Ne.next()).done)&&(Xt.push(me.value),!le||Xt.length!==le);Kt=!0);}catch(Fn){ne=!0,De=Fn}finally{try{!Kt&&Ne.return&&Ne.return()}finally{if(ne)throw De}}return Xt}return function(ve,le){if(Array.isArray(ve))return ve;if(Symbol.iterator in Object(ve))return Me(ve,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=function(){function Me(ve,le){for(var Xt=0;Xt<le.length;Xt++){var Kt=le[Xt];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(ve,Kt.key,Kt)}}return function(ve,le,Xt){return le&&Me(ve.prototype,le),Xt&&Me(ve,Xt),ve}}(),bt=function Me(ve,le,Xt){ve===null&&(ve=Function.prototype);var Kt=Object.getOwnPropertyDescriptor(ve,le);if(Kt===void 0){var ne=Object.getPrototypeOf(ve);return ne===null?void 0:Me(ne,le,Xt)}if("value"in Kt)return Kt.value;var De=Kt.get;if(De!==void 0)return De.call(Xt)},ft=Tt(4),_t=Qt(ft),vt=Tt(0),Pt=Qt(vt),kt=Tt(3),wt=Qt(kt),ct=Tt(5),ie=Qt(ct),It=Tt(8),Wt=Qt(It),te=function(Me){function ve(){return Oe(this,ve),$t(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return ue(ve,Me),ve}(ie.default);te.blotName="code",te.tagName="CODE";var fe=function(Me){function ve(){return Oe(this,ve),$t(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return ue(ve,Me),Vt(ve,[{key:"delta",value:function(){var le=this,Xt=this.domNode.textContent;return Xt.endsWith(`
`)&&(Xt=Xt.slice(0,-1)),Xt.split(`
`).reduce(function(Kt,ne){return Kt.insert(ne).insert(`
`,le.formats())},new _t.default)}},{key:"format",value:function(le,Xt){if(le!==this.statics.blotName||!Xt){var Kt=this.descendant(Wt.default,this.length()-1),ne=Jt(Kt,1),De=ne[0];De?.deleteAt(De.length()-1,1),bt(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"format",this).call(this,le,Xt)}}},{key:"formatAt",value:function(le,Xt,Kt,ne){if(Xt!==0&&Pt.default.query(Kt,Pt.default.Scope.BLOCK)!=null&&(Kt!==this.statics.blotName||ne!==this.statics.formats(this.domNode))){var De=this.newlineIndex(le);if(!(De<0||De>=le+Xt)){var me=this.newlineIndex(le,!0)+1,Ne=De-me+1,Fn=this.isolate(me,Ne),dn=Fn.next;Fn.format(Kt,ne),dn instanceof ve&&dn.formatAt(0,le-me+Xt-Ne,Kt,ne)}}}},{key:"insertAt",value:function(le,Xt,Kt){if(Kt==null){var ne=this.descendant(Wt.default,le),De=Jt(ne,2),me=De[0],Ne=De[1];me.insertAt(Ne,Xt)}}},{key:"length",value:function(){var le=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?le:le+1}},{key:"newlineIndex",value:function(le){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1])return this.domNode.textContent.slice(0,le).lastIndexOf(`
`);var Xt=this.domNode.textContent.slice(le).indexOf(`
`);return Xt>-1?le+Xt:-1}},{key:"optimize",value:function(le){this.domNode.textContent.endsWith(`
`)||this.appendChild(Pt.default.create("text",`
`)),bt(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"optimize",this).call(this,le);var Xt=this.next;Xt!=null&&Xt.prev===this&&Xt.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===Xt.statics.formats(Xt.domNode)&&(Xt.optimize(le),Xt.moveChildren(this),Xt.remove())}},{key:"replace",value:function(le){bt(ve.prototype.__proto__||Object.getPrototypeOf(ve.prototype),"replace",this).call(this,le),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(Xt){var Kt=Pt.default.find(Xt);Kt==null?Xt.parentNode.removeChild(Xt):Kt instanceof Pt.default.Embed?Kt.remove():Kt.unwrap()})}}],[{key:"create",value:function(le){var Xt=bt(ve.__proto__||Object.getPrototypeOf(ve),"create",this).call(this,le);return Xt.setAttribute("spellcheck",!1),Xt}},{key:"formats",value:function(){return!0}}]),ve}(wt.default);fe.blotName="code-block",fe.tagName="PRE",fe.TAB="  ",Gt.Code=te,Gt.default=fe},function(Ye,Gt,Tt){"use strict";function Qt(_t,vt){if(!(_t instanceof vt))throw new TypeError("Cannot call a class as a function")}function Oe(_t,vt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||typeof vt!="object"&&typeof vt!="function"?_t:vt}function $t(_t,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);_t.prototype=Object.create(vt&&vt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,vt):_t.__proto__=vt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function _t(vt,Pt){for(var kt=0;kt<Pt.length;kt++){var wt=Pt[kt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Pt,kt){return Pt&&_t(vt.prototype,Pt),kt&&_t(vt,kt),vt}}(),Jt=function _t(vt,Pt,kt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Pt);if(wt===void 0){var ct=Object.getPrototypeOf(vt);return ct===null?void 0:_t(ct,Pt,kt)}if("value"in wt)return wt.value;var ie=wt.get;if(ie!==void 0)return ie.call(kt)},Vt=Tt(0),bt=function(_t){return _t&&_t.__esModule?_t:{default:_t}}(Vt),ft=function(_t){function vt(){return Qt(this,vt),Oe(this,(vt.__proto__||Object.getPrototypeOf(vt)).apply(this,arguments))}return $t(vt,_t),ue(vt,[{key:"insertInto",value:function(Pt,kt){Pt.children.length===0?Jt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertInto",this).call(this,Pt,kt):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),vt}(bt.default.Embed);ft.blotName="break",ft.tagName="BR",Gt.default=ft},function(Ye,Gt,Tt){"use strict";function Qt(vt,Pt){if(!(vt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function Oe(vt,Pt){if(!vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Pt||typeof Pt!="object"&&typeof Pt!="function"?vt:Pt}function $t(vt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pt);vt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:vt,enumerable:!1,writable:!0,configurable:!0}}),Pt&&(Object.setPrototypeOf?Object.setPrototypeOf(vt,Pt):vt.__proto__=Pt)}function ue(vt,Pt){var kt=document.createElement("a");kt.href=vt;var wt=kt.href.slice(0,kt.href.indexOf(":"));return Pt.indexOf(wt)>-1}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.sanitize=Gt.default=void 0;var Jt=function(){function vt(Pt,kt){for(var wt=0;wt<kt.length;wt++){var ct=kt[wt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(Pt,ct.key,ct)}}return function(Pt,kt,wt){return kt&&vt(Pt.prototype,kt),wt&&vt(Pt,wt),Pt}}(),Vt=function vt(Pt,kt,wt){Pt===null&&(Pt=Function.prototype);var ct=Object.getOwnPropertyDescriptor(Pt,kt);if(ct===void 0){var ie=Object.getPrototypeOf(Pt);return ie===null?void 0:vt(ie,kt,wt)}if("value"in ct)return ct.value;var It=ct.get;if(It!==void 0)return It.call(wt)},bt=Tt(5),ft=function(vt){return vt&&vt.__esModule?vt:{default:vt}}(bt),_t=function(vt){function Pt(){return Qt(this,Pt),Oe(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).apply(this,arguments))}return $t(Pt,vt),Jt(Pt,[{key:"format",value:function(kt,wt){if(kt!==this.statics.blotName||!wt)return Vt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"format",this).call(this,kt,wt);wt=this.constructor.sanitize(wt),this.domNode.setAttribute("href",wt)}}],[{key:"create",value:function(kt){var wt=Vt(Pt.__proto__||Object.getPrototypeOf(Pt),"create",this).call(this,kt);return kt=this.sanitize(kt),wt.setAttribute("href",kt),wt.setAttribute("rel","noopener noreferrer"),wt.setAttribute("target","_blank"),wt}},{key:"formats",value:function(kt){return kt.getAttribute("href")}},{key:"sanitize",value:function(kt){return ue(kt,this.PROTOCOL_WHITELIST)?kt:this.SANITIZED_URL}}]),Pt}(ft.default);_t.blotName="link",_t.tagName="A",_t.SANITIZED_URL="about:blank",_t.PROTOCOL_WHITELIST=["http","https","mailto","tel"],Gt.default=_t,Gt.sanitize=ue},function(Ye,Gt,Tt){"use strict";function Qt(kt){return kt&&kt.__esModule?kt:{default:kt}}function Oe(kt,wt){if(!(kt instanceof wt))throw new TypeError("Cannot call a class as a function")}function $t(kt,wt){kt.setAttribute(wt,kt.getAttribute(wt)!=="true")}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},Jt=function(){function kt(wt,ct){for(var ie=0;ie<ct.length;ie++){var It=ct[ie];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(wt,It.key,It)}}return function(wt,ct,ie){return ct&&kt(wt.prototype,ct),ie&&kt(wt,ie),wt}}(),Vt=Tt(25),bt=Qt(Vt),ft=Tt(106),_t=Qt(ft),vt=0,Pt=function(){function kt(wt){var ct=this;Oe(this,kt),this.select=wt,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){ct.togglePicker()}),this.label.addEventListener("keydown",function(ie){switch(ie.keyCode){case bt.default.keys.ENTER:ct.togglePicker();break;case bt.default.keys.ESCAPE:ct.escape(),ie.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return Jt(kt,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),$t(this.label,"aria-expanded"),$t(this.options,"aria-hidden")}},{key:"buildItem",value:function(wt){var ct=this,ie=document.createElement("span");return ie.tabIndex="0",ie.setAttribute("role","button"),ie.classList.add("ql-picker-item"),wt.hasAttribute("value")&&ie.setAttribute("data-value",wt.getAttribute("value")),wt.textContent&&ie.setAttribute("data-label",wt.textContent),ie.addEventListener("click",function(){ct.selectItem(ie,!0)}),ie.addEventListener("keydown",function(It){switch(It.keyCode){case bt.default.keys.ENTER:ct.selectItem(ie,!0),It.preventDefault();break;case bt.default.keys.ESCAPE:ct.escape(),It.preventDefault()}}),ie}},{key:"buildLabel",value:function(){var wt=document.createElement("span");return wt.classList.add("ql-picker-label"),wt.innerHTML=_t.default,wt.tabIndex="0",wt.setAttribute("role","button"),wt.setAttribute("aria-expanded","false"),this.container.appendChild(wt),wt}},{key:"buildOptions",value:function(){var wt=this,ct=document.createElement("span");ct.classList.add("ql-picker-options"),ct.setAttribute("aria-hidden","true"),ct.tabIndex="-1",ct.id="ql-picker-options-"+vt,vt+=1,this.label.setAttribute("aria-controls",ct.id),this.options=ct,[].slice.call(this.select.options).forEach(function(ie){var It=wt.buildItem(ie);ct.appendChild(It),ie.selected===!0&&wt.selectItem(It)}),this.container.appendChild(ct)}},{key:"buildPicker",value:function(){var wt=this;[].slice.call(this.select.attributes).forEach(function(ct){wt.container.setAttribute(ct.name,ct.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var wt=this;this.close(),setTimeout(function(){return wt.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(wt){var ct=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ie=this.container.querySelector(".ql-selected");if(wt!==ie&&(ie?.classList.remove("ql-selected"),wt!=null&&(wt.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(wt.parentNode.children,wt),wt.hasAttribute("data-value")?this.label.setAttribute("data-value",wt.getAttribute("data-value")):this.label.removeAttribute("data-value"),wt.hasAttribute("data-label")?this.label.setAttribute("data-label",wt.getAttribute("data-label")):this.label.removeAttribute("data-label"),ct))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":ue(Event))==="object"){var It=document.createEvent("Event");It.initEvent("change",!0,!0),this.select.dispatchEvent(It)}this.close()}}},{key:"update",value:function(){var wt=void 0;if(this.select.selectedIndex>-1){var ct=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];wt=this.select.options[this.select.selectedIndex],this.selectItem(ct)}else this.selectItem(null);var ie=wt!=null&&wt!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",ie)}}]),kt}();Gt.default=Pt},function(Ye,Gt,Tt){"use strict";function Qt(bt){var ft=Jt.find(bt);if(ft==null)try{ft=Jt.create(bt)}catch{ft=Jt.create(Jt.Scope.INLINE),[].slice.call(bt.childNodes).forEach(function(vt){ft.domNode.appendChild(vt)}),bt.parentNode&&bt.parentNode.replaceChild(ft.domNode,bt),ft.attach()}return ft}var Oe=this&&this.__extends||function(){var bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,_t){ft.__proto__=_t}||function(ft,_t){for(var vt in _t)_t.hasOwnProperty(vt)&&(ft[vt]=_t[vt])};return function(ft,_t){function vt(){this.constructor=ft}bt(ft,_t),ft.prototype=_t===null?Object.create(_t):(vt.prototype=_t.prototype,new vt)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var $t=Tt(47),ue=Tt(27),Jt=Tt(1),Vt=function(bt){function ft(_t){var vt=bt.call(this,_t)||this;return vt.build(),vt}return Oe(ft,bt),ft.prototype.appendChild=function(_t){this.insertBefore(_t)},ft.prototype.attach=function(){bt.prototype.attach.call(this),this.children.forEach(function(_t){_t.attach()})},ft.prototype.build=function(){var _t=this;this.children=new $t.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(vt){try{var Pt=Qt(vt);_t.insertBefore(Pt,_t.children.head||void 0)}catch(kt){if(kt instanceof Jt.ParchmentError)return;throw kt}})},ft.prototype.deleteAt=function(_t,vt){if(_t===0&&vt===this.length())return this.remove();this.children.forEachAt(_t,vt,function(Pt,kt,wt){Pt.deleteAt(kt,wt)})},ft.prototype.descendant=function(_t,vt){var Pt=this.children.find(vt),kt=Pt[0],wt=Pt[1];return _t.blotName==null&&_t(kt)||_t.blotName!=null&&kt instanceof _t?[kt,wt]:kt instanceof ft?kt.descendant(_t,wt):[null,-1]},ft.prototype.descendants=function(_t,vt,Pt){vt===void 0&&(vt=0),Pt===void 0&&(Pt=Number.MAX_VALUE);var kt=[],wt=Pt;return this.children.forEachAt(vt,Pt,function(ct,ie,It){(_t.blotName==null&&_t(ct)||_t.blotName!=null&&ct instanceof _t)&&kt.push(ct),ct instanceof ft&&(kt=kt.concat(ct.descendants(_t,ie,wt))),wt-=It}),kt},ft.prototype.detach=function(){this.children.forEach(function(_t){_t.detach()}),bt.prototype.detach.call(this)},ft.prototype.formatAt=function(_t,vt,Pt,kt){this.children.forEachAt(_t,vt,function(wt,ct,ie){wt.formatAt(ct,ie,Pt,kt)})},ft.prototype.insertAt=function(_t,vt,Pt){var kt=this.children.find(_t),wt=kt[0],ct=kt[1];if(wt)wt.insertAt(ct,vt,Pt);else{var ie=Pt==null?Jt.create("text",vt):Jt.create(vt,Pt);this.appendChild(ie)}},ft.prototype.insertBefore=function(_t,vt){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(Pt){return _t instanceof Pt}))throw new Jt.ParchmentError("Cannot insert "+_t.statics.blotName+" into "+this.statics.blotName);_t.insertInto(this,vt)},ft.prototype.length=function(){return this.children.reduce(function(_t,vt){return _t+vt.length()},0)},ft.prototype.moveChildren=function(_t,vt){this.children.forEach(function(Pt){_t.insertBefore(Pt,vt)})},ft.prototype.optimize=function(_t){if(bt.prototype.optimize.call(this,_t),this.children.length===0)if(this.statics.defaultChild!=null){var vt=Jt.create(this.statics.defaultChild);this.appendChild(vt),vt.optimize(_t)}else this.remove()},ft.prototype.path=function(_t,vt){vt===void 0&&(vt=!1);var Pt=this.children.find(_t,vt),kt=Pt[0],wt=Pt[1],ct=[[this,_t]];return kt instanceof ft?ct.concat(kt.path(wt,vt)):(kt!=null&&ct.push([kt,wt]),ct)},ft.prototype.removeChild=function(_t){this.children.remove(_t)},ft.prototype.replace=function(_t){_t instanceof ft&&_t.moveChildren(this),bt.prototype.replace.call(this,_t)},ft.prototype.split=function(_t,vt){if(vt===void 0&&(vt=!1),!vt){if(_t===0)return this;if(_t===this.length())return this.next}var Pt=this.clone();return this.parent.insertBefore(Pt,this.next),this.children.forEachAt(_t,this.length(),function(kt,wt,ct){kt=kt.split(wt,vt),Pt.appendChild(kt)}),Pt},ft.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},ft.prototype.update=function(_t,vt){var Pt=this,kt=[],wt=[];_t.forEach(function(ct){ct.target===Pt.domNode&&ct.type==="childList"&&(kt.push.apply(kt,ct.addedNodes),wt.push.apply(wt,ct.removedNodes))}),wt.forEach(function(ct){if(!(ct.parentNode!=null&&ct.tagName!=="IFRAME"&&document.body.compareDocumentPosition(ct)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var ie=Jt.find(ct);ie!=null&&(ie.domNode.parentNode!=null&&ie.domNode.parentNode!==Pt.domNode||ie.detach())}}),kt.filter(function(ct){return ct.parentNode==Pt.domNode}).sort(function(ct,ie){return ct===ie?0:ct.compareDocumentPosition(ie)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(ct){var ie=null;ct.nextSibling!=null&&(ie=Jt.find(ct.nextSibling));var It=Qt(ct);It.next==ie&&It.next!=null||(It.parent!=null&&It.parent.removeChild(Pt),Pt.insertBefore(It,ie||void 0))})},ft}(ue.default);Gt.default=Vt},function(Ye,Gt,Tt){"use strict";var Qt=this&&this.__extends||function(){var bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,_t){ft.__proto__=_t}||function(ft,_t){for(var vt in _t)_t.hasOwnProperty(vt)&&(ft[vt]=_t[vt])};return function(ft,_t){function vt(){this.constructor=ft}bt(ft,_t),ft.prototype=_t===null?Object.create(_t):(vt.prototype=_t.prototype,new vt)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(11),$t=Tt(28),ue=Tt(17),Jt=Tt(1),Vt=function(bt){function ft(_t){var vt=bt.call(this,_t)||this;return vt.attributes=new $t.default(vt.domNode),vt}return Qt(ft,bt),ft.formats=function(_t){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?_t.tagName.toLowerCase():void 0)},ft.prototype.format=function(_t,vt){var Pt=Jt.query(_t);Pt instanceof Oe.default?this.attributes.attribute(Pt,vt):vt&&(Pt==null||_t===this.statics.blotName&&this.formats()[_t]===vt||this.replaceWith(_t,vt))},ft.prototype.formats=function(){var _t=this.attributes.values(),vt=this.statics.formats(this.domNode);return vt!=null&&(_t[this.statics.blotName]=vt),_t},ft.prototype.replaceWith=function(_t,vt){var Pt=bt.prototype.replaceWith.call(this,_t,vt);return this.attributes.copy(Pt),Pt},ft.prototype.update=function(_t,vt){var Pt=this;bt.prototype.update.call(this,_t,vt),_t.some(function(kt){return kt.target===Pt.domNode&&kt.type==="attributes"})&&this.attributes.build()},ft.prototype.wrap=function(_t,vt){var Pt=bt.prototype.wrap.call(this,_t,vt);return Pt instanceof ft&&Pt.statics.scope===this.statics.scope&&this.attributes.move(Pt),Pt},ft}(ue.default);Gt.default=Vt},function(Ye,Gt,Tt){"use strict";var Qt=this&&this.__extends||function(){var Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Vt,bt){Vt.__proto__=bt}||function(Vt,bt){for(var ft in bt)bt.hasOwnProperty(ft)&&(Vt[ft]=bt[ft])};return function(Vt,bt){function ft(){this.constructor=Vt}Jt(Vt,bt),Vt.prototype=bt===null?Object.create(bt):(ft.prototype=bt.prototype,new ft)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(27),$t=Tt(1),ue=function(Jt){function Vt(){return Jt!==null&&Jt.apply(this,arguments)||this}return Qt(Vt,Jt),Vt.value=function(bt){return!0},Vt.prototype.index=function(bt,ft){return this.domNode===bt||this.domNode.compareDocumentPosition(bt)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(ft,1):-1},Vt.prototype.position=function(bt,ft){var _t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return bt>0&&(_t+=1),[this.parent.domNode,_t]},Vt.prototype.value=function(){var bt;return bt={},bt[this.statics.blotName]=this.statics.value(this.domNode)||!0,bt},Vt.scope=$t.Scope.INLINE_BLOT,Vt}(Oe.default);Gt.default=ue},function(Ye,Gt,Tt){function Qt(Jt){this.ops=Jt,this.index=0,this.offset=0}var Oe=Tt(12),$t=Tt(2),ue={attributes:{compose:function(Jt,Vt,bt){typeof Jt!="object"&&(Jt={}),typeof Vt!="object"&&(Vt={});var ft=$t(!0,{},Vt);bt||(ft=Object.keys(ft).reduce(function(vt,Pt){return ft[Pt]!=null&&(vt[Pt]=ft[Pt]),vt},{}));for(var _t in Jt)Jt[_t]!==void 0&&Vt[_t]===void 0&&(ft[_t]=Jt[_t]);return Object.keys(ft).length>0?ft:void 0},diff:function(Jt,Vt){typeof Jt!="object"&&(Jt={}),typeof Vt!="object"&&(Vt={});var bt=Object.keys(Jt).concat(Object.keys(Vt)).reduce(function(ft,_t){return Oe(Jt[_t],Vt[_t])||(ft[_t]=Vt[_t]===void 0?null:Vt[_t]),ft},{});return Object.keys(bt).length>0?bt:void 0},transform:function(Jt,Vt,bt){if(typeof Jt!="object")return Vt;if(typeof Vt=="object"){if(!bt)return Vt;var ft=Object.keys(Vt).reduce(function(_t,vt){return Jt[vt]===void 0&&(_t[vt]=Vt[vt]),_t},{});return Object.keys(ft).length>0?ft:void 0}}},iterator:function(Jt){return new Qt(Jt)},length:function(Jt){return typeof Jt.delete=="number"?Jt.delete:typeof Jt.retain=="number"?Jt.retain:typeof Jt.insert=="string"?Jt.insert.length:1}};Qt.prototype.hasNext=function(){return this.peekLength()<1/0},Qt.prototype.next=function(Jt){Jt||(Jt=1/0);var Vt=this.ops[this.index];if(Vt){var bt=this.offset,ft=ue.length(Vt);if(Jt>=ft-bt?(Jt=ft-bt,this.index+=1,this.offset=0):this.offset+=Jt,typeof Vt.delete=="number")return{delete:Jt};var _t={};return Vt.attributes&&(_t.attributes=Vt.attributes),typeof Vt.retain=="number"?_t.retain=Jt:typeof Vt.insert=="string"?_t.insert=Vt.insert.substr(bt,Jt):_t.insert=Vt.insert,_t}return{retain:1/0}},Qt.prototype.peek=function(){return this.ops[this.index]},Qt.prototype.peekLength=function(){return this.ops[this.index]?ue.length(this.ops[this.index])-this.offset:1/0},Qt.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},Qt.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var Jt=this.offset,Vt=this.index,bt=this.next(),ft=this.ops.slice(this.index);return this.offset=Jt,this.index=Vt,[bt].concat(ft)}return[]},Ye.exports=ue},function(Ye,Gt){var Tt=function(){"use strict";function Qt(Pt,kt){return kt!=null&&Pt instanceof kt}function Oe(Pt,kt,wt,ct,ie){function It(Me,ve){if(Me===null)return null;if(ve===0)return Me;var le,Xt;if(typeof Me!="object")return Me;if(Qt(Me,ft))le=new ft;else if(Qt(Me,_t))le=new _t;else if(Qt(Me,vt))le=new vt(function(jt,Fe){Me.then(function(ht){jt(It(ht,ve-1))},function(ht){Fe(It(ht,ve-1))})});else if(Oe.__isArray(Me))le=[];else if(Oe.__isRegExp(Me))le=new RegExp(Me.source,bt(Me)),Me.lastIndex&&(le.lastIndex=Me.lastIndex);else if(Oe.__isDate(Me))le=new Date(Me.getTime());else{if(fe&&Buffer.isBuffer(Me))return le=Buffer.allocUnsafe?Buffer.allocUnsafe(Me.length):new Buffer(Me.length),Me.copy(le),le;Qt(Me,Error)?le=Object.create(Me):ct===void 0?(Xt=Object.getPrototypeOf(Me),le=Object.create(Xt)):(le=Object.create(ct),Xt=ct)}if(kt){var Kt=Wt.indexOf(Me);if(Kt!=-1)return te[Kt];Wt.push(Me),te.push(le)}Qt(Me,ft)&&Me.forEach(function(jt,Fe){var ht=It(Fe,ve-1),lt=It(jt,ve-1);le.set(ht,lt)}),Qt(Me,_t)&&Me.forEach(function(jt){var Fe=It(jt,ve-1);le.add(Fe)});for(var ne in Me){var De;Xt&&(De=Object.getOwnPropertyDescriptor(Xt,ne)),De&&De.set==null||(le[ne]=It(Me[ne],ve-1))}if(Object.getOwnPropertySymbols)for(var me=Object.getOwnPropertySymbols(Me),ne=0;ne<me.length;ne++){var Ne=me[ne],Fn=Object.getOwnPropertyDescriptor(Me,Ne);(!Fn||Fn.enumerable||ie)&&(le[Ne]=It(Me[Ne],ve-1),Fn.enumerable||Object.defineProperty(le,Ne,{enumerable:!1}))}if(ie)for(var dn=Object.getOwnPropertyNames(Me),ne=0;ne<dn.length;ne++){var gn=dn[ne],Fn=Object.getOwnPropertyDescriptor(Me,gn);Fn&&Fn.enumerable||(le[gn]=It(Me[gn],ve-1),Object.defineProperty(le,gn,{enumerable:!1}))}return le}typeof kt=="object"&&(wt=kt.depth,ct=kt.prototype,ie=kt.includeNonEnumerable,kt=kt.circular);var Wt=[],te=[],fe=typeof Buffer<"u";return kt===void 0&&(kt=!0),wt===void 0&&(wt=1/0),It(Pt,wt)}function $t(Pt){return Object.prototype.toString.call(Pt)}function ue(Pt){return typeof Pt=="object"&&$t(Pt)==="[object Date]"}function Jt(Pt){return typeof Pt=="object"&&$t(Pt)==="[object Array]"}function Vt(Pt){return typeof Pt=="object"&&$t(Pt)==="[object RegExp]"}function bt(Pt){var kt="";return Pt.global&&(kt+="g"),Pt.ignoreCase&&(kt+="i"),Pt.multiline&&(kt+="m"),kt}var ft;try{ft=Map}catch{ft=function(){}}var _t;try{_t=Set}catch{_t=function(){}}var vt;try{vt=Promise}catch{vt=function(){}}return Oe.clonePrototype=function(Pt){if(Pt===null)return null;var kt=function(){};return kt.prototype=Pt,new kt},Oe.__objToStr=$t,Oe.__isDate=ue,Oe.__isArray=Jt,Oe.__isRegExp=Vt,Oe.__getRegExpFlags=bt,Oe}();typeof Ye=="object"&&Ye.exports&&(Ye.exports=Tt)},function(Ye,Gt,Tt){"use strict";function Qt(Me){return Me&&Me.__esModule?Me:{default:Me}}function Oe(Me){if(Array.isArray(Me)){for(var ve=0,le=Array(Me.length);ve<Me.length;ve++)le[ve]=Me[ve];return le}return Array.from(Me)}function $t(Me,ve){if(!(Me instanceof ve))throw new TypeError("Cannot call a class as a function")}function ue(Me,ve){try{ve.parentNode}catch{return!1}return ve instanceof Text&&(ve=ve.parentNode),Me.contains(ve)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.Range=void 0;var Jt=function(){function Me(ve,le){var Xt=[],Kt=!0,ne=!1,De=void 0;try{for(var me,Ne=ve[Symbol.iterator]();!(Kt=(me=Ne.next()).done)&&(Xt.push(me.value),!le||Xt.length!==le);Kt=!0);}catch(Fn){ne=!0,De=Fn}finally{try{!Kt&&Ne.return&&Ne.return()}finally{if(ne)throw De}}return Xt}return function(ve,le){if(Array.isArray(ve))return ve;if(Symbol.iterator in Object(ve))return Me(ve,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=function(){function Me(ve,le){for(var Xt=0;Xt<le.length;Xt++){var Kt=le[Xt];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(ve,Kt.key,Kt)}}return function(ve,le,Xt){return le&&Me(ve.prototype,le),Xt&&Me(ve,Xt),ve}}(),bt=Tt(0),ft=Qt(bt),_t=Tt(21),vt=Qt(_t),Pt=Tt(12),kt=Qt(Pt),wt=Tt(9),ct=Qt(wt),ie=Tt(10),It=Qt(ie),Wt=(0,It.default)("quill:selection"),te=function Me(ve){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;$t(this,Me),this.index=ve,this.length=le},fe=function(){function Me(ve,le){var Xt=this;$t(this,Me),this.emitter=le,this.scroll=ve,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=ft.default.create("cursor",this),this.lastRange=this.savedRange=new te(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){Xt.mouseDown||setTimeout(Xt.update.bind(Xt,ct.default.sources.USER),1)}),this.emitter.on(ct.default.events.EDITOR_CHANGE,function(Kt,ne){Kt===ct.default.events.TEXT_CHANGE&&ne.length()>0&&Xt.update(ct.default.sources.SILENT)}),this.emitter.on(ct.default.events.SCROLL_BEFORE_UPDATE,function(){if(Xt.hasFocus()){var Kt=Xt.getNativeRange();Kt!=null&&Kt.start.node!==Xt.cursor.textNode&&Xt.emitter.once(ct.default.events.SCROLL_UPDATE,function(){try{Xt.setNativeRange(Kt.start.node,Kt.start.offset,Kt.end.node,Kt.end.offset)}catch{}})}}),this.emitter.on(ct.default.events.SCROLL_OPTIMIZE,function(Kt,ne){if(ne.range){var De=ne.range,me=De.startNode,Ne=De.startOffset,Fn=De.endNode,dn=De.endOffset;Xt.setNativeRange(me,Ne,Fn,dn)}}),this.update(ct.default.sources.SILENT)}return Vt(Me,[{key:"handleComposition",value:function(){var ve=this;this.root.addEventListener("compositionstart",function(){ve.composing=!0}),this.root.addEventListener("compositionend",function(){if(ve.composing=!1,ve.cursor.parent){var le=ve.cursor.restore();if(!le)return;setTimeout(function(){ve.setNativeRange(le.startNode,le.startOffset,le.endNode,le.endOffset)},1)}})}},{key:"handleDragging",value:function(){var ve=this;this.emitter.listenDOM("mousedown",document.body,function(){ve.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){ve.mouseDown=!1,ve.update(ct.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(ve,le){if(this.scroll.whitelist==null||this.scroll.whitelist[ve]){this.scroll.update();var Xt=this.getNativeRange();if(Xt!=null&&Xt.native.collapsed&&!ft.default.query(ve,ft.default.Scope.BLOCK)){if(Xt.start.node!==this.cursor.textNode){var Kt=ft.default.find(Xt.start.node,!1);if(Kt==null)return;if(Kt instanceof ft.default.Leaf){var ne=Kt.split(Xt.start.offset);Kt.parent.insertBefore(this.cursor,ne)}else Kt.insertBefore(this.cursor,Xt.start.node);this.cursor.attach()}this.cursor.format(ve,le),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(ve){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Xt=this.scroll.length();ve=Math.min(ve,Xt-1),le=Math.min(ve+le,Xt-1)-ve;var Kt=void 0,ne=this.scroll.leaf(ve),De=Jt(ne,2),me=De[0],Ne=De[1];if(me==null)return null;var Fn=me.position(Ne,!0),dn=Jt(Fn,2);Kt=dn[0],Ne=dn[1];var gn=document.createRange();if(le>0){gn.setStart(Kt,Ne);var jt=this.scroll.leaf(ve+le),Fe=Jt(jt,2);if(me=Fe[0],Ne=Fe[1],me==null)return null;var ht=me.position(Ne,!0),lt=Jt(ht,2);return Kt=lt[0],Ne=lt[1],gn.setEnd(Kt,Ne),gn.getBoundingClientRect()}var an="left",en=void 0;return Kt instanceof Text?(Ne<Kt.data.length?(gn.setStart(Kt,Ne),gn.setEnd(Kt,Ne+1)):(gn.setStart(Kt,Ne-1),gn.setEnd(Kt,Ne),an="right"),en=gn.getBoundingClientRect()):(en=me.domNode.getBoundingClientRect(),Ne>0&&(an="right")),{bottom:en.top+en.height,height:en.height,left:en[an],right:en[an],top:en.top,width:0}}},{key:"getNativeRange",value:function(){var ve=document.getSelection();if(ve==null||ve.rangeCount<=0)return null;var le=ve.getRangeAt(0);if(le==null)return null;var Xt=this.normalizeNative(le);return Wt.info("getNativeRange",Xt),Xt}},{key:"getRange",value:function(){var ve=this.getNativeRange();return ve==null?[null,null]:[this.normalizedToRange(ve),ve]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(ve){var le=this,Xt=[[ve.start.node,ve.start.offset]];ve.native.collapsed||Xt.push([ve.end.node,ve.end.offset]);var Kt=Xt.map(function(me){var Ne=Jt(me,2),Fn=Ne[0],dn=Ne[1],gn=ft.default.find(Fn,!0),jt=gn.offset(le.scroll);return dn===0?jt:gn instanceof ft.default.Container?jt+gn.length():jt+gn.index(Fn,dn)}),ne=Math.min(Math.max.apply(Math,Oe(Kt)),this.scroll.length()-1),De=Math.min.apply(Math,[ne].concat(Oe(Kt)));return new te(De,ne-De)}},{key:"normalizeNative",value:function(ve){if(!ue(this.root,ve.startContainer)||!ve.collapsed&&!ue(this.root,ve.endContainer))return null;var le={start:{node:ve.startContainer,offset:ve.startOffset},end:{node:ve.endContainer,offset:ve.endOffset},native:ve};return[le.start,le.end].forEach(function(Xt){for(var Kt=Xt.node,ne=Xt.offset;!(Kt instanceof Text)&&Kt.childNodes.length>0;)if(Kt.childNodes.length>ne)Kt=Kt.childNodes[ne],ne=0;else{if(Kt.childNodes.length!==ne)break;Kt=Kt.lastChild,ne=Kt instanceof Text?Kt.data.length:Kt.childNodes.length+1}Xt.node=Kt,Xt.offset=ne}),le}},{key:"rangeToNative",value:function(ve){var le=this,Xt=ve.collapsed?[ve.index]:[ve.index,ve.index+ve.length],Kt=[],ne=this.scroll.length();return Xt.forEach(function(De,me){De=Math.min(ne-1,De);var Ne=void 0,Fn=le.scroll.leaf(De),dn=Jt(Fn,2),gn=dn[0],jt=dn[1],Fe=gn.position(jt,me!==0),ht=Jt(Fe,2);Ne=ht[0],jt=ht[1],Kt.push(Ne,jt)}),Kt.length<2&&(Kt=Kt.concat(Kt)),Kt}},{key:"scrollIntoView",value:function(ve){var le=this.lastRange;if(le!=null){var Xt=this.getBounds(le.index,le.length);if(Xt!=null){var Kt=this.scroll.length()-1,ne=this.scroll.line(Math.min(le.index,Kt)),De=Jt(ne,1),me=De[0],Ne=me;if(le.length>0){var Fn=this.scroll.line(Math.min(le.index+le.length,Kt));Ne=Jt(Fn,1)[0]}if(me!=null&&Ne!=null){var dn=ve.getBoundingClientRect();Xt.top<dn.top?ve.scrollTop-=dn.top-Xt.top:Xt.bottom>dn.bottom&&(ve.scrollTop+=Xt.bottom-dn.bottom)}}}}},{key:"setNativeRange",value:function(ve,le){var Xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve,Kt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:le,ne=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Wt.info("setNativeRange",ve,le,Xt,Kt),ve==null||this.root.parentNode!=null&&ve.parentNode!=null&&Xt.parentNode!=null){var De=document.getSelection();if(De!=null)if(ve!=null){this.hasFocus()||this.root.focus();var me=(this.getNativeRange()||{}).native;if(me==null||ne||ve!==me.startContainer||le!==me.startOffset||Xt!==me.endContainer||Kt!==me.endOffset){ve.tagName=="BR"&&(le=[].indexOf.call(ve.parentNode.childNodes,ve),ve=ve.parentNode),Xt.tagName=="BR"&&(Kt=[].indexOf.call(Xt.parentNode.childNodes,Xt),Xt=Xt.parentNode);var Ne=document.createRange();Ne.setStart(ve,le),Ne.setEnd(Xt,Kt),De.removeAllRanges(),De.addRange(Ne)}}else De.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(ve){var le=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct.default.sources.API;if(typeof le=="string"&&(Xt=le,le=!1),Wt.info("setRange",ve),ve!=null){var Kt=this.rangeToNative(ve);this.setNativeRange.apply(this,Oe(Kt).concat([le]))}else this.setNativeRange(null);this.update(Xt)}},{key:"update",value:function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ct.default.sources.USER,le=this.lastRange,Xt=this.getRange(),Kt=Jt(Xt,2),ne=Kt[0],De=Kt[1];if(this.lastRange=ne,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,kt.default)(le,this.lastRange)){var me;!this.composing&&De!=null&&De.native.collapsed&&De.start.node!==this.cursor.textNode&&this.cursor.restore();var Ne=[ct.default.events.SELECTION_CHANGE,(0,vt.default)(this.lastRange),(0,vt.default)(le),ve];if((me=this.emitter).emit.apply(me,[ct.default.events.EDITOR_CHANGE].concat(Ne)),ve!==ct.default.sources.SILENT){var Fn;(Fn=this.emitter).emit.apply(Fn,Ne)}}}}]),Me}();Gt.Range=te,Gt.default=fe},function(Ye,Gt,Tt){"use strict";function Qt(vt){return vt&&vt.__esModule?vt:{default:vt}}function Oe(vt,Pt){if(!(vt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function $t(vt,Pt){if(!vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Pt||typeof Pt!="object"&&typeof Pt!="function"?vt:Pt}function ue(vt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pt);vt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:vt,enumerable:!1,writable:!0,configurable:!0}}),Pt&&(Object.setPrototypeOf?Object.setPrototypeOf(vt,Pt):vt.__proto__=Pt)}Object.defineProperty(Gt,"__esModule",{value:!0});var Jt=Tt(0),Vt=Qt(Jt),bt=Tt(3),ft=Qt(bt),_t=function(vt){function Pt(){return Oe(this,Pt),$t(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).apply(this,arguments))}return ue(Pt,vt),Pt}(Vt.default.Container);_t.allowedChildren=[ft.default,bt.BlockEmbed,_t],Gt.default=_t},function(Ye,Gt,Tt){"use strict";function Qt(Pt,kt){if(!(Pt instanceof kt))throw new TypeError("Cannot call a class as a function")}function Oe(Pt,kt){if(!Pt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!kt||typeof kt!="object"&&typeof kt!="function"?Pt:kt}function $t(Pt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kt);Pt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:Pt,enumerable:!1,writable:!0,configurable:!0}}),kt&&(Object.setPrototypeOf?Object.setPrototypeOf(Pt,kt):Pt.__proto__=kt)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.ColorStyle=Gt.ColorClass=Gt.ColorAttributor=void 0;var ue=function(){function Pt(kt,wt){for(var ct=0;ct<wt.length;ct++){var ie=wt[ct];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(kt,ie.key,ie)}}return function(kt,wt,ct){return wt&&Pt(kt.prototype,wt),ct&&Pt(kt,ct),kt}}(),Jt=function Pt(kt,wt,ct){kt===null&&(kt=Function.prototype);var ie=Object.getOwnPropertyDescriptor(kt,wt);if(ie===void 0){var It=Object.getPrototypeOf(kt);return It===null?void 0:Pt(It,wt,ct)}if("value"in ie)return ie.value;var Wt=ie.get;if(Wt!==void 0)return Wt.call(ct)},Vt=Tt(0),bt=function(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}(Vt),ft=function(Pt){function kt(){return Qt(this,kt),Oe(this,(kt.__proto__||Object.getPrototypeOf(kt)).apply(this,arguments))}return $t(kt,Pt),ue(kt,[{key:"value",value:function(wt){var ct=Jt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"value",this).call(this,wt);return ct.startsWith("rgb(")?(ct=ct.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+ct.split(",").map(function(ie){return("00"+parseInt(ie).toString(16)).slice(-2)}).join("")):ct}}]),kt}(bt.default.Attributor.Style),_t=new bt.default.Attributor.Class("color","ql-color",{scope:bt.default.Scope.INLINE}),vt=new ft("color","color",{scope:bt.default.Scope.INLINE});Gt.ColorAttributor=ft,Gt.ColorClass=_t,Gt.ColorStyle=vt},function(Ye,Gt,Tt){"use strict";function Qt(je){return je&&je.__esModule?je:{default:je}}function Oe(je,Qe,Te){return Qe in je?Object.defineProperty(je,Qe,{value:Te,enumerable:!0,configurable:!0,writable:!0}):je[Qe]=Te,je}function $t(je,Qe){if(!(je instanceof Qe))throw new TypeError("Cannot call a class as a function")}function ue(je,Qe){if(!je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Qe||typeof Qe!="object"&&typeof Qe!="function"?je:Qe}function Jt(je,Qe){if(typeof Qe!="function"&&Qe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Qe);je.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:je,enumerable:!1,writable:!0,configurable:!0}}),Qe&&(Object.setPrototypeOf?Object.setPrototypeOf(je,Qe):je.__proto__=Qe)}function Vt(je,Qe){var Te,_n=je===en.keys.LEFT?"prefix":"suffix";return Te={key:je,shiftKey:Qe,altKey:null},Oe(Te,_n,/^$/),Oe(Te,"handler",function(Be){var Ge=Be.index;je===en.keys.RIGHT&&(Ge+=Be.length+1);var Mn=this.quill.getLeaf(Ge);return!(ie(Mn,1)[0]instanceof Ne.default.Embed)||(je===en.keys.LEFT?Qe?this.quill.setSelection(Be.index-1,Be.length+1,dn.default.sources.USER):this.quill.setSelection(Be.index-1,dn.default.sources.USER):Qe?this.quill.setSelection(Be.index,Be.length+1,dn.default.sources.USER):this.quill.setSelection(Be.index+Be.length+1,dn.default.sources.USER),!1)}),Te}function bt(je,Qe){if(!(je.index===0||this.quill.getLength()<=1)){var Te=this.quill.getLine(je.index),_n=ie(Te,1),Be=_n[0],Ge={};if(Qe.offset===0){var Mn=this.quill.getLine(je.index-1),wr=ie(Mn,1),Ln=wr[0];if(Ln!=null&&Ln.length()>1){var di=Be.formats(),ar=this.quill.getFormat(je.index-1,1);Ge=De.default.attributes.diff(di,ar)||{}}}var hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Qe.prefix)?2:1;this.quill.deleteText(je.index-hr,hr,dn.default.sources.USER),Object.keys(Ge).length>0&&this.quill.formatLine(je.index-hr,hr,Ge,dn.default.sources.USER),this.quill.focus()}}function ft(je,Qe){var Te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Qe.suffix)?2:1;if(!(je.index>=this.quill.getLength()-Te)){var _n={},Be=0,Ge=this.quill.getLine(je.index),Mn=ie(Ge,1),wr=Mn[0];if(Qe.offset>=wr.length()-1){var Ln=this.quill.getLine(je.index+1),di=ie(Ln,1),ar=di[0];if(ar){var hr=wr.formats(),wn=this.quill.getFormat(je.index,1);_n=De.default.attributes.diff(hr,wn)||{},Be=ar.length()}}this.quill.deleteText(je.index,Te,dn.default.sources.USER),Object.keys(_n).length>0&&this.quill.formatLine(je.index+Be-1,Te,_n,dn.default.sources.USER)}}function _t(je){var Qe=this.quill.getLines(je),Te={};if(Qe.length>1){var _n=Qe[0].formats(),Be=Qe[Qe.length-1].formats();Te=De.default.attributes.diff(Be,_n)||{}}this.quill.deleteText(je,dn.default.sources.USER),Object.keys(Te).length>0&&this.quill.formatLine(je.index,1,Te,dn.default.sources.USER),this.quill.setSelection(je.index,dn.default.sources.SILENT),this.quill.focus()}function vt(je,Qe){var Te=this;je.length>0&&this.quill.scroll.deleteAt(je.index,je.length);var _n=Object.keys(Qe.format).reduce(function(Be,Ge){return Ne.default.query(Ge,Ne.default.Scope.BLOCK)&&!Array.isArray(Qe.format[Ge])&&(Be[Ge]=Qe.format[Ge]),Be},{});this.quill.insertText(je.index,`
`,_n,dn.default.sources.USER),this.quill.setSelection(je.index+1,dn.default.sources.SILENT),this.quill.focus(),Object.keys(Qe.format).forEach(function(Be){_n[Be]==null&&(Array.isArray(Qe.format[Be])||Be!=="link"&&Te.quill.format(Be,Qe.format[Be],dn.default.sources.USER))})}function Pt(je){return{key:en.keys.TAB,shiftKey:!je,format:{"code-block":!0},handler:function(Qe){var Te=Ne.default.query("code-block"),_n=Qe.index,Be=Qe.length,Ge=this.quill.scroll.descendant(Te,_n),Mn=ie(Ge,2),wr=Mn[0],Ln=Mn[1];if(wr!=null){var di=this.quill.getIndex(wr),ar=wr.newlineIndex(Ln,!0)+1,hr=wr.newlineIndex(di+Ln+Be),wn=wr.domNode.textContent.slice(ar,hr).split(`
`);Ln=0,wn.forEach(function(Wn,si){je?(wr.insertAt(ar+Ln,Te.TAB),Ln+=Te.TAB.length,si===0?_n+=Te.TAB.length:Be+=Te.TAB.length):Wn.startsWith(Te.TAB)&&(wr.deleteAt(ar+Ln,Te.TAB.length),Ln-=Te.TAB.length,si===0?_n-=Te.TAB.length:Be-=Te.TAB.length),Ln+=Wn.length+1}),this.quill.update(dn.default.sources.USER),this.quill.setSelection(_n,Be,dn.default.sources.SILENT)}}}}function kt(je){return{key:je[0].toUpperCase(),shortKey:!0,handler:function(Qe,Te){this.quill.format(je,!Te.format[je],dn.default.sources.USER)}}}function wt(je){if(typeof je=="string"||typeof je=="number")return wt({key:je});if((je===void 0?"undefined":ct(je))==="object"&&(je=(0,te.default)(je,!1)),typeof je.key=="string")if(en.keys[je.key.toUpperCase()]!=null)je.key=en.keys[je.key.toUpperCase()];else{if(je.key.length!==1)return null;je.key=je.key.toUpperCase().charCodeAt(0)}return je.shortKey&&(je[an]=je.shortKey,delete je.shortKey),je}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.SHORTKEY=Gt.default=void 0;var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},ie=function(){function je(Qe,Te){var _n=[],Be=!0,Ge=!1,Mn=void 0;try{for(var wr,Ln=Qe[Symbol.iterator]();!(Be=(wr=Ln.next()).done)&&(_n.push(wr.value),!Te||_n.length!==Te);Be=!0);}catch(di){Ge=!0,Mn=di}finally{try{!Be&&Ln.return&&Ln.return()}finally{if(Ge)throw Mn}}return _n}return function(Qe,Te){if(Array.isArray(Qe))return Qe;if(Symbol.iterator in Object(Qe))return je(Qe,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),It=function(){function je(Qe,Te){for(var _n=0;_n<Te.length;_n++){var Be=Te[_n];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Qe,Be.key,Be)}}return function(Qe,Te,_n){return Te&&je(Qe.prototype,Te),_n&&je(Qe,_n),Qe}}(),Wt=Tt(21),te=Qt(Wt),fe=Tt(12),Me=Qt(fe),ve=Tt(2),le=Qt(ve),Xt=Tt(4),Kt=Qt(Xt),ne=Tt(20),De=Qt(ne),me=Tt(0),Ne=Qt(me),Fn=Tt(6),dn=Qt(Fn),gn=Tt(10),jt=Qt(gn),Fe=Tt(7),ht=Qt(Fe),lt=(0,jt.default)("quill:keyboard"),an=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",en=function(je){function Qe(Te,_n){$t(this,Qe);var Be=ue(this,(Qe.__proto__||Object.getPrototypeOf(Qe)).call(this,Te,_n));return Be.bindings={},Object.keys(Be.options.bindings).forEach(function(Ge){(Ge!=="list autofill"||Te.scroll.whitelist==null||Te.scroll.whitelist.list)&&Be.options.bindings[Ge]&&Be.addBinding(Be.options.bindings[Ge])}),Be.addBinding({key:Qe.keys.ENTER,shiftKey:null},vt),Be.addBinding({key:Qe.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Be.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!0},bt),Be.addBinding({key:Qe.keys.DELETE},{collapsed:!0},ft)):(Be.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},bt),Be.addBinding({key:Qe.keys.DELETE},{collapsed:!0,suffix:/^.?$/},ft)),Be.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!1},_t),Be.addBinding({key:Qe.keys.DELETE},{collapsed:!1},_t),Be.addBinding({key:Qe.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},bt),Be.listen(),Be}return Jt(Qe,je),It(Qe,null,[{key:"match",value:function(Te,_n){return _n=wt(_n),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Be){return!!_n[Be]!==Te[Be]&&_n[Be]!==null})&&_n.key===(Te.which||Te.keyCode)}}]),It(Qe,[{key:"addBinding",value:function(Te){var _n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ge=wt(Te);if(Ge==null||Ge.key==null)return lt.warn("Attempted to add invalid keyboard binding",Ge);typeof _n=="function"&&(_n={handler:_n}),typeof Be=="function"&&(Be={handler:Be}),Ge=(0,le.default)(Ge,_n,Be),this.bindings[Ge.key]=this.bindings[Ge.key]||[],this.bindings[Ge.key].push(Ge)}},{key:"listen",value:function(){var Te=this;this.quill.root.addEventListener("keydown",function(_n){if(!_n.defaultPrevented){var Be=_n.which||_n.keyCode,Ge=(Te.bindings[Be]||[]).filter(function(At){return Qe.match(_n,At)});if(Ge.length!==0){var Mn=Te.quill.getSelection();if(Mn!=null&&Te.quill.hasFocus()){var wr=Te.quill.getLine(Mn.index),Ln=ie(wr,2),di=Ln[0],ar=Ln[1],hr=Te.quill.getLeaf(Mn.index),wn=ie(hr,2),Wn=wn[0],si=wn[1],xi=Mn.length===0?[Wn,si]:Te.quill.getLeaf(Mn.index+Mn.length),oi=ie(xi,2),zi=oi[0],yi=oi[1],Ar=Wn instanceof Ne.default.Text?Wn.value().slice(0,si):"",Kr=zi instanceof Ne.default.Text?zi.value().slice(yi):"",Yt={collapsed:Mn.length===0,empty:Mn.length===0&&di.length()<=1,format:Te.quill.getFormat(Mn),offset:ar,prefix:Ar,suffix:Kr};Ge.some(function(At){if(At.collapsed!=null&&At.collapsed!==Yt.collapsed||At.empty!=null&&At.empty!==Yt.empty||At.offset!=null&&At.offset!==Yt.offset)return!1;if(Array.isArray(At.format)){if(At.format.every(function(Dt){return Yt.format[Dt]==null}))return!1}else if(ct(At.format)==="object"&&!Object.keys(At.format).every(function(Dt){return At.format[Dt]===!0?Yt.format[Dt]!=null:At.format[Dt]===!1?Yt.format[Dt]==null:(0,Me.default)(At.format[Dt],Yt.format[Dt])}))return!1;return!(At.prefix!=null&&!At.prefix.test(Yt.prefix))&&!(At.suffix!=null&&!At.suffix.test(Yt.suffix))&&At.handler.call(Te,Mn,Yt)!==!0})&&_n.preventDefault()}}}})}}]),Qe}(ht.default);en.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},en.DEFAULTS={bindings:{bold:kt("bold"),italic:kt("italic"),underline:kt("underline"),indent:{key:en.keys.TAB,format:["blockquote","indent","list"],handler:function(je,Qe){if(Qe.collapsed&&Qe.offset!==0)return!0;this.quill.format("indent","+1",dn.default.sources.USER)}},outdent:{key:en.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(je,Qe){if(Qe.collapsed&&Qe.offset!==0)return!0;this.quill.format("indent","-1",dn.default.sources.USER)}},"outdent backspace":{key:en.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(je,Qe){Qe.format.indent!=null?this.quill.format("indent","-1",dn.default.sources.USER):Qe.format.list!=null&&this.quill.format("list",!1,dn.default.sources.USER)}},"indent code-block":Pt(!0),"outdent code-block":Pt(!1),"remove tab":{key:en.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(je){this.quill.deleteText(je.index-1,1,dn.default.sources.USER)}},tab:{key:en.keys.TAB,handler:function(je){this.quill.history.cutoff();var Qe=new Kt.default().retain(je.index).delete(je.length).insert("	");this.quill.updateContents(Qe,dn.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(je.index+1,dn.default.sources.SILENT)}},"list empty enter":{key:en.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(je,Qe){this.quill.format("list",!1,dn.default.sources.USER),Qe.format.indent&&this.quill.format("indent",!1,dn.default.sources.USER)}},"checklist enter":{key:en.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(je){var Qe=this.quill.getLine(je.index),Te=ie(Qe,2),_n=Te[0],Be=Te[1],Ge=(0,le.default)({},_n.formats(),{list:"checked"}),Mn=new Kt.default().retain(je.index).insert(`
`,Ge).retain(_n.length()-Be-1).retain(1,{list:"unchecked"});this.quill.updateContents(Mn,dn.default.sources.USER),this.quill.setSelection(je.index+1,dn.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:en.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(je,Qe){var Te=this.quill.getLine(je.index),_n=ie(Te,2),Be=_n[0],Ge=_n[1],Mn=new Kt.default().retain(je.index).insert(`
`,Qe.format).retain(Be.length()-Ge-1).retain(1,{header:null});this.quill.updateContents(Mn,dn.default.sources.USER),this.quill.setSelection(je.index+1,dn.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(je,Qe){var Te=Qe.prefix.length,_n=this.quill.getLine(je.index),Be=ie(_n,2),Ge=Be[0],Mn=Be[1];if(Mn>Te)return!0;var wr=void 0;switch(Qe.prefix.trim()){case"[]":case"[ ]":wr="unchecked";break;case"[x]":wr="checked";break;case"-":case"*":wr="bullet";break;default:wr="ordered"}this.quill.insertText(je.index," ",dn.default.sources.USER),this.quill.history.cutoff();var Ln=new Kt.default().retain(je.index-Mn).delete(Te+1).retain(Ge.length()-2-Mn).retain(1,{list:wr});this.quill.updateContents(Ln,dn.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(je.index-Te,dn.default.sources.SILENT)}},"code exit":{key:en.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(je){var Qe=this.quill.getLine(je.index),Te=ie(Qe,2),_n=Te[0],Be=Te[1],Ge=new Kt.default().retain(je.index+_n.length()-Be-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ge,dn.default.sources.USER)}},"embed left":Vt(en.keys.LEFT,!1),"embed left shift":Vt(en.keys.LEFT,!0),"embed right":Vt(en.keys.RIGHT,!1),"embed right shift":Vt(en.keys.RIGHT,!0)}},Gt.default=en,Gt.SHORTKEY=an},function(Ye,Gt,Tt){"use strict";Ye.exports={align:{"":Tt(75),center:Tt(76),right:Tt(77),justify:Tt(78)},background:Tt(79),blockquote:Tt(80),bold:Tt(81),clean:Tt(82),code:Tt(40),"code-block":Tt(40),color:Tt(83),direction:{"":Tt(84),rtl:Tt(85)},float:{center:Tt(86),full:Tt(87),left:Tt(88),right:Tt(89)},formula:Tt(90),header:{1:Tt(91),2:Tt(92)},italic:Tt(93),image:Tt(94),indent:{"+1":Tt(95),"-1":Tt(96)},link:Tt(97),list:{ordered:Tt(98),bullet:Tt(99),check:Tt(100)},script:{sub:Tt(101),super:Tt(102)},strike:Tt(103),underline:Tt(104),video:Tt(105)}},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Qt=Tt(1),Oe=function(){function $t(ue){this.domNode=ue,this.domNode[Qt.DATA_KEY]={blot:this}}return Object.defineProperty($t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),$t.create=function(ue){if(this.tagName==null)throw new Qt.ParchmentError("Blot definition missing tagName");var Jt;return Array.isArray(this.tagName)?(typeof ue=="string"&&(ue=ue.toUpperCase(),parseInt(ue).toString()===ue&&(ue=parseInt(ue))),Jt=typeof ue=="number"?document.createElement(this.tagName[ue-1]):this.tagName.indexOf(ue)>-1?document.createElement(ue):document.createElement(this.tagName[0])):Jt=document.createElement(this.tagName),this.className&&Jt.classList.add(this.className),Jt},$t.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},$t.prototype.clone=function(){var ue=this.domNode.cloneNode(!1);return Qt.create(ue)},$t.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[Qt.DATA_KEY]},$t.prototype.deleteAt=function(ue,Jt){this.isolate(ue,Jt).remove()},$t.prototype.formatAt=function(ue,Jt,Vt,bt){var ft=this.isolate(ue,Jt);if(Qt.query(Vt,Qt.Scope.BLOT)!=null&&bt)ft.wrap(Vt,bt);else if(Qt.query(Vt,Qt.Scope.ATTRIBUTE)!=null){var _t=Qt.create(this.statics.scope);ft.wrap(_t),_t.format(Vt,bt)}},$t.prototype.insertAt=function(ue,Jt,Vt){var bt=Vt==null?Qt.create("text",Jt):Qt.create(Jt,Vt),ft=this.split(ue);this.parent.insertBefore(bt,ft)},$t.prototype.insertInto=function(ue,Jt){Jt===void 0&&(Jt=null),this.parent!=null&&this.parent.children.remove(this);var Vt=null;ue.children.insertBefore(this,Jt),Jt!=null&&(Vt=Jt.domNode),this.domNode.parentNode==ue.domNode&&this.domNode.nextSibling==Vt||ue.domNode.insertBefore(this.domNode,Vt),this.parent=ue,this.attach()},$t.prototype.isolate=function(ue,Jt){var Vt=this.split(ue);return Vt.split(Jt),Vt},$t.prototype.length=function(){return 1},$t.prototype.offset=function(ue){return ue===void 0&&(ue=this.parent),this.parent==null||this==ue?0:this.parent.children.offset(this)+this.parent.offset(ue)},$t.prototype.optimize=function(ue){this.domNode[Qt.DATA_KEY]!=null&&delete this.domNode[Qt.DATA_KEY].mutations},$t.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},$t.prototype.replace=function(ue){ue.parent!=null&&(ue.parent.insertBefore(this,ue.next),ue.remove())},$t.prototype.replaceWith=function(ue,Jt){var Vt=typeof ue=="string"?Qt.create(ue,Jt):ue;return Vt.replace(this),Vt},$t.prototype.split=function(ue,Jt){return ue===0?this:this.next},$t.prototype.update=function(ue,Jt){},$t.prototype.wrap=function(ue,Jt){var Vt=typeof ue=="string"?Qt.create(ue,Jt):ue;return this.parent!=null&&this.parent.insertBefore(Vt,this.next),Vt.appendChild(this),Vt},$t.blotName="abstract",$t}();Gt.default=Oe},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Qt=Tt(11),Oe=Tt(29),$t=Tt(30),ue=Tt(1),Jt=function(){function Vt(bt){this.attributes={},this.domNode=bt,this.build()}return Vt.prototype.attribute=function(bt,ft){ft?bt.add(this.domNode,ft)&&(bt.value(this.domNode)!=null?this.attributes[bt.attrName]=bt:delete this.attributes[bt.attrName]):(bt.remove(this.domNode),delete this.attributes[bt.attrName])},Vt.prototype.build=function(){var bt=this;this.attributes={};var ft=Qt.default.keys(this.domNode),_t=Oe.default.keys(this.domNode),vt=$t.default.keys(this.domNode);ft.concat(_t).concat(vt).forEach(function(Pt){var kt=ue.query(Pt,ue.Scope.ATTRIBUTE);kt instanceof Qt.default&&(bt.attributes[kt.attrName]=kt)})},Vt.prototype.copy=function(bt){var ft=this;Object.keys(this.attributes).forEach(function(_t){var vt=ft.attributes[_t].value(ft.domNode);bt.format(_t,vt)})},Vt.prototype.move=function(bt){var ft=this;this.copy(bt),Object.keys(this.attributes).forEach(function(_t){ft.attributes[_t].remove(ft.domNode)}),this.attributes={}},Vt.prototype.values=function(){var bt=this;return Object.keys(this.attributes).reduce(function(ft,_t){return ft[_t]=bt.attributes[_t].value(bt.domNode),ft},{})},Vt}();Gt.default=Jt},function(Ye,Gt,Tt){"use strict";function Qt(Jt,Vt){return(Jt.getAttribute("class")||"").split(/\s+/).filter(function(bt){return bt.indexOf(Vt+"-")===0})}var Oe=this&&this.__extends||function(){var Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Vt,bt){Vt.__proto__=bt}||function(Vt,bt){for(var ft in bt)bt.hasOwnProperty(ft)&&(Vt[ft]=bt[ft])};return function(Vt,bt){function ft(){this.constructor=Vt}Jt(Vt,bt),Vt.prototype=bt===null?Object.create(bt):(ft.prototype=bt.prototype,new ft)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var $t=Tt(11),ue=function(Jt){function Vt(){return Jt!==null&&Jt.apply(this,arguments)||this}return Oe(Vt,Jt),Vt.keys=function(bt){return(bt.getAttribute("class")||"").split(/\s+/).map(function(ft){return ft.split("-").slice(0,-1).join("-")})},Vt.prototype.add=function(bt,ft){return!!this.canAdd(bt,ft)&&(this.remove(bt),bt.classList.add(this.keyName+"-"+ft),!0)},Vt.prototype.remove=function(bt){Qt(bt,this.keyName).forEach(function(ft){bt.classList.remove(ft)}),bt.classList.length===0&&bt.removeAttribute("class")},Vt.prototype.value=function(bt){var ft=Qt(bt,this.keyName)[0]||"",_t=ft.slice(this.keyName.length+1);return this.canAdd(bt,_t)?_t:""},Vt}($t.default);Gt.default=ue},function(Ye,Gt,Tt){"use strict";function Qt(Jt){var Vt=Jt.split("-"),bt=Vt.slice(1).map(function(ft){return ft[0].toUpperCase()+ft.slice(1)}).join("");return Vt[0]+bt}var Oe=this&&this.__extends||function(){var Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Vt,bt){Vt.__proto__=bt}||function(Vt,bt){for(var ft in bt)bt.hasOwnProperty(ft)&&(Vt[ft]=bt[ft])};return function(Vt,bt){function ft(){this.constructor=Vt}Jt(Vt,bt),Vt.prototype=bt===null?Object.create(bt):(ft.prototype=bt.prototype,new ft)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var $t=Tt(11),ue=function(Jt){function Vt(){return Jt!==null&&Jt.apply(this,arguments)||this}return Oe(Vt,Jt),Vt.keys=function(bt){return(bt.getAttribute("style")||"").split(";").map(function(ft){return ft.split(":")[0].trim()})},Vt.prototype.add=function(bt,ft){return!!this.canAdd(bt,ft)&&(bt.style[Qt(this.keyName)]=ft,!0)},Vt.prototype.remove=function(bt){bt.style[Qt(this.keyName)]="",bt.getAttribute("style")||bt.removeAttribute("style")},Vt.prototype.value=function(bt){var ft=bt.style[Qt(this.keyName)];return this.canAdd(bt,ft)?ft:""},Vt}($t.default);Gt.default=ue},function(Ye,Gt,Tt){"use strict";function Qt(wt){return wt&&wt.__esModule?wt:{default:wt}}function Oe(wt,ct){if(!(wt instanceof ct))throw new TypeError("Cannot call a class as a function")}function $t(wt,ct){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ct||typeof ct!="object"&&typeof ct!="function"?wt:ct}function ue(wt,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);wt.prototype=Object.create(ct&&ct.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(wt,ct):wt.__proto__=ct)}Object.defineProperty(Gt,"__esModule",{value:!0});var Jt=function(){function wt(ct,ie){var It=[],Wt=!0,te=!1,fe=void 0;try{for(var Me,ve=ct[Symbol.iterator]();!(Wt=(Me=ve.next()).done)&&(It.push(Me.value),!ie||It.length!==ie);Wt=!0);}catch(le){te=!0,fe=le}finally{try{!Wt&&ve.return&&ve.return()}finally{if(te)throw fe}}return It}return function(ct,ie){if(Array.isArray(ct))return ct;if(Symbol.iterator in Object(ct))return wt(ct,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=function wt(ct,ie,It){ct===null&&(ct=Function.prototype);var Wt=Object.getOwnPropertyDescriptor(ct,ie);if(Wt===void 0){var te=Object.getPrototypeOf(ct);return te===null?void 0:wt(te,ie,It)}if("value"in Wt)return Wt.value;var fe=Wt.get;if(fe!==void 0)return fe.call(It)},bt=function(){function wt(ct,ie){for(var It=0;It<ie.length;It++){var Wt=ie[It];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(ct,Wt.key,Wt)}}return function(ct,ie,It){return ie&&wt(ct.prototype,ie),It&&wt(ct,It),ct}}(),ft=Tt(0),_t=Qt(ft),vt=Tt(8),Pt=Qt(vt),kt=function(wt){function ct(ie,It){Oe(this,ct);var Wt=$t(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,ie));return Wt.selection=It,Wt.textNode=document.createTextNode(ct.CONTENTS),Wt.domNode.appendChild(Wt.textNode),Wt._length=0,Wt}return ue(ct,wt),bt(ct,null,[{key:"value",value:function(){}}]),bt(ct,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(ie,It){if(this._length!==0)return Vt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"format",this).call(this,ie,It);for(var Wt=this,te=0;Wt!=null&&Wt.statics.scope!==_t.default.Scope.BLOCK_BLOT;)te+=Wt.offset(Wt.parent),Wt=Wt.parent;Wt!=null&&(this._length=ct.CONTENTS.length,Wt.optimize(),Wt.formatAt(te,ct.CONTENTS.length,ie,It),this._length=0)}},{key:"index",value:function(ie,It){return ie===this.textNode?0:Vt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"index",this).call(this,ie,It)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Vt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var ie=this.textNode,It=this.selection.getNativeRange(),Wt=void 0,te=void 0,fe=void 0;if(It!=null&&It.start.node===ie&&It.end.node===ie){var Me=[ie,It.start.offset,It.end.offset];Wt=Me[0],te=Me[1],fe=Me[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==ct.CONTENTS){var ve=this.textNode.data.split(ct.CONTENTS).join("");this.next instanceof Pt.default?(Wt=this.next.domNode,this.next.insertAt(0,ve),this.textNode.data=ct.CONTENTS):(this.textNode.data=ve,this.parent.insertBefore(_t.default.create(this.textNode),this),this.textNode=document.createTextNode(ct.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),te!=null){var le=[te,fe].map(function(Kt){return Math.max(0,Math.min(Wt.data.length,Kt-1))}),Xt=Jt(le,2);return te=Xt[0],fe=Xt[1],{startNode:Wt,startOffset:te,endNode:Wt,endOffset:fe}}}}},{key:"update",value:function(ie,It){var Wt=this;if(ie.some(function(fe){return fe.type==="characterData"&&fe.target===Wt.textNode})){var te=this.restore();te&&(It.range=te)}}},{key:"value",value:function(){return""}}]),ct}(_t.default.Embed);kt.blotName="cursor",kt.className="ql-cursor",kt.tagName="span",kt.CONTENTS="\uFEFF",Gt.default=kt},function(Ye,Gt,Tt){"use strict";function Qt(ue,Jt){if(!(ue instanceof Jt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=function(){function ue(Jt,Vt){for(var bt=0;bt<Vt.length;bt++){var ft=Vt[bt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(Jt,ft.key,ft)}}return function(Jt,Vt,bt){return Vt&&ue(Jt.prototype,Vt),bt&&ue(Jt,bt),Jt}}(),$t=function(){function ue(Jt,Vt){Qt(this,ue),this.quill=Jt,this.options=Vt,this.modules={}}return Oe(ue,[{key:"init",value:function(){var Jt=this;Object.keys(this.options.modules).forEach(function(Vt){Jt.modules[Vt]==null&&Jt.addModule(Vt)})}},{key:"addModule",value:function(Jt){var Vt=this.quill.constructor.import("modules/"+Jt);return this.modules[Jt]=new Vt(this.quill,this.options.modules[Jt]||{}),this.modules[Jt]}}]),ue}();$t.DEFAULTS={modules:{}},$t.themes={default:$t},Gt.default=$t},function(Ye,Gt,Tt){"use strict";function Qt(wt){return wt&&wt.__esModule?wt:{default:wt}}function Oe(wt,ct){if(!(wt instanceof ct))throw new TypeError("Cannot call a class as a function")}function $t(wt,ct){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ct||typeof ct!="object"&&typeof ct!="function"?wt:ct}function ue(wt,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);wt.prototype=Object.create(ct&&ct.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(wt,ct):wt.__proto__=ct)}Object.defineProperty(Gt,"__esModule",{value:!0});var Jt=function(){function wt(ct,ie){for(var It=0;It<ie.length;It++){var Wt=ie[It];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(ct,Wt.key,Wt)}}return function(ct,ie,It){return ie&&wt(ct.prototype,ie),It&&wt(ct,It),ct}}(),Vt=function wt(ct,ie,It){ct===null&&(ct=Function.prototype);var Wt=Object.getOwnPropertyDescriptor(ct,ie);if(Wt===void 0){var te=Object.getPrototypeOf(ct);return te===null?void 0:wt(te,ie,It)}if("value"in Wt)return Wt.value;var fe=Wt.get;if(fe!==void 0)return fe.call(It)},bt=Tt(0),ft=Qt(bt),_t=Tt(8),vt=Qt(_t),Pt="\uFEFF",kt=function(wt){function ct(ie){Oe(this,ct);var It=$t(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,ie));return It.contentNode=document.createElement("span"),It.contentNode.setAttribute("contenteditable",!1),[].slice.call(It.domNode.childNodes).forEach(function(Wt){It.contentNode.appendChild(Wt)}),It.leftGuard=document.createTextNode(Pt),It.rightGuard=document.createTextNode(Pt),It.domNode.appendChild(It.leftGuard),It.domNode.appendChild(It.contentNode),It.domNode.appendChild(It.rightGuard),It}return ue(ct,wt),Jt(ct,[{key:"index",value:function(ie,It){return ie===this.leftGuard?0:ie===this.rightGuard?1:Vt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"index",this).call(this,ie,It)}},{key:"restore",value:function(ie){var It=void 0,Wt=void 0,te=ie.data.split(Pt).join("");if(ie===this.leftGuard)if(this.prev instanceof vt.default){var fe=this.prev.length();this.prev.insertAt(fe,te),It={startNode:this.prev.domNode,startOffset:fe+te.length}}else Wt=document.createTextNode(te),this.parent.insertBefore(ft.default.create(Wt),this),It={startNode:Wt,startOffset:te.length};else ie===this.rightGuard&&(this.next instanceof vt.default?(this.next.insertAt(0,te),It={startNode:this.next.domNode,startOffset:te.length}):(Wt=document.createTextNode(te),this.parent.insertBefore(ft.default.create(Wt),this.next),It={startNode:Wt,startOffset:te.length}));return ie.data=Pt,It}},{key:"update",value:function(ie,It){var Wt=this;ie.forEach(function(te){if(te.type==="characterData"&&(te.target===Wt.leftGuard||te.target===Wt.rightGuard)){var fe=Wt.restore(te.target);fe&&(It.range=fe)}})}}]),ct}(ft.default.Embed);Gt.default=kt},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.AlignStyle=Gt.AlignClass=Gt.AlignAttribute=void 0;var Qt=Tt(0),Oe=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(Qt),$t={scope:Oe.default.Scope.BLOCK,whitelist:["right","center","justify"]},ue=new Oe.default.Attributor.Attribute("align","align",$t),Jt=new Oe.default.Attributor.Class("align","ql-align",$t),Vt=new Oe.default.Attributor.Style("align","text-align",$t);Gt.AlignAttribute=ue,Gt.AlignClass=Jt,Gt.AlignStyle=Vt},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.BackgroundStyle=Gt.BackgroundClass=void 0;var Qt=Tt(0),Oe=function(Vt){return Vt&&Vt.__esModule?Vt:{default:Vt}}(Qt),$t=Tt(24),ue=new Oe.default.Attributor.Class("background","ql-bg",{scope:Oe.default.Scope.INLINE}),Jt=new $t.ColorAttributor("background","background-color",{scope:Oe.default.Scope.INLINE});Gt.BackgroundClass=ue,Gt.BackgroundStyle=Jt},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.DirectionStyle=Gt.DirectionClass=Gt.DirectionAttribute=void 0;var Qt=Tt(0),Oe=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(Qt),$t={scope:Oe.default.Scope.BLOCK,whitelist:["rtl"]},ue=new Oe.default.Attributor.Attribute("direction","dir",$t),Jt=new Oe.default.Attributor.Class("direction","ql-direction",$t),Vt=new Oe.default.Attributor.Style("direction","direction",$t);Gt.DirectionAttribute=ue,Gt.DirectionClass=Jt,Gt.DirectionStyle=Vt},function(Ye,Gt,Tt){"use strict";function Qt(kt,wt){if(!(kt instanceof wt))throw new TypeError("Cannot call a class as a function")}function Oe(kt,wt){if(!kt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!wt||typeof wt!="object"&&typeof wt!="function"?kt:wt}function $t(kt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof wt);kt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:kt,enumerable:!1,writable:!0,configurable:!0}}),wt&&(Object.setPrototypeOf?Object.setPrototypeOf(kt,wt):kt.__proto__=wt)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.FontClass=Gt.FontStyle=void 0;var ue=function(){function kt(wt,ct){for(var ie=0;ie<ct.length;ie++){var It=ct[ie];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(wt,It.key,It)}}return function(wt,ct,ie){return ct&&kt(wt.prototype,ct),ie&&kt(wt,ie),wt}}(),Jt=function kt(wt,ct,ie){wt===null&&(wt=Function.prototype);var It=Object.getOwnPropertyDescriptor(wt,ct);if(It===void 0){var Wt=Object.getPrototypeOf(wt);return Wt===null?void 0:kt(Wt,ct,ie)}if("value"in It)return It.value;var te=It.get;if(te!==void 0)return te.call(ie)},Vt=Tt(0),bt=function(kt){return kt&&kt.__esModule?kt:{default:kt}}(Vt),ft={scope:bt.default.Scope.INLINE,whitelist:["serif","monospace"]},_t=new bt.default.Attributor.Class("font","ql-font",ft),vt=function(kt){function wt(){return Qt(this,wt),Oe(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return $t(wt,kt),ue(wt,[{key:"value",value:function(ct){return Jt(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"value",this).call(this,ct).replace(/["']/g,"")}}]),wt}(bt.default.Attributor.Style),Pt=new vt("font","font-family",ft);Gt.FontStyle=Pt,Gt.FontClass=_t},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.SizeStyle=Gt.SizeClass=void 0;var Qt=Tt(0),Oe=function(Jt){return Jt&&Jt.__esModule?Jt:{default:Jt}}(Qt),$t=new Oe.default.Attributor.Class("size","ql-size",{scope:Oe.default.Scope.INLINE,whitelist:["small","large","huge"]}),ue=new Oe.default.Attributor.Style("size","font-size",{scope:Oe.default.Scope.INLINE,whitelist:["10px","18px","32px"]});Gt.SizeClass=$t,Gt.SizeStyle=ue},function(Ye,Gt,Tt){"use strict";function Qt(_t,vt){if(!(_t instanceof vt))throw new TypeError("Cannot call a class as a function")}function Oe(_t,vt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||typeof vt!="object"&&typeof vt!="function"?_t:vt}function $t(_t,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);_t.prototype=Object.create(vt&&vt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,vt):_t.__proto__=vt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function _t(vt,Pt){for(var kt=0;kt<Pt.length;kt++){var wt=Pt[kt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Pt,kt){return Pt&&_t(vt.prototype,Pt),kt&&_t(vt,kt),vt}}(),Jt=function _t(vt,Pt,kt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Pt);if(wt===void 0){var ct=Object.getPrototypeOf(vt);return ct===null?void 0:_t(ct,Pt,kt)}if("value"in wt)return wt.value;var ie=wt.get;if(ie!==void 0)return ie.call(kt)},Vt=Tt(5),bt=function(_t){return _t&&_t.__esModule?_t:{default:_t}}(Vt),ft=function(_t){function vt(){return Qt(this,vt),Oe(this,(vt.__proto__||Object.getPrototypeOf(vt)).apply(this,arguments))}return $t(vt,_t),ue(vt,[{key:"optimize",value:function(Pt){Jt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"optimize",this).call(this,Pt),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Jt(vt.__proto__||Object.getPrototypeOf(vt),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),vt}(bt.default);ft.blotName="bold",ft.tagName=["STRONG","B"],Gt.default=ft},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(Ye,Gt,Tt){"use strict";function Qt(_t,vt){if(!(_t instanceof vt))throw new TypeError("Cannot call a class as a function")}function Oe(_t,vt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||typeof vt!="object"&&typeof vt!="function"?_t:vt}function $t(_t,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);_t.prototype=Object.create(vt&&vt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,vt):_t.__proto__=vt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function _t(vt,Pt){for(var kt=0;kt<Pt.length;kt++){var wt=Pt[kt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Pt,kt){return Pt&&_t(vt.prototype,Pt),kt&&_t(vt,kt),vt}}(),Jt=function _t(vt,Pt,kt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Pt);if(wt===void 0){var ct=Object.getPrototypeOf(vt);return ct===null?void 0:_t(ct,Pt,kt)}if("value"in wt)return wt.value;var ie=wt.get;if(ie!==void 0)return ie.call(kt)},Vt=Tt(16),bt=function(_t){return _t&&_t.__esModule?_t:{default:_t}}(Vt),ft=function(_t){function vt(Pt,kt){Qt(this,vt);var wt=Oe(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Pt));return wt.label.innerHTML=kt,wt.container.classList.add("ql-color-picker"),[].slice.call(wt.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(ct){ct.classList.add("ql-primary")}),wt}return $t(vt,_t),ue(vt,[{key:"buildItem",value:function(Pt){var kt=Jt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"buildItem",this).call(this,Pt);return kt.style.backgroundColor=Pt.getAttribute("value")||"",kt}},{key:"selectItem",value:function(Pt,kt){Jt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"selectItem",this).call(this,Pt,kt);var wt=this.label.querySelector(".ql-color-label"),ct=Pt&&Pt.getAttribute("data-value")||"";wt&&(wt.tagName==="line"?wt.style.stroke=ct:wt.style.fill=ct)}}]),vt}(bt.default);Gt.default=ft},function(Ye,Gt,Tt){"use strict";function Qt(_t,vt){if(!(_t instanceof vt))throw new TypeError("Cannot call a class as a function")}function Oe(_t,vt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||typeof vt!="object"&&typeof vt!="function"?_t:vt}function $t(_t,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);_t.prototype=Object.create(vt&&vt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,vt):_t.__proto__=vt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function _t(vt,Pt){for(var kt=0;kt<Pt.length;kt++){var wt=Pt[kt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Pt,kt){return Pt&&_t(vt.prototype,Pt),kt&&_t(vt,kt),vt}}(),Jt=function _t(vt,Pt,kt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Pt);if(wt===void 0){var ct=Object.getPrototypeOf(vt);return ct===null?void 0:_t(ct,Pt,kt)}if("value"in wt)return wt.value;var ie=wt.get;if(ie!==void 0)return ie.call(kt)},Vt=Tt(16),bt=function(_t){return _t&&_t.__esModule?_t:{default:_t}}(Vt),ft=function(_t){function vt(Pt,kt){Qt(this,vt);var wt=Oe(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Pt));return wt.container.classList.add("ql-icon-picker"),[].forEach.call(wt.container.querySelectorAll(".ql-picker-item"),function(ct){ct.innerHTML=kt[ct.getAttribute("data-value")||""]}),wt.defaultItem=wt.container.querySelector(".ql-selected"),wt.selectItem(wt.defaultItem),wt}return $t(vt,_t),ue(vt,[{key:"selectItem",value:function(Pt,kt){Jt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"selectItem",this).call(this,Pt,kt),Pt=Pt||this.defaultItem,this.label.innerHTML=Pt.innerHTML}}]),vt}(bt.default);Gt.default=ft},function(Ye,Gt,Tt){"use strict";function Qt(ue,Jt){if(!(ue instanceof Jt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=function(){function ue(Jt,Vt){for(var bt=0;bt<Vt.length;bt++){var ft=Vt[bt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(Jt,ft.key,ft)}}return function(Jt,Vt,bt){return Vt&&ue(Jt.prototype,Vt),bt&&ue(Jt,bt),Jt}}(),$t=function(){function ue(Jt,Vt){var bt=this;Qt(this,ue),this.quill=Jt,this.boundsContainer=Vt||document.body,this.root=Jt.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){bt.root.style.marginTop=-1*bt.quill.root.scrollTop+"px"}),this.hide()}return Oe(ue,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(Jt){var Vt=Jt.left+Jt.width/2-this.root.offsetWidth/2,bt=Jt.bottom+this.quill.root.scrollTop;this.root.style.left=Vt+"px",this.root.style.top=bt+"px",this.root.classList.remove("ql-flip");var ft=this.boundsContainer.getBoundingClientRect(),_t=this.root.getBoundingClientRect(),vt=0;if(_t.right>ft.right&&(vt=ft.right-_t.right,this.root.style.left=Vt+vt+"px"),_t.left<ft.left&&(vt=ft.left-_t.left,this.root.style.left=Vt+vt+"px"),_t.bottom>ft.bottom){var Pt=_t.bottom-_t.top,kt=Jt.bottom-Jt.top+Pt;this.root.style.top=bt-kt+"px",this.root.classList.add("ql-flip")}return vt}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),ue}();Gt.default=$t},function(Ye,Gt,Tt){"use strict";function Qt(ht){return ht&&ht.__esModule?ht:{default:ht}}function Oe(ht,lt){if(!(ht instanceof lt))throw new TypeError("Cannot call a class as a function")}function $t(ht,lt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!lt||typeof lt!="object"&&typeof lt!="function"?ht:lt}function ue(ht,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);ht.prototype=Object.create(lt&&lt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,lt):ht.__proto__=lt)}function Jt(ht){var lt=ht.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||ht.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return lt?(lt[1]||"https")+"://www.youtube.com/embed/"+lt[2]+"?showinfo=0":(lt=ht.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(lt[1]||"https")+"://player.vimeo.com/video/"+lt[2]+"/":ht}function Vt(ht,lt){var an=arguments.length>2&&arguments[2]!==void 0&&arguments[2];lt.forEach(function(en){var je=document.createElement("option");en===an?je.setAttribute("selected","selected"):je.setAttribute("value",en),ht.appendChild(je)})}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.BaseTooltip=void 0;var bt=function(){function ht(lt,an){for(var en=0;en<an.length;en++){var je=an[en];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(lt,je.key,je)}}return function(lt,an,en){return an&&ht(lt.prototype,an),en&&ht(lt,en),lt}}(),ft=function ht(lt,an,en){lt===null&&(lt=Function.prototype);var je=Object.getOwnPropertyDescriptor(lt,an);if(je===void 0){var Qe=Object.getPrototypeOf(lt);return Qe===null?void 0:ht(Qe,an,en)}if("value"in je)return je.value;var Te=je.get;if(Te!==void 0)return Te.call(en)},_t=Tt(2),vt=Qt(_t),Pt=Tt(4),kt=Qt(Pt),wt=Tt(9),ct=Qt(wt),ie=Tt(25),It=Qt(ie),Wt=Tt(32),te=Qt(Wt),fe=Tt(41),Me=Qt(fe),ve=Tt(42),le=Qt(ve),Xt=Tt(16),Kt=Qt(Xt),ne=Tt(43),De=Qt(ne),me=[!1,"center","right","justify"],Ne=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Fn=[!1,"serif","monospace"],dn=["1","2","3",!1],gn=["small",!1,"large","huge"],jt=function(ht){function lt(an,en){Oe(this,lt);var je=$t(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,an,en)),Qe=function Te(_n){if(!document.body.contains(an.root))return document.body.removeEventListener("click",Te);je.tooltip==null||je.tooltip.root.contains(_n.target)||document.activeElement===je.tooltip.textbox||je.quill.hasFocus()||je.tooltip.hide(),je.pickers!=null&&je.pickers.forEach(function(Be){Be.container.contains(_n.target)||Be.close()})};return an.emitter.listenDOM("click",document.body,Qe),je}return ue(lt,ht),bt(lt,[{key:"addModule",value:function(an){var en=ft(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"addModule",this).call(this,an);return an==="toolbar"&&this.extendToolbar(en),en}},{key:"buildButtons",value:function(an,en){an.forEach(function(je){(je.getAttribute("class")||"").split(/\s+/).forEach(function(Qe){if(Qe.startsWith("ql-")&&(Qe=Qe.slice(3),en[Qe]!=null))if(Qe==="direction")je.innerHTML=en[Qe][""]+en[Qe].rtl;else if(typeof en[Qe]=="string")je.innerHTML=en[Qe];else{var Te=je.value||"";Te!=null&&en[Qe][Te]&&(je.innerHTML=en[Qe][Te])}})})}},{key:"buildPickers",value:function(an,en){var je=this;this.pickers=an.map(function(Te){if(Te.classList.contains("ql-align"))return Te.querySelector("option")==null&&Vt(Te,me),new le.default(Te,en.align);if(Te.classList.contains("ql-background")||Te.classList.contains("ql-color")){var _n=Te.classList.contains("ql-background")?"background":"color";return Te.querySelector("option")==null&&Vt(Te,Ne,_n==="background"?"#ffffff":"#000000"),new Me.default(Te,en[_n])}return Te.querySelector("option")==null&&(Te.classList.contains("ql-font")?Vt(Te,Fn):Te.classList.contains("ql-header")?Vt(Te,dn):Te.classList.contains("ql-size")&&Vt(Te,gn)),new Kt.default(Te)});var Qe=function(){je.pickers.forEach(function(Te){Te.update()})};this.quill.on(ct.default.events.EDITOR_CHANGE,Qe)}}]),lt}(te.default);jt.DEFAULTS=(0,vt.default)(!0,{},te.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var ht=this,lt=this.container.querySelector("input.ql-image[type=file]");lt==null&&(lt=document.createElement("input"),lt.setAttribute("type","file"),lt.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),lt.classList.add("ql-image"),lt.addEventListener("change",function(){if(lt.files!=null&&lt.files[0]!=null){var an=new FileReader;an.onload=function(en){var je=ht.quill.getSelection(!0);ht.quill.updateContents(new kt.default().retain(je.index).delete(je.length).insert({image:en.target.result}),ct.default.sources.USER),ht.quill.setSelection(je.index+1,ct.default.sources.SILENT),lt.value=""},an.readAsDataURL(lt.files[0])}}),this.container.appendChild(lt)),lt.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Fe=function(ht){function lt(an,en){Oe(this,lt);var je=$t(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,an,en));return je.textbox=je.root.querySelector('input[type="text"]'),je.listen(),je}return ue(lt,ht),bt(lt,[{key:"listen",value:function(){var an=this;this.textbox.addEventListener("keydown",function(en){It.default.match(en,"enter")?(an.save(),en.preventDefault()):It.default.match(en,"escape")&&(an.cancel(),en.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var an=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),en!=null?this.textbox.value=en:an!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+an)||""),this.root.setAttribute("data-mode",an)}},{key:"restoreFocus",value:function(){var an=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=an}},{key:"save",value:function(){var an=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var en=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",an,ct.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",an,ct.default.sources.USER)),this.quill.root.scrollTop=en;break;case"video":an=Jt(an);case"formula":if(!an)break;var je=this.quill.getSelection(!0);if(je!=null){var Qe=je.index+je.length;this.quill.insertEmbed(Qe,this.root.getAttribute("data-mode"),an,ct.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Qe+1," ",ct.default.sources.USER),this.quill.setSelection(Qe+2,ct.default.sources.USER)}}this.textbox.value="",this.hide()}}]),lt}(De.default);Gt.BaseTooltip=Fe,Gt.default=jt},function(Ye,Gt,Tt){"use strict";function Qt(zi){return zi&&zi.__esModule?zi:{default:zi}}Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(46),$t=Qt(Oe),ue=Tt(34),Jt=Tt(36),Vt=Tt(62),bt=Tt(63),ft=Qt(bt),_t=Tt(64),vt=Qt(_t),Pt=Tt(65),kt=Qt(Pt),wt=Tt(35),ct=Tt(24),ie=Tt(37),It=Tt(38),Wt=Tt(39),te=Qt(Wt),fe=Tt(66),Me=Qt(fe),ve=Tt(15),le=Qt(ve),Xt=Tt(67),Kt=Qt(Xt),ne=Tt(68),De=Qt(ne),me=Tt(69),Ne=Qt(me),Fn=Tt(70),dn=Qt(Fn),gn=Tt(71),jt=Qt(gn),Fe=Tt(13),ht=Qt(Fe),lt=Tt(72),an=Qt(lt),en=Tt(73),je=Qt(en),Qe=Tt(74),Te=Qt(Qe),_n=Tt(26),Be=Qt(_n),Ge=Tt(16),Mn=Qt(Ge),wr=Tt(41),Ln=Qt(wr),di=Tt(42),ar=Qt(di),hr=Tt(43),wn=Qt(hr),Wn=Tt(107),si=Qt(Wn),xi=Tt(108),oi=Qt(xi);$t.default.register({"attributors/attribute/direction":Jt.DirectionAttribute,"attributors/class/align":ue.AlignClass,"attributors/class/background":wt.BackgroundClass,"attributors/class/color":ct.ColorClass,"attributors/class/direction":Jt.DirectionClass,"attributors/class/font":ie.FontClass,"attributors/class/size":It.SizeClass,"attributors/style/align":ue.AlignStyle,"attributors/style/background":wt.BackgroundStyle,"attributors/style/color":ct.ColorStyle,"attributors/style/direction":Jt.DirectionStyle,"attributors/style/font":ie.FontStyle,"attributors/style/size":It.SizeStyle},!0),$t.default.register({"formats/align":ue.AlignClass,"formats/direction":Jt.DirectionClass,"formats/indent":Vt.IndentClass,"formats/background":wt.BackgroundStyle,"formats/color":ct.ColorStyle,"formats/font":ie.FontClass,"formats/size":It.SizeClass,"formats/blockquote":ft.default,"formats/code-block":ht.default,"formats/header":vt.default,"formats/list":kt.default,"formats/bold":te.default,"formats/code":Fe.Code,"formats/italic":Me.default,"formats/link":le.default,"formats/script":Kt.default,"formats/strike":De.default,"formats/underline":Ne.default,"formats/image":dn.default,"formats/video":jt.default,"formats/list/item":Pt.ListItem,"modules/formula":an.default,"modules/syntax":je.default,"modules/toolbar":Te.default,"themes/bubble":si.default,"themes/snow":oi.default,"ui/icons":Be.default,"ui/picker":Mn.default,"ui/icon-picker":ar.default,"ui/color-picker":Ln.default,"ui/tooltip":wn.default},!0),Gt.default=$t.default},function(Ye,Gt,Tt){"use strict";function Qt(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(0),$t=Qt(Oe),ue=Tt(6),Jt=Qt(ue),Vt=Tt(3),bt=Qt(Vt),ft=Tt(14),_t=Qt(ft),vt=Tt(23),Pt=Qt(vt),kt=Tt(31),wt=Qt(kt),ct=Tt(33),ie=Qt(ct),It=Tt(5),Wt=Qt(It),te=Tt(59),fe=Qt(te),Me=Tt(8),ve=Qt(Me),le=Tt(60),Xt=Qt(le),Kt=Tt(61),ne=Qt(Kt),De=Tt(25),me=Qt(De);Jt.default.register({"blots/block":bt.default,"blots/block/embed":Vt.BlockEmbed,"blots/break":_t.default,"blots/container":Pt.default,"blots/cursor":wt.default,"blots/embed":ie.default,"blots/inline":Wt.default,"blots/scroll":fe.default,"blots/text":ve.default,"modules/clipboard":Xt.default,"modules/history":ne.default,"modules/keyboard":me.default}),$t.default.register(bt.default,_t.default,wt.default,Wt.default,fe.default,ve.default),Gt.default=Jt.default},function(Ye,Gt,Tt){"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Qt=function(){function Oe(){this.head=this.tail=null,this.length=0}return Oe.prototype.append=function(){for(var $t=[],ue=0;ue<arguments.length;ue++)$t[ue]=arguments[ue];this.insertBefore($t[0],null),$t.length>1&&this.append.apply(this,$t.slice(1))},Oe.prototype.contains=function($t){for(var ue,Jt=this.iterator();ue=Jt();)if(ue===$t)return!0;return!1},Oe.prototype.insertBefore=function($t,ue){$t&&($t.next=ue,ue!=null?($t.prev=ue.prev,ue.prev!=null&&(ue.prev.next=$t),ue.prev=$t,ue===this.head&&(this.head=$t)):this.tail!=null?(this.tail.next=$t,$t.prev=this.tail,this.tail=$t):($t.prev=null,this.head=this.tail=$t),this.length+=1)},Oe.prototype.offset=function($t){for(var ue=0,Jt=this.head;Jt!=null;){if(Jt===$t)return ue;ue+=Jt.length(),Jt=Jt.next}return-1},Oe.prototype.remove=function($t){this.contains($t)&&($t.prev!=null&&($t.prev.next=$t.next),$t.next!=null&&($t.next.prev=$t.prev),$t===this.head&&(this.head=$t.next),$t===this.tail&&(this.tail=$t.prev),this.length-=1)},Oe.prototype.iterator=function($t){return $t===void 0&&($t=this.head),function(){var ue=$t;return $t!=null&&($t=$t.next),ue}},Oe.prototype.find=function($t,ue){ue===void 0&&(ue=!1);for(var Jt,Vt=this.iterator();Jt=Vt();){var bt=Jt.length();if($t<bt||ue&&$t===bt&&(Jt.next==null||Jt.next.length()!==0))return[Jt,$t];$t-=bt}return[null,0]},Oe.prototype.forEach=function($t){for(var ue,Jt=this.iterator();ue=Jt();)$t(ue)},Oe.prototype.forEachAt=function($t,ue,Jt){if(!(ue<=0))for(var Vt,bt=this.find($t),ft=bt[0],_t=bt[1],vt=$t-_t,Pt=this.iterator(ft);(Vt=Pt())&&vt<$t+ue;){var kt=Vt.length();$t>vt?Jt(Vt,$t-vt,Math.min(ue,vt+kt-$t)):Jt(Vt,0,Math.min(kt,$t+ue-vt)),vt+=kt}},Oe.prototype.map=function($t){return this.reduce(function(ue,Jt){return ue.push($t(Jt)),ue},[])},Oe.prototype.reduce=function($t,ue){for(var Jt,Vt=this.iterator();Jt=Vt();)ue=$t(ue,Jt);return ue},Oe}();Gt.default=Qt},function(Ye,Gt,Tt){"use strict";var Qt=this&&this.__extends||function(){var Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bt,ft){bt.__proto__=ft}||function(bt,ft){for(var _t in ft)ft.hasOwnProperty(_t)&&(bt[_t]=ft[_t])};return function(bt,ft){function _t(){this.constructor=bt}Vt(bt,ft),bt.prototype=ft===null?Object.create(ft):(_t.prototype=ft.prototype,new _t)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(17),$t=Tt(1),ue={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Jt=function(Vt){function bt(ft){var _t=Vt.call(this,ft)||this;return _t.scroll=_t,_t.observer=new MutationObserver(function(vt){_t.update(vt)}),_t.observer.observe(_t.domNode,ue),_t.attach(),_t}return Qt(bt,Vt),bt.prototype.detach=function(){Vt.prototype.detach.call(this),this.observer.disconnect()},bt.prototype.deleteAt=function(ft,_t){this.update(),ft===0&&_t===this.length()?this.children.forEach(function(vt){vt.remove()}):Vt.prototype.deleteAt.call(this,ft,_t)},bt.prototype.formatAt=function(ft,_t,vt,Pt){this.update(),Vt.prototype.formatAt.call(this,ft,_t,vt,Pt)},bt.prototype.insertAt=function(ft,_t,vt){this.update(),Vt.prototype.insertAt.call(this,ft,_t,vt)},bt.prototype.optimize=function(ft,_t){var vt=this;ft===void 0&&(ft=[]),_t===void 0&&(_t={}),Vt.prototype.optimize.call(this,_t);for(var Pt=[].slice.call(this.observer.takeRecords());Pt.length>0;)ft.push(Pt.pop());for(var kt=function(It,Wt){Wt===void 0&&(Wt=!0),It!=null&&It!==vt&&It.domNode.parentNode!=null&&(It.domNode[$t.DATA_KEY].mutations==null&&(It.domNode[$t.DATA_KEY].mutations=[]),Wt&&kt(It.parent))},wt=function(It){It.domNode[$t.DATA_KEY]!=null&&It.domNode[$t.DATA_KEY].mutations!=null&&(It instanceof Oe.default&&It.children.forEach(wt),It.optimize(_t))},ct=ft,ie=0;ct.length>0;ie+=1){if(ie>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(ct.forEach(function(It){var Wt=$t.find(It.target,!0);Wt!=null&&(Wt.domNode===It.target&&(It.type==="childList"?(kt($t.find(It.previousSibling,!1)),[].forEach.call(It.addedNodes,function(te){var fe=$t.find(te,!1);kt(fe,!1),fe instanceof Oe.default&&fe.children.forEach(function(Me){kt(Me,!1)})})):It.type==="attributes"&&kt(Wt.prev)),kt(Wt))}),this.children.forEach(wt),ct=[].slice.call(this.observer.takeRecords()),Pt=ct.slice();Pt.length>0;)ft.push(Pt.pop())}},bt.prototype.update=function(ft,_t){var vt=this;_t===void 0&&(_t={}),ft=ft||this.observer.takeRecords(),ft.map(function(Pt){var kt=$t.find(Pt.target,!0);return kt==null?null:kt.domNode[$t.DATA_KEY].mutations==null?(kt.domNode[$t.DATA_KEY].mutations=[Pt],kt):(kt.domNode[$t.DATA_KEY].mutations.push(Pt),null)}).forEach(function(Pt){Pt!=null&&Pt!==vt&&Pt.domNode[$t.DATA_KEY]!=null&&Pt.update(Pt.domNode[$t.DATA_KEY].mutations||[],_t)}),this.domNode[$t.DATA_KEY].mutations!=null&&Vt.prototype.update.call(this,this.domNode[$t.DATA_KEY].mutations,_t),this.optimize(ft,_t)},bt.blotName="scroll",bt.defaultChild="block",bt.scope=$t.Scope.BLOCK_BLOT,bt.tagName="DIV",bt}(Oe.default);Gt.default=Jt},function(Ye,Gt,Tt){"use strict";function Qt(Vt,bt){if(Object.keys(Vt).length!==Object.keys(bt).length)return!1;for(var ft in Vt)if(Vt[ft]!==bt[ft])return!1;return!0}var Oe=this&&this.__extends||function(){var Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bt,ft){bt.__proto__=ft}||function(bt,ft){for(var _t in ft)ft.hasOwnProperty(_t)&&(bt[_t]=ft[_t])};return function(bt,ft){function _t(){this.constructor=bt}Vt(bt,ft),bt.prototype=ft===null?Object.create(ft):(_t.prototype=ft.prototype,new _t)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var $t=Tt(18),ue=Tt(1),Jt=function(Vt){function bt(){return Vt!==null&&Vt.apply(this,arguments)||this}return Oe(bt,Vt),bt.formats=function(ft){if(ft.tagName!==bt.tagName)return Vt.formats.call(this,ft)},bt.prototype.format=function(ft,_t){var vt=this;ft!==this.statics.blotName||_t?Vt.prototype.format.call(this,ft,_t):(this.children.forEach(function(Pt){Pt instanceof $t.default||(Pt=Pt.wrap(bt.blotName,!0)),vt.attributes.copy(Pt)}),this.unwrap())},bt.prototype.formatAt=function(ft,_t,vt,Pt){this.formats()[vt]!=null||ue.query(vt,ue.Scope.ATTRIBUTE)?this.isolate(ft,_t).format(vt,Pt):Vt.prototype.formatAt.call(this,ft,_t,vt,Pt)},bt.prototype.optimize=function(ft){Vt.prototype.optimize.call(this,ft);var _t=this.formats();if(Object.keys(_t).length===0)return this.unwrap();var vt=this.next;vt instanceof bt&&vt.prev===this&&Qt(_t,vt.formats())&&(vt.moveChildren(this),vt.remove())},bt.blotName="inline",bt.scope=ue.Scope.INLINE_BLOT,bt.tagName="SPAN",bt}($t.default);Gt.default=Jt},function(Ye,Gt,Tt){"use strict";var Qt=this&&this.__extends||function(){var Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Vt,bt){Vt.__proto__=bt}||function(Vt,bt){for(var ft in bt)bt.hasOwnProperty(ft)&&(Vt[ft]=bt[ft])};return function(Vt,bt){function ft(){this.constructor=Vt}Jt(Vt,bt),Vt.prototype=bt===null?Object.create(bt):(ft.prototype=bt.prototype,new ft)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(18),$t=Tt(1),ue=function(Jt){function Vt(){return Jt!==null&&Jt.apply(this,arguments)||this}return Qt(Vt,Jt),Vt.formats=function(bt){var ft=$t.query(Vt.blotName).tagName;if(bt.tagName!==ft)return Jt.formats.call(this,bt)},Vt.prototype.format=function(bt,ft){$t.query(bt,$t.Scope.BLOCK)!=null&&(bt!==this.statics.blotName||ft?Jt.prototype.format.call(this,bt,ft):this.replaceWith(Vt.blotName))},Vt.prototype.formatAt=function(bt,ft,_t,vt){$t.query(_t,$t.Scope.BLOCK)!=null?this.format(_t,vt):Jt.prototype.formatAt.call(this,bt,ft,_t,vt)},Vt.prototype.insertAt=function(bt,ft,_t){if(_t==null||$t.query(ft,$t.Scope.INLINE)!=null)Jt.prototype.insertAt.call(this,bt,ft,_t);else{var vt=this.split(bt),Pt=$t.create(ft,_t);vt.parent.insertBefore(Pt,vt)}},Vt.prototype.update=function(bt,ft){navigator.userAgent.match(/Trident/)?this.build():Jt.prototype.update.call(this,bt,ft)},Vt.blotName="block",Vt.scope=$t.Scope.BLOCK_BLOT,Vt.tagName="P",Vt}(Oe.default);Gt.default=ue},function(Ye,Gt,Tt){"use strict";var Qt=this&&this.__extends||function(){var ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Jt,Vt){Jt.__proto__=Vt}||function(Jt,Vt){for(var bt in Vt)Vt.hasOwnProperty(bt)&&(Jt[bt]=Vt[bt])};return function(Jt,Vt){function bt(){this.constructor=Jt}ue(Jt,Vt),Jt.prototype=Vt===null?Object.create(Vt):(bt.prototype=Vt.prototype,new bt)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(19),$t=function(ue){function Jt(){return ue!==null&&ue.apply(this,arguments)||this}return Qt(Jt,ue),Jt.formats=function(Vt){},Jt.prototype.format=function(Vt,bt){ue.prototype.formatAt.call(this,0,this.length(),Vt,bt)},Jt.prototype.formatAt=function(Vt,bt,ft,_t){Vt===0&&bt===this.length()?this.format(ft,_t):ue.prototype.formatAt.call(this,Vt,bt,ft,_t)},Jt.prototype.formats=function(){return this.statics.formats(this.domNode)},Jt}(Oe.default);Gt.default=$t},function(Ye,Gt,Tt){"use strict";var Qt=this&&this.__extends||function(){var Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Vt,bt){Vt.__proto__=bt}||function(Vt,bt){for(var ft in bt)bt.hasOwnProperty(ft)&&(Vt[ft]=bt[ft])};return function(Vt,bt){function ft(){this.constructor=Vt}Jt(Vt,bt),Vt.prototype=bt===null?Object.create(bt):(ft.prototype=bt.prototype,new ft)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var Oe=Tt(19),$t=Tt(1),ue=function(Jt){function Vt(bt){var ft=Jt.call(this,bt)||this;return ft.text=ft.statics.value(ft.domNode),ft}return Qt(Vt,Jt),Vt.create=function(bt){return document.createTextNode(bt)},Vt.value=function(bt){var ft=bt.data;return ft.normalize&&(ft=ft.normalize()),ft},Vt.prototype.deleteAt=function(bt,ft){this.domNode.data=this.text=this.text.slice(0,bt)+this.text.slice(bt+ft)},Vt.prototype.index=function(bt,ft){return this.domNode===bt?ft:-1},Vt.prototype.insertAt=function(bt,ft,_t){_t==null?(this.text=this.text.slice(0,bt)+ft+this.text.slice(bt),this.domNode.data=this.text):Jt.prototype.insertAt.call(this,bt,ft,_t)},Vt.prototype.length=function(){return this.text.length},Vt.prototype.optimize=function(bt){Jt.prototype.optimize.call(this,bt),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Vt&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},Vt.prototype.position=function(bt,ft){return ft===void 0&&(ft=!1),[this.domNode,bt]},Vt.prototype.split=function(bt,ft){if(ft===void 0&&(ft=!1),!ft){if(bt===0)return this;if(bt===this.length())return this.next}var _t=$t.create(this.domNode.splitText(bt));return this.parent.insertBefore(_t,this.next),this.text=this.statics.value(this.domNode),_t},Vt.prototype.update=function(bt,ft){var _t=this;bt.some(function(vt){return vt.type==="characterData"&&vt.target===_t.domNode})&&(this.text=this.statics.value(this.domNode))},Vt.prototype.value=function(){return this.text},Vt.blotName="text",Vt.scope=$t.Scope.INLINE_BLOT,Vt}(Oe.default);Gt.default=ue},function(Ye,Gt,Tt){"use strict";var Qt=document.createElement("div");if(Qt.classList.toggle("test-class",!1),Qt.classList.contains("test-class")){var Oe=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function($t,ue){return arguments.length>1&&!this.contains($t)==!ue?ue:Oe.call(this,$t)}}String.prototype.startsWith||(String.prototype.startsWith=function($t,ue){return ue=ue||0,this.substr(ue,$t.length)===$t}),String.prototype.endsWith||(String.prototype.endsWith=function($t,ue){var Jt=this.toString();(typeof ue!="number"||!isFinite(ue)||Math.floor(ue)!==ue||ue>Jt.length)&&(ue=Jt.length),ue-=$t.length;var Vt=Jt.indexOf($t,ue);return Vt!==-1&&Vt===ue}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function($t){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof $t!="function")throw new TypeError("predicate must be a function");for(var ue,Jt=Object(this),Vt=Jt.length>>>0,bt=arguments[1],ft=0;ft<Vt;ft++)if(ue=Jt[ft],$t.call(bt,ue,ft,Jt))return ue}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(Ye,Gt){function Tt(It,Wt,te){if(It==Wt)return It?[[ct,It]]:[];(te<0||It.length<te)&&(te=null);var fe=ue(It,Wt),Me=It.substring(0,fe);It=It.substring(fe),Wt=Wt.substring(fe),fe=Jt(It,Wt);var ve=It.substring(It.length-fe);It=It.substring(0,It.length-fe),Wt=Wt.substring(0,Wt.length-fe);var le=Qt(It,Wt);return Me&&le.unshift([ct,Me]),ve&&le.push([ct,ve]),bt(le),te!=null&&(le=_t(le,te)),le=vt(le)}function Qt(It,Wt){var te;if(!It)return[[wt,Wt]];if(!Wt)return[[kt,It]];var fe=It.length>Wt.length?It:Wt,Me=It.length>Wt.length?Wt:It,ve=fe.indexOf(Me);if(ve!=-1)return te=[[wt,fe.substring(0,ve)],[ct,Me],[wt,fe.substring(ve+Me.length)]],It.length>Wt.length&&(te[0][0]=te[2][0]=kt),te;if(Me.length==1)return[[kt,It],[wt,Wt]];var le=Vt(It,Wt);if(le){var Xt=le[0],Kt=le[1],ne=le[2],De=le[3],me=le[4],Ne=Tt(Xt,ne),Fn=Tt(Kt,De);return Ne.concat([[ct,me]],Fn)}return Oe(It,Wt)}function Oe(It,Wt){for(var te=It.length,fe=Wt.length,Me=Math.ceil((te+fe)/2),ve=Me,le=2*Me,Xt=new Array(le),Kt=new Array(le),ne=0;ne<le;ne++)Xt[ne]=-1,Kt[ne]=-1;Xt[ve+1]=0,Kt[ve+1]=0;for(var De=te-fe,me=De%2!=0,Ne=0,Fn=0,dn=0,gn=0,jt=0;jt<Me;jt++){for(var Fe=-jt+Ne;Fe<=jt-Fn;Fe+=2){var ht,lt=ve+Fe;ht=Fe==-jt||Fe!=jt&&Xt[lt-1]<Xt[lt+1]?Xt[lt+1]:Xt[lt-1]+1;for(var an=ht-Fe;ht<te&&an<fe&&It.charAt(ht)==Wt.charAt(an);)ht++,an++;if(Xt[lt]=ht,ht>te)Fn+=2;else if(an>fe)Ne+=2;else if(me){var en=ve+De-Fe;if(en>=0&&en<le&&Kt[en]!=-1){var je=te-Kt[en];if(ht>=je)return $t(It,Wt,ht,an)}}}for(var Qe=-jt+dn;Qe<=jt-gn;Qe+=2){var je,en=ve+Qe;je=Qe==-jt||Qe!=jt&&Kt[en-1]<Kt[en+1]?Kt[en+1]:Kt[en-1]+1;for(var Te=je-Qe;je<te&&Te<fe&&It.charAt(te-je-1)==Wt.charAt(fe-Te-1);)je++,Te++;if(Kt[en]=je,je>te)gn+=2;else if(Te>fe)dn+=2;else if(!me){var lt=ve+De-Qe;if(lt>=0&&lt<le&&Xt[lt]!=-1){var ht=Xt[lt],an=ve+ht-lt;if(je=te-je,ht>=je)return $t(It,Wt,ht,an)}}}}return[[kt,It],[wt,Wt]]}function $t(It,Wt,te,fe){var Me=It.substring(0,te),ve=Wt.substring(0,fe),le=It.substring(te),Xt=Wt.substring(fe),Kt=Tt(Me,ve),ne=Tt(le,Xt);return Kt.concat(ne)}function ue(It,Wt){if(!It||!Wt||It.charAt(0)!=Wt.charAt(0))return 0;for(var te=0,fe=Math.min(It.length,Wt.length),Me=fe,ve=0;te<Me;)It.substring(ve,Me)==Wt.substring(ve,Me)?(te=Me,ve=te):fe=Me,Me=Math.floor((fe-te)/2+te);return Me}function Jt(It,Wt){if(!It||!Wt||It.charAt(It.length-1)!=Wt.charAt(Wt.length-1))return 0;for(var te=0,fe=Math.min(It.length,Wt.length),Me=fe,ve=0;te<Me;)It.substring(It.length-Me,It.length-ve)==Wt.substring(Wt.length-Me,Wt.length-ve)?(te=Me,ve=te):fe=Me,Me=Math.floor((fe-te)/2+te);return Me}function Vt(It,Wt){function te(Ne,Fn,dn){for(var gn,jt,Fe,ht,lt=Ne.substring(dn,dn+Math.floor(Ne.length/4)),an=-1,en="";(an=Fn.indexOf(lt,an+1))!=-1;){var je=ue(Ne.substring(dn),Fn.substring(an)),Qe=Jt(Ne.substring(0,dn),Fn.substring(0,an));en.length<Qe+je&&(en=Fn.substring(an-Qe,an)+Fn.substring(an,an+je),gn=Ne.substring(0,dn-Qe),jt=Ne.substring(dn+je),Fe=Fn.substring(0,an-Qe),ht=Fn.substring(an+je))}return 2*en.length>=Ne.length?[gn,jt,Fe,ht,en]:null}var fe=It.length>Wt.length?It:Wt,Me=It.length>Wt.length?Wt:It;if(fe.length<4||2*Me.length<fe.length)return null;var ve,le=te(fe,Me,Math.ceil(fe.length/4)),Xt=te(fe,Me,Math.ceil(fe.length/2));if(!le&&!Xt)return null;ve=Xt?le&&le[4].length>Xt[4].length?le:Xt:le;var Kt,ne,De,me;return It.length>Wt.length?(Kt=ve[0],ne=ve[1],De=ve[2],me=ve[3]):(De=ve[0],me=ve[1],Kt=ve[2],ne=ve[3]),[Kt,ne,De,me,ve[4]]}function bt(It){It.push([ct,""]);for(var Wt,te=0,fe=0,Me=0,ve="",le="";te<It.length;)switch(It[te][0]){case wt:Me++,le+=It[te][1],te++;break;case kt:fe++,ve+=It[te][1],te++;break;case ct:fe+Me>1?(fe!==0&&Me!==0&&(Wt=ue(le,ve),Wt!==0&&(te-fe-Me>0&&It[te-fe-Me-1][0]==ct?It[te-fe-Me-1][1]+=le.substring(0,Wt):(It.splice(0,0,[ct,le.substring(0,Wt)]),te++),le=le.substring(Wt),ve=ve.substring(Wt)),(Wt=Jt(le,ve))!==0&&(It[te][1]=le.substring(le.length-Wt)+It[te][1],le=le.substring(0,le.length-Wt),ve=ve.substring(0,ve.length-Wt))),fe===0?It.splice(te-Me,fe+Me,[wt,le]):Me===0?It.splice(te-fe,fe+Me,[kt,ve]):It.splice(te-fe-Me,fe+Me,[kt,ve],[wt,le]),te=te-fe-Me+(fe?1:0)+(Me?1:0)+1):te!==0&&It[te-1][0]==ct?(It[te-1][1]+=It[te][1],It.splice(te,1)):te++,Me=0,fe=0,ve="",le=""}It[It.length-1][1]===""&&It.pop();var Xt=!1;for(te=1;te<It.length-1;)It[te-1][0]==ct&&It[te+1][0]==ct&&(It[te][1].substring(It[te][1].length-It[te-1][1].length)==It[te-1][1]?(It[te][1]=It[te-1][1]+It[te][1].substring(0,It[te][1].length-It[te-1][1].length),It[te+1][1]=It[te-1][1]+It[te+1][1],It.splice(te-1,1),Xt=!0):It[te][1].substring(0,It[te+1][1].length)==It[te+1][1]&&(It[te-1][1]+=It[te+1][1],It[te][1]=It[te][1].substring(It[te+1][1].length)+It[te+1][1],It.splice(te+1,1),Xt=!0)),te++;Xt&&bt(It)}function ft(It,Wt){if(Wt===0)return[ct,It];for(var te=0,fe=0;fe<It.length;fe++){var Me=It[fe];if(Me[0]===kt||Me[0]===ct){var ve=te+Me[1].length;if(Wt===ve)return[fe+1,It];if(Wt<ve){It=It.slice();var le=Wt-te,Xt=[Me[0],Me[1].slice(0,le)],Kt=[Me[0],Me[1].slice(le)];return It.splice(fe,1,Xt,Kt),[fe+1,It]}te=ve}}throw new Error("cursor_pos is out of bounds!")}function _t(It,Wt){var te=ft(It,Wt),fe=te[1],Me=te[0],ve=fe[Me],le=fe[Me+1];if(ve==null||ve[0]!==ct)return It;if(le!=null&&ve[1]+le[1]===le[1]+ve[1])return fe.splice(Me,2,le,ve),Pt(fe,Me,2);if(le!=null&&le[1].indexOf(ve[1])===0){fe.splice(Me,2,[le[0],ve[1]],[0,ve[1]]);var Xt=le[1].slice(ve[1].length);return Xt.length>0&&fe.splice(Me+2,0,[le[0],Xt]),Pt(fe,Me,3)}return It}function vt(It){for(var Wt=!1,te=function(ve){return ve.charCodeAt(0)>=56320&&ve.charCodeAt(0)<=57343},fe=2;fe<It.length;fe+=1)It[fe-2][0]===ct&&function(ve){return ve.charCodeAt(ve.length-1)>=55296&&ve.charCodeAt(ve.length-1)<=56319}(It[fe-2][1])&&It[fe-1][0]===kt&&te(It[fe-1][1])&&It[fe][0]===wt&&te(It[fe][1])&&(Wt=!0,It[fe-1][1]=It[fe-2][1].slice(-1)+It[fe-1][1],It[fe][1]=It[fe-2][1].slice(-1)+It[fe][1],It[fe-2][1]=It[fe-2][1].slice(0,-1));if(!Wt)return It;for(var Me=[],fe=0;fe<It.length;fe+=1)It[fe][1].length>0&&Me.push(It[fe]);return Me}function Pt(It,Wt,te){for(var fe=Wt+te-1;fe>=0&&fe>=Wt-1;fe--)if(fe+1<It.length){var Me=It[fe],ve=It[fe+1];Me[0]===ve[1]&&It.splice(fe,2,[Me[0],Me[1]+ve[1]])}return It}var kt=-1,wt=1,ct=0,ie=Tt;ie.INSERT=wt,ie.DELETE=kt,ie.EQUAL=ct,Ye.exports=ie},function(Ye,Gt){function Tt(Qt){var Oe=[];for(var $t in Qt)Oe.push($t);return Oe}Gt=Ye.exports=typeof Object.keys=="function"?Object.keys:Tt,Gt.shim=Tt},function(Ye,Gt){function Tt($t){return Object.prototype.toString.call($t)=="[object Arguments]"}function Qt($t){return $t&&typeof $t=="object"&&typeof $t.length=="number"&&Object.prototype.hasOwnProperty.call($t,"callee")&&!Object.prototype.propertyIsEnumerable.call($t,"callee")||!1}var Oe=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";Gt=Ye.exports=Oe?Tt:Qt,Gt.supported=Tt,Gt.unsupported=Qt},function(Ye,Gt,Tt){"use strict";function Qt(gn){return gn&&gn.__esModule?gn:{default:gn}}function Oe(gn,jt,Fe){return jt in gn?Object.defineProperty(gn,jt,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):gn[jt]=Fe,gn}function $t(gn,jt){if(!(gn instanceof jt))throw new TypeError("Cannot call a class as a function")}function ue(gn,jt){return Object.keys(jt).reduce(function(Fe,ht){return gn[ht]==null||(jt[ht]===gn[ht]?Fe[ht]=jt[ht]:Array.isArray(jt[ht])?jt[ht].indexOf(gn[ht])<0&&(Fe[ht]=jt[ht].concat([gn[ht]])):Fe[ht]=[jt[ht],gn[ht]]),Fe},{})}function Jt(gn){return gn.reduce(function(jt,Fe){if(Fe.insert===1){var ht=(0,Kt.default)(Fe.attributes);return delete ht.image,jt.insert({image:Fe.attributes.image},ht)}if(Fe.attributes==null||Fe.attributes.list!==!0&&Fe.attributes.bullet!==!0||(Fe=(0,Kt.default)(Fe),Fe.attributes.list?Fe.attributes.list="ordered":(Fe.attributes.list="bullet",delete Fe.attributes.bullet)),typeof Fe.insert=="string"){var lt=Fe.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return jt.insert(lt,Fe.attributes)}return jt.push(Fe)},new vt.default)}Object.defineProperty(Gt,"__esModule",{value:!0});var Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gn){return typeof gn}:function(gn){return gn&&typeof Symbol=="function"&&gn.constructor===Symbol&&gn!==Symbol.prototype?"symbol":typeof gn},bt=function(){function gn(jt,Fe){var ht=[],lt=!0,an=!1,en=void 0;try{for(var je,Qe=jt[Symbol.iterator]();!(lt=(je=Qe.next()).done)&&(ht.push(je.value),!Fe||ht.length!==Fe);lt=!0);}catch(Te){an=!0,en=Te}finally{try{!lt&&Qe.return&&Qe.return()}finally{if(an)throw en}}return ht}return function(jt,Fe){if(Array.isArray(jt))return jt;if(Symbol.iterator in Object(jt))return gn(jt,Fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function gn(jt,Fe){for(var ht=0;ht<Fe.length;ht++){var lt=Fe[ht];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(jt,lt.key,lt)}}return function(jt,Fe,ht){return Fe&&gn(jt.prototype,Fe),ht&&gn(jt,ht),jt}}(),_t=Tt(4),vt=Qt(_t),Pt=Tt(20),kt=Qt(Pt),wt=Tt(0),ct=Qt(wt),ie=Tt(13),It=Qt(ie),Wt=Tt(31),te=Qt(Wt),fe=Tt(3),Me=Qt(fe),ve=Tt(14),le=Qt(ve),Xt=Tt(21),Kt=Qt(Xt),ne=Tt(12),De=Qt(ne),me=Tt(2),Ne=Qt(me),Fn=/^[ -~]*$/,dn=function(){function gn(jt){$t(this,gn),this.scroll=jt,this.delta=this.getDelta()}return ft(gn,[{key:"applyDelta",value:function(jt){var Fe=this,ht=!1;this.scroll.update();var lt=this.scroll.length();return this.scroll.batchStart(),jt=Jt(jt),jt.reduce(function(an,en){var je=en.retain||en.delete||en.insert.length||1,Qe=en.attributes||{};if(en.insert!=null){if(typeof en.insert=="string"){var Te=en.insert;Te.endsWith(`
`)&&ht&&(ht=!1,Te=Te.slice(0,-1)),an>=lt&&!Te.endsWith(`
`)&&(ht=!0),Fe.scroll.insertAt(an,Te);var _n=Fe.scroll.line(an),Be=bt(_n,2),Ge=Be[0],Mn=Be[1],wr=(0,Ne.default)({},(0,fe.bubbleFormats)(Ge));if(Ge instanceof Me.default){var Ln=Ge.descendant(ct.default.Leaf,Mn),di=bt(Ln,1),ar=di[0];wr=(0,Ne.default)(wr,(0,fe.bubbleFormats)(ar))}Qe=kt.default.attributes.diff(wr,Qe)||{}}else if(Vt(en.insert)==="object"){var hr=Object.keys(en.insert)[0];if(hr==null)return an;Fe.scroll.insertAt(an,hr,en.insert[hr])}lt+=je}return Object.keys(Qe).forEach(function(wn){Fe.scroll.formatAt(an,je,wn,Qe[wn])}),an+je},0),jt.reduce(function(an,en){return typeof en.delete=="number"?(Fe.scroll.deleteAt(an,en.delete),an):an+(en.retain||en.insert.length||1)},0),this.scroll.batchEnd(),this.update(jt)}},{key:"deleteText",value:function(jt,Fe){return this.scroll.deleteAt(jt,Fe),this.update(new vt.default().retain(jt).delete(Fe))}},{key:"formatLine",value:function(jt,Fe){var ht=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(lt).forEach(function(an){if(ht.scroll.whitelist==null||ht.scroll.whitelist[an]){var en=ht.scroll.lines(jt,Math.max(Fe,1)),je=Fe;en.forEach(function(Qe){var Te=Qe.length();if(Qe instanceof It.default){var _n=jt-Qe.offset(ht.scroll),Be=Qe.newlineIndex(_n+je)-_n+1;Qe.formatAt(_n,Be,an,lt[an])}else Qe.format(an,lt[an]);je-=Te})}}),this.scroll.optimize(),this.update(new vt.default().retain(jt).retain(Fe,(0,Kt.default)(lt)))}},{key:"formatText",value:function(jt,Fe){var ht=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(lt).forEach(function(an){ht.scroll.formatAt(jt,Fe,an,lt[an])}),this.update(new vt.default().retain(jt).retain(Fe,(0,Kt.default)(lt)))}},{key:"getContents",value:function(jt,Fe){return this.delta.slice(jt,jt+Fe)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(jt,Fe){return jt.concat(Fe.delta())},new vt.default)}},{key:"getFormat",value:function(jt){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ht=[],lt=[];Fe===0?this.scroll.path(jt).forEach(function(en){var je=bt(en,1),Qe=je[0];Qe instanceof Me.default?ht.push(Qe):Qe instanceof ct.default.Leaf&&lt.push(Qe)}):(ht=this.scroll.lines(jt,Fe),lt=this.scroll.descendants(ct.default.Leaf,jt,Fe));var an=[ht,lt].map(function(en){if(en.length===0)return{};for(var je=(0,fe.bubbleFormats)(en.shift());Object.keys(je).length>0;){var Qe=en.shift();if(Qe==null)return je;je=ue((0,fe.bubbleFormats)(Qe),je)}return je});return Ne.default.apply(Ne.default,an)}},{key:"getText",value:function(jt,Fe){return this.getContents(jt,Fe).filter(function(ht){return typeof ht.insert=="string"}).map(function(ht){return ht.insert}).join("")}},{key:"insertEmbed",value:function(jt,Fe,ht){return this.scroll.insertAt(jt,Fe,ht),this.update(new vt.default().retain(jt).insert(Oe({},Fe,ht)))}},{key:"insertText",value:function(jt,Fe){var ht=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Fe=Fe.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(jt,Fe),Object.keys(lt).forEach(function(an){ht.scroll.formatAt(jt,Fe.length,an,lt[an])}),this.update(new vt.default().retain(jt).insert(Fe,(0,Kt.default)(lt)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var jt=this.scroll.children.head;return jt.statics.blotName===Me.default.blotName&&!(jt.children.length>1)&&jt.children.head instanceof le.default}},{key:"removeFormat",value:function(jt,Fe){var ht=this.getText(jt,Fe),lt=this.scroll.line(jt+Fe),an=bt(lt,2),en=an[0],je=an[1],Qe=0,Te=new vt.default;en!=null&&(Qe=en instanceof It.default?en.newlineIndex(je)-je+1:en.length()-je,Te=en.delta().slice(je,je+Qe-1).insert(`
`));var _n=this.getContents(jt,Fe+Qe),Be=_n.diff(new vt.default().insert(ht).concat(Te)),Ge=new vt.default().retain(jt).concat(Be);return this.applyDelta(Ge)}},{key:"update",value:function(jt){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,lt=this.delta;if(Fe.length===1&&Fe[0].type==="characterData"&&Fe[0].target.data.match(Fn)&&ct.default.find(Fe[0].target)){var an=ct.default.find(Fe[0].target),en=(0,fe.bubbleFormats)(an),je=an.offset(this.scroll),Qe=Fe[0].oldValue.replace(te.default.CONTENTS,""),Te=new vt.default().insert(Qe),_n=new vt.default().insert(an.value());jt=new vt.default().retain(je).concat(Te.diff(_n,ht)).reduce(function(Be,Ge){return Ge.insert?Be.insert(Ge.insert,en):Be.push(Ge)},new vt.default),this.delta=lt.compose(jt)}else this.delta=this.getDelta(),jt&&(0,De.default)(lt.compose(jt),this.delta)||(jt=lt.diff(this.delta,ht));return jt}}]),gn}();Gt.default=dn},function(Ye,Gt){"use strict";function Tt(){}function Qt(Jt,Vt,bt){this.fn=Jt,this.context=Vt,this.once=bt||!1}function Oe(){this._events=new Tt,this._eventsCount=0}var $t=Object.prototype.hasOwnProperty,ue="~";Object.create&&(Tt.prototype=Object.create(null),new Tt().__proto__||(ue=!1)),Oe.prototype.eventNames=function(){var Jt,Vt,bt=[];if(this._eventsCount===0)return bt;for(Vt in Jt=this._events)$t.call(Jt,Vt)&&bt.push(ue?Vt.slice(1):Vt);return Object.getOwnPropertySymbols?bt.concat(Object.getOwnPropertySymbols(Jt)):bt},Oe.prototype.listeners=function(Jt,Vt){var bt=ue?ue+Jt:Jt,ft=this._events[bt];if(Vt)return!!ft;if(!ft)return[];if(ft.fn)return[ft.fn];for(var _t=0,vt=ft.length,Pt=new Array(vt);_t<vt;_t++)Pt[_t]=ft[_t].fn;return Pt},Oe.prototype.emit=function(Jt,Vt,bt,ft,_t,vt){var Pt=ue?ue+Jt:Jt;if(!this._events[Pt])return!1;var kt,wt,ct=this._events[Pt],ie=arguments.length;if(ct.fn){switch(ct.once&&this.removeListener(Jt,ct.fn,void 0,!0),ie){case 1:return ct.fn.call(ct.context),!0;case 2:return ct.fn.call(ct.context,Vt),!0;case 3:return ct.fn.call(ct.context,Vt,bt),!0;case 4:return ct.fn.call(ct.context,Vt,bt,ft),!0;case 5:return ct.fn.call(ct.context,Vt,bt,ft,_t),!0;case 6:return ct.fn.call(ct.context,Vt,bt,ft,_t,vt),!0}for(wt=1,kt=new Array(ie-1);wt<ie;wt++)kt[wt-1]=arguments[wt];ct.fn.apply(ct.context,kt)}else{var It,Wt=ct.length;for(wt=0;wt<Wt;wt++)switch(ct[wt].once&&this.removeListener(Jt,ct[wt].fn,void 0,!0),ie){case 1:ct[wt].fn.call(ct[wt].context);break;case 2:ct[wt].fn.call(ct[wt].context,Vt);break;case 3:ct[wt].fn.call(ct[wt].context,Vt,bt);break;case 4:ct[wt].fn.call(ct[wt].context,Vt,bt,ft);break;default:if(!kt)for(It=1,kt=new Array(ie-1);It<ie;It++)kt[It-1]=arguments[It];ct[wt].fn.apply(ct[wt].context,kt)}}return!0},Oe.prototype.on=function(Jt,Vt,bt){var ft=new Qt(Vt,bt||this),_t=ue?ue+Jt:Jt;return this._events[_t]?this._events[_t].fn?this._events[_t]=[this._events[_t],ft]:this._events[_t].push(ft):(this._events[_t]=ft,this._eventsCount++),this},Oe.prototype.once=function(Jt,Vt,bt){var ft=new Qt(Vt,bt||this,!0),_t=ue?ue+Jt:Jt;return this._events[_t]?this._events[_t].fn?this._events[_t]=[this._events[_t],ft]:this._events[_t].push(ft):(this._events[_t]=ft,this._eventsCount++),this},Oe.prototype.removeListener=function(Jt,Vt,bt,ft){var _t=ue?ue+Jt:Jt;if(!this._events[_t])return this;if(!Vt)return--this._eventsCount==0?this._events=new Tt:delete this._events[_t],this;var vt=this._events[_t];if(vt.fn)vt.fn!==Vt||ft&&!vt.once||bt&&vt.context!==bt||(--this._eventsCount==0?this._events=new Tt:delete this._events[_t]);else{for(var Pt=0,kt=[],wt=vt.length;Pt<wt;Pt++)(vt[Pt].fn!==Vt||ft&&!vt[Pt].once||bt&&vt[Pt].context!==bt)&&kt.push(vt[Pt]);kt.length?this._events[_t]=kt.length===1?kt[0]:kt:--this._eventsCount==0?this._events=new Tt:delete this._events[_t]}return this},Oe.prototype.removeAllListeners=function(Jt){var Vt;return Jt?(Vt=ue?ue+Jt:Jt,this._events[Vt]&&(--this._eventsCount==0?this._events=new Tt:delete this._events[Vt])):(this._events=new Tt,this._eventsCount=0),this},Oe.prototype.off=Oe.prototype.removeListener,Oe.prototype.addListener=Oe.prototype.on,Oe.prototype.setMaxListeners=function(){return this},Oe.prefixed=ue,Oe.EventEmitter=Oe,Ye!==void 0&&(Ye.exports=Oe)},function(Ye,Gt,Tt){"use strict";function Qt(le){return le&&le.__esModule?le:{default:le}}function Oe(le,Xt){if(!(le instanceof Xt))throw new TypeError("Cannot call a class as a function")}function $t(le,Xt){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Xt||typeof Xt!="object"&&typeof Xt!="function"?le:Xt}function ue(le,Xt){if(typeof Xt!="function"&&Xt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Xt);le.prototype=Object.create(Xt&&Xt.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),Xt&&(Object.setPrototypeOf?Object.setPrototypeOf(le,Xt):le.__proto__=Xt)}function Jt(le){return le instanceof ct.default||le instanceof wt.BlockEmbed}Object.defineProperty(Gt,"__esModule",{value:!0});var Vt=function(){function le(Xt,Kt){var ne=[],De=!0,me=!1,Ne=void 0;try{for(var Fn,dn=Xt[Symbol.iterator]();!(De=(Fn=dn.next()).done)&&(ne.push(Fn.value),!Kt||ne.length!==Kt);De=!0);}catch(gn){me=!0,Ne=gn}finally{try{!De&&dn.return&&dn.return()}finally{if(me)throw Ne}}return ne}return function(Xt,Kt){if(Array.isArray(Xt))return Xt;if(Symbol.iterator in Object(Xt))return le(Xt,Kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bt=function(){function le(Xt,Kt){for(var ne=0;ne<Kt.length;ne++){var De=Kt[ne];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Xt,De.key,De)}}return function(Xt,Kt,ne){return Kt&&le(Xt.prototype,Kt),ne&&le(Xt,ne),Xt}}(),ft=function le(Xt,Kt,ne){Xt===null&&(Xt=Function.prototype);var De=Object.getOwnPropertyDescriptor(Xt,Kt);if(De===void 0){var me=Object.getPrototypeOf(Xt);return me===null?void 0:le(me,Kt,ne)}if("value"in De)return De.value;var Ne=De.get;if(Ne!==void 0)return Ne.call(ne)},_t=Tt(0),vt=Qt(_t),Pt=Tt(9),kt=Qt(Pt),wt=Tt(3),ct=Qt(wt),ie=Tt(14),It=Qt(ie),Wt=Tt(13),te=Qt(Wt),fe=Tt(23),Me=Qt(fe),ve=function(le){function Xt(Kt,ne){Oe(this,Xt);var De=$t(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this,Kt));return De.emitter=ne.emitter,Array.isArray(ne.whitelist)&&(De.whitelist=ne.whitelist.reduce(function(me,Ne){return me[Ne]=!0,me},{})),De.domNode.addEventListener("DOMNodeInserted",function(){}),De.optimize(),De.enable(),De}return ue(Xt,le),bt(Xt,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Kt,ne){var De=this.line(Kt),me=Vt(De,2),Ne=me[0],Fn=me[1],dn=this.line(Kt+ne),gn=Vt(dn,1),jt=gn[0];if(ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"deleteAt",this).call(this,Kt,ne),jt!=null&&Ne!==jt&&Fn>0){if(Ne instanceof wt.BlockEmbed||jt instanceof wt.BlockEmbed)return void this.optimize();if(Ne instanceof te.default){var Fe=Ne.newlineIndex(Ne.length(),!0);if(Fe>-1&&(Ne=Ne.split(Fe+1))===jt)return void this.optimize()}else if(jt instanceof te.default){var ht=jt.newlineIndex(0);ht>-1&&jt.split(ht+1)}var lt=jt.children.head instanceof It.default?null:jt.children.head;Ne.moveChildren(jt,lt),Ne.remove()}this.optimize()}},{key:"enable",value:function(){var Kt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",Kt)}},{key:"formatAt",value:function(Kt,ne,De,me){(this.whitelist==null||this.whitelist[De])&&(ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"formatAt",this).call(this,Kt,ne,De,me),this.optimize())}},{key:"insertAt",value:function(Kt,ne,De){if(De==null||this.whitelist==null||this.whitelist[ne]){if(Kt>=this.length())if(De==null||vt.default.query(ne,vt.default.Scope.BLOCK)==null){var me=vt.default.create(this.statics.defaultChild);this.appendChild(me),De==null&&ne.endsWith(`
`)&&(ne=ne.slice(0,-1)),me.insertAt(0,ne,De)}else{var Ne=vt.default.create(ne,De);this.appendChild(Ne)}else ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"insertAt",this).call(this,Kt,ne,De);this.optimize()}}},{key:"insertBefore",value:function(Kt,ne){if(Kt.statics.scope===vt.default.Scope.INLINE_BLOT){var De=vt.default.create(this.statics.defaultChild);De.appendChild(Kt),Kt=De}ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"insertBefore",this).call(this,Kt,ne)}},{key:"leaf",value:function(Kt){return this.path(Kt).pop()||[null,-1]}},{key:"line",value:function(Kt){return Kt===this.length()?this.line(Kt-1):this.descendant(Jt,Kt)}},{key:"lines",value:function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return function De(me,Ne,Fn){var dn=[],gn=Fn;return me.children.forEachAt(Ne,Fn,function(jt,Fe,ht){Jt(jt)?dn.push(jt):jt instanceof vt.default.Container&&(dn=dn.concat(De(jt,Fe,gn))),gn-=ht}),dn}(this,Kt,ne)}},{key:"optimize",value:function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"optimize",this).call(this,Kt,ne),Kt.length>0&&this.emitter.emit(kt.default.events.SCROLL_OPTIMIZE,Kt,ne))}},{key:"path",value:function(Kt){return ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"path",this).call(this,Kt).slice(1)}},{key:"update",value:function(Kt){if(this.batch!==!0){var ne=kt.default.sources.USER;typeof Kt=="string"&&(ne=Kt),Array.isArray(Kt)||(Kt=this.observer.takeRecords()),Kt.length>0&&this.emitter.emit(kt.default.events.SCROLL_BEFORE_UPDATE,ne,Kt),ft(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"update",this).call(this,Kt.concat([])),Kt.length>0&&this.emitter.emit(kt.default.events.SCROLL_UPDATE,ne,Kt)}}}]),Xt}(vt.default.Scroll);ve.blotName="scroll",ve.className="ql-editor",ve.tagName="DIV",ve.defaultChild="block",ve.allowedChildren=[ct.default,wt.BlockEmbed,Me.default],Gt.default=ve},function(Ye,Gt,Tt){"use strict";function Qt(wn){return wn&&wn.__esModule?wn:{default:wn}}function Oe(wn,Wn,si){return Wn in wn?Object.defineProperty(wn,Wn,{value:si,enumerable:!0,configurable:!0,writable:!0}):wn[Wn]=si,wn}function $t(wn,Wn){if(!(wn instanceof Wn))throw new TypeError("Cannot call a class as a function")}function ue(wn,Wn){if(!wn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Wn||typeof Wn!="object"&&typeof Wn!="function"?wn:Wn}function Jt(wn,Wn){if(typeof Wn!="function"&&Wn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Wn);wn.prototype=Object.create(Wn&&Wn.prototype,{constructor:{value:wn,enumerable:!1,writable:!0,configurable:!0}}),Wn&&(Object.setPrototypeOf?Object.setPrototypeOf(wn,Wn):wn.__proto__=Wn)}function Vt(wn,Wn,si){return(Wn===void 0?"undefined":ve(Wn))==="object"?Object.keys(Wn).reduce(function(xi,oi){return Vt(xi,oi,Wn[oi])},wn):wn.reduce(function(xi,oi){return oi.attributes&&oi.attributes[Wn]?xi.push(oi):xi.insert(oi.insert,(0,ne.default)({},Oe({},Wn,si),oi.attributes))},new me.default)}function bt(wn){return wn.nodeType!==Node.ELEMENT_NODE?{}:wn["__ql-computed-style"]||(wn["__ql-computed-style"]=window.getComputedStyle(wn))}function ft(wn,Wn){for(var si="",xi=wn.ops.length-1;xi>=0&&si.length<Wn.length;--xi){var oi=wn.ops[xi];if(typeof oi.insert!="string")break;si=oi.insert+si}return si.slice(-1*Wn.length)===Wn}function _t(wn){return wn.childNodes.length!==0&&["block","list-item"].indexOf(bt(wn).display)>-1}function vt(wn,Wn,si){return wn.nodeType===wn.TEXT_NODE?si.reduce(function(xi,oi){return oi(wn,xi)},new me.default):wn.nodeType===wn.ELEMENT_NODE?[].reduce.call(wn.childNodes||[],function(xi,oi){var zi=vt(oi,Wn,si);return oi.nodeType===wn.ELEMENT_NODE&&(zi=Wn.reduce(function(yi,Ar){return Ar(oi,yi)},zi),zi=(oi[wr]||[]).reduce(function(yi,Ar){return Ar(oi,yi)},zi)),xi.concat(zi)},new me.default):new me.default}function Pt(wn,Wn,si){return Vt(si,wn,!0)}function kt(wn,Wn){var si=Fn.default.Attributor.Attribute.keys(wn),xi=Fn.default.Attributor.Class.keys(wn),oi=Fn.default.Attributor.Style.keys(wn),zi={};return si.concat(xi).concat(oi).forEach(function(yi){var Ar=Fn.default.query(yi,Fn.default.Scope.ATTRIBUTE);Ar!=null&&(zi[Ar.attrName]=Ar.value(wn),zi[Ar.attrName])||(Ar=di[yi],Ar==null||Ar.attrName!==yi&&Ar.keyName!==yi||(zi[Ar.attrName]=Ar.value(wn)||void 0),(Ar=ar[yi])==null||Ar.attrName!==yi&&Ar.keyName!==yi||(Ar=ar[yi],zi[Ar.attrName]=Ar.value(wn)||void 0))}),Object.keys(zi).length>0&&(Wn=Vt(Wn,zi)),Wn}function wt(wn,Wn){var si=Fn.default.query(wn);if(si==null)return Wn;if(si.prototype instanceof Fn.default.Embed){var xi={},oi=si.value(wn);oi!=null&&(xi[si.blotName]=oi,Wn=new me.default().insert(xi,si.formats(wn)))}else typeof si.formats=="function"&&(Wn=Vt(Wn,si.blotName,si.formats(wn)));return Wn}function ct(wn,Wn){return ft(Wn,`
`)||Wn.insert(`
`),Wn}function ie(){return new me.default}function It(wn,Wn){var si=Fn.default.query(wn);if(si==null||si.blotName!=="list-item"||!ft(Wn,`
`))return Wn;for(var xi=-1,oi=wn.parentNode;!oi.classList.contains("ql-clipboard");)(Fn.default.query(oi)||{}).blotName==="list"&&(xi+=1),oi=oi.parentNode;return xi<=0?Wn:Wn.compose(new me.default().retain(Wn.length()-1).retain(1,{indent:xi}))}function Wt(wn,Wn){return ft(Wn,`
`)||(_t(wn)||Wn.length()>0&&wn.nextSibling&&_t(wn.nextSibling))&&Wn.insert(`
`),Wn}function te(wn,Wn){if(_t(wn)&&wn.nextElementSibling!=null&&!ft(Wn,`

`)){var si=wn.offsetHeight+parseFloat(bt(wn).marginTop)+parseFloat(bt(wn).marginBottom);wn.nextElementSibling.offsetTop>wn.offsetTop+1.5*si&&Wn.insert(`
`)}return Wn}function fe(wn,Wn){var si={},xi=wn.style||{};return xi.fontStyle&&bt(wn).fontStyle==="italic"&&(si.italic=!0),xi.fontWeight&&(bt(wn).fontWeight.startsWith("bold")||parseInt(bt(wn).fontWeight)>=700)&&(si.bold=!0),Object.keys(si).length>0&&(Wn=Vt(Wn,si)),parseFloat(xi.textIndent||0)>0&&(Wn=new me.default().insert("	").concat(Wn)),Wn}function Me(wn,Wn){var si=wn.data;if(wn.parentNode.tagName==="O:P")return Wn.insert(si.trim());if(si.trim().length===0&&wn.parentNode.classList.contains("ql-clipboard"))return Wn;if(!bt(wn.parentNode).whiteSpace.startsWith("pre")){var xi=function(oi,zi){return zi=zi.replace(/[^\u00a0]/g,""),zi.length<1&&oi?" ":zi};si=si.replace(/\r\n/g," ").replace(/\n/g," "),si=si.replace(/\s\s+/g,xi.bind(xi,!0)),(wn.previousSibling==null&&_t(wn.parentNode)||wn.previousSibling!=null&&_t(wn.previousSibling))&&(si=si.replace(/^\s+/,xi.bind(xi,!1))),(wn.nextSibling==null&&_t(wn.parentNode)||wn.nextSibling!=null&&_t(wn.nextSibling))&&(si=si.replace(/\s+$/,xi.bind(xi,!1)))}return Wn.insert(si)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.matchText=Gt.matchSpacing=Gt.matchNewline=Gt.matchBlot=Gt.matchAttributor=Gt.default=void 0;var ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wn){return typeof wn}:function(wn){return wn&&typeof Symbol=="function"&&wn.constructor===Symbol&&wn!==Symbol.prototype?"symbol":typeof wn},le=function(){function wn(Wn,si){var xi=[],oi=!0,zi=!1,yi=void 0;try{for(var Ar,Kr=Wn[Symbol.iterator]();!(oi=(Ar=Kr.next()).done)&&(xi.push(Ar.value),!si||xi.length!==si);oi=!0);}catch(Yt){zi=!0,yi=Yt}finally{try{!oi&&Kr.return&&Kr.return()}finally{if(zi)throw yi}}return xi}return function(Wn,si){if(Array.isArray(Wn))return Wn;if(Symbol.iterator in Object(Wn))return wn(Wn,si);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xt=function(){function wn(Wn,si){for(var xi=0;xi<si.length;xi++){var oi=si[xi];oi.enumerable=oi.enumerable||!1,oi.configurable=!0,"value"in oi&&(oi.writable=!0),Object.defineProperty(Wn,oi.key,oi)}}return function(Wn,si,xi){return si&&wn(Wn.prototype,si),xi&&wn(Wn,xi),Wn}}(),Kt=Tt(2),ne=Qt(Kt),De=Tt(4),me=Qt(De),Ne=Tt(0),Fn=Qt(Ne),dn=Tt(6),gn=Qt(dn),jt=Tt(10),Fe=Qt(jt),ht=Tt(7),lt=Qt(ht),an=Tt(34),en=Tt(35),je=Tt(13),Qe=Qt(je),Te=Tt(24),_n=Tt(36),Be=Tt(37),Ge=Tt(38),Mn=(0,Fe.default)("quill:clipboard"),wr="__ql-matcher",Ln=[[Node.TEXT_NODE,Me],[Node.TEXT_NODE,Wt],["br",ct],[Node.ELEMENT_NODE,Wt],[Node.ELEMENT_NODE,wt],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,kt],[Node.ELEMENT_NODE,fe],["li",It],["b",Pt.bind(Pt,"bold")],["i",Pt.bind(Pt,"italic")],["style",ie]],di=[an.AlignAttribute,_n.DirectionAttribute].reduce(function(wn,Wn){return wn[Wn.keyName]=Wn,wn},{}),ar=[an.AlignStyle,en.BackgroundStyle,Te.ColorStyle,_n.DirectionStyle,Be.FontStyle,Ge.SizeStyle].reduce(function(wn,Wn){return wn[Wn.keyName]=Wn,wn},{}),hr=function(wn){function Wn(si,xi){$t(this,Wn);var oi=ue(this,(Wn.__proto__||Object.getPrototypeOf(Wn)).call(this,si,xi));return oi.quill.root.addEventListener("paste",oi.onPaste.bind(oi)),oi.container=oi.quill.addContainer("ql-clipboard"),oi.container.setAttribute("contenteditable",!0),oi.container.setAttribute("tabindex",-1),oi.matchers=[],Ln.concat(oi.options.matchers).forEach(function(zi){var yi=le(zi,2),Ar=yi[0],Kr=yi[1];(xi.matchVisual||Kr!==te)&&oi.addMatcher(Ar,Kr)}),oi}return Jt(Wn,wn),Xt(Wn,[{key:"addMatcher",value:function(si,xi){this.matchers.push([si,xi])}},{key:"convert",value:function(si){if(typeof si=="string")return this.container.innerHTML=si.replace(/\>\r?\n +\</g,"><"),this.convert();var xi=this.quill.getFormat(this.quill.selection.savedRange.index);if(xi[Qe.default.blotName]){var oi=this.container.innerText;return this.container.innerHTML="",new me.default().insert(oi,Oe({},Qe.default.blotName,xi[Qe.default.blotName]))}var zi=this.prepareMatching(),yi=le(zi,2),Ar=yi[0],Kr=yi[1],Yt=vt(this.container,Ar,Kr);return ft(Yt,`
`)&&Yt.ops[Yt.ops.length-1].attributes==null&&(Yt=Yt.compose(new me.default().retain(Yt.length()-1).delete(1))),Mn.log("convert",this.container.innerHTML,Yt),this.container.innerHTML="",Yt}},{key:"dangerouslyPasteHTML",value:function(si,xi){var oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gn.default.sources.API;if(typeof si=="string")this.quill.setContents(this.convert(si),xi),this.quill.setSelection(0,gn.default.sources.SILENT);else{var zi=this.convert(xi);this.quill.updateContents(new me.default().retain(si).concat(zi),oi),this.quill.setSelection(si+zi.length(),gn.default.sources.SILENT)}}},{key:"onPaste",value:function(si){var xi=this;if(!si.defaultPrevented&&this.quill.isEnabled()){var oi=this.quill.getSelection(),zi=new me.default().retain(oi.index),yi=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(gn.default.sources.SILENT),setTimeout(function(){zi=zi.concat(xi.convert()).delete(oi.length),xi.quill.updateContents(zi,gn.default.sources.USER),xi.quill.setSelection(zi.length()-oi.length,gn.default.sources.SILENT),xi.quill.scrollingContainer.scrollTop=yi,xi.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var si=this,xi=[],oi=[];return this.matchers.forEach(function(zi){var yi=le(zi,2),Ar=yi[0],Kr=yi[1];switch(Ar){case Node.TEXT_NODE:oi.push(Kr);break;case Node.ELEMENT_NODE:xi.push(Kr);break;default:[].forEach.call(si.container.querySelectorAll(Ar),function(Yt){Yt[wr]=Yt[wr]||[],Yt[wr].push(Kr)})}}),[xi,oi]}}]),Wn}(lt.default);hr.DEFAULTS={matchers:[],matchVisual:!0},Gt.default=hr,Gt.matchAttributor=kt,Gt.matchBlot=wt,Gt.matchNewline=Wt,Gt.matchSpacing=te,Gt.matchText=Me},function(Ye,Gt,Tt){"use strict";function Qt(ie){return ie&&ie.__esModule?ie:{default:ie}}function Oe(ie,It){if(!(ie instanceof It))throw new TypeError("Cannot call a class as a function")}function $t(ie,It){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!It||typeof It!="object"&&typeof It!="function"?ie:It}function ue(ie,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);ie.prototype=Object.create(It&&It.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,It):ie.__proto__=It)}function Jt(ie){var It=ie.ops[ie.ops.length-1];return It!=null&&(It.insert!=null?typeof It.insert=="string"&&It.insert.endsWith(`
`):It.attributes!=null&&Object.keys(It.attributes).some(function(Wt){return _t.default.query(Wt,_t.default.Scope.BLOCK)!=null}))}function Vt(ie){var It=ie.reduce(function(te,fe){return te+=fe.delete||0},0),Wt=ie.length()-It;return Jt(ie)&&(Wt-=1),Wt}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.getLastChangeIndex=Gt.default=void 0;var bt=function(){function ie(It,Wt){for(var te=0;te<Wt.length;te++){var fe=Wt[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(It,fe.key,fe)}}return function(It,Wt,te){return Wt&&ie(It.prototype,Wt),te&&ie(It,te),It}}(),ft=Tt(0),_t=Qt(ft),vt=Tt(6),Pt=Qt(vt),kt=Tt(7),wt=Qt(kt),ct=function(ie){function It(Wt,te){Oe(this,It);var fe=$t(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,Wt,te));return fe.lastRecorded=0,fe.ignoreChange=!1,fe.clear(),fe.quill.on(Pt.default.events.EDITOR_CHANGE,function(Me,ve,le,Xt){Me!==Pt.default.events.TEXT_CHANGE||fe.ignoreChange||(fe.options.userOnly&&Xt!==Pt.default.sources.USER?fe.transform(ve):fe.record(ve,le))}),fe.quill.keyboard.addBinding({key:"Z",shortKey:!0},fe.undo.bind(fe)),fe.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},fe.redo.bind(fe)),/Win/i.test(navigator.platform)&&fe.quill.keyboard.addBinding({key:"Y",shortKey:!0},fe.redo.bind(fe)),fe}return ue(It,ie),bt(It,[{key:"change",value:function(Wt,te){if(this.stack[Wt].length!==0){var fe=this.stack[Wt].pop();this.stack[te].push(fe),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(fe[Wt],Pt.default.sources.USER),this.ignoreChange=!1;var Me=Vt(fe[Wt]);this.quill.setSelection(Me)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Wt,te){if(Wt.ops.length!==0){this.stack.redo=[];var fe=this.quill.getContents().diff(te),Me=Date.now();if(this.lastRecorded+this.options.delay>Me&&this.stack.undo.length>0){var ve=this.stack.undo.pop();fe=fe.compose(ve.undo),Wt=ve.redo.compose(Wt)}else this.lastRecorded=Me;this.stack.undo.push({redo:Wt,undo:fe}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Wt){this.stack.undo.forEach(function(te){te.undo=Wt.transform(te.undo,!0),te.redo=Wt.transform(te.redo,!0)}),this.stack.redo.forEach(function(te){te.undo=Wt.transform(te.undo,!0),te.redo=Wt.transform(te.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),It}(wt.default);ct.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},Gt.default=ct,Gt.getLastChangeIndex=Vt},function(Ye,Gt,Tt){"use strict";function Qt(vt,Pt){if(!(vt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function Oe(vt,Pt){if(!vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Pt||typeof Pt!="object"&&typeof Pt!="function"?vt:Pt}function $t(vt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pt);vt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:vt,enumerable:!1,writable:!0,configurable:!0}}),Pt&&(Object.setPrototypeOf?Object.setPrototypeOf(vt,Pt):vt.__proto__=Pt)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.IndentClass=void 0;var ue=function(){function vt(Pt,kt){for(var wt=0;wt<kt.length;wt++){var ct=kt[wt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(Pt,ct.key,ct)}}return function(Pt,kt,wt){return kt&&vt(Pt.prototype,kt),wt&&vt(Pt,wt),Pt}}(),Jt=function vt(Pt,kt,wt){Pt===null&&(Pt=Function.prototype);var ct=Object.getOwnPropertyDescriptor(Pt,kt);if(ct===void 0){var ie=Object.getPrototypeOf(Pt);return ie===null?void 0:vt(ie,kt,wt)}if("value"in ct)return ct.value;var It=ct.get;if(It!==void 0)return It.call(wt)},Vt=Tt(0),bt=function(vt){return vt&&vt.__esModule?vt:{default:vt}}(Vt),ft=function(vt){function Pt(){return Qt(this,Pt),Oe(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).apply(this,arguments))}return $t(Pt,vt),ue(Pt,[{key:"add",value:function(kt,wt){if(wt==="+1"||wt==="-1"){var ct=this.value(kt)||0;wt=wt==="+1"?ct+1:ct-1}return wt===0?(this.remove(kt),!0):Jt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"add",this).call(this,kt,wt)}},{key:"canAdd",value:function(kt,wt){return Jt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"canAdd",this).call(this,kt,wt)||Jt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"canAdd",this).call(this,kt,parseInt(wt))}},{key:"value",value:function(kt){return parseInt(Jt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"value",this).call(this,kt))||void 0}}]),Pt}(bt.default.Attributor.Class),_t=new ft("indent","ql-indent",{scope:bt.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});Gt.IndentClass=_t},function(Ye,Gt,Tt){"use strict";function Qt(bt,ft){if(!(bt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Oe(bt,ft){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?bt:ft}function $t(bt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);bt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,ft):bt.__proto__=ft)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=Tt(3),Jt=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(ue),Vt=function(bt){function ft(){return Qt(this,ft),Oe(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return $t(ft,bt),ft}(Jt.default);Vt.blotName="blockquote",Vt.tagName="blockquote",Gt.default=Vt},function(Ye,Gt,Tt){"use strict";function Qt(ft,_t){if(!(ft instanceof _t))throw new TypeError("Cannot call a class as a function")}function Oe(ft,_t){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_t||typeof _t!="object"&&typeof _t!="function"?ft:_t}function $t(ft,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);ft.prototype=Object.create(_t&&_t.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,_t):ft.__proto__=_t)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function ft(_t,vt){for(var Pt=0;Pt<vt.length;Pt++){var kt=vt[Pt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(_t,kt.key,kt)}}return function(_t,vt,Pt){return vt&&ft(_t.prototype,vt),Pt&&ft(_t,Pt),_t}}(),Jt=Tt(3),Vt=function(ft){return ft&&ft.__esModule?ft:{default:ft}}(Jt),bt=function(ft){function _t(){return Qt(this,_t),Oe(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return $t(_t,ft),ue(_t,null,[{key:"formats",value:function(vt){return this.tagName.indexOf(vt.tagName)+1}}]),_t}(Vt.default);bt.blotName="header",bt.tagName=["H1","H2","H3","H4","H5","H6"],Gt.default=bt},function(Ye,Gt,Tt){"use strict";function Qt(It){return It&&It.__esModule?It:{default:It}}function Oe(It,Wt,te){return Wt in It?Object.defineProperty(It,Wt,{value:te,enumerable:!0,configurable:!0,writable:!0}):It[Wt]=te,It}function $t(It,Wt){if(!(It instanceof Wt))throw new TypeError("Cannot call a class as a function")}function ue(It,Wt){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Wt||typeof Wt!="object"&&typeof Wt!="function"?It:Wt}function Jt(It,Wt){if(typeof Wt!="function"&&Wt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Wt);It.prototype=Object.create(Wt&&Wt.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),Wt&&(Object.setPrototypeOf?Object.setPrototypeOf(It,Wt):It.__proto__=Wt)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.ListItem=void 0;var Vt=function(){function It(Wt,te){for(var fe=0;fe<te.length;fe++){var Me=te[fe];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Wt,Me.key,Me)}}return function(Wt,te,fe){return te&&It(Wt.prototype,te),fe&&It(Wt,fe),Wt}}(),bt=function It(Wt,te,fe){Wt===null&&(Wt=Function.prototype);var Me=Object.getOwnPropertyDescriptor(Wt,te);if(Me===void 0){var ve=Object.getPrototypeOf(Wt);return ve===null?void 0:It(ve,te,fe)}if("value"in Me)return Me.value;var le=Me.get;if(le!==void 0)return le.call(fe)},ft=Tt(0),_t=Qt(ft),vt=Tt(3),Pt=Qt(vt),kt=Tt(23),wt=Qt(kt),ct=function(It){function Wt(){return $t(this,Wt),ue(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).apply(this,arguments))}return Jt(Wt,It),Vt(Wt,[{key:"format",value:function(te,fe){te!==ie.blotName||fe?bt(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"format",this).call(this,te,fe):this.replaceWith(_t.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():bt(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(te,fe){return this.parent.isolate(this.offset(this.parent),this.length()),te===this.parent.statics.blotName?(this.parent.replaceWith(te,fe),this):(this.parent.unwrap(),bt(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"replaceWith",this).call(this,te,fe))}}],[{key:"formats",value:function(te){return te.tagName===this.tagName?void 0:bt(Wt.__proto__||Object.getPrototypeOf(Wt),"formats",this).call(this,te)}}]),Wt}(Pt.default);ct.blotName="list-item",ct.tagName="LI";var ie=function(It){function Wt(te){$t(this,Wt);var fe=ue(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).call(this,te)),Me=function(ve){if(ve.target.parentNode===te){var le=fe.statics.formats(te),Xt=_t.default.find(ve.target);le==="checked"?Xt.format("list","unchecked"):le==="unchecked"&&Xt.format("list","checked")}};return te.addEventListener("touchstart",Me),te.addEventListener("mousedown",Me),fe}return Jt(Wt,It),Vt(Wt,null,[{key:"create",value:function(te){var fe=te==="ordered"?"OL":"UL",Me=bt(Wt.__proto__||Object.getPrototypeOf(Wt),"create",this).call(this,fe);return te!=="checked"&&te!=="unchecked"||Me.setAttribute("data-checked",te==="checked"),Me}},{key:"formats",value:function(te){return te.tagName==="OL"?"ordered":te.tagName==="UL"?te.hasAttribute("data-checked")?te.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),Vt(Wt,[{key:"format",value:function(te,fe){this.children.length>0&&this.children.tail.format(te,fe)}},{key:"formats",value:function(){return Oe({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(te,fe){if(te instanceof ct)bt(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"insertBefore",this).call(this,te,fe);else{var Me=fe==null?this.length():fe.offset(this),ve=this.split(Me);ve.parent.insertBefore(te,ve)}}},{key:"optimize",value:function(te){bt(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"optimize",this).call(this,te);var fe=this.next;fe!=null&&fe.prev===this&&fe.statics.blotName===this.statics.blotName&&fe.domNode.tagName===this.domNode.tagName&&fe.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(fe.moveChildren(this),fe.remove())}},{key:"replace",value:function(te){if(te.statics.blotName!==this.statics.blotName){var fe=_t.default.create(this.statics.defaultChild);te.moveChildren(fe),this.appendChild(fe)}bt(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"replace",this).call(this,te)}}]),Wt}(wt.default);ie.blotName="list",ie.scope=_t.default.Scope.BLOCK_BLOT,ie.tagName=["OL","UL"],ie.defaultChild="list-item",ie.allowedChildren=[ct],Gt.ListItem=ct,Gt.default=ie},function(Ye,Gt,Tt){"use strict";function Qt(bt,ft){if(!(bt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Oe(bt,ft){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?bt:ft}function $t(bt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);bt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,ft):bt.__proto__=ft)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=Tt(39),Jt=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(ue),Vt=function(bt){function ft(){return Qt(this,ft),Oe(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return $t(ft,bt),ft}(Jt.default);Vt.blotName="italic",Vt.tagName=["EM","I"],Gt.default=Vt},function(Ye,Gt,Tt){"use strict";function Qt(_t,vt){if(!(_t instanceof vt))throw new TypeError("Cannot call a class as a function")}function Oe(_t,vt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||typeof vt!="object"&&typeof vt!="function"?_t:vt}function $t(_t,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);_t.prototype=Object.create(vt&&vt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,vt):_t.__proto__=vt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function _t(vt,Pt){for(var kt=0;kt<Pt.length;kt++){var wt=Pt[kt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(vt,wt.key,wt)}}return function(vt,Pt,kt){return Pt&&_t(vt.prototype,Pt),kt&&_t(vt,kt),vt}}(),Jt=function _t(vt,Pt,kt){vt===null&&(vt=Function.prototype);var wt=Object.getOwnPropertyDescriptor(vt,Pt);if(wt===void 0){var ct=Object.getPrototypeOf(vt);return ct===null?void 0:_t(ct,Pt,kt)}if("value"in wt)return wt.value;var ie=wt.get;if(ie!==void 0)return ie.call(kt)},Vt=Tt(5),bt=function(_t){return _t&&_t.__esModule?_t:{default:_t}}(Vt),ft=function(_t){function vt(){return Qt(this,vt),Oe(this,(vt.__proto__||Object.getPrototypeOf(vt)).apply(this,arguments))}return $t(vt,_t),ue(vt,null,[{key:"create",value:function(Pt){return Pt==="super"?document.createElement("sup"):Pt==="sub"?document.createElement("sub"):Jt(vt.__proto__||Object.getPrototypeOf(vt),"create",this).call(this,Pt)}},{key:"formats",value:function(Pt){return Pt.tagName==="SUB"?"sub":Pt.tagName==="SUP"?"super":void 0}}]),vt}(bt.default);ft.blotName="script",ft.tagName=["SUB","SUP"],Gt.default=ft},function(Ye,Gt,Tt){"use strict";function Qt(bt,ft){if(!(bt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Oe(bt,ft){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?bt:ft}function $t(bt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);bt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,ft):bt.__proto__=ft)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=Tt(5),Jt=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(ue),Vt=function(bt){function ft(){return Qt(this,ft),Oe(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return $t(ft,bt),ft}(Jt.default);Vt.blotName="strike",Vt.tagName="S",Gt.default=Vt},function(Ye,Gt,Tt){"use strict";function Qt(bt,ft){if(!(bt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Oe(bt,ft){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?bt:ft}function $t(bt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);bt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,ft):bt.__proto__=ft)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=Tt(5),Jt=function(bt){return bt&&bt.__esModule?bt:{default:bt}}(ue),Vt=function(bt){function ft(){return Qt(this,ft),Oe(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return $t(ft,bt),ft}(Jt.default);Vt.blotName="underline",Vt.tagName="U",Gt.default=Vt},function(Ye,Gt,Tt){"use strict";function Qt(Pt,kt){if(!(Pt instanceof kt))throw new TypeError("Cannot call a class as a function")}function Oe(Pt,kt){if(!Pt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!kt||typeof kt!="object"&&typeof kt!="function"?Pt:kt}function $t(Pt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kt);Pt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:Pt,enumerable:!1,writable:!0,configurable:!0}}),kt&&(Object.setPrototypeOf?Object.setPrototypeOf(Pt,kt):Pt.__proto__=kt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function Pt(kt,wt){for(var ct=0;ct<wt.length;ct++){var ie=wt[ct];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(kt,ie.key,ie)}}return function(kt,wt,ct){return wt&&Pt(kt.prototype,wt),ct&&Pt(kt,ct),kt}}(),Jt=function Pt(kt,wt,ct){kt===null&&(kt=Function.prototype);var ie=Object.getOwnPropertyDescriptor(kt,wt);if(ie===void 0){var It=Object.getPrototypeOf(kt);return It===null?void 0:Pt(It,wt,ct)}if("value"in ie)return ie.value;var Wt=ie.get;if(Wt!==void 0)return Wt.call(ct)},Vt=Tt(0),bt=function(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}(Vt),ft=Tt(15),_t=["alt","height","width"],vt=function(Pt){function kt(){return Qt(this,kt),Oe(this,(kt.__proto__||Object.getPrototypeOf(kt)).apply(this,arguments))}return $t(kt,Pt),ue(kt,[{key:"format",value:function(wt,ct){_t.indexOf(wt)>-1?ct?this.domNode.setAttribute(wt,ct):this.domNode.removeAttribute(wt):Jt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"format",this).call(this,wt,ct)}}],[{key:"create",value:function(wt){var ct=Jt(kt.__proto__||Object.getPrototypeOf(kt),"create",this).call(this,wt);return typeof wt=="string"&&ct.setAttribute("src",this.sanitize(wt)),ct}},{key:"formats",value:function(wt){return _t.reduce(function(ct,ie){return wt.hasAttribute(ie)&&(ct[ie]=wt.getAttribute(ie)),ct},{})}},{key:"match",value:function(wt){return/\.(jpe?g|gif|png)$/.test(wt)||/^data:image\/.+;base64/.test(wt)}},{key:"sanitize",value:function(wt){return(0,ft.sanitize)(wt,["http","https","data"])?wt:"//:0"}},{key:"value",value:function(wt){return wt.getAttribute("src")}}]),kt}(bt.default.Embed);vt.blotName="image",vt.tagName="IMG",Gt.default=vt},function(Ye,Gt,Tt){"use strict";function Qt(Pt,kt){if(!(Pt instanceof kt))throw new TypeError("Cannot call a class as a function")}function Oe(Pt,kt){if(!Pt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!kt||typeof kt!="object"&&typeof kt!="function"?Pt:kt}function $t(Pt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kt);Pt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:Pt,enumerable:!1,writable:!0,configurable:!0}}),kt&&(Object.setPrototypeOf?Object.setPrototypeOf(Pt,kt):Pt.__proto__=kt)}Object.defineProperty(Gt,"__esModule",{value:!0});var ue=function(){function Pt(kt,wt){for(var ct=0;ct<wt.length;ct++){var ie=wt[ct];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(kt,ie.key,ie)}}return function(kt,wt,ct){return wt&&Pt(kt.prototype,wt),ct&&Pt(kt,ct),kt}}(),Jt=function Pt(kt,wt,ct){kt===null&&(kt=Function.prototype);var ie=Object.getOwnPropertyDescriptor(kt,wt);if(ie===void 0){var It=Object.getPrototypeOf(kt);return It===null?void 0:Pt(It,wt,ct)}if("value"in ie)return ie.value;var Wt=ie.get;if(Wt!==void 0)return Wt.call(ct)},Vt=Tt(3),bt=Tt(15),ft=function(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}(bt),_t=["height","width"],vt=function(Pt){function kt(){return Qt(this,kt),Oe(this,(kt.__proto__||Object.getPrototypeOf(kt)).apply(this,arguments))}return $t(kt,Pt),ue(kt,[{key:"format",value:function(wt,ct){_t.indexOf(wt)>-1?ct?this.domNode.setAttribute(wt,ct):this.domNode.removeAttribute(wt):Jt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"format",this).call(this,wt,ct)}}],[{key:"create",value:function(wt){var ct=Jt(kt.__proto__||Object.getPrototypeOf(kt),"create",this).call(this,wt);return ct.setAttribute("frameborder","0"),ct.setAttribute("allowfullscreen",!0),ct.setAttribute("src",this.sanitize(wt)),ct}},{key:"formats",value:function(wt){return _t.reduce(function(ct,ie){return wt.hasAttribute(ie)&&(ct[ie]=wt.getAttribute(ie)),ct},{})}},{key:"sanitize",value:function(wt){return ft.default.sanitize(wt)}},{key:"value",value:function(wt){return wt.getAttribute("src")}}]),kt}(Vt.BlockEmbed);vt.blotName="video",vt.className="ql-video",vt.tagName="IFRAME",Gt.default=vt},function(Ye,Gt,Tt){"use strict";function Qt(ie){return ie&&ie.__esModule?ie:{default:ie}}function Oe(ie,It){if(!(ie instanceof It))throw new TypeError("Cannot call a class as a function")}function $t(ie,It){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!It||typeof It!="object"&&typeof It!="function"?ie:It}function ue(ie,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);ie.prototype=Object.create(It&&It.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,It):ie.__proto__=It)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.FormulaBlot=void 0;var Jt=function(){function ie(It,Wt){for(var te=0;te<Wt.length;te++){var fe=Wt[te];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(It,fe.key,fe)}}return function(It,Wt,te){return Wt&&ie(It.prototype,Wt),te&&ie(It,te),It}}(),Vt=function ie(It,Wt,te){It===null&&(It=Function.prototype);var fe=Object.getOwnPropertyDescriptor(It,Wt);if(fe===void 0){var Me=Object.getPrototypeOf(It);return Me===null?void 0:ie(Me,Wt,te)}if("value"in fe)return fe.value;var ve=fe.get;if(ve!==void 0)return ve.call(te)},bt=Tt(33),ft=Qt(bt),_t=Tt(6),vt=Qt(_t),Pt=Tt(7),kt=Qt(Pt),wt=function(ie){function It(){return Oe(this,It),$t(this,(It.__proto__||Object.getPrototypeOf(It)).apply(this,arguments))}return ue(It,ie),Jt(It,null,[{key:"create",value:function(Wt){var te=Vt(It.__proto__||Object.getPrototypeOf(It),"create",this).call(this,Wt);return typeof Wt=="string"&&(window.katex.render(Wt,te,{throwOnError:!1,errorColor:"#f00"}),te.setAttribute("data-value",Wt)),te}},{key:"value",value:function(Wt){return Wt.getAttribute("data-value")}}]),It}(ft.default);wt.blotName="formula",wt.className="ql-formula",wt.tagName="SPAN";var ct=function(ie){function It(){Oe(this,It);var Wt=$t(this,(It.__proto__||Object.getPrototypeOf(It)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return Wt}return ue(It,ie),Jt(It,null,[{key:"register",value:function(){vt.default.register(wt,!0)}}]),It}(kt.default);Gt.FormulaBlot=wt,Gt.default=ct},function(Ye,Gt,Tt){"use strict";function Qt(te){return te&&te.__esModule?te:{default:te}}function Oe(te,fe){if(!(te instanceof fe))throw new TypeError("Cannot call a class as a function")}function $t(te,fe){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!fe||typeof fe!="object"&&typeof fe!="function"?te:fe}function ue(te,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);te.prototype=Object.create(fe&&fe.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(te,fe):te.__proto__=fe)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.CodeToken=Gt.CodeBlock=void 0;var Jt=function(){function te(fe,Me){for(var ve=0;ve<Me.length;ve++){var le=Me[ve];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(fe,le.key,le)}}return function(fe,Me,ve){return Me&&te(fe.prototype,Me),ve&&te(fe,ve),fe}}(),Vt=function te(fe,Me,ve){fe===null&&(fe=Function.prototype);var le=Object.getOwnPropertyDescriptor(fe,Me);if(le===void 0){var Xt=Object.getPrototypeOf(fe);return Xt===null?void 0:te(Xt,Me,ve)}if("value"in le)return le.value;var Kt=le.get;if(Kt!==void 0)return Kt.call(ve)},bt=Tt(0),ft=Qt(bt),_t=Tt(6),vt=Qt(_t),Pt=Tt(7),kt=Qt(Pt),wt=Tt(13),ct=Qt(wt),ie=function(te){function fe(){return Oe(this,fe),$t(this,(fe.__proto__||Object.getPrototypeOf(fe)).apply(this,arguments))}return ue(fe,te),Jt(fe,[{key:"replaceWith",value:function(Me){this.domNode.textContent=this.domNode.textContent,this.attach(),Vt(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"replaceWith",this).call(this,Me)}},{key:"highlight",value:function(Me){var ve=this.domNode.textContent;this.cachedText!==ve&&((ve.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=Me(ve),this.domNode.normalize(),this.attach()),this.cachedText=ve)}}]),fe}(ct.default);ie.className="ql-syntax";var It=new ft.default.Attributor.Class("token","hljs",{scope:ft.default.Scope.INLINE}),Wt=function(te){function fe(Me,ve){Oe(this,fe);var le=$t(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,Me,ve));if(typeof le.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var Xt=null;return le.quill.on(vt.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(Xt),Xt=setTimeout(function(){le.highlight(),Xt=null},le.options.interval)}),le.highlight(),le}return ue(fe,te),Jt(fe,null,[{key:"register",value:function(){vt.default.register(It,!0),vt.default.register(ie,!0)}}]),Jt(fe,[{key:"highlight",value:function(){var Me=this;if(!this.quill.selection.composing){this.quill.update(vt.default.sources.USER);var ve=this.quill.getSelection();this.quill.scroll.descendants(ie).forEach(function(le){le.highlight(Me.options.highlight)}),this.quill.update(vt.default.sources.SILENT),ve!=null&&this.quill.setSelection(ve,vt.default.sources.SILENT)}}}]),fe}(kt.default);Wt.DEFAULTS={highlight:function(){return window.hljs==null?null:function(te){return window.hljs.highlightAuto(te).value}}(),interval:1e3},Gt.CodeBlock=ie,Gt.CodeToken=It,Gt.default=Wt},function(Ye,Gt,Tt){"use strict";function Qt(Xt){return Xt&&Xt.__esModule?Xt:{default:Xt}}function Oe(Xt,Kt,ne){return Kt in Xt?Object.defineProperty(Xt,Kt,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Xt[Kt]=ne,Xt}function $t(Xt,Kt){if(!(Xt instanceof Kt))throw new TypeError("Cannot call a class as a function")}function ue(Xt,Kt){if(!Xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Kt||typeof Kt!="object"&&typeof Kt!="function"?Xt:Kt}function Jt(Xt,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Kt);Xt.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:Xt,enumerable:!1,writable:!0,configurable:!0}}),Kt&&(Object.setPrototypeOf?Object.setPrototypeOf(Xt,Kt):Xt.__proto__=Kt)}function Vt(Xt,Kt,ne){var De=document.createElement("button");De.setAttribute("type","button"),De.classList.add("ql-"+Kt),ne!=null&&(De.value=ne),Xt.appendChild(De)}function bt(Xt,Kt){Array.isArray(Kt[0])||(Kt=[Kt]),Kt.forEach(function(ne){var De=document.createElement("span");De.classList.add("ql-formats"),ne.forEach(function(me){if(typeof me=="string")Vt(De,me);else{var Ne=Object.keys(me)[0],Fn=me[Ne];Array.isArray(Fn)?ft(De,Ne,Fn):Vt(De,Ne,Fn)}}),Xt.appendChild(De)})}function ft(Xt,Kt,ne){var De=document.createElement("select");De.classList.add("ql-"+Kt),ne.forEach(function(me){var Ne=document.createElement("option");me!==!1?Ne.setAttribute("value",me):Ne.setAttribute("selected","selected"),De.appendChild(Ne)}),Xt.appendChild(De)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.addControls=Gt.default=void 0;var _t=function(){function Xt(Kt,ne){var De=[],me=!0,Ne=!1,Fn=void 0;try{for(var dn,gn=Kt[Symbol.iterator]();!(me=(dn=gn.next()).done)&&(De.push(dn.value),!ne||De.length!==ne);me=!0);}catch(jt){Ne=!0,Fn=jt}finally{try{!me&&gn.return&&gn.return()}finally{if(Ne)throw Fn}}return De}return function(Kt,ne){if(Array.isArray(Kt))return Kt;if(Symbol.iterator in Object(Kt))return Xt(Kt,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vt=function(){function Xt(Kt,ne){for(var De=0;De<ne.length;De++){var me=ne[De];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(Kt,me.key,me)}}return function(Kt,ne,De){return ne&&Xt(Kt.prototype,ne),De&&Xt(Kt,De),Kt}}(),Pt=Tt(4),kt=Qt(Pt),wt=Tt(0),ct=Qt(wt),ie=Tt(6),It=Qt(ie),Wt=Tt(10),te=Qt(Wt),fe=Tt(7),Me=Qt(fe),ve=(0,te.default)("quill:toolbar"),le=function(Xt){function Kt(ne,De){$t(this,Kt);var me=ue(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this,ne,De));if(Array.isArray(me.options.container)){var Ne=document.createElement("div");bt(Ne,me.options.container),ne.container.parentNode.insertBefore(Ne,ne.container),me.container=Ne}else typeof me.options.container=="string"?me.container=document.querySelector(me.options.container):me.container=me.options.container;if(!(me.container instanceof HTMLElement)){var Fn;return Fn=ve.error("Container required for toolbar",me.options),ue(me,Fn)}return me.container.classList.add("ql-toolbar"),me.controls=[],me.handlers={},Object.keys(me.options.handlers).forEach(function(dn){me.addHandler(dn,me.options.handlers[dn])}),[].forEach.call(me.container.querySelectorAll("button, select"),function(dn){me.attach(dn)}),me.quill.on(It.default.events.EDITOR_CHANGE,function(dn,gn){dn===It.default.events.SELECTION_CHANGE&&me.update(gn)}),me.quill.on(It.default.events.SCROLL_OPTIMIZE,function(){var dn=me.quill.selection.getRange(),gn=_t(dn,1),jt=gn[0];me.update(jt)}),me}return Jt(Kt,Xt),vt(Kt,[{key:"addHandler",value:function(ne,De){this.handlers[ne]=De}},{key:"attach",value:function(ne){var De=this,me=[].find.call(ne.classList,function(Fn){return Fn.indexOf("ql-")===0});if(me){if(me=me.slice(3),ne.tagName==="BUTTON"&&ne.setAttribute("type","button"),this.handlers[me]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[me]==null)return void ve.warn("ignoring attaching to disabled format",me,ne);if(ct.default.query(me)==null)return void ve.warn("ignoring attaching to nonexistent format",me,ne)}var Ne=ne.tagName==="SELECT"?"change":"click";ne.addEventListener(Ne,function(Fn){var dn=void 0;if(ne.tagName==="SELECT"){if(ne.selectedIndex<0)return;var gn=ne.options[ne.selectedIndex];dn=!gn.hasAttribute("selected")&&(gn.value||!1)}else dn=!ne.classList.contains("ql-active")&&(ne.value||!ne.hasAttribute("value")),Fn.preventDefault();De.quill.focus();var jt=De.quill.selection.getRange(),Fe=_t(jt,1),ht=Fe[0];if(De.handlers[me]!=null)De.handlers[me].call(De,dn);else if(ct.default.query(me).prototype instanceof ct.default.Embed){if(!(dn=prompt("Enter "+me)))return;De.quill.updateContents(new kt.default().retain(ht.index).delete(ht.length).insert(Oe({},me,dn)),It.default.sources.USER)}else De.quill.format(me,dn,It.default.sources.USER);De.update(ht)}),this.controls.push([me,ne])}}},{key:"update",value:function(ne){var De=ne==null?{}:this.quill.getFormat(ne);this.controls.forEach(function(me){var Ne=_t(me,2),Fn=Ne[0],dn=Ne[1];if(dn.tagName==="SELECT"){var gn=void 0;if(ne==null)gn=null;else if(De[Fn]==null)gn=dn.querySelector("option[selected]");else if(!Array.isArray(De[Fn])){var jt=De[Fn];typeof jt=="string"&&(jt=jt.replace(/\"/g,'\\"')),gn=dn.querySelector('option[value="'+jt+'"]')}gn==null?(dn.value="",dn.selectedIndex=-1):gn.selected=!0}else if(ne==null)dn.classList.remove("ql-active");else if(dn.hasAttribute("value")){var Fe=De[Fn]===dn.getAttribute("value")||De[Fn]!=null&&De[Fn].toString()===dn.getAttribute("value")||De[Fn]==null&&!dn.getAttribute("value");dn.classList.toggle("ql-active",Fe)}else dn.classList.toggle("ql-active",De[Fn]!=null)})}}]),Kt}(Me.default);le.DEFAULTS={},le.DEFAULTS={container:null,handlers:{clean:function(){var Xt=this,Kt=this.quill.getSelection();if(Kt!=null)if(Kt.length==0){var ne=this.quill.getFormat();Object.keys(ne).forEach(function(De){ct.default.query(De,ct.default.Scope.INLINE)!=null&&Xt.quill.format(De,!1)})}else this.quill.removeFormat(Kt,It.default.sources.USER)},direction:function(Xt){var Kt=this.quill.getFormat().align;Xt==="rtl"&&Kt==null?this.quill.format("align","right",It.default.sources.USER):Xt||Kt!=="right"||this.quill.format("align",!1,It.default.sources.USER),this.quill.format("direction",Xt,It.default.sources.USER)},indent:function(Xt){var Kt=this.quill.getSelection(),ne=this.quill.getFormat(Kt),De=parseInt(ne.indent||0);if(Xt==="+1"||Xt==="-1"){var me=Xt==="+1"?1:-1;ne.direction==="rtl"&&(me*=-1),this.quill.format("indent",De+me,It.default.sources.USER)}},link:function(Xt){Xt===!0&&(Xt=prompt("Enter link URL:")),this.quill.format("link",Xt,It.default.sources.USER)},list:function(Xt){var Kt=this.quill.getSelection(),ne=this.quill.getFormat(Kt);Xt==="check"?ne.list==="checked"||ne.list==="unchecked"?this.quill.format("list",!1,It.default.sources.USER):this.quill.format("list","unchecked",It.default.sources.USER):this.quill.format("list",Xt,It.default.sources.USER)}}},Gt.default=le,Gt.addControls=bt},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(Ye,Gt){Ye.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(Ye,Gt){Ye.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(Ye,Gt){Ye.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(Ye,Gt){Ye.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(Ye,Gt,Tt){"use strict";function Qt(fe){return fe&&fe.__esModule?fe:{default:fe}}function Oe(fe,Me){if(!(fe instanceof Me))throw new TypeError("Cannot call a class as a function")}function $t(fe,Me){if(!fe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Me||typeof Me!="object"&&typeof Me!="function"?fe:Me}function ue(fe,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Me);fe.prototype=Object.create(Me&&Me.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),Me&&(Object.setPrototypeOf?Object.setPrototypeOf(fe,Me):fe.__proto__=Me)}Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.BubbleTooltip=void 0;var Jt=function fe(Me,ve,le){Me===null&&(Me=Function.prototype);var Xt=Object.getOwnPropertyDescriptor(Me,ve);if(Xt===void 0){var Kt=Object.getPrototypeOf(Me);return Kt===null?void 0:fe(Kt,ve,le)}if("value"in Xt)return Xt.value;var ne=Xt.get;if(ne!==void 0)return ne.call(le)},Vt=function(){function fe(Me,ve){for(var le=0;le<ve.length;le++){var Xt=ve[le];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(Me,Xt.key,Xt)}}return function(Me,ve,le){return ve&&fe(Me.prototype,ve),le&&fe(Me,le),Me}}(),bt=Tt(2),ft=Qt(bt),_t=Tt(9),vt=Qt(_t),Pt=Tt(44),kt=Qt(Pt),wt=Tt(22),ct=Tt(26),ie=Qt(ct),It=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],Wt=function(fe){function Me(ve,le){Oe(this,Me),le.modules.toolbar!=null&&le.modules.toolbar.container==null&&(le.modules.toolbar.container=It);var Xt=$t(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,ve,le));return Xt.quill.container.classList.add("ql-bubble"),Xt}return ue(Me,fe),Vt(Me,[{key:"extendToolbar",value:function(ve){this.tooltip=new te(this.quill,this.options.bounds),this.tooltip.root.appendChild(ve.container),this.buildButtons([].slice.call(ve.container.querySelectorAll("button")),ie.default),this.buildPickers([].slice.call(ve.container.querySelectorAll("select")),ie.default)}}]),Me}(kt.default);Wt.DEFAULTS=(0,ft.default)(!0,{},kt.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(fe){fe?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var te=function(fe){function Me(ve,le){Oe(this,Me);var Xt=$t(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,ve,le));return Xt.quill.on(vt.default.events.EDITOR_CHANGE,function(Kt,ne,De,me){if(Kt===vt.default.events.SELECTION_CHANGE)if(ne!=null&&ne.length>0&&me===vt.default.sources.USER){Xt.show(),Xt.root.style.left="0px",Xt.root.style.width="",Xt.root.style.width=Xt.root.offsetWidth+"px";var Ne=Xt.quill.getLines(ne.index,ne.length);if(Ne.length===1)Xt.position(Xt.quill.getBounds(ne));else{var Fn=Ne[Ne.length-1],dn=Xt.quill.getIndex(Fn),gn=Math.min(Fn.length()-1,ne.index+ne.length-dn),jt=Xt.quill.getBounds(new wt.Range(dn,gn));Xt.position(jt)}}else document.activeElement!==Xt.textbox&&Xt.quill.hasFocus()&&Xt.hide()}),Xt}return ue(Me,fe),Vt(Me,[{key:"listen",value:function(){var ve=this;Jt(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){ve.root.classList.remove("ql-editing")}),this.quill.on(vt.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!ve.root.classList.contains("ql-hidden")){var le=ve.quill.getSelection();le!=null&&ve.position(ve.quill.getBounds(le))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(ve){var le=Jt(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"position",this).call(this,ve),Xt=this.root.querySelector(".ql-tooltip-arrow");if(Xt.style.marginLeft="",le===0)return le;Xt.style.marginLeft=-1*le-Xt.offsetWidth/2+"px"}}]),Me}(Pt.BaseTooltip);te.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),Gt.BubbleTooltip=te,Gt.default=Wt},function(Ye,Gt,Tt){"use strict";function Qt(le){return le&&le.__esModule?le:{default:le}}function Oe(le,Xt){if(!(le instanceof Xt))throw new TypeError("Cannot call a class as a function")}function $t(le,Xt){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Xt||typeof Xt!="object"&&typeof Xt!="function"?le:Xt}function ue(le,Xt){if(typeof Xt!="function"&&Xt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Xt);le.prototype=Object.create(Xt&&Xt.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),Xt&&(Object.setPrototypeOf?Object.setPrototypeOf(le,Xt):le.__proto__=Xt)}Object.defineProperty(Gt,"__esModule",{value:!0});var Jt=function(){function le(Xt,Kt){var ne=[],De=!0,me=!1,Ne=void 0;try{for(var Fn,dn=Xt[Symbol.iterator]();!(De=(Fn=dn.next()).done)&&(ne.push(Fn.value),!Kt||ne.length!==Kt);De=!0);}catch(gn){me=!0,Ne=gn}finally{try{!De&&dn.return&&dn.return()}finally{if(me)throw Ne}}return ne}return function(Xt,Kt){if(Array.isArray(Xt))return Xt;if(Symbol.iterator in Object(Xt))return le(Xt,Kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=function le(Xt,Kt,ne){Xt===null&&(Xt=Function.prototype);var De=Object.getOwnPropertyDescriptor(Xt,Kt);if(De===void 0){var me=Object.getPrototypeOf(Xt);return me===null?void 0:le(me,Kt,ne)}if("value"in De)return De.value;var Ne=De.get;if(Ne!==void 0)return Ne.call(ne)},bt=function(){function le(Xt,Kt){for(var ne=0;ne<Kt.length;ne++){var De=Kt[ne];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Xt,De.key,De)}}return function(Xt,Kt,ne){return Kt&&le(Xt.prototype,Kt),ne&&le(Xt,ne),Xt}}(),ft=Tt(2),_t=Qt(ft),vt=Tt(9),Pt=Qt(vt),kt=Tt(44),wt=Qt(kt),ct=Tt(15),ie=Qt(ct),It=Tt(22),Wt=Tt(26),te=Qt(Wt),fe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Me=function(le){function Xt(Kt,ne){Oe(this,Xt),ne.modules.toolbar!=null&&ne.modules.toolbar.container==null&&(ne.modules.toolbar.container=fe);var De=$t(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this,Kt,ne));return De.quill.container.classList.add("ql-snow"),De}return ue(Xt,le),bt(Xt,[{key:"extendToolbar",value:function(Kt){Kt.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Kt.container.querySelectorAll("button")),te.default),this.buildPickers([].slice.call(Kt.container.querySelectorAll("select")),te.default),this.tooltip=new ve(this.quill,this.options.bounds),Kt.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(ne,De){Kt.handlers.link.call(Kt,!De.format.link)})}}]),Xt}(wt.default);Me.DEFAULTS=(0,_t.default)(!0,{},wt.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(le){if(le){var Xt=this.quill.getSelection();if(Xt==null||Xt.length==0)return;var Kt=this.quill.getText(Xt);/^\S+@\S+\.\S+$/.test(Kt)&&Kt.indexOf("mailto:")!==0&&(Kt="mailto:"+Kt),this.quill.theme.tooltip.edit("link",Kt)}else this.quill.format("link",!1)}}}}});var ve=function(le){function Xt(Kt,ne){Oe(this,Xt);var De=$t(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this,Kt,ne));return De.preview=De.root.querySelector("a.ql-preview"),De}return ue(Xt,le),bt(Xt,[{key:"listen",value:function(){var Kt=this;Vt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(ne){Kt.root.classList.contains("ql-editing")?Kt.save():Kt.edit("link",Kt.preview.textContent),ne.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(ne){if(Kt.linkRange!=null){var De=Kt.linkRange;Kt.restoreFocus(),Kt.quill.formatText(De,"link",!1,Pt.default.sources.USER),delete Kt.linkRange}ne.preventDefault(),Kt.hide()}),this.quill.on(Pt.default.events.SELECTION_CHANGE,function(ne,De,me){if(ne!=null){if(ne.length===0&&me===Pt.default.sources.USER){var Ne=Kt.quill.scroll.descendant(ie.default,ne.index),Fn=Jt(Ne,2),dn=Fn[0],gn=Fn[1];if(dn!=null){Kt.linkRange=new It.Range(ne.index-gn,dn.length());var jt=ie.default.formats(dn.domNode);return Kt.preview.textContent=jt,Kt.preview.setAttribute("href",jt),Kt.show(),void Kt.position(Kt.quill.getBounds(Kt.linkRange))}}else delete Kt.linkRange;Kt.hide()}})}},{key:"show",value:function(){Vt(Xt.prototype.__proto__||Object.getPrototypeOf(Xt.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),Xt}(kt.BaseTooltip);ve.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),Gt.default=Me}]).default}),function(Ye){if(typeof exports=="object"&&typeof module<"u")module.exports=Ye();else if(typeof define=="function"&&define.amd)define([],Ye);else{var Gt;typeof window<"u"?Gt=window:typeof global<"u"?Gt=global:typeof self<"u"?Gt=self:Gt=this,Gt.simpleDatatables=Ye()}}(function(){var Ye,Gt,Tt;return function(){function Qt(Oe,$t,ue){function Jt(ft,_t){if(!$t[ft]){if(!Oe[ft]){var vt=typeof require=="function"&&require;if(!_t&&vt)return vt(ft,!0);if(Vt)return Vt(ft,!0);var Pt=new Error("Cannot find module '"+ft+"'");throw Pt.code="MODULE_NOT_FOUND",Pt}var kt=$t[ft]={exports:{}};Oe[ft][0].call(kt.exports,function(wt){var ct=Oe[ft][1][wt];return Jt(ct||wt)},kt,kt.exports,Qt,Oe,$t,ue)}return $t[ft].exports}for(var Vt=typeof require=="function"&&require,bt=0;bt<ue.length;bt++)Jt(ue[bt]);return Jt}return Qt}()({1:[function(Qt,Oe,$t){(function(ue){(function(){"use strict";const Jt=Yt=>Object.prototype.toString.call(Yt)==="[object Object]",Vt=Yt=>{let At=!1;try{At=JSON.parse(Yt)}catch{return!1}return!(At===null||!Array.isArray(At)&&!Jt(At))&&At},bt=(Yt,At)=>{const Dt=document.createElement(Yt);if(At&&typeof At=="object")for(const re in At)re==="html"?Dt.innerHTML=At[re]:Dt.setAttribute(re,At[re]);return Dt},ft=Yt=>["#text","#comment"].includes(Yt.nodeName)?Yt.data:Yt.childNodes?Yt.childNodes.map(At=>ft(At)).join(""):"",_t=function(Yt){return Yt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},vt=function(Yt,At){let Dt=0,re=0;for(;Dt<Yt+1;)At[re].hidden||(Dt+=1),re+=1;return re-1},Pt=function(Yt,At){let Dt=Yt,re=0;for(;re<Yt;)At[Yt].hidden&&(Dt-=1),re++;return Dt};function kt(Yt,At,Dt){var re;return Yt.nodeName==="#text"?re=Dt.document.createTextNode(Yt.data):Yt.nodeName==="#comment"?re=Dt.document.createComment(Yt.data):(At?re=Dt.document.createElementNS("http://www.w3.org/2000/svg",Yt.nodeName):Yt.nodeName.toLowerCase()==="svg"?(re=Dt.document.createElementNS("http://www.w3.org/2000/svg","svg"),At=!0):re=Dt.document.createElement(Yt.nodeName),Yt.attributes&&Object.entries(Yt.attributes).forEach(function(Pe){var He=Pe[0],ye=Pe[1];return re.setAttribute(He,ye)}),Yt.childNodes&&Yt.childNodes.forEach(function(Pe){return re.appendChild(kt(Pe,At,Dt))}),Dt.valueDiffing&&(Yt.value&&(re instanceof HTMLButtonElement||re instanceof HTMLDataElement||re instanceof HTMLInputElement||re instanceof HTMLLIElement||re instanceof HTMLMeterElement||re instanceof HTMLOptionElement||re instanceof HTMLProgressElement||re instanceof HTMLParamElement)&&(re.value=Yt.value),Yt.checked&&re instanceof HTMLInputElement&&(re.checked=Yt.checked),Yt.selected&&re instanceof HTMLOptionElement&&(re.selected=Yt.selected))),re}var wt=function(Yt,At){for(At=At.slice();At.length>0;){var Dt=At.splice(0,1)[0];Yt=Yt.childNodes[Dt]}return Yt};function ct(Yt,At,Dt){var re,Pe,He,ye=At[Dt._const.action],Le=At[Dt._const.route];[Dt._const.addElement,Dt._const.addTextElement].includes(ye)||(re=wt(Yt,Le));var Ve={diff:At,node:re};if(Dt.preDiffApply(Ve))return!0;switch(ye){case Dt._const.addAttribute:if(!(re&&re instanceof Element))return!1;re.setAttribute(At[Dt._const.name],At[Dt._const.value]);break;case Dt._const.modifyAttribute:if(!(re&&re instanceof Element))return!1;re.setAttribute(At[Dt._const.name],At[Dt._const.newValue]),re instanceof HTMLInputElement&&At[Dt._const.name]==="value"&&(re.value=At[Dt._const.newValue]);break;case Dt._const.removeAttribute:if(!(re&&re instanceof Element))return!1;re.removeAttribute(At[Dt._const.name]);break;case Dt._const.modifyTextElement:if(!(re&&re instanceof Text))return!1;Dt.textDiff(re,re.data,At[Dt._const.oldValue],At[Dt._const.newValue]);break;case Dt._const.modifyValue:if(!re||re.value===void 0)return!1;re.value=At[Dt._const.newValue];break;case Dt._const.modifyComment:if(!(re&&re instanceof Comment))return!1;Dt.textDiff(re,re.data,At[Dt._const.oldValue],At[Dt._const.newValue]);break;case Dt._const.modifyChecked:if(!re||re.checked===void 0)return!1;re.checked=At[Dt._const.newValue];break;case Dt._const.modifySelected:if(!re||re.selected===void 0)return!1;re.selected=At[Dt._const.newValue];break;case Dt._const.replaceElement:re.parentNode.replaceChild(kt(At[Dt._const.newValue],At[Dt._const.newValue].nodeName.toLowerCase()==="svg",Dt),re);break;case Dt._const.relocateGroup:Array.apply(void 0,new Array(At[Dt._const.groupLength])).map(function(){return re.removeChild(re.childNodes[At[Dt._const.from]])}).forEach(function(Ii,bi){bi===0&&(He=re.childNodes[At[Dt._const.to]]),re.insertBefore(Ii,He||null)});break;case Dt._const.removeElement:re.parentNode.removeChild(re);break;case Dt._const.addElement:var ze=(Zn=Le.slice()).splice(Zn.length-1,1)[0];if(!((re=wt(Yt,Zn))instanceof Element))return!1;re.insertBefore(kt(At[Dt._const.element],re.namespaceURI==="http://www.w3.org/2000/svg",Dt),re.childNodes[ze]||null);break;case Dt._const.removeTextElement:if(!re||re.nodeType!==3)return!1;re.parentNode.removeChild(re);break;case Dt._const.addTextElement:var Zn;if(ze=(Zn=Le.slice()).splice(Zn.length-1,1)[0],Pe=Dt.document.createTextNode(At[Dt._const.value]),!(re=wt(Yt,Zn)).childNodes)return!1;re.insertBefore(Pe,re.childNodes[ze]||null);break;default:console.log("unknown action")}return Dt.postDiffApply({diff:Ve.diff,node:Ve.node,newNode:Pe}),!0}function ie(Yt,At,Dt){var re=Yt[At];Yt[At]=Yt[Dt],Yt[Dt]=re}var It=function(Yt){var At=[];return At.push(Yt.nodeName),Yt.nodeName!=="#text"&&Yt.nodeName!=="#comment"&&Yt.attributes&&(Yt.attributes.class&&At.push("".concat(Yt.nodeName,".").concat(Yt.attributes.class.replace(/ /g,"."))),Yt.attributes.id&&At.push("".concat(Yt.nodeName,"#").concat(Yt.attributes.id))),At},Wt=function(Yt){var At={},Dt={};return Yt.forEach(function(re){It(re).forEach(function(Pe){var He=Pe in At;He||Pe in Dt?He&&(delete At[Pe],Dt[Pe]=!0):At[Pe]=!0})}),At},te=function(Yt,At){var Dt=Wt(Yt),re=Wt(At),Pe={};return Object.keys(Dt).forEach(function(He){re[He]&&(Pe[He]=!0)}),Pe},fe=function(Yt){return delete Yt.outerDone,delete Yt.innerDone,delete Yt.valueDone,!Yt.childNodes||Yt.childNodes.every(fe)},Me=function(Yt){if(Object.prototype.hasOwnProperty.call(Yt,"data"))return{nodeName:Yt.nodeName==="#text"?"#text":"#comment",data:Yt.data};var At={nodeName:Yt.nodeName};return Object.prototype.hasOwnProperty.call(Yt,"attributes")&&(At.attributes=Yt.attributes),Object.prototype.hasOwnProperty.call(Yt,"checked")&&(At.checked=Yt.checked),Object.prototype.hasOwnProperty.call(Yt,"value")&&(At.value=Yt.value),Object.prototype.hasOwnProperty.call(Yt,"selected")&&(At.selected=Yt.selected),Object.prototype.hasOwnProperty.call(Yt,"childNodes")&&(At.childNodes=Yt.childNodes.map(function(Dt){return Me(Dt)})),At},ve=function(Yt,At){if(!["nodeName","value","checked","selected","data"].every(function(Pe){return Yt[Pe]===At[Pe]}))return!1;if(Object.prototype.hasOwnProperty.call(Yt,"data"))return!0;if(!!Yt.attributes!=!!At.attributes||!!Yt.childNodes!=!!At.childNodes)return!1;if(Yt.attributes){var Dt=Object.keys(Yt.attributes),re=Object.keys(At.attributes);if(Dt.length!==re.length||!Dt.every(function(Pe){return Yt.attributes[Pe]===At.attributes[Pe]}))return!1}return!(Yt.childNodes&&(Yt.childNodes.length!==At.childNodes.length||!Yt.childNodes.every(function(Pe,He){return ve(Pe,At.childNodes[He])})))},le=function(Yt,At,Dt,re,Pe){if(Pe===void 0&&(Pe=!1),!Yt||!At||Yt.nodeName!==At.nodeName)return!1;if(["#text","#comment"].includes(Yt.nodeName))return!!Pe||Yt.data===At.data;if(Yt.nodeName in Dt)return!0;if(Yt.attributes&&At.attributes){if(Yt.attributes.id){if(Yt.attributes.id!==At.attributes.id)return!1;if("".concat(Yt.nodeName,"#").concat(Yt.attributes.id)in Dt)return!0}if(Yt.attributes.class&&Yt.attributes.class===At.attributes.class&&"".concat(Yt.nodeName,".").concat(Yt.attributes.class.replace(/ /g,"."))in Dt)return!0}if(re)return!0;var He=Yt.childNodes?Yt.childNodes.slice().reverse():[],ye=At.childNodes?At.childNodes.slice().reverse():[];if(He.length!==ye.length)return!1;if(Pe)return He.every(function(Ve,ze){return Ve.nodeName===ye[ze].nodeName});var Le=te(He,ye);return He.every(function(Ve,ze){return le(Ve,ye[ze],Le,!0,!0)})},Xt=function(Yt,At){return Array.apply(void 0,new Array(Yt)).map(function(){return At})},Kt=function(Yt,At){for(var Dt=Yt.childNodes?Yt.childNodes:[],re=At.childNodes?At.childNodes:[],Pe=Xt(Dt.length,!1),He=Xt(re.length,!1),ye=[],Le=function(){return arguments[1]},Ve=!1,ze=function(){var Zn=function(Ii,bi,ln,Vn){var ti=0,Hn=[],wi=Ii.length,Dn=bi.length,Hi=Array.apply(void 0,new Array(wi+1)).map(function(){return[]}),Er=te(Ii,bi),Or=wi===Dn;Or&&Ii.some(function(Tr,Yi){var gi=It(Tr),ii=It(bi[Yi]);return gi.length!==ii.length?(Or=!1,!0):(gi.some(function(Qi,hi){if(Qi!==ii[hi])return Or=!1,!0}),!Or||void 0)});for(var Cr=0;Cr<wi;Cr++)for(var Ji=Ii[Cr],Fi=0;Fi<Dn;Fi++){var jr=bi[Fi];ln[Cr]||Vn[Fi]||!le(Ji,jr,Er,Or)?Hi[Cr+1][Fi+1]=0:(Hi[Cr+1][Fi+1]=Hi[Cr][Fi]?Hi[Cr][Fi]+1:1,Hi[Cr+1][Fi+1]>=ti&&(ti=Hi[Cr+1][Fi+1],Hn=[Cr+1,Fi+1]))}return ti!==0&&{oldValue:Hn[0]-ti,newValue:Hn[1]-ti,length:ti}}(Dt,re,Pe,He);Zn?(ye.push(Zn),Array.apply(void 0,new Array(Zn.length)).map(Le).forEach(function(Ii){return function(bi,ln,Vn,ti){bi[Vn.oldValue+ti]=!0,ln[Vn.newValue+ti]=!0}(Pe,He,Zn,Ii)})):Ve=!0};!Ve;)ze();return Yt.subsets=ye,Yt.subsetsAge=100,ye},ne=function(){function Yt(){this.list=[]}return Yt.prototype.add=function(At){var Dt;(Dt=this.list).push.apply(Dt,At)},Yt.prototype.forEach=function(At){this.list.forEach(function(Dt){return At(Dt)})},Yt}(),De=function(){function Yt(At){At===void 0&&(At={});var Dt=this;Object.entries(At).forEach(function(re){var Pe=re[0],He=re[1];return Dt[Pe]=He})}return Yt.prototype.toString=function(){return JSON.stringify(this)},Yt.prototype.setValue=function(At,Dt){return this[At]=Dt,this},Yt}();function me(Yt,At){var Dt,re,Pe=Yt;for(At=At.slice();At.length>0;)re=At.splice(0,1)[0],Dt=Pe,Pe=Pe.childNodes?Pe.childNodes[re]:void 0;return{node:Pe,parentNode:Dt,nodeIndex:re}}function Ne(Yt,At,Dt){return At.forEach(function(re){(function(Pe,He,ye){var Le,Ve,ze,Zn;if(![ye._const.addElement,ye._const.addTextElement].includes(He[ye._const.action])){var Ii=me(Pe,He[ye._const.route]);Ve=Ii.node,ze=Ii.parentNode,Zn=Ii.nodeIndex}var bi,ln,Vn=[],ti={diff:He,node:Ve};if(ye.preVirtualDiffApply(ti))return!0;switch(He[ye._const.action]){case ye._const.addAttribute:Ve.attributes||(Ve.attributes={}),Ve.attributes[He[ye._const.name]]=He[ye._const.value],He[ye._const.name]==="checked"?Ve.checked=!0:He[ye._const.name]==="selected"?Ve.selected=!0:Ve.nodeName==="INPUT"&&He[ye._const.name]==="value"&&(Ve.value=He[ye._const.value]);break;case ye._const.modifyAttribute:Ve.attributes[He[ye._const.name]]=He[ye._const.newValue];break;case ye._const.removeAttribute:delete Ve.attributes[He[ye._const.name]],Object.keys(Ve.attributes).length===0&&delete Ve.attributes,He[ye._const.name]==="checked"?Ve.checked=!1:He[ye._const.name]==="selected"?delete Ve.selected:Ve.nodeName==="INPUT"&&He[ye._const.name]==="value"&&delete Ve.value;break;case ye._const.modifyTextElement:Ve.data=He[ye._const.newValue];break;case ye._const.modifyValue:Ve.value=He[ye._const.newValue];break;case ye._const.modifyComment:Ve.data=He[ye._const.newValue];break;case ye._const.modifyChecked:Ve.checked=He[ye._const.newValue];break;case ye._const.modifySelected:Ve.selected=He[ye._const.newValue];break;case ye._const.replaceElement:bi=He[ye._const.newValue],ze.childNodes[Zn]=bi;break;case ye._const.relocateGroup:Ve.childNodes.splice(He[ye._const.from],He[ye._const.groupLength]).reverse().forEach(function(Dn){return Ve.childNodes.splice(He[ye._const.to],0,Dn)}),Ve.subsets&&Ve.subsets.forEach(function(Dn){if(He[ye._const.from]<He[ye._const.to]&&Dn.oldValue<=He[ye._const.to]&&Dn.oldValue>He[ye._const.from])Dn.oldValue-=He[ye._const.groupLength],(Hi=Dn.oldValue+Dn.length-He[ye._const.to])>0&&(Vn.push({oldValue:He[ye._const.to]+He[ye._const.groupLength],newValue:Dn.newValue+Dn.length-Hi,length:Hi}),Dn.length-=Hi);else if(He[ye._const.from]>He[ye._const.to]&&Dn.oldValue>He[ye._const.to]&&Dn.oldValue<He[ye._const.from]){var Hi;Dn.oldValue+=He[ye._const.groupLength],(Hi=Dn.oldValue+Dn.length-He[ye._const.to])>0&&(Vn.push({oldValue:He[ye._const.to]+He[ye._const.groupLength],newValue:Dn.newValue+Dn.length-Hi,length:Hi}),Dn.length-=Hi)}else Dn.oldValue===He[ye._const.from]&&(Dn.oldValue=He[ye._const.to])});break;case ye._const.removeElement:ze.childNodes.splice(Zn,1),ze.subsets&&ze.subsets.forEach(function(Dn){Dn.oldValue>Zn?Dn.oldValue-=1:Dn.oldValue===Zn?Dn.delete=!0:Dn.oldValue<Zn&&Dn.oldValue+Dn.length>Zn&&(Dn.oldValue+Dn.length-1===Zn?Dn.length--:(Vn.push({newValue:Dn.newValue+Zn-Dn.oldValue,oldValue:Zn,length:Dn.length-Zn+Dn.oldValue-1}),Dn.length=Zn-Dn.oldValue))}),Ve=ze;break;case ye._const.addElement:var Hn=(ln=He[ye._const.route].slice()).splice(ln.length-1,1)[0];Ve=(Le=me(Pe,ln))===null||Le===void 0?void 0:Le.node,bi=He[ye._const.element],Ve.childNodes||(Ve.childNodes=[]),Hn>=Ve.childNodes.length?Ve.childNodes.push(bi):Ve.childNodes.splice(Hn,0,bi),Ve.subsets&&Ve.subsets.forEach(function(Dn){if(Dn.oldValue>=Hn)Dn.oldValue+=1;else if(Dn.oldValue<Hn&&Dn.oldValue+Dn.length>Hn){var Hi=Dn.oldValue+Dn.length-Hn;Vn.push({newValue:Dn.newValue+Dn.length-Hi,oldValue:Hn+1,length:Hi}),Dn.length-=Hi}});break;case ye._const.removeTextElement:ze.childNodes.splice(Zn,1),ze.nodeName==="TEXTAREA"&&delete ze.value,ze.subsets&&ze.subsets.forEach(function(Dn){Dn.oldValue>Zn?Dn.oldValue-=1:Dn.oldValue===Zn?Dn.delete=!0:Dn.oldValue<Zn&&Dn.oldValue+Dn.length>Zn&&(Dn.oldValue+Dn.length-1===Zn?Dn.length--:(Vn.push({newValue:Dn.newValue+Zn-Dn.oldValue,oldValue:Zn,length:Dn.length-Zn+Dn.oldValue-1}),Dn.length=Zn-Dn.oldValue))}),Ve=ze;break;case ye._const.addTextElement:var wi=(ln=He[ye._const.route].slice()).splice(ln.length-1,1)[0];(bi={}).nodeName="#text",bi.data=He[ye._const.value],(Ve=me(Pe,ln).node).childNodes||(Ve.childNodes=[]),wi>=Ve.childNodes.length?Ve.childNodes.push(bi):Ve.childNodes.splice(wi,0,bi),Ve.nodeName==="TEXTAREA"&&(Ve.value=He[ye._const.newValue]),Ve.subsets&&Ve.subsets.forEach(function(Dn){if(Dn.oldValue>=wi&&(Dn.oldValue+=1),Dn.oldValue<wi&&Dn.oldValue+Dn.length>wi){var Hi=Dn.oldValue+Dn.length-wi;Vn.push({newValue:Dn.newValue+Dn.length-Hi,oldValue:wi+1,length:Hi}),Dn.length-=Hi}});break;default:console.log("unknown action")}Ve.subsets&&(Ve.subsets=Ve.subsets.filter(function(Dn){return!Dn.delete&&Dn.oldValue!==Dn.newValue}),Vn.length&&(Ve.subsets=Ve.subsets.concat(Vn))),ye.postVirtualDiffApply({node:ti.node,diff:ti.diff,newNode:bi})})(Yt,re,Dt)}),!0}function Fn(Yt,At){At===void 0&&(At={});var Dt={nodeName:Yt.nodeName};return Yt instanceof Text||Yt instanceof Comment?Dt.data=Yt.data:(Yt.attributes&&Yt.attributes.length>0&&(Dt.attributes={},Array.prototype.slice.call(Yt.attributes).forEach(function(re){return Dt.attributes[re.name]=re.value})),Yt instanceof HTMLTextAreaElement?Dt.value=Yt.value:Yt.childNodes&&Yt.childNodes.length>0&&(Dt.childNodes=[],Array.prototype.slice.call(Yt.childNodes).forEach(function(re){return Dt.childNodes.push(Fn(re,At))})),At.valueDiffing&&(Yt instanceof HTMLInputElement&&["radio","checkbox"].includes(Yt.type.toLowerCase())&&Yt.checked!==void 0?Dt.checked=Yt.checked:(Yt instanceof HTMLButtonElement||Yt instanceof HTMLDataElement||Yt instanceof HTMLInputElement||Yt instanceof HTMLLIElement||Yt instanceof HTMLMeterElement||Yt instanceof HTMLOptionElement||Yt instanceof HTMLProgressElement||Yt instanceof HTMLParamElement)&&(Dt.value=Yt.value),Yt instanceof HTMLOptionElement&&(Dt.selected=Yt.selected))),Dt}var dn=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,gn=Object.create?Object.create(null):{},jt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Fe(Yt){return Yt.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var ht={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},lt=function(Yt){var At={nodeName:"",attributes:{}},Dt=!1,re=Yt.match(/<\/?([^\s]+?)[/\s>]/);if(re&&(At.nodeName=re[1].toUpperCase(),(ht[re[1]]||Yt.charAt(Yt.length-2)==="/")&&(Dt=!0),At.nodeName.startsWith("!--"))){var Pe=Yt.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:Pe!==-1?Yt.slice(4,Pe):""},voidElement:Dt}}for(var He=new RegExp(jt),ye=null,Le=!1;!Le;)if((ye=He.exec(Yt))===null)Le=!0;else if(ye[0].trim())if(ye[1]){var Ve=ye[1].trim(),ze=[Ve,""];Ve.indexOf("=")>-1&&(ze=Ve.split("=")),At.attributes[ze[0]]=ze[1],He.lastIndex--}else ye[2]&&(At.attributes[ye[2]]=ye[3].trim().substring(1,ye[3].length-1));return{type:"tag",node:At,voidElement:Dt}},an=function(Yt,At){At===void 0&&(At={components:gn});var Dt,re=[],Pe=-1,He=[],ye=!1;if(Yt.indexOf("<")!==0){var Le=Yt.indexOf("<");re.push({nodeName:"#text",data:Le===-1?Yt:Yt.substring(0,Le)})}return Yt.replace(dn,function(Ve,ze){if(ye){if(Ve!=="</".concat(Dt.node.nodeName,">"))return"";ye=!1}var Zn=Ve.charAt(1)!=="/",Ii=Ve.startsWith("<!--"),bi=ze+Ve.length,ln=Yt.charAt(bi);if(Ii){var Vn=lt(Ve).node;if(Pe<0)return re.push(Vn),"";var ti=He[Pe];return ti&&Vn.nodeName&&(ti.node.childNodes||(ti.node.childNodes=[]),ti.node.childNodes.push(Vn)),""}if(Zn){Dt=lt(Ve),Pe++,Dt.type==="tag"&&At.components[Dt.node.nodeName]&&(Dt.type="component",ye=!0),Dt.voidElement||ye||!ln||ln==="<"||(Dt.node.childNodes||(Dt.node.childNodes=[]),Dt.node.childNodes.push({nodeName:"#text",data:Fe(Yt.slice(bi,Yt.indexOf("<",bi)))})),Pe===0&&Dt.node.nodeName&&re.push(Dt.node);var Hn=He[Pe-1];Hn&&Dt.node.nodeName&&(Hn.node.childNodes||(Hn.node.childNodes=[]),Hn.node.childNodes.push(Dt.node)),He[Pe]=Dt}if((!Zn||Dt.voidElement)&&(Pe>-1&&(Dt.voidElement||Dt.node.nodeName===Ve.slice(2,-1).toUpperCase())&&--Pe>-1&&(Dt=He[Pe]),!ye&&ln!=="<"&&ln)){var wi=Pe===-1?re:He[Pe].node.childNodes||[],Dn=Yt.indexOf("<",bi),Hi=Fe(Yt.slice(bi,Dn===-1?void 0:Dn));wi.push({nodeName:"#text",data:Hi})}return""}),re[0]},en=function(){function Yt(At,Dt,re){this.options=re,this.t1=typeof Element<"u"&&At instanceof Element?Fn(At,this.options):typeof At=="string"?an(At,this.options):JSON.parse(JSON.stringify(At)),this.t2=typeof Element<"u"&&Dt instanceof Element?Fn(Dt,this.options):typeof Dt=="string"?an(Dt,this.options):JSON.parse(JSON.stringify(Dt)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&At instanceof Element?Fn(At,this.options):typeof At=="string"?an(At,this.options):JSON.parse(JSON.stringify(At)),this.t2Orig=typeof Element<"u"&&Dt instanceof Element?Fn(Dt,this.options):typeof Dt=="string"?an(Dt,this.options):JSON.parse(JSON.stringify(Dt))),this.tracker=new ne}return Yt.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},Yt.prototype.findDiffs=function(At,Dt){var re;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(re=this.findNextDiff(At,Dt,[])).length===0&&(ve(At,Dt)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,fe(At),re=this.findNextDiff(At,Dt,[])))),re.length>0&&(this.foundAll=!1,this.tracker.add(re),Ne(At,re,this.options))}while(re.length>0);return this.tracker.list},Yt.prototype.findNextDiff=function(At,Dt,re){var Pe,He;if(this.options.maxDepth&&re.length>this.options.maxDepth)return[];if(!At.outerDone){if(Pe=this.findOuterDiff(At,Dt,re),this.options.filterOuterDiff&&(He=this.options.filterOuterDiff(At,Dt,Pe))&&(Pe=He),Pe.length>0)return At.outerDone=!0,Pe;At.outerDone=!0}if(Object.prototype.hasOwnProperty.call(At,"data"))return[];if(!At.innerDone){if((Pe=this.findInnerDiff(At,Dt,re)).length>0)return Pe;At.innerDone=!0}if(this.options.valueDiffing&&!At.valueDone){if((Pe=this.findValueDiff(At,Dt,re)).length>0)return At.valueDone=!0,Pe;At.valueDone=!0}return[]},Yt.prototype.findOuterDiff=function(At,Dt,re){var Pe,He,ye,Le,Ve,ze,Zn=[];if(At.nodeName!==Dt.nodeName){if(!re.length)throw new Error("Top level nodes have to be of the same kind.");return[new De().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Me(At)).setValue(this.options._const.newValue,Me(Dt)).setValue(this.options._const.route,re)]}if(re.length&&this.options.diffcap<Math.abs((At.childNodes||[]).length-(Dt.childNodes||[]).length))return[new De().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Me(At)).setValue(this.options._const.newValue,Me(Dt)).setValue(this.options._const.route,re)];if(Object.prototype.hasOwnProperty.call(At,"data")&&At.data!==Dt.data)return At.nodeName==="#text"?[new De().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,re).setValue(this.options._const.oldValue,At.data).setValue(this.options._const.newValue,Dt.data)]:[new De().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,re).setValue(this.options._const.oldValue,At.data).setValue(this.options._const.newValue,Dt.data)];for(He=At.attributes?Object.keys(At.attributes).sort():[],ye=Dt.attributes?Object.keys(Dt.attributes).sort():[],Le=He.length,ze=0;ze<Le;ze++)Pe=He[ze],(Ve=ye.indexOf(Pe))===-1?Zn.push(new De().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,re).setValue(this.options._const.name,Pe).setValue(this.options._const.value,At.attributes[Pe])):(ye.splice(Ve,1),At.attributes[Pe]!==Dt.attributes[Pe]&&Zn.push(new De().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,re).setValue(this.options._const.name,Pe).setValue(this.options._const.oldValue,At.attributes[Pe]).setValue(this.options._const.newValue,Dt.attributes[Pe])));for(Le=ye.length,ze=0;ze<Le;ze++)Pe=ye[ze],Zn.push(new De().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,re).setValue(this.options._const.name,Pe).setValue(this.options._const.value,Dt.attributes[Pe]));return Zn},Yt.prototype.findInnerDiff=function(At,Dt,re){var Pe=At.childNodes?At.childNodes.slice():[],He=Dt.childNodes?Dt.childNodes.slice():[],ye=Math.max(Pe.length,He.length),Le=Math.abs(Pe.length-He.length),Ve=[],ze=0;if(!this.options.maxChildCount||ye<this.options.maxChildCount){var Zn=!!(At.subsets&&At.subsetsAge--),Ii=Zn?At.subsets:At.childNodes&&Dt.childNodes?Kt(At,Dt):[];if(Ii.length>0&&(Ve=this.attemptGroupRelocation(At,Dt,Ii,re,Zn)).length>0)return Ve}for(var bi=0;bi<ye;bi+=1){var ln=Pe[bi],Vn=He[bi];if(Le&&(ln&&!Vn?ln.nodeName==="#text"?(Ve.push(new De().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,re.concat(ze)).setValue(this.options._const.value,ln.data)),ze-=1):(Ve.push(new De().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,re.concat(ze)).setValue(this.options._const.element,Me(ln))),ze-=1):Vn&&!ln&&(Vn.nodeName==="#text"?Ve.push(new De().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,re.concat(ze)).setValue(this.options._const.value,Vn.data)):Ve.push(new De().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,re.concat(ze)).setValue(this.options._const.element,Me(Vn))))),ln&&Vn){if(!this.options.maxChildCount||ye<this.options.maxChildCount)Ve=Ve.concat(this.findNextDiff(ln,Vn,re.concat(ze)));else if(!ve(ln,Vn))if(Pe.length>He.length)ln.nodeName==="#text"?Ve.push(new De().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,re.concat(ze)).setValue(this.options._const.value,ln.data)):Ve.push(new De().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,Me(ln)).setValue(this.options._const.route,re.concat(ze))),Pe.splice(bi,1),bi-=1,ze-=1,Le-=1;else if(Pe.length<He.length){var ti=Me(Vn);Ve=Ve.concat([new De().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,ti).setValue(this.options._const.route,re.concat(ze))]),Pe.splice(bi,0,ti),Le-=1}else Ve=Ve.concat([new De().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Me(ln)).setValue(this.options._const.newValue,Me(Vn)).setValue(this.options._const.route,re.concat(ze))])}ze+=1}return At.innerDone=!0,Ve},Yt.prototype.attemptGroupRelocation=function(At,Dt,re,Pe,He){for(var ye,Le,Ve,ze,Zn,Ii,bi=function(Er,Or,Cr){var Ji=Er.childNodes?Xt(Er.childNodes.length,!0):[],Fi=Or.childNodes?Xt(Or.childNodes.length,!0):[],jr=0;return Cr.forEach(function(Tr){for(var Yi=Tr.oldValue+Tr.length,gi=Tr.newValue+Tr.length,ii=Tr.oldValue;ii<Yi;ii+=1)Ji[ii]=jr;for(ii=Tr.newValue;ii<gi;ii+=1)Fi[ii]=jr;jr+=1}),{gaps1:Ji,gaps2:Fi}}(At,Dt,re),ln=bi.gaps1,Vn=bi.gaps2,ti=Math.min(ln.length,Vn.length),Hn=[],wi=0,Dn=0;wi<ti;Dn+=1,wi+=1)if(!He||ln[wi]!==!0&&Vn[wi]!==!0){if(ln[wi]===!0)if((ze=At.childNodes[Dn]).nodeName==="#text")if(Dt.childNodes[wi].nodeName==="#text"){if(ze.data!==Dt.childNodes[wi].data){for(Ii=Dn;At.childNodes.length>Ii+1&&At.childNodes[Ii+1].nodeName==="#text";)if(Ii+=1,Dt.childNodes[wi].data===At.childNodes[Ii].data){Zn=!0;break}if(!Zn)return Hn.push(new De().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,Pe.concat(wi)).setValue(this.options._const.oldValue,ze.data).setValue(this.options._const.newValue,Dt.childNodes[wi].data)),Hn}}else Hn.push(new De().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,Pe.concat(wi)).setValue(this.options._const.value,ze.data)),ln.splice(wi,1),ti=Math.min(ln.length,Vn.length),wi-=1;else Hn.push(new De().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,Pe.concat(wi)).setValue(this.options._const.element,Me(ze))),ln.splice(wi,1),ti=Math.min(ln.length,Vn.length),wi-=1;else if(Vn[wi]===!0)(ze=Dt.childNodes[wi]).nodeName==="#text"?(Hn.push(new De().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,Pe.concat(wi)).setValue(this.options._const.value,ze.data)),ln.splice(wi,0,!0),ti=Math.min(ln.length,Vn.length),Dn-=1):(Hn.push(new De().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,Pe.concat(wi)).setValue(this.options._const.element,Me(ze))),ln.splice(wi,0,!0),ti=Math.min(ln.length,Vn.length),Dn-=1);else if(ln[wi]!==Vn[wi]){if(Hn.length>0)return Hn;if(Ve=re[ln[wi]],(Le=Math.min(Ve.newValue,At.childNodes.length-Ve.length))!==Ve.oldValue){ye=!1;for(var Hi=0;Hi<Ve.length;Hi+=1)le(At.childNodes[Le+Hi],At.childNodes[Ve.oldValue+Hi],{},!1,!0)||(ye=!0);if(ye)return[new De().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,Ve.length).setValue(this.options._const.from,Ve.oldValue).setValue(this.options._const.to,Le).setValue(this.options._const.route,Pe)]}}}return Hn},Yt.prototype.findValueDiff=function(At,Dt,re){var Pe=[];return At.selected!==Dt.selected&&Pe.push(new De().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,At.selected).setValue(this.options._const.newValue,Dt.selected).setValue(this.options._const.route,re)),(At.value||Dt.value)&&At.value!==Dt.value&&At.nodeName!=="OPTION"&&Pe.push(new De().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,At.value||"").setValue(this.options._const.newValue,Dt.value||"").setValue(this.options._const.route,re)),At.checked!==Dt.checked&&Pe.push(new De().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,At.checked).setValue(this.options._const.newValue,Dt.checked).setValue(this.options._const.route,re)),Pe},Yt}(),je={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(Yt,At,Dt,re){Yt.data=re},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},Qe=function(){function Yt(At){if(At===void 0&&(At={}),Object.entries(je).forEach(function(Pe){var He=Pe[0],ye=Pe[1];Object.prototype.hasOwnProperty.call(At,He)||(At[He]=ye)}),!At._const){var Dt=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],re={};At.compress?Dt.forEach(function(Pe,He){return re[Pe]=He}):Dt.forEach(function(Pe){return re[Pe]=Pe}),At._const=re}this.options=At}return Yt.prototype.apply=function(At,Dt){return function(re,Pe,He){return Pe.every(function(ye){return ct(re,ye,He)})}(At,Dt,this.options)},Yt.prototype.undo=function(At,Dt){return function(re,Pe,He){(Pe=Pe.slice()).reverse(),Pe.forEach(function(ye){(function(Le,Ve,ze){switch(Ve[ze._const.action]){case ze._const.addAttribute:Ve[ze._const.action]=ze._const.removeAttribute,ct(Le,Ve,ze);break;case ze._const.modifyAttribute:ie(Ve,ze._const.oldValue,ze._const.newValue),ct(Le,Ve,ze);break;case ze._const.removeAttribute:Ve[ze._const.action]=ze._const.addAttribute,ct(Le,Ve,ze);break;case ze._const.modifyTextElement:case ze._const.modifyValue:case ze._const.modifyComment:case ze._const.modifyChecked:case ze._const.modifySelected:case ze._const.replaceElement:ie(Ve,ze._const.oldValue,ze._const.newValue),ct(Le,Ve,ze);break;case ze._const.relocateGroup:ie(Ve,ze._const.from,ze._const.to),ct(Le,Ve,ze);break;case ze._const.removeElement:Ve[ze._const.action]=ze._const.addElement,ct(Le,Ve,ze);break;case ze._const.addElement:Ve[ze._const.action]=ze._const.removeElement,ct(Le,Ve,ze);break;case ze._const.removeTextElement:Ve[ze._const.action]=ze._const.addTextElement,ct(Le,Ve,ze);break;case ze._const.addTextElement:Ve[ze._const.action]=ze._const.removeTextElement,ct(Le,Ve,ze);break;default:console.log("unknown action")}})(re,ye,He)})}(At,Dt,this.options)},Yt.prototype.diff=function(At,Dt){return new en(At,Dt,this.options).init()},Yt}();const Te=(Yt,At,Dt,{classes:re,format:Pe,hiddenHeader:He,sortable:ye,scrollY:Le,type:Ve},{noColumnWidths:ze,unhideHeader:Zn})=>({nodeName:"TR",childNodes:Yt.map((Ii,bi)=>{const ln=At[bi]||{type:Ve,format:Pe,sortable:!0,searchable:!0};if(ln.hidden)return;const Vn={};if(ln.sortable&&ye&&(!Le.length||Zn)&&(ln.filter?Vn["data-filterable"]="true":Vn["data-sortable"]="true"),ln.headerClass&&(Vn.class=ln.headerClass),Dt.sort&&Dt.sort.column===bi){const wi=Dt.sort.dir==="asc"?re.ascending:re.descending;Vn.class=Vn.class?`${Vn.class} ${wi}`:wi,Vn["aria-sort"]=Dt.sort.dir==="asc"?"ascending":"descending"}else Dt.filters[bi]&&(Vn.class=Vn.class?`${Vn.class} ${re.filterActive}`:re.filterActive);let ti="";Dt.widths[bi]&&!ze&&(ti+=`width: ${Dt.widths[bi]}%;`),Le.length&&!Zn&&(ti+="padding-bottom: 0;padding-top: 0;border: 0;"),ti.length&&(Vn.style=ti),ln.headerClass&&(Vn.class=ln.headerClass);const Hn=Ii.type==="html"?Ii.data:[{nodeName:"#text",data:Ii.text??String(Ii.data)}];return{nodeName:"TH",attributes:Vn,childNodes:!He&&!Le.length||Zn?ln.sortable&&ye?[{nodeName:"a",attributes:{href:"#",class:ln.filter?re.filter:re.sorter},childNodes:Hn}]:Hn:[{nodeName:"#text",data:""}]}}).filter(Ii=>Ii)}),_n=(Yt,At,Dt,re,Pe,He,{classes:ye,hiddenHeader:Le,header:Ve,footer:ze,format:Zn,sortable:Ii,scrollY:bi,type:ln,rowRender:Vn,tabIndex:ti},{noColumnWidths:Hn,unhideHeader:wi,renderHeader:Dn})=>{const Hi={nodeName:"TABLE",attributes:{...Yt},childNodes:[{nodeName:"TBODY",childNodes:Dt.map(({row:Er,index:Or})=>{const Cr={nodeName:"TR",attributes:{"data-index":String(Or)},childNodes:Er.map((Ji,Fi)=>{const jr=re[Fi]||{type:ln,format:Zn,sortable:!0,searchable:!0};if(jr.hidden)return;const Tr=jr.type==="html"?{nodeName:"TD",childNodes:Ji.data}:{nodeName:"TD",childNodes:[{nodeName:"#text",data:Ji.text??String(Ji.data)}]};if(Ve||ze||!Pe.widths[Fi]||Hn||(Tr.attributes={style:`width: ${Pe.widths[Fi]}%;`}),jr.cellClass&&(Tr.attributes||(Tr.attributes={}),Tr.attributes.class=jr.cellClass),jr.render){const Yi=jr.render(Ji.data,Tr,Or,Fi);if(Yi){if(typeof Yi!="string")return Yi;{const gi=an(`<td>${Yi}</td>`);gi.childNodes.length===1&&["#text","#comment"].includes(gi.childNodes[0].nodeName)?Tr.childNodes[0].data=Yi:Tr.childNodes=gi.childNodes}}}return Tr}).filter(Ji=>Ji)};if(Or===He&&(Cr.attributes.class=ye.cursor),Vn){const Ji=Vn(Er,Cr,Or);if(Ji){if(typeof Ji!="string")return Ji;{const Fi=an(`<tr>${Ji}</tr>`);!Fi.childNodes||Fi.childNodes.length===1&&["#text","#comment"].includes(Fi.childNodes[0].nodeName)?Cr.childNodes[0].data=Ji:Cr.childNodes=Fi.childNodes}}}return Cr})}]};if(Hi.attributes.class=Hi.attributes.class?`${Hi.attributes.class} ${ye.table}`:ye.table,Ve||ze||Dn){const Er=Te(At,re,Pe,{classes:ye,hiddenHeader:Le,sortable:Ii,scrollY:bi},{noColumnWidths:Hn,unhideHeader:wi});if(Ve||Dn){const Or={nodeName:"THEAD",childNodes:[Er]};!bi.length&&!Le||wi||(Or.attributes={style:"height: 0px;"}),Hi.childNodes.unshift(Or)}if(ze){const Or={nodeName:"TFOOT",childNodes:[Ve?structuredClone(Er):Er]};!bi.length&&!Le||wi||(Or.attributes={style:"height: 0px;"}),Hi.childNodes.push(Or)}}return ti!==!1&&(Hi.attributes.tabindex=String(ti)),Hi};typeof globalThis<"u"||typeof window<"u"||typeof ue<"u"||typeof self<"u";var Be={},Ge={get exports(){return Be},set exports(Yt){Be=Yt}};Ge.exports=function(){var Yt=1e3,At=6e4,Dt=36e5,re="millisecond",Pe="second",He="minute",ye="hour",Le="day",Ve="week",ze="month",Zn="quarter",Ii="year",bi="date",ln="Invalid Date",Vn=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ti=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Hn={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Yi){var gi=["th","st","nd","rd"],ii=Yi%100;return"["+Yi+(gi[(ii-20)%10]||gi[ii]||gi[0])+"]"}},wi=function(Yi,gi,ii){var Qi=String(Yi);return!Qi||Qi.length>=gi?Yi:""+Array(gi+1-Qi.length).join(ii)+Yi},Dn={s:wi,z:function(Yi){var gi=-Yi.utcOffset(),ii=Math.abs(gi),Qi=Math.floor(ii/60),hi=ii%60;return(gi<=0?"+":"-")+wi(Qi,2,"0")+":"+wi(hi,2,"0")},m:function Yi(gi,ii){if(gi.date()<ii.date())return-Yi(ii,gi);var Qi=12*(ii.year()-gi.year())+(ii.month()-gi.month()),hi=gi.clone().add(Qi,ze),$i=ii-hi<0,ji=gi.clone().add(Qi+($i?-1:1),ze);return+(-(Qi+(ii-hi)/($i?hi-ji:ji-hi))||0)},a:function(Yi){return Yi<0?Math.ceil(Yi)||0:Math.floor(Yi)},p:function(Yi){return{M:ze,y:Ii,w:Ve,d:Le,D:bi,h:ye,m:He,s:Pe,ms:re,Q:Zn}[Yi]||String(Yi||"").toLowerCase().replace(/s$/,"")},u:function(Yi){return Yi===void 0}},Hi="en",Er={};Er[Hi]=Hn;var Or=function(Yi){return Yi instanceof jr},Cr=function Yi(gi,ii,Qi){var hi;if(!gi)return Hi;if(typeof gi=="string"){var $i=gi.toLowerCase();Er[$i]&&(hi=$i),ii&&(Er[$i]=ii,hi=$i);var ji=gi.split("-");if(!hi&&ji.length>1)return Yi(ji[0])}else{var Wi=gi.name;Er[Wi]=gi,hi=Wi}return!Qi&&hi&&(Hi=hi),hi||!Qi&&Hi},Ji=function(Yi,gi){if(Or(Yi))return Yi.clone();var ii=typeof gi=="object"?gi:{};return ii.date=Yi,ii.args=arguments,new jr(ii)},Fi=Dn;Fi.l=Cr,Fi.i=Or,Fi.w=function(Yi,gi){return Ji(Yi,{locale:gi.$L,utc:gi.$u,x:gi.$x,$offset:gi.$offset})};var jr=function(){function Yi(ii){this.$L=Cr(ii.locale,null,!0),this.parse(ii)}var gi=Yi.prototype;return gi.parse=function(ii){this.$d=function(Qi){var hi=Qi.date,$i=Qi.utc;if(hi===null)return new Date(NaN);if(Fi.u(hi))return new Date;if(hi instanceof Date)return new Date(hi);if(typeof hi=="string"&&!/Z$/i.test(hi)){var ji=hi.match(Vn);if(ji){var Wi=ji[2]-1||0,Ui=(ji[7]||"0").substring(0,3);return $i?new Date(Date.UTC(ji[1],Wi,ji[3]||1,ji[4]||0,ji[5]||0,ji[6]||0,Ui)):new Date(ji[1],Wi,ji[3]||1,ji[4]||0,ji[5]||0,ji[6]||0,Ui)}}return new Date(hi)}(ii),this.$x=ii.x||{},this.init()},gi.init=function(){var ii=this.$d;this.$y=ii.getFullYear(),this.$M=ii.getMonth(),this.$D=ii.getDate(),this.$W=ii.getDay(),this.$H=ii.getHours(),this.$m=ii.getMinutes(),this.$s=ii.getSeconds(),this.$ms=ii.getMilliseconds()},gi.$utils=function(){return Fi},gi.isValid=function(){return this.$d.toString()!==ln},gi.isSame=function(ii,Qi){var hi=Ji(ii);return this.startOf(Qi)<=hi&&hi<=this.endOf(Qi)},gi.isAfter=function(ii,Qi){return Ji(ii)<this.startOf(Qi)},gi.isBefore=function(ii,Qi){return this.endOf(Qi)<Ji(ii)},gi.$g=function(ii,Qi,hi){return Fi.u(ii)?this[Qi]:this.set(hi,ii)},gi.unix=function(){return Math.floor(this.valueOf()/1e3)},gi.valueOf=function(){return this.$d.getTime()},gi.startOf=function(ii,Qi){var hi=this,$i=!!Fi.u(Qi)||Qi,ji=Fi.p(ii),Wi=function(O,N){var V=Fi.w(hi.$u?Date.UTC(hi.$y,N,O):new Date(hi.$y,N,O),hi);return $i?V:V.endOf(Le)},Ui=function(O,N){return Fi.w(hi.toDate()[O].apply(hi.toDate("s"),($i?[0,0,0,0]:[23,59,59,999]).slice(N)),hi)},qt=this.$W,h=this.$M,d=this.$D,y="set"+(this.$u?"UTC":"");switch(ji){case Ii:return $i?Wi(1,0):Wi(31,11);case ze:return $i?Wi(1,h):Wi(0,h+1);case Ve:var C=this.$locale().weekStart||0,M=(qt<C?qt+7:qt)-C;return Wi($i?d-M:d+(6-M),h);case Le:case bi:return Ui(y+"Hours",0);case ye:return Ui(y+"Minutes",1);case He:return Ui(y+"Seconds",2);case Pe:return Ui(y+"Milliseconds",3);default:return this.clone()}},gi.endOf=function(ii){return this.startOf(ii,!1)},gi.$set=function(ii,Qi){var hi,$i=Fi.p(ii),ji="set"+(this.$u?"UTC":""),Wi=(hi={},hi[Le]=ji+"Date",hi[bi]=ji+"Date",hi[ze]=ji+"Month",hi[Ii]=ji+"FullYear",hi[ye]=ji+"Hours",hi[He]=ji+"Minutes",hi[Pe]=ji+"Seconds",hi[re]=ji+"Milliseconds",hi)[$i],Ui=$i===Le?this.$D+(Qi-this.$W):Qi;if($i===ze||$i===Ii){var qt=this.clone().set(bi,1);qt.$d[Wi](Ui),qt.init(),this.$d=qt.set(bi,Math.min(this.$D,qt.daysInMonth())).$d}else Wi&&this.$d[Wi](Ui);return this.init(),this},gi.set=function(ii,Qi){return this.clone().$set(ii,Qi)},gi.get=function(ii){return this[Fi.p(ii)]()},gi.add=function(ii,Qi){var hi,$i=this;ii=Number(ii);var ji=Fi.p(Qi),Wi=function(h){var d=Ji($i);return Fi.w(d.date(d.date()+Math.round(h*ii)),$i)};if(ji===ze)return this.set(ze,this.$M+ii);if(ji===Ii)return this.set(Ii,this.$y+ii);if(ji===Le)return Wi(1);if(ji===Ve)return Wi(7);var Ui=(hi={},hi[He]=At,hi[ye]=Dt,hi[Pe]=Yt,hi)[ji]||1,qt=this.$d.getTime()+ii*Ui;return Fi.w(qt,this)},gi.subtract=function(ii,Qi){return this.add(-1*ii,Qi)},gi.format=function(ii){var Qi=this,hi=this.$locale();if(!this.isValid())return hi.invalidDate||ln;var $i=ii||"YYYY-MM-DDTHH:mm:ssZ",ji=Fi.z(this),Wi=this.$H,Ui=this.$m,qt=this.$M,h=hi.weekdays,d=hi.months,y=function(N,V,q,K){return N&&(N[V]||N(Qi,$i))||q[V].slice(0,K)},C=function(N){return Fi.s(Wi%12||12,N,"0")},M=hi.meridiem||function(N,V,q){var K=N<12?"AM":"PM";return q?K.toLowerCase():K},O={YY:String(this.$y).slice(-2),YYYY:this.$y,M:qt+1,MM:Fi.s(qt+1,2,"0"),MMM:y(hi.monthsShort,qt,d,3),MMMM:y(d,qt),D:this.$D,DD:Fi.s(this.$D,2,"0"),d:String(this.$W),dd:y(hi.weekdaysMin,this.$W,h,2),ddd:y(hi.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(Wi),HH:Fi.s(Wi,2,"0"),h:C(1),hh:C(2),a:M(Wi,Ui,!0),A:M(Wi,Ui,!1),m:String(Ui),mm:Fi.s(Ui,2,"0"),s:String(this.$s),ss:Fi.s(this.$s,2,"0"),SSS:Fi.s(this.$ms,3,"0"),Z:ji};return $i.replace(ti,function(N,V){return V||O[N]||ji.replace(":","")})},gi.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},gi.diff=function(ii,Qi,hi){var $i,ji=Fi.p(Qi),Wi=Ji(ii),Ui=(Wi.utcOffset()-this.utcOffset())*At,qt=this-Wi,h=Fi.m(this,Wi);return h=($i={},$i[Ii]=h/12,$i[ze]=h,$i[Zn]=h/3,$i[Ve]=(qt-Ui)/6048e5,$i[Le]=(qt-Ui)/864e5,$i[ye]=qt/Dt,$i[He]=qt/At,$i[Pe]=qt/Yt,$i)[ji]||qt,hi?h:Fi.a(h)},gi.daysInMonth=function(){return this.endOf(ze).$D},gi.$locale=function(){return Er[this.$L]},gi.locale=function(ii,Qi){if(!ii)return this.$L;var hi=this.clone(),$i=Cr(ii,Qi,!0);return $i&&(hi.$L=$i),hi},gi.clone=function(){return Fi.w(this.$d,this)},gi.toDate=function(){return new Date(this.valueOf())},gi.toJSON=function(){return this.isValid()?this.toISOString():null},gi.toISOString=function(){return this.$d.toISOString()},gi.toString=function(){return this.$d.toUTCString()},Yi}(),Tr=jr.prototype;return Ji.prototype=Tr,[["$ms",re],["$s",Pe],["$m",He],["$H",ye],["$W",Le],["$M",ze],["$y",Ii],["$D",bi]].forEach(function(Yi){Tr[Yi[1]]=function(gi){return this.$g(gi,Yi[0],Yi[1])}}),Ji.extend=function(Yi,gi){return Yi.$i||(Yi(gi,jr,Ji),Yi.$i=!0),Ji},Ji.locale=Cr,Ji.isDayjs=Or,Ji.unix=function(Yi){return Ji(1e3*Yi)},Ji.en=Er[Hi],Ji.Ls=Er,Ji.p={},Ji}();var Mn=Be,wr={},Ln={get exports(){return wr},set exports(Yt){wr=Yt}};Ln.exports=function(){var Yt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},At=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Dt=/\d\d/,re=/\d\d?/,Pe=/\d*[^-_:/,()\s\d]+/,He={},ye=function(ln){return(ln=+ln)+(ln>68?1900:2e3)},Le=function(ln){return function(Vn){this[ln]=+Vn}},Ve=[/[+-]\d\d:?(\d\d)?|Z/,function(ln){(this.zone||(this.zone={})).offset=function(Vn){if(!Vn||Vn==="Z")return 0;var ti=Vn.match(/([+-]|\d\d)/g),Hn=60*ti[1]+(+ti[2]||0);return Hn===0?0:ti[0]==="+"?-Hn:Hn}(ln)}],ze=function(ln){var Vn=He[ln];return Vn&&(Vn.indexOf?Vn:Vn.s.concat(Vn.f))},Zn=function(ln,Vn){var ti,Hn=He.meridiem;if(Hn){for(var wi=1;wi<=24;wi+=1)if(ln.indexOf(Hn(wi,0,Vn))>-1){ti=wi>12;break}}else ti=ln===(Vn?"pm":"PM");return ti},Ii={A:[Pe,function(ln){this.afternoon=Zn(ln,!1)}],a:[Pe,function(ln){this.afternoon=Zn(ln,!0)}],S:[/\d/,function(ln){this.milliseconds=100*+ln}],SS:[Dt,function(ln){this.milliseconds=10*+ln}],SSS:[/\d{3}/,function(ln){this.milliseconds=+ln}],s:[re,Le("seconds")],ss:[re,Le("seconds")],m:[re,Le("minutes")],mm:[re,Le("minutes")],H:[re,Le("hours")],h:[re,Le("hours")],HH:[re,Le("hours")],hh:[re,Le("hours")],D:[re,Le("day")],DD:[Dt,Le("day")],Do:[Pe,function(ln){var Vn=He.ordinal,ti=ln.match(/\d+/);if(this.day=ti[0],Vn)for(var Hn=1;Hn<=31;Hn+=1)Vn(Hn).replace(/\[|\]/g,"")===ln&&(this.day=Hn)}],M:[re,Le("month")],MM:[Dt,Le("month")],MMM:[Pe,function(ln){var Vn=ze("months"),ti=(ze("monthsShort")||Vn.map(function(Hn){return Hn.slice(0,3)})).indexOf(ln)+1;if(ti<1)throw new Error;this.month=ti%12||ti}],MMMM:[Pe,function(ln){var Vn=ze("months").indexOf(ln)+1;if(Vn<1)throw new Error;this.month=Vn%12||Vn}],Y:[/[+-]?\d+/,Le("year")],YY:[Dt,function(ln){this.year=ye(ln)}],YYYY:[/\d{4}/,Le("year")],Z:Ve,ZZ:Ve};function bi(ln){var Vn,ti;Vn=ln,ti=He&&He.formats;for(var Hn=(ln=Vn.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Ji,Fi,jr){var Tr=jr&&jr.toUpperCase();return Fi||ti[jr]||Yt[jr]||ti[Tr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Yi,gi,ii){return gi||ii.slice(1)})})).match(At),wi=Hn.length,Dn=0;Dn<wi;Dn+=1){var Hi=Hn[Dn],Er=Ii[Hi],Or=Er&&Er[0],Cr=Er&&Er[1];Hn[Dn]=Cr?{regex:Or,parser:Cr}:Hi.replace(/^\[|\]$/g,"")}return function(Ji){for(var Fi={},jr=0,Tr=0;jr<wi;jr+=1){var Yi=Hn[jr];if(typeof Yi=="string")Tr+=Yi.length;else{var gi=Yi.regex,ii=Yi.parser,Qi=Ji.slice(Tr),hi=gi.exec(Qi)[0];ii.call(Fi,hi),Ji=Ji.replace(hi,"")}}return function($i){var ji=$i.afternoon;if(ji!==void 0){var Wi=$i.hours;ji?Wi<12&&($i.hours+=12):Wi===12&&($i.hours=0),delete $i.afternoon}}(Fi),Fi}}return function(ln,Vn,ti){ti.p.customParseFormat=!0,ln&&ln.parseTwoDigitYear&&(ye=ln.parseTwoDigitYear);var Hn=Vn.prototype,wi=Hn.parse;Hn.parse=function(Dn){var Hi=Dn.date,Er=Dn.utc,Or=Dn.args;this.$u=Er;var Cr=Or[1];if(typeof Cr=="string"){var Ji=Or[2]===!0,Fi=Or[3]===!0,jr=Ji||Fi,Tr=Or[2];Fi&&(Tr=Or[2]),He=this.$locale(),!Ji&&Tr&&(He=ti.Ls[Tr]),this.$d=function(Qi,hi,$i){try{if(["x","X"].indexOf(hi)>-1)return new Date((hi==="X"?1e3:1)*Qi);var ji=bi(hi)(Qi),Wi=ji.year,Ui=ji.month,qt=ji.day,h=ji.hours,d=ji.minutes,y=ji.seconds,C=ji.milliseconds,M=ji.zone,O=new Date,N=qt||(Wi||Ui?1:O.getDate()),V=Wi||O.getFullYear(),q=0;Wi&&!Ui||(q=Ui>0?Ui-1:O.getMonth());var K=h||0,J=d||0,it=y||0,pt=C||0;return M?new Date(Date.UTC(V,q,N,K,J,it,pt+60*M.offset*1e3)):$i?new Date(Date.UTC(V,q,N,K,J,it,pt)):new Date(V,q,N,K,J,it,pt)}catch{return new Date("")}}(Hi,Cr,Er),this.init(),Tr&&Tr!==!0&&(this.$L=this.locale(Tr).$L),jr&&Hi!=this.format(Cr)&&(this.$d=new Date("")),He={}}else if(Cr instanceof Array)for(var Yi=Cr.length,gi=1;gi<=Yi;gi+=1){Or[1]=Cr[gi-1];var ii=ti.apply(this,Or);if(ii.isValid()){this.$d=ii.$d,this.$L=ii.$L,this.init();break}gi===Yi&&(this.$d=new Date(""))}else wi.call(this,Dn)}}}();var di=wr;Mn.extend(di);const ar=(Yt,At)=>{let Dt;if(At)switch(At){case"ISO_8601":Dt=Yt;break;case"RFC_2822":Dt=Mn(Yt.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":Dt=Mn(Yt,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":Dt=Mn(Yt).unix();break;default:Dt=Mn(Yt,At,!0).valueOf()}return Dt},hr=(Yt,At)=>{if(Yt?.constructor===Object&&Object.prototype.hasOwnProperty.call(Yt,"data")&&!Object.keys(Yt).find(re=>!["text","order","data"].includes(re)))return Yt;const Dt={data:Yt};switch(At.type){case"string":typeof Yt!="string"&&(Dt.text=String(Dt.data),Dt.order=Dt.text);break;case"date":At.format&&(Dt.order=ar(String(Dt.data),At.format));break;case"number":Dt.text=String(Dt.data),Dt.data=parseInt(Dt.data,10);break;case"html":{const re=Array.isArray(Dt.data)?{nodeName:"TD",childNodes:Dt.data}:an(`<td>${String(Dt.data)}</td>`);Dt.data=re.childNodes||[];const Pe=ft(re);Dt.text=Pe,Dt.order=Pe;break}case"boolean":typeof Dt.data=="string"&&(Dt.data=Dt.data.toLowerCase().trim()),Dt.data=!["false",!1,null,void 0,0].includes(Dt.data),Dt.order=Dt.data?1:0,Dt.text=String(Dt.data);break;case"other":Dt.text="",Dt.order=0;break;default:Dt.text=JSON.stringify(Dt.data)}return Dt},wn=Yt=>{if(Yt instanceof Object&&Yt.constructor===Object&&Yt.hasOwnProperty("data")&&(typeof Yt.text=="string"||typeof Yt.data=="string"))return Yt;const At={data:Yt};if(typeof Yt=="string"){if(Yt.length){const Dt=an(`<th>${Yt}</th>`);if(Dt.childNodes&&(Dt.childNodes.length!==1||Dt.childNodes[0].nodeName!=="#text")){At.data=Dt.childNodes,At.type="html";const re=ft(Dt);At.text=re}}}else[null,void 0].includes(Yt)?At.text="":At.text=JSON.stringify(Yt);return At},Wn=(Yt,At,Dt,re,Pe)=>{const He={data:[],headings:[]};Yt.headings?He.headings=Yt.headings.map(ye=>wn(ye)):At?.tHead?He.headings=Array.from(At.tHead.querySelectorAll("th")).map((ye,Le)=>{const Ve=(Zn=>{const Ii=Fn(Zn,{valueDiffing:!1});let bi;return bi=!Ii.childNodes||Ii.childNodes.length===1&&Ii.childNodes[0].nodeName==="#text"?{data:Zn.innerText,type:"string"}:{data:Ii.childNodes,type:"html",text:ft(Ii)},bi})(ye);Dt[Le]||(Dt[Le]={type:re,format:Pe,searchable:!0,sortable:!0});const ze=Dt[Le];return ye.dataset.sortable?.trim().toLowerCase()!=="false"&&ye.dataset.sort?.trim().toLowerCase()!=="false"||(ze.sortable=!1),ye.dataset.searchable?.trim().toLowerCase()==="false"&&(ze.searchable=!1),ye.dataset.hidden?.trim().toLowerCase()!=="true"&&ye.getAttribute("hidden")?.trim().toLowerCase()!=="true"||(ze.hidden=!0),["number","string","html","date","boolean","other"].includes(ye.dataset.type)&&(ze.type=ye.dataset.type,ze.type==="date"&&ye.dataset.format&&(ze.format=ye.dataset.format)),Ve}):Yt.data?.length?He.headings=Yt.data[0].map(ye=>wn("")):At?.tBodies.length&&(He.headings=Array.from(At.tBodies[0].rows[0].cells).map(ye=>wn("")));for(let ye=0;ye<He.headings.length;ye++)Dt[ye]||(Dt[ye]={type:re,format:Pe,sortable:!0,searchable:!0});if(Yt.data?He.data=Yt.data.map(ye=>ye.map((Le,Ve)=>hr(Le,Dt[Ve]))):At?.tBodies?.length&&(He.data=Array.from(At.tBodies[0].rows).map(ye=>Array.from(ye.cells).map((Le,Ve)=>{const ze=Le.dataset.content?hr(Le.dataset.content,Dt[Ve]):((Zn,Ii)=>{let bi;switch(Ii.type){case"string":bi={data:Zn.innerText};break;case"date":{const ln=Zn.innerText;bi={data:ln,order:ar(ln,Ii.format)};break}case"number":bi={data:parseInt(Zn.innerText,10),text:Zn.innerText};break;case"boolean":{const ln=!["false","0","null","undefined"].includes(Zn.innerText.toLowerCase().trim());bi={data:ln,order:ln?1:0,text:ln?"1":"0"};break}default:bi={data:Fn(Zn,{valueDiffing:!1}).childNodes||[],text:Zn.innerText,order:Zn.innerText}}return bi})(Le,Dt[Ve]);return Le.dataset.order&&(ze.order=isNaN(parseFloat(Le.dataset.order))?Le.dataset.order:parseFloat(Le.dataset.order)),ze}))),He.data.length&&He.data[0].length!==He.headings.length)throw new Error("Data heading length mismatch.");return He};class si{constructor(At){this.dt=At,this.cursor=!1}setCursor(At=!1){if(At===this.cursor)return;const Dt=this.cursor;if(this.cursor=At,this.dt._renderTable(),At!==!1&&this.dt.options.scrollY){const re=this.dt.dom.querySelector(`tr.${this.dt.options.classes.cursor}`);re&&re.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,Dt)}add(At){const Dt=At.map((re,Pe)=>{const He=this.dt.columns.settings[Pe];return hr(re,He)});this.dt.data.data.push(Dt),this.dt.data.data.length&&(this.dt.hasRows=!0),this.dt.update(!0)}remove(At){if(!Array.isArray(At))return this.remove([At]);this.dt.data.data=this.dt.data.data.filter((Dt,re)=>!At.includes(re)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(At,Dt){return this.dt.data.data.findIndex(re=>(re[At].text??String(re[At].data)).toLowerCase().includes(String(Dt).toLowerCase()))}findRow(At,Dt){const re=this.findRowIndex(At,Dt);if(re<0)return{index:-1,row:null,cols:[]};const Pe=this.dt.data.data[re],He=Pe.map(ye=>ye.data);return{index:re,row:Pe,cols:He}}updateRow(At,Dt){const re=Dt.map((Pe,He)=>{const ye=this.dt.columns.settings[He];return hr(Pe,ye)});this.dt.data.data.splice(At,1,re),this.dt.update(!0)}}class xi{constructor(At){this.dt=At,this.init()}init(){[this.settings,this._state]=((At=[],Dt,re)=>{let Pe=[],He=!1;const ye=[];return At.forEach(Le=>{(Array.isArray(Le.select)?Le.select:[Le.select]).forEach(Ve=>{Pe[Ve]||(Pe[Ve]={type:Le.type||Dt,sortable:!0,searchable:!0});const ze=Pe[Ve];Le.render&&(ze.render=Le.render),Le.format?ze.format=Le.format:Le.type==="date"&&(ze.format=re),Le.cellClass&&(ze.cellClass=Le.cellClass),Le.headerClass&&(ze.headerClass=Le.headerClass),Le.locale&&(ze.locale=Le.locale),Le.sortable===!1?ze.sortable=!1:(Le.numeric&&(ze.numeric=Le.numeric),Le.caseFirst&&(ze.caseFirst=Le.caseFirst)),Le.searchable===!1?ze.searchable=!1:Le.sensitivity&&(ze.sensitivity=Le.sensitivity),(ze.searchable||ze.sortable)&&Le.ignorePunctuation&&(ze.ignorePunctuation=Le.ignorePunctuation),Le.hidden&&(ze.hidden=!0),Le.filter&&(ze.filter=Le.filter),Le.sortSequence&&(ze.sortSequence=Le.sortSequence),Le.sort&&(Le.filter?ye[Ve]=Le.sort:He={column:Ve,dir:Le.sort})})}),Pe=Pe.map(Le=>Le||{type:Dt,format:Dt==="date"?re:void 0,sortable:!0,searchable:!0}),[Pe,{filters:ye,sort:He,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}swap(At){if(At.length===2){const Dt=this.dt.data.headings.map((ye,Le)=>Le),re=At[0],Pe=At[1],He=Dt[Pe];return Dt[Pe]=Dt[re],Dt[re]=He,this.order(Dt)}}order(At){this.dt.data.headings=At.map(Dt=>this.dt.data.headings[Dt]),this.dt.data.data=this.dt.data.data.map(Dt=>At.map(re=>Dt[re])),this.settings=At.map(Dt=>this.settings[Dt]),this.dt.update()}hide(At){At.length&&(At.forEach(Dt=>{this.settings[Dt]||(this.settings[Dt]={type:"string"}),this.settings[Dt].hidden=!0}),this.dt.update())}show(At){At.length&&(At.forEach(Dt=>{this.settings[Dt]||(this.settings[Dt]={type:"string",sortable:!0}),delete this.settings[Dt].hidden}),this.dt.update())}visible(At){return At===void 0&&(At=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(At)?At.map(Dt=>!this.settings[Dt]?.hidden):!this.settings[At]?.hidden}add(At){const Dt=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([wn(At.heading)]),this.dt.data.data=this.dt.data.data.map((re,Pe)=>re.concat([hr(At.data[Pe],At)])),this.settings[Dt]={type:At.type||"string",sortable:!0,searchable:!0},At.type||At.format||At.sortable||At.render||At.filter){const re=this.settings[Dt];At.render&&(re.render=At.render),At.format&&(re.format=At.format),At.cellClass&&(re.cellClass=At.cellClass),At.headerClass&&(re.headerClass=At.headerClass),At.locale&&(re.locale=At.locale),At.sortable===!1?re.sortable=!1:(At.numeric&&(re.numeric=At.numeric),At.caseFirst&&(re.caseFirst=At.caseFirst)),At.searchable===!1?re.searchable=!1:At.sensitivity&&(re.sensitivity=At.sensitivity),(re.searchable||re.sortable)&&At.ignorePunctuation&&(re.ignorePunctuation=At.ignorePunctuation),At.hidden&&(re.hidden=!0),At.filter&&(re.filter=At.filter),At.sortSequence&&(re.sortSequence=At.sortSequence)}this.dt.update(!0)}remove(At){if(!Array.isArray(At))return this.remove([At]);this.dt.data.headings=this.dt.data.headings.filter((Dt,re)=>!At.includes(re)),this.dt.data.data=this.dt.data.data.map(Dt=>Dt.filter((re,Pe)=>!At.includes(Pe))),this.dt.update(!0)}filter(At,Dt=!1){if(!this.settings[At]?.filter?.length)return;const re=this._state.filters[At];let Pe;if(re){let He=!1;Pe=this.settings[At].filter.find(ye=>!!He||(ye===re&&(He=!0),!1))}else{const He=this.settings[At].filter;Pe=He?He[0]:void 0}Pe?this._state.filters[At]=Pe:re&&(this._state.filters[At]=void 0),this.dt._currentPage=1,this.dt.update(),Dt||this.dt.emit("datatable.filter",At,Pe)}sort(At,Dt,re=!1){const Pe=this.settings[At];if(re||this.dt.emit("datatable.sorting",At,Dt),!Dt){const ye=!!this._state.sort&&this._state.sort?.dir,Le=Pe?.sortSequence||["asc","desc"];if(ye){const Ve=Le.indexOf(ye);Dt=Ve===-1?"asc":Ve===Le.length-1?Le[0]:Le[Ve+1]}else Dt=Le.length?Le[0]:"asc"}const He=!!["string","html"].includes(Pe.type)&&new Intl.Collator(Pe.locale||this.dt.options.locale,{usage:"sort",numeric:Pe.numeric||this.dt.options.numeric,caseFirst:Pe.caseFirst||this.dt.options.caseFirst,ignorePunctuation:Pe.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((ye,Le)=>{let Ve=ye[At].order||ye[At].data,ze=Le[At].order||Le[At].data;if(Dt==="desc"){const Zn=Ve;Ve=ze,ze=Zn}return He?He.compare(String(Ve),String(ze)):Ve<ze?-1:Ve>ze?1:0}),this._state.sort={column:At,dir:Dt},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",At,Dt)):re||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",At,Dt))}_measureWidths(){const At=this.dt.data.headings.filter((Dt,re)=>!this.settings[re]?.hidden);if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&At?.length){this._state.widths=[];const Dt={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(Dt.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),Dt.noColumnWidths=!0,this.dt._renderTable(Dt);const re=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let Pe=0;const He=this.dt.data.headings.map((Le,Ve)=>{if(this.settings[Ve]?.hidden)return 0;const ze=re[Pe].offsetWidth;return Pe+=1,ze}),ye=He.reduce((Le,Ve)=>Le+Ve,0);this._state.widths=He.map(Le=>Le/ye*100)}else{Dt.renderHeader=!0,this.dt._renderTable(Dt);const re=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]);let Pe=0;const He=this.dt.data.headings.map((Le,Ve)=>{if(this.settings[Ve]?.hidden)return 0;const ze=re[Pe].offsetWidth;return Pe+=1,ze}),ye=He.reduce((Le,Ve)=>Le+Ve,0);this._state.widths=He.map(Le=>Le/ye*100)}this.dt._renderTable()}}}const oi={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"\u2039",nextText:"\u203A",firstText:"\xAB",lastText:"\xBB",ellipsisText:"\u2026",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(Yt,At)=>`<div class='${Yt.classes.top}'>
    ${Yt.paging&&Yt.perPageSelect?`<div class='${Yt.classes.dropdown}'>
            <label>
                <select class='${Yt.classes.selector}'></select> ${Yt.labels.perPage}
            </label>
        </div>`:""}
    ${Yt.searchable?`<div class='${Yt.classes.search}'>
            <input class='${Yt.classes.input}' placeholder='${Yt.labels.placeholder}' type='search' title='${Yt.labels.searchTitle}'${At.id?` aria-controls="${At.id}"`:""}>
        </div>`:""}
</div>
<div class='${Yt.classes.container}'${Yt.scrollY.length?` style='height: ${Yt.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${Yt.classes.bottom}'>
    ${Yt.paging?`<div class='${Yt.classes.info}'></div>`:""}
    <nav class='${Yt.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},zi=(Yt,At,Dt,re={})=>({nodeName:"LI",attributes:{class:re.active&&!re.hidden?`${Dt.classes.paginationListItem} ${Dt.classes.active}`:re.hidden?`${Dt.classes.paginationListItem} ${Dt.classes.hidden} ${Dt.classes.disabled}`:Dt.classes.paginationListItem},childNodes:[{nodeName:"A",attributes:{"data-page":String(Yt),class:Dt.classes.paginationListItemLink},childNodes:[{nodeName:"#text",data:At}]}]}),yi=(Yt,At,Dt,re,Pe)=>{let He=[];if(Pe.firstLast&&He.push(zi(1,Pe.firstText,Pe)),Pe.nextPrev){const Le=Yt?1:Dt-1;He.push(zi(Le,Pe.prevText,Pe,{hidden:Yt}))}let ye=[...Array(re).keys()].map(Le=>zi(Le+1,String(Le+1),Pe,{active:Le===Dt-1}));if(Pe.truncatePager&&(ye=((Le,Ve,ze,Zn)=>{const Ii=Zn.pagerDelta,bi=Zn.classes,ln=Zn.ellipsisText,Vn=2*Ii;let ti=Ve-Ii,Hn=Ve+Ii;Ve<4-Ii+Vn?Hn=3+Vn:Ve>ze-(3-Ii+Vn)&&(ti=ze-(2+Vn));const wi=[];for(let Er=1;Er<=ze;Er++)if(Er==1||Er==ze||Er>=ti&&Er<=Hn){const Or=Le[Er-1];wi.push(Or)}let Dn;const Hi=[];return wi.forEach(Er=>{const Or=parseInt(Er.childNodes[0].attributes["data-page"],10);if(Dn){const Cr=parseInt(Dn.childNodes[0].attributes["data-page"],10);if(Or-Cr==2)Hi.push(Le[Cr]);else if(Or-Cr!=1){const Ji={nodeName:"LI",attributes:{class:`${bi.paginationListItem} ${bi.ellipsis} ${bi.disabled}`},childNodes:[{nodeName:"A",attributes:{class:bi.paginationListItemLink},childNodes:[{nodeName:"#text",data:ln}]}]};Hi.push(Ji)}}Hi.push(Er),Dn=Er}),Hi})(ye,Dt,re,Pe)),He=He.concat(ye),Pe.nextPrev){const Le=At?re:Dt+1;He.push(zi(Le,Pe.nextText,Pe,{hidden:At}))}return Pe.firstLast&&He.push(zi(re,Pe.lastText,Pe)),{nodeName:"UL",attributes:{class:Pe.classes.paginationList},childNodes:ye.length>1?He:[]}},Ar={classes:{row:"datatable-editor-row",form:"datatable-editor-form",item:"datatable-editor-item",menu:"datatable-editor-menu",save:"datatable-editor-save",block:"datatable-editor-block",close:"datatable-editor-close",inner:"datatable-editor-inner",input:"datatable-editor-input",label:"datatable-editor-label",modal:"datatable-editor-modal",action:"datatable-editor-action",header:"datatable-editor-header",wrapper:"datatable-editor-wrapper",editable:"datatable-editor-editable",container:"datatable-editor-container",separator:"datatable-editor-separator"},labels:{closeX:"x",editCell:"Edit Cell",editRow:"Edit Row",removeRow:"Remove Row",reallyRemove:"Are you sure?",reallyClose:"Do you really want to close?",save:"Save"},closeModal:Yt=>confirm(Yt.options.labels.reallyClose),inline:!0,hiddenColumns:!1,contextMenu:!0,clickEvent:"dblclick",excludeColumns:[],menuItems:[{text:Yt=>Yt.options.labels.editCell,action:(Yt,At)=>{if(!(Yt.event.target instanceof Element))return;const Dt=Yt.event.target.closest("td");return Yt.editCell(Dt)}},{text:Yt=>Yt.options.labels.editRow,action:(Yt,At)=>{if(!(Yt.event.target instanceof Element))return;const Dt=Yt.event.target.closest("tr");return Yt.editRow(Dt)}},{separator:!0},{text:Yt=>Yt.options.labels.removeRow,action:(Yt,At)=>{if(Yt.event.target instanceof Element&&confirm(Yt.options.labels.reallyRemove)){const Dt=Yt.event.target.closest("tr");Yt.removeRow(Dt)}}}]};class Kr{constructor(At,Dt={}){this.dt=At,this.options={...Ar,...Dt}}init(){this.initialized||(this.dt.wrapperDOM.classList.add(this.options.classes.editable),this.options.inline&&(this.originalRowRender=this.dt.options.rowRender,this.dt.options.rowRender=(At,Dt,re)=>{let Pe=this.rowRender(At,Dt,re);return this.originalRowRender&&(Pe=this.originalRowRender(At,Pe,re)),Pe}),this.options.contextMenu&&(this.containerDOM=bt("div",{id:this.options.classes.container}),this.wrapperDOM=bt("div",{class:this.options.classes.wrapper}),this.menuDOM=bt("ul",{class:this.options.classes.menu}),this.options.menuItems&&this.options.menuItems.length&&this.options.menuItems.forEach(At=>{const Dt=bt("li",{class:At.separator?this.options.classes.separator:this.options.classes.item});if(!At.separator){const re=bt("a",{class:this.options.classes.action,href:At.url||"#",html:typeof At.text=="function"?At.text(this):At.text});Dt.appendChild(re),At.action&&typeof At.action=="function"&&re.addEventListener("click",Pe=>{Pe.preventDefault(),At.action(this,Pe)})}this.menuDOM.appendChild(Dt)}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this.update()),this.data={},this.closed=!0,this.editing=!1,this.editingRow=!1,this.editingCell=!1,this.bindEvents(),setTimeout(()=>{this.initialized=!0,this.dt.emit("editable.init")},10))}bindEvents(){this.events={context:this.context.bind(this),update:this.update.bind(this),dismiss:this.dismiss.bind(this),keydown:this.keydown.bind(this),click:this.click.bind(this)},this.dt.dom.addEventListener(this.options.clickEvent,this.events.click),document.addEventListener("click",this.events.dismiss),document.addEventListener("keydown",this.events.keydown),this.options.contextMenu&&(this.dt.dom.addEventListener("contextmenu",this.events.context),this.events.reset=function(At,Dt=300){let re;return(...Pe)=>{clearTimeout(re),re=window.setTimeout(()=>At(),Dt)}}(()=>this.events.update(),50),window.addEventListener("resize",this.events.reset),window.addEventListener("scroll",this.events.reset))}context(At){const Dt=At.target;if(!(Dt instanceof Element))return;this.event=At;const re=Dt.closest("tbody td");if(this.options.contextMenu&&!this.disabled&&re){At.preventDefault();let Pe=At.pageX,He=At.pageY;Pe>this.limits.x&&(Pe-=this.rect.width),He>this.limits.y&&(He-=this.rect.height),this.wrapperDOM.style.top=`${He}px`,this.wrapperDOM.style.left=`${Pe}px`,this.openMenu(),this.update()}}click(At){const Dt=At.target;if(Dt instanceof Element){if(this.editing&&this.data&&this.editingCell){const re=this.modalDOM?this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`):this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(re.value)}else if(!this.editing){const re=Dt.closest("tbody td");re&&(this.editCell(re),At.preventDefault())}}}keydown(At){if(this.modalDOM){if(At.key==="Escape")this.options.closeModal(this)&&this.closeModal();else if(At.key==="Enter")if(this.editingCell){const Dt=this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(Dt.value)}else{const Dt=Array.from(this.modalDOM.querySelectorAll(`input.${this.options.classes.input}[type=text]`));this.saveRow(Dt.map(re=>re.value.trim()),this.data.row)}}else if(this.editing&&this.data)if(At.key==="Enter"){if(this.editingCell){const Dt=this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(Dt.value)}else if(this.editingRow){const Dt=Array.from(this.dt.wrapperDOM.querySelectorAll(`input.${this.options.classes.input}[type=text]`));this.saveRow(Dt.map(re=>re.value.trim()),this.data.row)}}else At.key==="Escape"&&this.saveCell(this.data.content)}editCell(At){const Dt=vt(At.cellIndex,this.dt.columns.settings);if(this.options.excludeColumns.includes(Dt))return void this.closeMenu();const re=parseInt(At.parentElement.dataset.index,10),Pe=this.dt.data.data[re][Dt];this.data={cell:Pe,rowIndex:re,columnIndex:Dt,content:Pe.text||String(Pe.data)},this.editing=!0,this.editingCell=!0,this.options.inline?this.dt.update():this.editCellModal(),this.closeMenu()}editCellModal(){const At=this.data.cell,Dt=this.data.columnIndex,re=this.dt.data.headings[Dt].text||String(this.dt.data.headings[Dt].data),Pe=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editCell}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-close>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${_t(re)}</label>`,`<input class='${this.options.classes.input}' value='${_t(At.text||String(At.data)||"")}' type='text'>`,"</div>",`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),He=bt("div",{class:this.options.classes.modal,html:Pe});this.modalDOM=He,this.openModal();const ye=He.querySelector(`input.${this.options.classes.input}[type=text]`);ye.focus(),ye.selectionStart=ye.selectionEnd=ye.value.length,He.addEventListener("click",Le=>{const Ve=Le.target;if(Ve instanceof Element)if(Ve.hasAttribute("data-editor-close")){if(Le.preventDefault(),!this.options.closeModal(this))return;this.closeModal()}else Ve.hasAttribute("data-editor-save")&&(Le.preventDefault(),this.saveCell(ye.value))})}saveCell(At){const Dt=this.data.content,re=this.dt.columns.settings[this.data.columnIndex].type||this.dt.options.type,Pe=At.trim();let He;if(re==="number")He={data:parseFloat(Pe)};else if(re==="boolean")He=["","false","0"].includes(Pe)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if(re==="html")He={data:[{nodeName:"#text",data:At}],text:At,order:At};else if(re==="string")He={data:At};else if(re==="date"){const Ve=this.dt.columns.settings[this.data.columnIndex].format||this.dt.options.format;He={data:At,order:ar(String(At),Ve)}}else He={data:At};this.dt.data.data[this.data.rowIndex][this.data.columnIndex]=He,this.closeModal();const ye=this.data.rowIndex,Le=this.data.columnIndex;this.data={},this.dt.update(!0),this.editing=!1,this.editingCell=!1,this.dt.emit("editable.save.cell",At,Dt,ye,Le)}editRow(At){if(!At||At.nodeName!=="TR"||this.editing)return;const Dt=parseInt(At.dataset.index,10),re=this.dt.data.data[Dt];this.data={row:re,rowIndex:Dt},this.editing=!0,this.editingRow=!0,this.options.inline?this.dt.update():this.editRowModal(),this.closeMenu()}editRowModal(){const At=this.data.row,Dt=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,`<h4>${this.options.labels.editRow}</h4>`,`<button class='${this.options.classes.close}' type='button' data-editor-close>${this.options.labels.closeX}</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>${this.options.labels.save}</button>`,"</div>","</form>","</div>","</div>"].join(""),re=bt("div",{class:this.options.classes.modal,html:Dt}),Pe=re.firstElementChild;if(!Pe)return;const He=Pe.lastElementChild?.firstElementChild;if(!He)return;At.forEach((Le,Ve)=>{const ze=this.dt.columns.settings[Ve];if((!ze.hidden||ze.hidden&&this.options.hiddenColumns)&&!this.options.excludeColumns.includes(Ve)){const Zn=this.dt.data.headings[Ve].text||String(this.dt.data.headings[Ve].data);He.insertBefore(bt("div",{class:this.options.classes.row,html:[`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${_t(Zn)}</label>`,`<input class='${this.options.classes.input}' value='${_t(Le.text||String(Le.data)||"")}' type='text'>`,"</div>"].join("")}),He.lastElementChild)}}),this.modalDOM=re,this.openModal();const ye=Array.from(He.querySelectorAll(`input.${this.options.classes.input}[type=text]`));ye.pop(),re.addEventListener("click",Le=>{const Ve=Le.target;Ve instanceof Element&&(Ve.hasAttribute("data-editor-close")?this.options.closeModal(this)&&this.closeModal():Ve.hasAttribute("data-editor-save")&&this.saveRow(ye.map(ze=>ze.value.trim()),this.data.row))})}saveRow(At,Dt){const re=Dt.map(Pe=>Pe.text??String(Pe.data));this.dt.data.data[this.data.rowIndex]=this.dt.data.data[this.data.rowIndex].map((Pe,He)=>{if(this.dt.columns.settings[He].hidden||this.options.excludeColumns.includes(He))return Pe;const ye=this.dt.columns.settings[He].type||this.dt.options.type,Le=At[Pt(He,this.dt.columns.settings)],Ve=Le.trim();let ze;if(ye==="number")ze={data:parseFloat(Ve)};else if(ye==="boolean")ze=["","false","0"].includes(Ve)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if(ye==="html")ze={data:[{nodeName:"#text",data:Le}],text:Le,order:Le};else if(ye==="string")ze={data:Le};else if(ye==="date"){const Zn=this.dt.columns.settings[He].format||this.dt.options.format;ze={data:Le,order:ar(String(Le),Zn)}}else ze={data:Le};return ze}),this.data={},this.dt.update(!0),this.closeModal(),this.dt.emit("editable.save.row",At,re,Dt)}openModal(){this.modalDOM&&document.body.appendChild(this.modalDOM)}closeModal(){this.editing&&this.modalDOM&&(document.body.removeChild(this.modalDOM),this.modalDOM=this.editing=this.editingRow=this.editingCell=!1)}removeRow(At){if(!At||At.nodeName!=="TR"||this.editing)return;const Dt=parseInt(At.dataset.index,10);this.dt.rows.remove(Dt),this.closeMenu()}update(){const At=window.scrollX||window.pageXOffset,Dt=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+At-this.rect.width,y:window.innerHeight+Dt-this.rect.height}}dismiss(At){const Dt=At.target;if(!(Dt instanceof Element)||this.wrapperDOM.contains(Dt))return;let re=!0;this.options.contextMenu&&this.editing&&(re=!Dt.matches(`input.${this.options.classes.input}[type=text]`)),re&&this.closeMenu()}openMenu(){if(this.editing&&this.data&&this.editingCell){const At=this.modalDOM?this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`):this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(At.value)}this.options.contextMenu&&(document.body.appendChild(this.containerDOM),this.closed=!1,this.dt.emit("editable.context.open"))}closeMenu(){this.options.contextMenu&&!this.closed&&(this.closed=!0,document.body.removeChild(this.containerDOM),this.dt.emit("editable.context.close"))}destroy(){this.dt.dom.removeEventListener(this.options.clickEvent,this.events.click),this.dt.dom.removeEventListener("contextmenu",this.events.context),document.removeEventListener("click",this.events.dismiss),document.removeEventListener("keydown",this.events.keydown),window.removeEventListener("resize",this.events.reset),window.removeEventListener("scroll",this.events.reset),document.body.contains(this.containerDOM)&&document.body.removeChild(this.containerDOM),this.options.inline&&(this.dt.options.rowRender=this.originalRowRender),this.initialized=!1}rowRender(At,Dt,re){return!this.data||this.data.rowIndex!==re||(this.editingCell?Dt.childNodes[Pt(this.data.columnIndex,this.dt.columns.settings)].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:this.data.content,class:this.options.classes.input}}]:Dt.childNodes.forEach((Pe,He)=>{const ye=vt(He,this.dt.columns.settings),Le=At[ye];this.options.excludeColumns.includes(ye)||(Dt.childNodes[He].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:_t(Le.text||String(Le.data)||""),class:this.options.classes.input}}])})),Dt}}$t.DataTable=class{constructor(Yt,At={}){const Dt=typeof Yt=="string"?document.querySelector(Yt):Yt;Dt instanceof HTMLTableElement?this.dom=Dt:(this.dom=document.createElement("table"),Dt.appendChild(this.dom));const re={...oi.labels,...At.labels},Pe={...oi.classes,...At.classes};this.options={...oi,...At,labels:re,classes:Pe},this._initialInnerHTML=this.options.destroyable?this.dom.innerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new Qe({valueDiffing:!1}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||this.dom.classList.contains(this.options.classes.table))return!1;this._virtualDOM=Fn(this.dom,{valueDiffing:!1}),this._tableAttributes={...this._virtualDOM.attributes},this.rows=new si(this),this.columns=new xi(this),this.data=Wn(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=bt("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const Yt=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);Yt&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(At=>{const[Dt,re]=Array.isArray(At)?[At[0],At[1]]:[String(At),At],Pe=re===this.options.perPage,He=new Option(Dt,String(re),Pe,Pe);Yt.appendChild(He)}):Yt&&Yt.parentElement.removeChild(Yt),this.containerDOM=this.wrapperDOM.querySelector(`.${this.options.classes.container}`),this._pagerDOMs=[],Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.pagination}`)).forEach(At=>{At instanceof HTMLElement&&(At.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(At.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}},this._label=this.wrapperDOM.querySelector(`.${this.options.classes.info}`),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(Yt={}){let At=_n(this._tableAttributes,this.data.headings,(this.options.paging||this._searchQueries.length)&&this._currentPage&&this.pages.length&&!Yt.noPaging?this.pages[this._currentPage-1]:this.data.data.map((re,Pe)=>({row:re,index:Pe})),this.columns.settings,this.columns._state,this.rows.cursor,this.options,Yt);if(this.options.tableRender){const re=this.options.tableRender(this.data,At,"main");re&&(At=re)}const Dt=this._dd.diff(this._virtualDOM,At);this._dd.apply(this.dom,Dt),this._virtualDOM=At}_renderPage(Yt=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let At,Dt=0,re=0,Pe=0;if(this.totalPages&&(Dt=this._currentPage-1,re=Dt*this.options.perPage,Pe=re+this.pages[Dt].length,re+=1,At=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const He=this.options.labels.info.replace("{start}",String(re)).replace("{end}",String(Pe)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(At));this._label.innerHTML=At?He:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(He=>He.index===this.rows.cursor))){const He=this.pages[this._currentPage-1];He.length&&(Yt?this.rows.setCursor(He[He.length-1].index):this.rows.setCursor(He[0].index))}}_renderPagers(){if(!this.options.paging)return;let Yt=yi(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const Dt=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],Yt);Dt&&(Yt=Dt)}const At=this._dd.diff(this._virtualPagerDOM,Yt);this._pagerDOMs.forEach(Dt=>{this._dd.apply(Dt,At)}),this._virtualPagerDOM=Yt}_renderSeparateHeader(){const Yt=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),Yt.parentElement.insertBefore(this.headerDOM,Yt);let At={nodeName:"TABLE",attributes:{class:this.options.classes.table},childNodes:[{nodeName:"THEAD",childNodes:[Te(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(this.options.tableRender){const He=this.options.tableRender(this.data,At,"header");He&&(At=He)}const Dt={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[At]},re=this._dd.diff(this._virtualHeaderDOM,Dt);this._dd.apply(this.headerDOM,re),this._virtualHeaderDOM=Dt;const Pe=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(Pe){const He=structuredClone(this._virtualHeaderDOM);He.attributes.style=`padding-right: ${Pe}px;`;const ye=this._dd.diff(this._virtualHeaderDOM,He);this._dd.apply(this.headerDOM,ye),this._virtualHeaderDOM=He}Yt.scrollHeight>Yt.clientHeight&&(Yt.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const Yt=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);Yt&&Yt instanceof HTMLSelectElement&&Yt.addEventListener("change",()=>{this.options.perPage=parseInt(Yt.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("keyup",Yt=>{const At=Yt.target;if(!(At instanceof HTMLInputElement&&At.matches(`.${this.options.classes.input}`)))return;Yt.preventDefault();const Dt=Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).filter(re=>re.value.length).map(re=>re.dataset.columns?{term:re.value,columns:JSON.parse(re.dataset.columns)}:{term:re.value,columns:void 0});if(Dt.length===1){const re=Dt[0];this.search(re.term,re.columns)}else this.multiSearch(Dt)}),this.wrapperDOM.addEventListener("click",Yt=>{const At=Yt.target.closest("a");if(At){if(At.hasAttribute("data-page"))this.page(parseInt(At.getAttribute("data-page"),10)),Yt.preventDefault();else if(At.classList.contains(this.options.classes.sorter)){const Dt=Array.from(At.parentElement.parentElement.children).indexOf(At.parentElement),re=vt(Dt,this.columns.settings);this.columns.sort(re),Yt.preventDefault()}else if(At.classList.contains(this.options.classes.filter)){const Dt=Array.from(At.parentElement.parentElement.children).indexOf(At.parentElement),re=vt(Dt,this.columns.settings);this.columns.filter(re),Yt.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",Yt=>{if(Yt.key==="ArrowUp"){let At;Yt.preventDefault(),Yt.stopPropagation(),this.pages[this._currentPage-1].find(Dt=>Dt.index===this.rows.cursor||(At=Dt,!1)),At?this.rows.setCursor(At.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(Yt.key==="ArrowDown"){let At;Yt.preventDefault(),Yt.stopPropagation();const Dt=this.pages[this._currentPage-1].find(re=>!!At||(re.index===this.rows.cursor&&(At=!0),!1));Dt?this.rows.setCursor(Dt.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(Yt.key)&&this.emit("datatable.selectrow",this.rows.cursor,Yt)}),this.dom.addEventListener("mousedown",Yt=>{const At=Yt.target;if(At instanceof Element&&this.dom.matches(":focus")){const Dt=Array.from(this.dom.querySelectorAll("body tr")).find(re=>re.contains(At));Dt&&Dt instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(Dt.dataset.index,10),Yt)}})):this.dom.addEventListener("mousedown",Yt=>{const At=Yt.target;if(!(At instanceof Element))return;const Dt=Array.from(this.dom.querySelectorAll("body tr")).find(re=>re.contains(At));Dt&&Dt instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(Dt.dataset.index,10),Yt)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){this.options.destroyable&&(this.dom.innerHTML=this._initialInnerHTML,this.dom.classList.remove(this.options.classes.table),this.wrapperDOM.parentElement&&this.wrapperDOM.parentElement.replaceChild(this.dom,this.wrapperDOM),this.initialized=!1,window.removeEventListener("resize",this._listeners.onResize))}update(Yt=!1){Yt&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),this.wrapperDOM.classList.remove(this.options.classes.empty),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let Yt=this.data.data.map((At,Dt)=>({row:At,index:Dt}));return this._searchQueries.length&&(Yt=[],this._searchData.forEach(At=>Yt.push({index:At,row:this.data.data[At]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((At,Dt)=>{At&&(Yt=Yt.filter(re=>typeof At=="function"?At(re.row[Dt].data):(re.row[Dt].text??re.row[Dt].data)===At))}),this.options.paging&&this.options.perPage>0?this.pages=Yt.map((At,Dt)=>Dt%this.options.perPage==0?Yt.slice(Dt,Dt+this.options.perPage):null).filter(At=>At):this.pages=[Yt],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(Yt,At){if(!Yt.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{term:Yt,columns:At||void 0}]),this.emit("datatable.search",Yt,this._searchData)}multiSearch(Yt){if(!this.hasRows)return!1;if(this._currentPage=1,this._searchQueries=Yt,this._searchData=[],!(Yt=Yt.filter(Dt=>Dt.term.length)).length)return this.update(),this.emit("datatable.multisearch",Yt,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const At=Yt.map(Dt=>this.columns.settings.map((re,Pe)=>{if(re.hidden||!re.searchable||Dt.columns&&!Dt.columns.includes(Pe))return!1;let He=Dt.term;const ye=re.sensitivity||this.options.sensitivity;return["base","accent"].includes(ye)&&(He=He.toLowerCase()),["base","case"].includes(ye)&&(He=He.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(re.ignorePunctuation||this.options.ignorePunctuation)&&(He=He.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,"")),He}));this.data.data.forEach((Dt,re)=>{const Pe=Dt.map((He,ye)=>{let Le=(He.text||String(He.data)).trim();if(Le.length){const Ve=this.columns.settings[ye],ze=Ve.sensitivity||this.options.sensitivity;["base","accent"].includes(ze)&&(Le=Le.toLowerCase()),["base","case"].includes(ze)&&(Le=Le.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(Ve.ignorePunctuation||this.options.ignorePunctuation)&&(Le=Le.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}return Le});At.every(He=>He.find((ye,Le)=>!!ye&&ye.split(" ").find(Ve=>Pe[Le].includes(Ve))))&&this._searchData.push(re)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",Yt,this._searchData)}page(Yt,At=!1){return Yt!==this._currentPage&&(isNaN(Yt)||(this._currentPage=Yt),!(Yt>this.pages.length||Yt<0)&&(this._renderPage(At),this._renderPagers(),void this.emit("datatable.page",Yt)))}insert(Yt){let At=[];if(Array.isArray(Yt)){const Dt=this.data.headings.map(re=>re.text??String(re.data));Yt.forEach((re,Pe)=>{const He=[];Object.entries(re).forEach(([ye,Le])=>{const Ve=Dt.indexOf(ye);Ve>-1?He[Ve]=hr(Le,this.columns.settings[Ve]):this.hasHeadings||this.hasRows||Pe!==0||(He[Dt.length]=hr(Le,this.columns.settings[Dt.length]),Dt.push(ye),this.data.headings.push(wn(ye)))}),At.push(He)})}else Jt(Yt)&&(!Yt.headings||this.hasHeadings||this.hasRows?Yt.data&&Array.isArray(Yt.data)&&(At=Yt.data.map(Dt=>Dt.map((re,Pe)=>hr(re,this.columns.settings[Pe])))):this.data=Wn(Yt,void 0,this.columns.settings,this.options.type,this.options.format));At.length&&At.forEach(Dt=>this.data.data.push(Dt)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){this.options.searchable&&(Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).forEach(Yt=>{Yt.value=""}),this._searchQueries=[]),this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const Yt=bt("table");let At=_n(this._tableAttributes,this.data.headings,this.data.data.map((Pe,He)=>({row:Pe,index:He})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0});if(this.options.tableRender){const Pe=this.options.tableRender(this.data,At,"print");Pe&&(At=Pe)}const Dt=this._dd.diff({nodeName:"TABLE"},At);this._dd.apply(Yt,Dt);const re=window.open();re.document.body.appendChild(Yt),re.print()}setMessage(Yt){const At=this.data.headings.filter((Pe,He)=>!this.columns.settings[He]?.hidden).length||1;this.wrapperDOM.classList.add(this.options.classes.empty),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let Dt={nodeName:"TABLE",attributes:{class:this.options.classes.table},childNodes:[{nodeName:"THEAD",childNodes:[Te(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(At)},childNodes:[{nodeName:"#text",data:Yt}]}]}]}]};if(this.options.tableRender){const Pe=this.options.tableRender(this.data,Dt,"message");Pe&&(Dt=Pe)}const re=this._dd.diff(this._virtualDOM,Dt);this._dd.apply(this.dom,re),this._virtualDOM=Dt}on(Yt,At){this._events[Yt]=this._events[Yt]||[],this._events[Yt].push(At)}off(Yt,At){Yt in this._events&&this._events[Yt].splice(this._events[Yt].indexOf(At),1)}emit(Yt,...At){if(Yt in this._events)for(let Dt=0;Dt<this._events[Yt].length;Dt++)this._events[Yt][Dt](...At)}},$t.convertCSV=function(Yt){let At;if(!Jt(Yt))return!1;const Dt={lineDelimiter:`
`,columnDelimiter:",",removeDoubleQuotes:!1,...Yt};if(Dt.data.length){At={data:[]};const re=Dt.data.split(Dt.lineDelimiter);if(re.length&&(Dt.headings&&(At.headings=re[0].split(Dt.columnDelimiter),Dt.removeDoubleQuotes&&(At.headings=At.headings.map(Pe=>Pe.trim().replace(/(^"|"$)/g,""))),re.shift()),re.forEach((Pe,He)=>{At.data[He]=[];const ye=Pe.split(Dt.columnDelimiter);ye.length&&ye.forEach(Le=>{Dt.removeDoubleQuotes&&(Le=Le.trim().replace(/(^"|"$)/g,"")),At.data[He].push(Le)})})),At)return At}return!1},$t.convertJSON=function(Yt){let At;if(!Jt(Yt))return!1;const Dt={data:"",...Yt};if(Dt.data.length||Jt(Dt.data)){const re=!!Vt(Dt.data)&&JSON.parse(Dt.data);if(re?(At={headings:[],data:[]},re.forEach((Pe,He)=>{At.data[He]=[],Object.entries(Pe).forEach(([ye,Le])=>{At.headings.includes(ye)||At.headings.push(ye),At.data[He].push(Le)})})):console.warn("That's not valid JSON!"),At)return At}return!1},$t.createElement=bt,$t.exportCSV=function(Yt,At={}){if(!Yt.hasHeadings&&!Yt.hasRows||!Jt(At))return!1;const Dt={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...At},re=ye=>!Dt.skipColumn.includes(ye)&&!Yt.columns.settings[ye]?.hidden;let Pe=[];const He=Yt.data.headings.filter((ye,Le)=>re(Le)).map(ye=>ye.text??ye.data);if(Pe[0]=He,Dt.selection)if(Array.isArray(Dt.selection))for(let ye=0;ye<Dt.selection.length;ye++)Pe=Pe.concat(Yt.pages[Dt.selection[ye]-1].map(Le=>Le.row.filter((Ve,ze)=>re(ze)).map(Ve=>Ve.text??Ve.data)));else Pe=Pe.concat(Yt.pages[Dt.selection-1].map(ye=>ye.row.filter((Le,Ve)=>re(Ve)).map(Le=>Le.text??Le.data)));else Pe=Pe.concat(Yt.data.data.map(ye=>ye.filter((Le,Ve)=>re(Ve)).map(Le=>Le.text??Le.data)));if(Pe.length){let ye="";if(Pe.forEach(Le=>{Le.forEach(Ve=>{typeof Ve=="string"&&(Ve=(Ve=(Ve=(Ve=(Ve=Ve.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(Ve=`"${Ve}"`),ye+=Ve+Dt.columnDelimiter}),ye=ye.trim().substring(0,ye.length-1),ye+=Dt.lineDelimiter}),ye=ye.trim().substring(0,ye.length-1),Dt.download){const Le=document.createElement("a");Le.href=encodeURI(`data:text/csv;charset=utf-8,${ye}`),Le.download=`${Dt.filename||"datatable_export"}.csv`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}return ye}return!1},$t.exportJSON=function(Yt,At={}){if(!Yt.hasHeadings&&!Yt.hasRows||!Jt(At))return!1;const Dt={download:!0,skipColumn:[],replacer:null,space:4,...At},re=ye=>!Dt.skipColumn.includes(ye)&&!Yt.columns.settings[ye]?.hidden;let Pe=[];if(Dt.selection)if(Array.isArray(Dt.selection))for(let ye=0;ye<Dt.selection.length;ye++)Pe=Pe.concat(Yt.pages[Dt.selection[ye]-1].map(Le=>Le.row.filter((Ve,ze)=>re(ze)).map(Ve=>Ve.data)));else Pe=Pe.concat(Yt.pages[Dt.selection-1].map(ye=>ye.row.filter((Le,Ve)=>re(Ve)).map(Le=>Le.data)));else Pe=Pe.concat(Yt.data.data.map(ye=>ye.filter((Le,Ve)=>re(Ve)).map(Le=>Le.data)));const He=Yt.data.headings.filter((ye,Le)=>re(Le)).map(ye=>ye.text??String(ye.data));if(Pe.length){const ye=[];Pe.forEach((Ve,ze)=>{ye[ze]=ye[ze]||{},Ve.forEach((Zn,Ii)=>{ye[ze][He[Ii]]=Zn})});const Le=JSON.stringify(ye,Dt.replacer,Dt.space);if(Dt.download){const Ve=new Blob([Le],{type:"data:application/json;charset=utf-8"}),ze=URL.createObjectURL(Ve),Zn=document.createElement("a");Zn.href=ze,Zn.download=`${Dt.filename||"datatable_export"}.json`,document.body.appendChild(Zn),Zn.click(),document.body.removeChild(Zn),URL.revokeObjectURL(ze)}return Le}return!1},$t.exportSQL=function(Yt,At={}){if(!Yt.hasHeadings&&!Yt.hasRows||!Jt(At))return!1;const Dt={download:!0,skipColumn:[],tableName:"myTable",...At},re=ye=>!Dt.skipColumn.includes(ye)&&!Yt.columns.settings[ye]?.hidden;let Pe=[];if(Dt.selection)if(Array.isArray(Dt.selection))for(let ye=0;ye<Dt.selection.length;ye++)Pe=Pe.concat(Yt.pages[Dt.selection[ye]-1].map(Le=>Le.row.filter((Ve,ze)=>re(ze)).map(Ve=>Ve.text??Ve.data)));else Pe=Pe.concat(Yt.pages[Dt.selection-1].map(ye=>ye.row.filter((Le,Ve)=>re(Ve)).map(Le=>Le.text??Le.data)));else Pe=Pe.concat(Yt.data.data.map(ye=>ye.filter((Le,Ve)=>re(Ve)).map(Le=>Le.data)));const He=Yt.data.headings.filter((ye,Le)=>re(Le)).map(ye=>ye.text??String(ye.data));if(Pe.length){let ye=`INSERT INTO \`${Dt.tableName}\` (`;if(He.forEach(Le=>{ye+=`\`${Le}\`,`}),ye=ye.trim().substring(0,ye.length-1),ye+=") VALUES ",Pe.forEach(Le=>{ye+="(",Le.forEach(Ve=>{ye+=typeof Ve=="string"?`"${Ve}",`:`${Ve},`}),ye=ye.trim().substring(0,ye.length-1),ye+="),"}),ye=ye.trim().substring(0,ye.length-1),ye+=";",Dt.download&&(ye=`data:application/sql;charset=utf-8,${ye}`),Dt.download){const Le=document.createElement("a");Le.href=encodeURI(ye),Le.download=`${Dt.filename||"datatable_export"}.sql`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}return ye}return!1},$t.exportTXT=function(Yt,At={}){if(!Yt.hasHeadings&&!Yt.hasRows||!Jt(At))return!1;const Dt={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...At},re=ye=>!Dt.skipColumn.includes(ye)&&!Yt.columns.settings[ye]?.hidden;let Pe=[];const He=Yt.data.headings.filter((ye,Le)=>re(Le)).map(ye=>ye.text??ye.data);if(Pe[0]=He,Dt.selection)if(Array.isArray(Dt.selection))for(let ye=0;ye<Dt.selection.length;ye++)Pe=Pe.concat(Yt.pages[Dt.selection[ye]-1].map(Le=>Le.row.filter((Ve,ze)=>re(ze)).map(Ve=>Ve.data)));else Pe=Pe.concat(Yt.pages[Dt.selection-1].map(ye=>ye.row.filter((Le,Ve)=>re(Ve)).map(Le=>Le.data)));else Pe=Pe.concat(Yt.data.data.map(ye=>ye.filter((Le,Ve)=>re(Ve)).map(Le=>Le.data)));if(Pe.length){let ye="";if(Pe.forEach(Le=>{Le.forEach(Ve=>{typeof Ve=="string"&&(Ve=(Ve=(Ve=(Ve=(Ve=Ve.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(Ve=`"${Ve}"`),ye+=Ve+Dt.columnDelimiter}),ye=ye.trim().substring(0,ye.length-1),ye+=Dt.lineDelimiter}),ye=ye.trim().substring(0,ye.length-1),Dt.download&&(ye=`data:text/csv;charset=utf-8,${ye}`),Dt.download){const Le=document.createElement("a");Le.href=encodeURI(ye),Le.download=`${Dt.filename||"datatable_export"}.txt`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}return ye}return!1},$t.isJson=Vt,$t.isObject=Jt,$t.makeEditable=function(Yt,At={}){const Dt=new Kr(Yt,At);return Yt.initialized?Dt.init():Yt.on("datatable.init",()=>Dt.init()),Dt}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[1])(1)}),function(){"use strict";var Ye=function(s){if(s===null)return"null";if(s===void 0)return"undefined";var c=typeof s;return c==="object"&&(Array.prototype.isPrototypeOf(s)||s.constructor&&s.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(s)||s.constructor&&s.constructor.name==="String")?"string":c},Gt=function(s){return{eq:s}},Tt=Gt(function(s,c){return s===c}),Qt=function(s){return Gt(function(c,p){if(c.length!==p.length)return!1;for(var m=c.length,x=0;x<m;x++)if(!s.eq(c[x],p[x]))return!1;return!0})},Oe=function(s){return Gt(function(c,p){var m=Object.keys(c),x=Object.keys(p);if(!function(F,j){return function(U,Z){return Gt(function(dt,gt){return U.eq(Z(dt),Z(gt))})}(Qt(F),function(U){return function(Z,dt){return Array.prototype.slice.call(Z).sort(dt)}(U,j)})}(Tt).eq(m,x))return!1;for(var w=m.length,T=0;T<w;T++){var P=m[T];if(!s.eq(c[P],p[P]))return!1}return!0})},$t=Gt(function(s,c){if(s===c)return!0;var p=Ye(s);return p===Ye(c)&&(function(m){return["undefined","boolean","number","string","function","xml","null"].indexOf(m)!==-1}(p)?s===c:p==="array"?Qt($t).eq(s,c):p==="object"&&Oe($t).eq(s,c))});const ue=Object.getPrototypeOf,Jt=(s,c,p)=>{var m;return!!p(s,c.prototype)||((m=s.constructor)===null||m===void 0?void 0:m.name)===c.name},Vt=s=>c=>(p=>{const m=typeof p;return p===null?"null":m==="object"&&Array.isArray(p)?"array":m==="object"&&Jt(p,String,(x,w)=>w.isPrototypeOf(x))?"string":m})(c)===s,bt=s=>c=>typeof c===s,ft=s=>c=>s===c,_t=(s,c)=>Pt(s)&&Jt(s,c,(p,m)=>ue(p)===m),vt=Vt("string"),Pt=Vt("object"),kt=s=>_t(s,Object),wt=Vt("array"),ct=ft(null),ie=bt("boolean"),It=ft(void 0),Wt=s=>s==null,te=s=>!Wt(s),fe=bt("function"),Me=bt("number"),ve=(s,c)=>{if(wt(s)){for(let p=0,m=s.length;p<m;++p)if(!c(s[p]))return!1;return!0}return!1},le=()=>{},Xt=(s,c)=>(...p)=>s(c.apply(null,p)),Kt=(s,c)=>p=>s(c(p)),ne=s=>()=>s,De=s=>s,me=(s,c)=>s===c;function Ne(s,...c){return(...p)=>{const m=c.concat(p);return s.apply(null,m)}}const Fn=s=>c=>!s(c),dn=s=>()=>{throw new Error(s)},gn=s=>s(),jt=s=>{s()},Fe=ne(!1),ht=ne(!0);class lt{constructor(c,p){this.tag=c,this.value=p}static some(c){return new lt(!0,c)}static none(){return lt.singletonNone}fold(c,p){return this.tag?p(this.value):c()}isSome(){return this.tag}isNone(){return!this.tag}map(c){return this.tag?lt.some(c(this.value)):lt.none()}bind(c){return this.tag?c(this.value):lt.none()}exists(c){return this.tag&&c(this.value)}forall(c){return!this.tag||c(this.value)}filter(c){return!this.tag||c(this.value)?this:lt.none()}getOr(c){return this.tag?this.value:c}or(c){return this.tag?this:c}getOrThunk(c){return this.tag?this.value:c()}orThunk(c){return this.tag?this:c()}getOrDie(c){if(this.tag)return this.value;throw new Error(c??"Called getOrDie on None")}static from(c){return te(c)?lt.some(c):lt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(c){this.tag&&c(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lt.singletonNone=new lt(!1);const an=Array.prototype.slice,en=Array.prototype.indexOf,je=Array.prototype.push,Qe=(s,c)=>en.call(s,c),Te=(s,c)=>Qe(s,c)>-1,_n=(s,c)=>{for(let p=0,m=s.length;p<m;p++)if(c(s[p],p))return!0;return!1},Be=(s,c)=>{const p=s.length,m=new Array(p);for(let x=0;x<p;x++){const w=s[x];m[x]=c(w,x)}return m},Ge=(s,c)=>{for(let p=0,m=s.length;p<m;p++)c(s[p],p)},Mn=(s,c)=>{for(let p=s.length-1;p>=0;p--)c(s[p],p)},wr=(s,c)=>{const p=[],m=[];for(let x=0,w=s.length;x<w;x++){const T=s[x];(c(T,x)?p:m).push(T)}return{pass:p,fail:m}},Ln=(s,c)=>{const p=[];for(let m=0,x=s.length;m<x;m++){const w=s[m];c(w,m)&&p.push(w)}return p},di=(s,c,p)=>(Mn(s,(m,x)=>{p=c(p,m,x)}),p),ar=(s,c,p)=>(Ge(s,(m,x)=>{p=c(p,m,x)}),p),hr=(s,c,p)=>{for(let m=0,x=s.length;m<x;m++){const w=s[m];if(c(w,m))return lt.some(w);if(p(w,m))break}return lt.none()},wn=(s,c)=>hr(s,c,Fe),Wn=(s,c)=>{for(let p=0,m=s.length;p<m;p++)if(c(s[p],p))return lt.some(p);return lt.none()},si=s=>{const c=[];for(let p=0,m=s.length;p<m;++p){if(!wt(s[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+s);je.apply(c,s[p])}return c},xi=(s,c)=>si(Be(s,c)),oi=(s,c)=>{for(let p=0,m=s.length;p<m;++p)if(c(s[p],p)!==!0)return!1;return!0},zi=s=>{const c=an.call(s,0);return c.reverse(),c},yi=(s,c)=>Ln(s,p=>!Te(c,p)),Ar=(s,c)=>{const p={};for(let m=0,x=s.length;m<x;m++){const w=s[m];p[String(w)]=c(w,m)}return p},Kr=(s,c)=>{const p=an.call(s,0);return p.sort(c),p},Yt=(s,c)=>c>=0&&c<s.length?lt.some(s[c]):lt.none(),At=s=>Yt(s,0),Dt=s=>Yt(s,s.length-1),re=fe(Array.from)?Array.from:s=>an.call(s),Pe=(s,c)=>{for(let p=0;p<s.length;p++){const m=c(s[p],p);if(m.isSome())return m}return lt.none()},He=Object.keys,ye=Object.hasOwnProperty,Le=(s,c)=>{const p=He(s);for(let m=0,x=p.length;m<x;m++){const w=p[m];c(s[w],w)}},Ve=(s,c)=>ze(s,(p,m)=>({k:m,v:c(p,m)})),ze=(s,c)=>{const p={};return Le(s,(m,x)=>{const w=c(m,x);p[w.k]=w.v}),p},Zn=s=>(c,p)=>{s[p]=c},Ii=(s,c,p,m)=>{Le(s,(x,w)=>{(c(x,w)?p:m)(x,w)})},bi=(s,c)=>{const p={};return Ii(s,c,Zn(p),le),p},ln=(s,c)=>{const p=[];return Le(s,(m,x)=>{p.push(c(m,x))}),p},Vn=s=>ln(s,De),ti=(s,c)=>Hn(s,c)?lt.from(s[c]):lt.none(),Hn=(s,c)=>ye.call(s,c),wi=(s,c)=>Hn(s,c)&&s[c]!==void 0&&s[c]!==null,Dn=s=>{const c={};return Ge(s,p=>{c[p]={}}),He(c)},Hi=s=>s.length!==void 0,Er=Array.isArray,Or=(s,c,p)=>{if(!s)return!1;if(p=p||s,Hi(s)){for(let m=0,x=s.length;m<x;m++)if(c.call(p,s[m],m,s)===!1)return!1}else for(const m in s)if(Hn(s,m)&&c.call(p,s[m],m,s)===!1)return!1;return!0},Cr=(s,c)=>{const p=[];return Or(s,(m,x)=>{p.push(c(m,x,s))}),p},Ji=(s,c)=>{const p=[];return Or(s,(m,x)=>{c&&!c(m,x,s)||p.push(m)}),p},Fi=(s,c,p,m)=>{let x=It(p)?s[0]:p;for(let w=0;w<s.length;w++)x=c.call(m,x,s[w],w);return x},jr=(s,c,p)=>{for(let m=0,x=s.length;m<x;m++)if(c.call(p,s[m],m,s))return m;return-1},Tr=s=>s[s.length-1],Yi=s=>{let c,p=!1;return(...m)=>(p||(p=!0,c=s.apply(null,m)),c)},gi=()=>ii(0,0),ii=(s,c)=>({major:s,minor:c}),Qi={nu:ii,detect:(s,c)=>{const p=String(c).toLowerCase();return s.length===0?gi():((m,x)=>{const w=((P,F)=>{for(let j=0;j<P.length;j++){const U=P[j];if(U.test(F))return U}})(m,x);if(!w)return{major:0,minor:0};const T=P=>Number(x.replace(w,"$"+P));return ii(T(1),T(2))})(s,p)},unknown:gi},hi=(s,c)=>{const p=String(c).toLowerCase();return wn(s,m=>m.search(p))},$i=(s,c,p)=>c===""||s.length>=c.length&&s.substr(p,p+c.length)===c,ji=(s,c)=>Ui(s,c)?((p,m)=>p.substring(m))(s,c.length):s,Wi=(s,c,p=0,m)=>{const x=s.indexOf(c,p);return x!==-1&&(!!It(m)||x+c.length<=m)},Ui=(s,c)=>$i(s,c,0),qt=(s,c)=>$i(s,c,s.length-c.length),h=s=>c=>c.replace(s,""),d=h(/^\s+|\s+$/g),y=h(/^\s+/g),C=h(/\s+$/g),M=s=>s.length>0,O=s=>!M(s),N=(s,c=10)=>{const p=parseInt(s,c);return isNaN(p)?lt.none():lt.some(p)},V=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=s=>c=>Wi(c,s),K=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>Wi(s,"edge/")&&Wi(s,"chrome")&&Wi(s,"safari")&&Wi(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,V],search:s=>Wi(s,"chrome")&&!Wi(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>Wi(s,"msie")||Wi(s,"trident")},{name:"Opera",versionRegexes:[V,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[V,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(Wi(s,"safari")||Wi(s,"mobile/"))&&Wi(s,"applewebkit")}],J=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>Wi(s,"iphone")||Wi(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],it={browsers:ne(K),oses:ne(J)},pt="Edge",Et="Chromium",Nt="Opera",ee="Firefox",he="Safari",Ae=s=>{const c=s.current,p=s.version,m=x=>()=>c===x;return{current:c,version:p,isEdge:m(pt),isChromium:m(Et),isIE:m("IE"),isOpera:m(Nt),isFirefox:m(ee),isSafari:m(he)}},W=()=>Ae({current:void 0,version:Qi.unknown()}),rt=Ae,Ot=(ne(pt),ne(Et),ne("IE"),ne(Nt),ne(ee),ne(he),"Windows"),ce="Android",xe="Linux",Ie="macOS",on="Solaris",un="FreeBSD",Bn="ChromeOS",jn=s=>{const c=s.current,p=s.version,m=x=>()=>c===x;return{current:c,version:p,isWindows:m(Ot),isiOS:m("iOS"),isAndroid:m(ce),isMacOS:m(Ie),isLinux:m(xe),isSolaris:m(on),isFreeBSD:m(un),isChromeOS:m(Bn)}},ai=()=>jn({current:void 0,version:Qi.unknown()}),ci=jn,vr=(ne(Ot),ne("iOS"),ne(ce),ne(xe),ne(Ie),ne(on),ne(un),ne(Bn),s=>window.matchMedia(s).matches);let rr=Yi(()=>((s,c,p)=>{const m=it.browsers(),x=it.oses(),w=c.bind(F=>((j,U)=>Pe(U.brands,Z=>{const dt=Z.brand.toLowerCase();return wn(j,gt=>{var ut;return dt===((ut=gt.brand)===null||ut===void 0?void 0:ut.toLowerCase())}).map(gt=>({current:gt.name,version:Qi.nu(parseInt(Z.version,10),0)}))}))(m,F)).orThunk(()=>((F,j)=>hi(F,j).map(U=>{const Z=Qi.detect(U.versionRegexes,j);return{current:U.name,version:Z}}))(m,s)).fold(W,rt),T=((F,j)=>hi(F,j).map(U=>{const Z=Qi.detect(U.versionRegexes,j);return{current:U.name,version:Z}}))(x,s).fold(ai,ci),P=((F,j,U,Z)=>{const dt=F.isiOS()&&/ipad/i.test(U)===!0,gt=F.isiOS()&&!dt,ut=F.isiOS()||F.isAndroid(),yt=ut||Z("(pointer:coarse)"),st=dt||!gt&&ut&&Z("(min-device-width:768px)"),Ct=gt||ut&&!st,Rt=j.isSafari()&&F.isiOS()&&/safari/i.test(U)===!1,Ut=!Ct&&!st&&!Rt;return{isiPad:ne(dt),isiPhone:ne(gt),isTablet:ne(st),isPhone:ne(Ct),isTouch:ne(yt),isAndroid:F.isAndroid,isiOS:F.isiOS,isWebView:ne(Rt),isDesktop:ne(Ut)}})(T,w,s,p);return{browser:w,os:T,deviceType:P}})(navigator.userAgent,lt.from(navigator.userAgentData),vr));const er=()=>rr(),Xr=navigator.userAgent,bo=er(),qr=bo.browser,fo=bo.os,Na=bo.deviceType,Gi=Xr.indexOf("Windows Phone")!==-1,Dr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:qr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!qr.isIE(),windowsPhone:Gi,browser:{current:qr.current,version:qr.version,isChromium:qr.isChromium,isEdge:qr.isEdge,isFirefox:qr.isFirefox,isIE:qr.isIE,isOpera:qr.isOpera,isSafari:qr.isSafari},os:{current:fo.current,version:fo.version,isAndroid:fo.isAndroid,isChromeOS:fo.isChromeOS,isFreeBSD:fo.isFreeBSD,isiOS:fo.isiOS,isLinux:fo.isLinux,isMacOS:fo.isMacOS,isSolaris:fo.isSolaris,isWindows:fo.isWindows},deviceType:{isDesktop:Na.isDesktop,isiPad:Na.isiPad,isiPhone:Na.isiPhone,isPhone:Na.isPhone,isTablet:Na.isTablet,isTouch:Na.isTouch,isWebView:Na.isWebView}},Ra=/^\s*|\s*$/g,No=s=>Wt(s)?"":(""+s).replace(Ra,""),ko=function(s,c,p,m){m=m||this,s&&(p&&(s=s[p]),Or(s,(x,w)=>c.call(m,x,w,p)!==!1&&(ko(x,c,p,m),!0)))},zn={trim:No,isArray:Er,is:(s,c)=>c?!(c!=="array"||!Er(s))||typeof s===c:s!==void 0,toArray:s=>{if(Er(s))return s;{const c=[];for(let p=0,m=s.length;p<m;p++)c[p]=s[p];return c}},makeMap:(s,c,p={})=>{const m=vt(s)?s.split(c||","):s||[];let x=m.length;for(;x--;)p[m[x]]={};return p},each:Or,map:Cr,grep:Ji,inArray:(s,c)=>{if(s){for(let p=0,m=s.length;p<m;p++)if(s[p]===c)return p}return-1},hasOwn:Hn,extend:(s,...c)=>{for(let p=0;p<c.length;p++){const m=c[p];for(const x in m)if(Hn(m,x)){const w=m[x];w!==void 0&&(s[x]=w)}}return s},walk:ko,resolve:(s,c=window)=>{const p=s.split(".");for(let m=0,x=p.length;m<x&&(c=c[p[m]]);m++);return c},explode:(s,c)=>wt(s)?s:s===""?[]:Cr(s.split(c||","),No),_addCacheSuffix:s=>{const c=Dr.cacheSuffix;return c&&(s+=(s.indexOf("?")===-1?"?":"&")+c),s}},Zo=(s,c,p=me)=>s.exists(m=>p(m,c)),Ro=(s,c,p)=>s.isSome()&&c.isSome()?lt.some(p(s.getOrDie(),c.getOrDie())):lt.none(),ns=(s,c)=>s?lt.some(c):lt.none(),yr=typeof window<"u"?window:Function("return this;")(),pd=(s,c)=>((p,m)=>{let x=m??yr;for(let w=0;w<p.length&&x!=null;++w)x=x[p[w]];return x})(s.split("."),c),og=Object.getPrototypeOf,ag=s=>{const c=pd("ownerDocument.defaultView",s);return Pt(s)&&((p=>((m,x)=>{const w=((T,P)=>pd(T,P))(m,x);if(w==null)throw new Error(m+" not available on this browser");return w})("HTMLElement",p))(c).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(og(s).constructor.name))},Fr=s=>s.dom.nodeName.toLowerCase(),nu=s=>s.dom.nodeType,rc=s=>c=>nu(c)===s,Fo=rc(1),Ba=rc(3),Bp=rc(9),fd=rc(11),Fu=s=>c=>Fo(c)&&Fr(c)===s,Rh=(s,c,p)=>{if(!(vt(p)||ie(p)||Me(p)))throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",p,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(c,p+"")},Xo=(s,c,p)=>{Rh(s.dom,c,p)},is=(s,c)=>{const p=s.dom;Le(c,(m,x)=>{Rh(p,x,m)})},aa=(s,c)=>{const p=s.dom.getAttribute(c);return p===null?void 0:p},ms=(s,c)=>lt.from(aa(s,c)),oc=(s,c)=>{const p=s.dom;return!(!p||!p.hasAttribute)&&p.hasAttribute(c)},Ko=(s,c)=>{s.dom.removeAttribute(c)},Bh=s=>ar(s.dom.attributes,(c,p)=>(c[p.name]=p.value,c),{}),zp=(s,c)=>{const p=aa(s,c);return p===void 0||p===""?[]:p.split(" ")},Ns=s=>s.dom.classList!==void 0,iu=s=>zp(s,"class"),Vu=(s,c)=>((p,m,x)=>{const w=zp(p,m).concat([x]);return Xo(p,m,w.join(" ")),!0})(s,"class",c),Il=(s,c)=>((p,m,x)=>{const w=Ln(zp(p,m),T=>T!==x);return w.length>0?Xo(p,m,w.join(" ")):Ko(p,m),!1})(s,"class",c),El=(s,c)=>{Ns(s)?s.dom.classList.add(c):Vu(s,c)},rs=s=>{(Ns(s)?s.dom.classList:iu(s)).length===0&&Ko(s,"class")},Ol=(s,c)=>{Ns(s)?s.dom.classList.remove(c):Il(s,c),rs(s)},Ec=(s,c)=>Ns(s)&&s.dom.classList.contains(c),Xa=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},ha=(s,c)=>{const p=(c||document).createElement("div");if(p.innerHTML=s,!p.hasChildNodes()||p.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,s),new Error(m)}return Xa(p.childNodes[0])},co=(s,c)=>{const p=(c||document).createElement(s);return Xa(p)},qa=(s,c)=>{const p=(c||document).createTextNode(s);return Xa(p)},Ke=Xa,ba=(s,c,p)=>lt.from(s.dom.elementFromPoint(c,p)).map(Xa),Fp=(s,c)=>{const p=[],m=w=>(p.push(w),c(w));let x=c(s);do x=x.bind(m);while(x.isSome());return p},za=(s,c)=>{const p=s.dom;if(p.nodeType!==1)return!1;{const m=p;if(m.matches!==void 0)return m.matches(c);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(c);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(c);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}},gd=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,Ir=(s,c)=>s.dom===c.dom,Ua=(s,c)=>{const p=s.dom,m=c.dom;return p!==m&&p.contains(m)},Dl=s=>Ke(s.dom.ownerDocument),Vr=s=>Bp(s)?s:Dl(s),Eo=s=>Ke(Vr(s).dom.defaultView),Ma=s=>lt.from(s.dom.parentNode).map(Ke),ac=s=>lt.from(s.dom.parentElement).map(Ke),Rs=(s,c)=>{const p=fe(c)?c:Fe;let m=s.dom;const x=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const w=m.parentNode,T=Ke(w);if(x.push(T),p(T)===!0)break;m=w}return x},os=s=>lt.from(s.dom.previousSibling).map(Ke),sc=s=>lt.from(s.dom.nextSibling).map(Ke),Hu=s=>zi(Fp(s,os)),Vp=s=>Fp(s,sc),Oo=s=>Be(s.dom.childNodes,Ke),ru=(s,c)=>{const p=s.dom.childNodes;return lt.from(p[c]).map(Ke)},Ll=s=>ru(s,0),Wu=s=>ru(s,s.dom.childNodes.length-1),as=s=>s.dom.childNodes.length,lc=s=>fd(s)&&te(s.dom.host),zh=fe(Element.prototype.attachShadow)&&fe(Node.prototype.getRootNode),ou=ne(zh),Pl=zh?s=>Ke(s.dom.getRootNode()):Vr,Qo=s=>lc(s)?s:(c=>{const p=c.dom.head;if(p==null)throw new Error("Head is not available yet");return Ke(p)})(Vr(s)),$a=s=>Ke(s.dom.host),md=s=>{if(ou()&&te(s.target)){const c=Ke(s.target);if(Fo(c)&&vd(c)&&s.composed&&s.composedPath){const p=s.composedPath();if(p)return At(p)}}return lt.from(s.target)},vd=s=>te(s.dom.shadowRoot),Nl=s=>{const c=Ba(s)?s.dom.parentNode:s.dom;if(c==null||c.ownerDocument===null)return!1;const p=c.ownerDocument;return(m=>{const x=Pl(m);return lc(x)?lt.some(x):lt.none()})(Ke(c)).fold(()=>p.body.contains(c),Kt(Nl,$a))};var Oc=(s,c,p,m,x)=>s(p,m)?lt.some(p):fe(x)&&x(p)?lt.none():c(p,m,x);const Vo=(s,c,p)=>{let m=s.dom;const x=fe(p)?p:Fe;for(;m.parentNode;){m=m.parentNode;const w=Ke(m);if(c(w))return lt.some(w);if(x(w))break}return lt.none()},vs=(s,c,p)=>Oc((m,x)=>x(m),Vo,s,c,p),cc=(s,c,p)=>Vo(s,m=>za(m,c),p),ys=(s,c)=>((p,m)=>{const x=m===void 0?document:m.dom;return gd(x)?lt.none():lt.from(x.querySelector(p)).map(Ke)})(c,s),uc=(s,c,p)=>Oc((m,x)=>za(m,x),cc,s,c,p),Rl=(s,c=!1)=>{return Nl(s)?s.dom.isContentEditable:(p=s,uc(p,"[contenteditable]")).fold(ne(c),m=>Hp(m)==="true");var p},Hp=s=>s.dom.contentEditable,cl=s=>s.style!==void 0&&fe(s.style.getPropertyValue),hc=(s,c,p)=>{if(!vt(p))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",p,":: Element ",s),new Error("CSS value must be a string: "+p);cl(s)&&s.style.setProperty(c,p)},Oa=(s,c,p)=>{const m=s.dom;hc(m,c,p)},ul=(s,c)=>{const p=s.dom;Le(c,(m,x)=>{hc(p,x,m)})},hl=(s,c)=>{const p=s.dom,m=window.getComputedStyle(p).getPropertyValue(c);return m!==""||Nl(s)?m:sa(p,c)},sa=(s,c)=>cl(s)?s.style.getPropertyValue(c):"",Fa=(s,c)=>{const p=s.dom,m=sa(p,c);return lt.from(m).filter(x=>x.length>0)},Wp=s=>{const c={},p=s.dom;if(cl(p))for(let m=0;m<p.style.length;m++){const x=p.style.item(m);c[x]=p.style[x]}return c},Bs=(s,c)=>{((p,m)=>{cl(p)&&p.style.removeProperty(m)})(s.dom,c),Zo(ms(s,"style").map(d),"")&&Ko(s,"style")},xa=(s,c)=>{Ma(s).each(p=>{p.dom.insertBefore(c.dom,s.dom)})},zs=(s,c)=>{sc(s).fold(()=>{Ma(s).each(p=>{Ho(p,c)})},p=>{xa(p,c)})},au=(s,c)=>{Ll(s).fold(()=>{Ho(s,c)},p=>{s.dom.insertBefore(c.dom,p.dom)})},Ho=(s,c)=>{s.dom.appendChild(c.dom)},su=(s,c)=>{xa(s,c),Ho(c,s)},Dc=(s,c)=>{Ge(c,p=>{Ho(s,p)})},dl=s=>{s.dom.textContent="",Ge(Oo(s),c=>{uo(c)})},uo=s=>{const c=s.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},ss=s=>{const c=Oo(s);var p,m;c.length>0&&(p=s,Ge(m=c,(x,w)=>{const T=w===0?p:m[w-1];zs(T,x)})),uo(s)},yd=s=>Be(s,Ke),bd=s=>s.dom.innerHTML,dc=(s,c)=>{const p=Dl(s).dom,m=Ke(p.createDocumentFragment()),x=((w,T)=>{const P=(T||document).createElement("div");return P.innerHTML=w,Oo(Ke(P))})(c,p);Dc(m,x),dl(s),Ho(s,m)},xd=(s,c,p,m)=>((x,w,T,P,F)=>{const j=((U,Z)=>dt=>{U(dt)&&Z((gt=>{const ut=Ke(md(gt).getOr(gt.target)),yt=()=>gt.stopPropagation(),st=()=>gt.preventDefault(),Ct=Xt(st,yt);return((Rt,Ut,de,ke,_e,qe,Xe)=>({target:Rt,x:Ut,y:de,stop:ke,prevent:_e,kill:qe,raw:Xe}))(ut,gt.clientX,gt.clientY,yt,st,Ct,gt)})(dt))})(T,P);return x.dom.addEventListener(w,j,!1),{unbind:Ne(Fs,x,w,j,!1)}})(s,c,p,m),Fs=(s,c,p,m)=>{s.dom.removeEventListener(c,p,m)},ju=(s,c)=>({left:s,top:c,translate:(p,m)=>ju(s+p,c+m)}),Vs=ju,Hs=(s,c)=>s!==void 0?s:c!==void 0?c:0,_d=s=>{const c=s.dom,p=c.ownerDocument.body;return p===c?Vs(p.offsetLeft,p.offsetTop):Nl(s)?(m=>{const x=m.getBoundingClientRect();return Vs(x.left,x.top)})(c):Vs(0,0)},lu=s=>{const c=s!==void 0?s.dom:document,p=c.body.scrollLeft||c.documentElement.scrollLeft,m=c.body.scrollTop||c.documentElement.scrollTop;return Vs(p,m)},pl=(s,c)=>{er().browser.isSafari()&&fe(s.dom.scrollIntoViewIfNeeded)?s.dom.scrollIntoViewIfNeeded(!1):s.dom.scrollIntoView(c)},Yu=(s,c,p,m)=>({x:s,y:c,width:p,height:m,right:s+p,bottom:c+m}),wd=s=>{const c=s===void 0?window:s,p=c.document,m=lu(Ke(p));return(x=>{const w=x===void 0?window:x;return er().browser.isFirefox()?lt.none():lt.from(w.visualViewport)})(c).fold(()=>{const x=c.document.documentElement,w=x.clientWidth,T=x.clientHeight;return Yu(m.left,m.top,w,T)},x=>Yu(Math.max(x.pageLeft,m.left),Math.max(x.pageTop,m.top),x.width,x.height))},Bl=(s,c)=>{let p=[];return Ge(Oo(s),m=>{c(m)&&(p=p.concat([m])),p=p.concat(Bl(m,c))}),p},oe=(s,c)=>((p,m)=>{const x=m===void 0?document:m.dom;return gd(x)?[]:Be(x.querySelectorAll(p),Ke)})(c,s),nt=(s,c,p)=>cc(s,c,p).isSome();class zt{constructor(c,p){this.node=c,this.rootNode=p,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(c){return this.node=this.findSibling(this.node,"firstChild","nextSibling",c),this.node}prev(c){return this.node=this.findSibling(this.node,"lastChild","previousSibling",c),this.node}prev2(c){return this.node=this.findPreviousNode(this.node,c),this.node}findSibling(c,p,m,x){if(c){if(!x&&c[p])return c[p];if(c!==this.rootNode){let w=c[m];if(w)return w;for(let T=c.parentNode;T&&T!==this.rootNode;T=T.parentNode)if(w=T[m],w)return w}}}findPreviousNode(c,p){if(c){const m=c.previousSibling;if(this.rootNode&&m===this.rootNode)return;if(m){if(!p){for(let w=m.lastChild;w;w=w.lastChild)if(!w.lastChild)return w}return m}const x=c.parentNode;if(x&&x!==this.rootNode)return x}}}const Ee=s=>c=>!!c&&c.nodeType===s,bn=s=>!!s&&!Object.getPrototypeOf(s),We=Ee(1),Nn=s=>{const c=s.toLowerCase();return p=>te(p)&&p.nodeName.toLowerCase()===c},Xn=s=>{const c=s.map(p=>p.toLowerCase());return p=>{if(p&&p.nodeName){const m=p.nodeName.toLowerCase();return Te(c,m)}return!1}},fi=(s,c)=>{const p=c.toLowerCase().split(" ");return m=>{if(We(m)){const x=m.ownerDocument.defaultView;if(x)for(let w=0;w<p.length;w++){const T=x.getComputedStyle(m,null);if((T?T.getPropertyValue(s):null)===p[w])return!0}}return!1}},Bi=s=>c=>We(c)&&c.hasAttribute(s),Xi=s=>We(s)&&s.hasAttribute("data-mce-bogus"),Ci=s=>We(s)&&s.tagName==="TABLE",Br=s=>c=>!!(We(c)&&(c.contentEditable===s||c.getAttribute("data-mce-contenteditable")===s)),_r=Xn(["textarea","input"]),Sn=Ee(3),Pr=Ee(4),sr=Ee(7),Qr=Ee(8),Co=Ee(9),Lr=Ee(11),nr=Nn("br"),Yr=Nn("img"),dr=Br("true"),or=Br("false"),go=Xn(["td","th"]),mo=Xn(["td","th","caption"]),io=Xn(["video","audio","object","embed"]),Va=Nn("li"),Ta="\uFEFF",no="\xA0",_a=s=>s===Ta,la=((s,c)=>{const p=m=>s(m)?lt.from(m.dom.nodeValue):lt.none();return{get:m=>{if(!s(m))throw new Error("Can only get text value of a text node");return p(m).getOr("")},getOption:p,set:(m,x)=>{if(!s(m))throw new Error("Can only set raw text value of a text node");m.dom.nodeValue=x}}})(Ba),xo=s=>la.get(s),ls=s=>la.getOption(s),bs=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),Wo=s=>{let c;return p=>(c=c||Ar(s,ht),Hn(c,Fr(p)))},Gr=Wo(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),_o=s=>Fo(s)&&!Gr(s),qo=s=>Fo(s)&&Fr(s)==="br",zo=Wo(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),fl=Wo(["ul","ol","dl"]),xs=Wo(["li","dd","dt"]),cu=Wo(["thead","tbody","tfoot"]),Ws=Wo(["td","th"]),zl=Wo(["pre","script","textarea","style"]),js=Wo(bs),uu=s=>js(s)||_o(s),pc=()=>{const s=co("br");return Xo(s,"data-mce-bogus","1"),s},fc=s=>{dl(s),Ho(s,pc())},Jo=s=>{Wu(s).each(c=>{os(c).each(p=>{Gr(s)&&qo(c)&&Gr(p)&&uo(c)})})},jo=Ta,gl=_a,Za=s=>s.replace(/\uFEFF/g,""),Sd=We,Lc=Sn,_s=s=>(Lc(s)&&(s=s.parentNode),Sd(s)&&s.hasAttribute("data-mce-caret")),ws=s=>Lc(s)&&gl(s.data),Di=s=>_s(s)||ws(s),Gu=s=>s.firstChild!==s.lastChild||!nr(s.firstChild),Ys=s=>{const c=s.container();return!!Sn(c)&&(c.data.charAt(s.offset())===jo||s.isAtStart()&&ws(c.previousSibling))},Fh=s=>{const c=s.container();return!!Sn(c)&&(c.data.charAt(s.offset()-1)===jo||s.isAtEnd()&&ws(c.nextSibling))},hu=s=>Lc(s)&&s.data[0]===jo,Pc=s=>Lc(s)&&s.data[s.data.length-1]===jo,Vh=s=>s&&s.hasAttribute("data-mce-caret")?((c=>{var p;const m=c.getElementsByTagName("br"),x=m[m.length-1];Xi(x)&&((p=x.parentNode)===null||p===void 0||p.removeChild(x))})(s),s.removeAttribute("data-mce-caret"),s.removeAttribute("data-mce-bogus"),s.removeAttribute("style"),s.removeAttribute("data-mce-style"),s.removeAttribute("_moz_abspos"),s):null,jp=s=>_s(s.startContainer),eo=dr,ei=or,Mo=nr,ml=Sn,Fl=Xn(["script","style","textarea"]),Bm=Xn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),sg=Xn(["table"]),y0=Di,Vl=s=>!y0(s)&&(ml(s)?!Fl(s.parentNode):Bm(s)||Mo(s)||sg(s)||Hh(s)),Hh=s=>!(c=>We(c)&&c.getAttribute("unselectable")==="true")(s)&&ei(s),lg=(s,c)=>Vl(s)&&((p,m)=>{for(let x=p.parentNode;x&&x!==m;x=x.parentNode){if(Hh(x))return!1;if(eo(x))return!0}return!0})(s,c),Yp=/^[ \t\r\n]*$/,Nc=s=>Yp.test(s),Ss=s=>s===`
`||s==="\r",cg=(s,c=4,p=!0,m=!0)=>{const x=((P,F)=>F<=0?"":new Array(F+1).join(" "))(0,c),w=s.replace(/\t/g,x);return ar(w,(P,F)=>(j=>" \f	\v".indexOf(j)!==-1)(F)||F===no?P.pcIsSpace||P.str===""&&p||P.str.length===w.length-1&&m||((j,U)=>U<j.length&&U>=0&&Ss(j[U]))(w,P.str.length+1)?{pcIsSpace:!1,str:P.str+no}:{pcIsSpace:!0,str:P.str+" "}:{pcIsSpace:Ss(F),str:P.str+F},{pcIsSpace:!1,str:""}).str},Gs=(s,c)=>Vl(s)&&!((p,m)=>Sn(p)&&Nc(p.data)&&!((x,w)=>{const T=Ke(w),P=Ke(x);return nt(P,"pre,code",Ne(Ir,T))})(p,m))(s,c)||(p=>We(p)&&p.nodeName==="A"&&!p.hasAttribute("href")&&(p.hasAttribute("name")||p.hasAttribute("id")))(s)||zm(s),zm=Bi("data-mce-bookmark"),Cd=Bi("data-mce-bogus"),Fm=s=>We(s)&&s.getAttribute("data-mce-bogus")==="all",ho=(s,c=!0)=>((p,m)=>{let x=0;if(Gs(p,p))return!1;{let w=p.firstChild;if(!w)return!0;const T=new zt(w,p);do{if(m){if(Fm(w)){w=T.next(!0);continue}if(Cd(w)){w=T.next();continue}}if(nr(w))x++,w=T.next();else{if(Gs(w,p))return!1;w=T.next()}}while(w);return x<=1}})(s.dom,c),du="data-mce-block",ug=s=>(c=>Ln(He(c),p=>!/[A-Z]/.test(p)))(s).join(","),hg=(s,c)=>te(c.querySelector(s))?(c.setAttribute(du,"true"),c.getAttribute("data-mce-selected")==="inline-boundary"&&c.removeAttribute("data-mce-selected"),!0):(c.removeAttribute(du),!1),dg=(s,c)=>{const p=ug(s.getTransparentElements()),m=ug(s.getBlockElements());return Ln(c.querySelectorAll(p),x=>hg(m,x))},pg=(s,c)=>{var p;const m=c?"lastChild":"firstChild";for(let x=s[m];x;x=x[m])if(ho(Ke(x)))return void((p=x.parentNode)===null||p===void 0||p.removeChild(x))},ro=(s,c,p)=>{const m=s.getBlockElements(),x=Ke(c),w=P=>Fr(P)in m,T=P=>Ir(P,x);Ge(yd(p),P=>{Vo(P,w,T).each(F=>{const j=((U,Z)=>Ln(Oo(U),dt=>w(dt)&&!s.isValidChild(Fr(F),Fr(dt))))(P);if(j.length>0){const U=ac(F);Ge(j,Z=>{Vo(Z,w,T).each(dt=>{((gt,ut)=>{const yt=document.createRange(),st=gt.parentNode;if(st){yt.setStartBefore(gt),yt.setEndBefore(ut);const Ct=yt.extractContents();pg(Ct,!0),yt.setStartAfter(ut),yt.setEndAfter(gt);const Rt=yt.extractContents();pg(Rt,!1),ho(Ke(Ct))||st.insertBefore(Ct,gt),ho(Ke(ut))||st.insertBefore(ut,gt),ho(Ke(Rt))||st.insertBefore(Rt,gt),st.removeChild(gt)}})(dt.dom,Z.dom)})}),U.each(Z=>dg(s,Z.dom))}})})},Xu=(s,c)=>{const p=dg(s,c);ro(s,c,p),((m,x,w)=>{Ge([...w,...Uu(m,x)?[x]:[]],T=>Ge(oe(Ke(T),T.nodeName.toLowerCase()),P=>{$u(m,P.dom)&&ss(P)}))})(s,c,p)},qu=(s,c)=>{if(pu(s,c)){const p=ug(s.getBlockElements());hg(p,c)}},Gp=s=>s.hasAttribute(du),oo=(s,c)=>Hn(s.getTransparentElements(),c),pu=(s,c)=>We(c)&&oo(s,c.nodeName),Uu=(s,c)=>pu(s,c)&&Gp(c),$u=(s,c)=>pu(s,c)&&!Gp(c),Vm=(s,c)=>c.type===1&&oo(s,c.name)&&It(c.attr(du)),b0=er().browser,Hm=s=>wn(s,Fo),kd=(s,c)=>s.children&&Te(s.children,c),wa=(s,c={})=>{let p=0;const m={},x=Ke(s),w=Vr(x),T=F=>new Promise((j,U)=>{let Z;const dt=zn._addCacheSuffix(F),gt=(Ut=>ti(m,Ut).getOrThunk(()=>({id:"mce-u"+p++,passed:[],failed:[],count:0})))(dt);m[dt]=gt,gt.count++;const ut=(Ut,de)=>{Ge(Ut,jt),gt.status=de,gt.passed=[],gt.failed=[],Z&&(Z.onload=null,Z.onerror=null,Z=null)},yt=()=>ut(gt.passed,2),st=()=>ut(gt.failed,3);if(j&&gt.passed.push(j),U&&gt.failed.push(U),gt.status===1)return;if(gt.status===2)return void yt();if(gt.status===3)return void st();gt.status=1;const Ct=co("link",w.dom);var Rt;is(Ct,{rel:"stylesheet",type:"text/css",id:gt.id}),c.contentCssCors&&Xo(Ct,"crossOrigin","anonymous"),c.referrerPolicy&&Xo(Ct,"referrerpolicy",c.referrerPolicy),Z=Ct.dom,Z.onload=yt,Z.onerror=st,Rt=Ct,Ho(Qo(x),Rt),Xo(Ct,"href",dt)}),P=F=>{const j=zn._addCacheSuffix(F);ti(m,j).each(U=>{--U.count==0&&(delete m[j],(Z=>{const dt=Qo(x);ys(dt,"#"+Z).each(uo)})(U.id))})};return{load:T,loadAll:F=>Promise.allSettled(Be(F,j=>T(j).then(ne(j)))).then(j=>{const U=wr(j,Z=>Z.status==="fulfilled");return U.fail.length>0?Promise.reject(Be(U.fail,Z=>Z.reason)):Be(U.pass,Z=>Z.value)}),unload:P,unloadAll:F=>{Ge(F,j=>{P(j)})},_setReferrerPolicy:F=>{c.referrerPolicy=F},_setContentCssCors:F=>{c.contentCssCors=F}}},fg=(()=>{const s=new WeakMap;return{forElement:(c,p)=>{const m=Pl(c).dom;return lt.from(s.get(m)).getOrThunk(()=>{const x=wa(m,p);return s.set(m,x),x})}}})(),Wh=(s,c)=>te(s)&&(Gs(s,c)||_o(Ke(s))),Zu=s=>(c=>c.nodeName.toLowerCase()==="span")(s)&&s.getAttribute("data-mce-type")==="bookmark",Hr=(s,c,p)=>{var m;const x=p||c;if(We(c)&&Zu(c))return c;const w=c.childNodes;for(let T=w.length-1;T>=0;T--)Hr(s,w[T],x);if(We(c)){const T=c.childNodes;T.length===1&&Zu(T[0])&&((m=c.parentNode)===null||m===void 0||m.insertBefore(T[0],c))}return(T=>Lr(T)||Co(T))(c)||Gs(c,x)||(T=>!!We(T)&&T.childNodes.length>0)(c)||((T,P)=>Sn(T)&&T.data.length>0&&((F,j)=>{const U=new zt(F,j).prev(!1),Z=new zt(F,j).next(!1),dt=It(U)||Wh(U,j),gt=It(Z)||Wh(Z,j);return dt&&gt})(T,P))(c,x)||s.remove(c),c},Xs=zn.makeMap,Ku=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jh=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,da=/[<>&\"\']/g,x0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ad={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Rc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Md={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},gg=(s,c)=>{const p={};if(s){const m=s.split(",");c=c||10;for(let x=0;x<m.length;x+=2){const w=String.fromCharCode(parseInt(m[x],c));if(!Rc[w]){const T="&"+m[x+1]+";";p[w]=T,p[T]=w}}return p}},gc=gg("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),mg=(s,c)=>s.replace(c?Ku:jh,p=>Rc[p]||p),Hl=(s,c)=>s.replace(c?Ku:jh,p=>p.length>1?"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";":Rc[p]||"&#"+p.charCodeAt(0)+";"),Td=(s,c,p)=>{const m=p||gc;return s.replace(c?Ku:jh,x=>Rc[x]||m[x]||x)},fu={encodeRaw:mg,encodeAllRaw:s=>(""+s).replace(da,c=>Rc[c]||c),encodeNumeric:Hl,encodeNamed:Td,getEncodeFunc:(s,c)=>{const p=gg(c)||gc,m=Xs(s.replace(/\+/g,","));return m.named&&m.numeric?(x,w)=>x.replace(w?Ku:jh,T=>Rc[T]!==void 0?Rc[T]:p[T]!==void 0?p[T]:T.length>1?"&#"+(1024*(T.charCodeAt(0)-55296)+(T.charCodeAt(1)-56320)+65536)+";":"&#"+T.charCodeAt(0)+";"):m.named?c?(x,w)=>Td(x,w,p):Td:m.numeric?Hl:mg},decode:s=>s.replace(x0,(c,p)=>p?(p=p.charAt(0).toLowerCase()==="x"?parseInt(p.substr(1),16):parseInt(p,10))>65535?(p-=65536,String.fromCharCode(55296+(p>>10),56320+(1023&p))):Ad[p]||String.fromCharCode(p):Md[c]||gc[c]||(m=>{const x=co("div").dom;return x.innerHTML=m,x.textContent||x.innerText||m})(c))},Xp={},vg={},_0={},Bc=zn.makeMap,ta=zn.each,qp=zn.extend,yg=zn.explode,bg=zn.inArray,Ia=(s,c)=>(s=zn.trim(s))?s.split(c||" "):[],Up=(s,c={})=>{const p=Bc(s," ",Bc(s.toUpperCase()," "));return qp(p,c)},Wm=s=>Up("td th li dt dd figcaption caption details summary",s.getTextBlockElements()),Id=(s,c)=>{if(s){const p={};return vt(s)&&(s={"*":s}),ta(s,(m,x)=>{p[x]=p[x.toUpperCase()]=c==="map"?Bc(m,/[, ]/):yg(m,/[, ]/)}),p}},zc=(s={})=>{var c;const p={},m={};let x=[];const w={},T={},P=(On,Un,pi)=>{const Li=s[On];if(Li)return Bc(Li,/[, ]/,Bc(Li.toUpperCase(),/[, ]/));{let Ki=vg[On];return Ki||(Ki=Up(Un,pi),vg[On]=Ki),Ki}},F=(c=s.schema)!==null&&c!==void 0?c:"html5",j=(On=>{const Un={};let pi,Li,Ki,ir;const ui=(Lo,Po="",Aa="")=>{const sl=Ia(Aa),zu=Ia(Lo);let Ic=zu.length;for(;Ic--;){const La=Ia([pi,Po].join(" "));Un[zu[Ic]]={attributes:Ar(La,()=>({})),attributesOrder:La,children:Ar(sl,ne(_0))}}},mr=(Lo,Po)=>{const Aa=Ia(Lo),sl=Ia(Po);let zu=Aa.length;for(;zu--;){const Ic=Un[Aa[zu]];for(let La=0,Tl=sl.length;La<Tl;La++)Ic.attributes[sl[La]]={},Ic.attributesOrder.push(sl[La])}};if(Xp[On])return Xp[On];if(pi="id accesskey class dir lang style tabindex title role",Li="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",Ki="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",On!=="html4"&&(pi+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",Li+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",Ki+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),On!=="html5-strict"){pi+=" xml:lang";const Lo="acronym applet basefont big font strike tt";Ki=[Ki,Lo].join(" "),ta(Ia(Lo),Aa=>{ui(Aa,"",Ki)});const Po="center dir isindex noframes";Li=[Li,Po].join(" "),ir=[Li,Ki].join(" "),ta(Ia(Po),Aa=>{ui(Aa,"",ir)})}return ir=ir||[Li,Ki].join(" "),ui("html","manifest","head body"),ui("head","","base command link meta noscript script style title"),ui("title hr noscript br"),ui("base","href target"),ui("link","href rel media hreflang type sizes hreflang"),ui("meta","name http-equiv content charset"),ui("style","media type scoped"),ui("script","src async defer type charset"),ui("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",ir),ui("address dt dd div caption","",ir),ui("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",Ki),ui("blockquote","cite",ir),ui("ol","reversed start type","li"),ui("ul","","li"),ui("li","value",ir),ui("dl","","dt dd"),ui("a","href target rel media hreflang type",ir),ui("q","cite",Ki),ui("ins del","cite datetime",ir),ui("img","src sizes srcset alt usemap ismap width height"),ui("iframe","src name width height",ir),ui("embed","src type width height"),ui("object","data type typemustmatch name usemap form width height",[ir,"param"].join(" ")),ui("param","name value"),ui("map","name",[ir,"area"].join(" ")),ui("area","alt coords shape href target rel media hreflang type"),ui("table","border","caption colgroup thead tfoot tbody tr"+(On==="html4"?" col":"")),ui("colgroup","span","col"),ui("col","span"),ui("tbody thead tfoot","","tr"),ui("tr","","td th"),ui("td","colspan rowspan headers",ir),ui("th","colspan rowspan headers scope abbr",ir),ui("form","accept-charset action autocomplete enctype method name novalidate target",ir),ui("fieldset","disabled form name",[ir,"legend"].join(" ")),ui("label","form for",Ki),ui("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),ui("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",On==="html4"?ir:Ki),ui("select","disabled form multiple name required size","option optgroup"),ui("optgroup","disabled label","option"),ui("option","disabled label selected value"),ui("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),ui("menu","type label",[ir,"li"].join(" ")),ui("noscript","",ir),On!=="html4"&&(ui("wbr"),ui("ruby","",[Ki,"rt rp"].join(" ")),ui("figcaption","",ir),ui("mark rt rp summary bdi","",Ki),ui("canvas","width height",ir),ui("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[ir,"track source"].join(" ")),ui("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[ir,"track source"].join(" ")),ui("picture","","img source"),ui("source","src srcset type media sizes"),ui("track","kind src srclang label default"),ui("datalist","",[Ki,"option"].join(" ")),ui("article section nav aside main header footer","",ir),ui("hgroup","","h1 h2 h3 h4 h5 h6"),ui("figure","",[ir,"figcaption"].join(" ")),ui("time","datetime",Ki),ui("dialog","open",ir),ui("command","type label icon disabled checked radiogroup command"),ui("output","for form name",Ki),ui("progress","value max",Ki),ui("meter","value min max low high optimum",Ki),ui("details","open",[ir,"summary"].join(" ")),ui("keygen","autofocus challenge disabled form keytype name")),On!=="html5-strict"&&(mr("script","language xml:space"),mr("style","xml:space"),mr("object","declare classid code codebase codetype archive standby align border hspace vspace"),mr("embed","align name hspace vspace"),mr("param","valuetype type"),mr("a","charset name rev shape coords"),mr("br","clear"),mr("applet","codebase archive code object alt name width height align hspace vspace"),mr("img","name longdesc align border hspace vspace"),mr("iframe","longdesc frameborder marginwidth marginheight scrolling align"),mr("font basefont","size color face"),mr("input","usemap align"),mr("select"),mr("textarea"),mr("h1 h2 h3 h4 h5 h6 div p legend caption","align"),mr("ul","type compact"),mr("li","type"),mr("ol dl menu dir","compact"),mr("pre","width xml:space"),mr("hr","align noshade size width"),mr("isindex","prompt"),mr("table","summary width frame rules cellspacing cellpadding align bgcolor"),mr("col","width align char charoff valign"),mr("colgroup","width align char charoff valign"),mr("thead","align char charoff valign"),mr("tr","align char charoff valign bgcolor"),mr("th","axis align char charoff valign nowrap bgcolor width height"),mr("form","accept"),mr("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),mr("tfoot","align char charoff valign"),mr("tbody","align char charoff valign"),mr("area","nohref"),mr("body","background bgcolor text link vlink alink")),On!=="html4"&&(mr("input button select textarea","autofocus"),mr("input textarea","placeholder"),mr("a","download"),mr("link script img","crossorigin"),mr("img","loading"),mr("iframe","sandbox seamless allow allowfullscreen loading")),On!=="html4"&&Ge([Un.video,Un.audio],Lo=>{delete Lo.children.audio,delete Lo.children.video}),ta(Ia("a form meter progress dfn"),Lo=>{Un[Lo]&&delete Un[Lo].children[Lo]}),delete Un.caption.children.table,delete Un.script,Xp[On]=Un,Un})(F);s.verify_html===!1&&(s.valid_elements="*[*]");const U=Id(s.valid_styles),Z=Id(s.invalid_styles,"map"),dt=Id(s.valid_classes,"map"),gt=P("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ut=P("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),yt=P("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),st=P("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ct="td th iframe video audio object script code",Rt=P("non_empty_elements",Ct+" pre",yt),Ut=P("move_caret_before_on_enter_elements",Ct+" table",yt),de=P("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ke=P("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",de),_e=P("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),qe=P("transparent_elements","a ins del canvas map");ta("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),On=>{T[On]=new RegExp("</"+On+"[^>]*>","gi")});const Xe=On=>new RegExp("^"+On.replace(/([?+*])/g,".$1")+"$"),$e=On=>{const Un=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,pi=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Li=/[*?+]/;if(On){const Ki=Ia(On,",");let ir,ui;p["@"]&&(ir=p["@"].attributes,ui=p["@"].attributesOrder);for(let mr=0,Lo=Ki.length;mr<Lo;mr++){let Po=Un.exec(Ki[mr]);if(Po){const Aa=Po[1],sl=Po[2],zu=Po[3],Ic=Po[5],La={},Tl=[],oa={attributes:La,attributesOrder:Tl};if(Aa==="#"&&(oa.paddEmpty=!0),Aa==="-"&&(oa.removeEmpty=!0),Po[4]==="!"&&(oa.removeEmptyAttrs=!0),ir&&(Le(ir,(Ih,cd)=>{La[cd]=Ih}),ui&&Tl.push(...ui)),Ic){const Ih=Ia(Ic,"|");for(let cd=0,u0=Ih.length;cd<u0;cd++)if(Po=pi.exec(Ih[cd]),Po){const Eh={},ud=Po[1],nc=Po[2].replace(/[\\:]:/g,":"),Dp=Po[3],ic=Po[4];if(ud==="!"&&(oa.attributesRequired=oa.attributesRequired||[],oa.attributesRequired.push(nc),Eh.required=!0),ud==="-"){delete La[nc],Tl.splice(bg(Tl,nc),1);continue}if(Dp&&(Dp==="="&&(oa.attributesDefault=oa.attributesDefault||[],oa.attributesDefault.push({name:nc,value:ic}),Eh.defaultValue=ic),Dp==="~"&&(oa.attributesForced=oa.attributesForced||[],oa.attributesForced.push({name:nc,value:ic}),Eh.forcedValue=ic),Dp==="<"&&(Eh.validValues=Bc(ic,"?"))),Li.test(nc)){const Qf=Eh;oa.attributePatterns=oa.attributePatterns||[],Qf.pattern=Xe(nc),oa.attributePatterns.push(Qf)}else La[nc]||Tl.push(nc),La[nc]=Eh}}if(ir||sl!=="@"||(ir=La,ui=Tl),zu&&(oa.outputName=sl,p[zu]=oa),Li.test(sl)){const Ih=oa;Ih.pattern=Xe(sl),x.push(Ih)}else p[sl]=oa}}}},fn=On=>{x=[],Ge(He(p),Un=>{delete p[Un]}),$e(On),ta(j,(Un,pi)=>{m[pi]=Un.children})},hn=On=>{const Un=/^(~)?(.+)$/;On&&(delete vg.text_block_elements,delete vg.block_elements,ta(Ia(On,","),pi=>{const Li=Un.exec(pi);if(Li){const Ki=Li[1]==="~",ir=Ki?"span":"div",ui=Li[2];if(m[ui]=m[ir],w[ui]=ir,Rt[ui.toUpperCase()]={},Rt[ui]={},Ki||(ke[ui.toUpperCase()]={},ke[ui]={}),!p[ui]){let mr=p[ir];mr=qp({},mr),delete mr.removeEmptyAttrs,delete mr.removeEmpty,p[ui]=mr}ta(m,(mr,Lo)=>{mr[ir]&&(m[Lo]=mr=qp({},m[Lo]),mr[ui]=mr[ir])})}}))},vn=On=>{const Un=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Xp[F],On&&ta(Ia(On,","),pi=>{const Li=Un.exec(pi);if(Li){const Ki=Li[1];let ir;ir=Ki?m[Li[2]]:m[Li[2]]={"#comment":{}},ir=m[Li[2]],ta(Ia(Li[3],"|"),ui=>{Ki==="-"?delete ir[ui]:ir[ui]={}})}})},sn=On=>{const Un=p[On];if(Un)return Un;let pi=x.length;for(;pi--;){const Li=x[pi];if(Li.pattern.test(On))return Li}};s.valid_elements?fn(s.valid_elements):(ta(j,(On,Un)=>{p[Un]={attributes:On.attributes,attributesOrder:On.attributesOrder},m[Un]=On.children}),ta(Ia("strong/b em/i"),On=>{const Un=Ia(On,"/");p[Un[1]].outputName=Un[0]}),ta(_e,(On,Un)=>{p[Un]&&(s.padd_empty_block_inline_children&&(p[Un].paddInEmptyBlock=!0),p[Un].removeEmpty=!0)}),ta(Ia("ol ul blockquote a table tbody"),On=>{p[On]&&(p[On].removeEmpty=!0)}),ta(Ia("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),On=>{p[On].paddEmpty=!0}),ta(Ia("span"),On=>{p[On].removeEmptyAttrs=!0})),hn(s.custom_elements),vn(s.valid_children),$e(s.extended_valid_elements),vn("+ol[ul|ol],+ul[ul|ol]"),ta({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(On,Un)=>{p[Un]&&(p[Un].parentsRequired=Ia(On))}),s.invalid_elements&&ta(yg(s.invalid_elements),On=>{p[On]&&delete p[On]}),sn("span")||$e("span[!data-mce-type|*]");const Tn=ne(U),Qn=ne(Z),ni=ne(dt),Pi=ne(st),qi=ne(ke),Mr=ne(de),po=ne(_e),Ti=ne(Object.seal(yt)),fr=ne(ut),gr=ne(Rt),tn=ne(Ut),nn=ne(gt),kn=ne(qe),En=ne(Object.seal(T)),In=ne(w);return{type:F,children:m,elements:p,getValidStyles:Tn,getValidClasses:ni,getBlockElements:qi,getInvalidStyles:Qn,getVoidElements:Ti,getTextBlockElements:Mr,getTextInlineElements:po,getBoolAttrs:Pi,getElementRule:sn,getSelfClosingElements:fr,getNonEmptyElements:gr,getMoveCaretBeforeOnEnterElements:tn,getWhitespaceElements:nn,getTransparentElements:kn,getSpecialElements:En,isValidChild:(On,Un)=>{const pi=m[On.toLowerCase()];return!(!pi||!pi[Un.toLowerCase()])},isValid:(On,Un)=>{const pi=sn(On);if(pi){if(!Un)return!0;{if(pi.attributes[Un])return!0;const Li=pi.attributePatterns;if(Li){let Ki=Li.length;for(;Ki--;)if(Li[Ki].pattern.test(Un))return!0}}}return!1},getCustomElements:In,addValidElements:$e,setValidElements:fn,addCustomElements:hn,addValidChildren:vn}},xg=(s={},c)=>{const p=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,x=/\s+$/,w={};let T,P;c&&(T=c.getValidStyles(),P=c.getInvalidStyles());const F=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let U=0;U<F.length;U++)w[F[U]]="\uFEFF"+U,w["\uFEFF"+U]=F[U];const j={parse:U=>{const Z={};let dt=!1;const gt=s.url_converter,ut=s.url_converter_scope||j,yt=($e,fn,hn)=>{const vn=Z[$e+"-top"+fn];if(!vn)return;const sn=Z[$e+"-right"+fn];if(!sn)return;const Tn=Z[$e+"-bottom"+fn];if(!Tn)return;const Qn=Z[$e+"-left"+fn];if(!Qn)return;const ni=[vn,sn,Tn,Qn];let Pi=ni.length-1;for(;Pi--&&ni[Pi]===ni[Pi+1];);Pi>-1&&hn||(Z[$e+fn]=Pi===-1?ni[0]:ni.join(" "),delete Z[$e+"-top"+fn],delete Z[$e+"-right"+fn],delete Z[$e+"-bottom"+fn],delete Z[$e+"-left"+fn])},st=$e=>{const fn=Z[$e];if(!fn)return;const hn=fn.split(" ");let vn=hn.length;for(;vn--;)if(hn[vn]!==hn[0])return!1;return Z[$e]=hn[0],!0},Ct=$e=>(dt=!0,w[$e]),Rt=($e,fn)=>(dt&&($e=$e.replace(/\uFEFF[0-9]/g,hn=>w[hn])),fn||($e=$e.replace(/\\([\'\";:])/g,"$1")),$e),Ut=$e=>String.fromCharCode(parseInt($e.slice(1),16)),de=$e=>$e.replace(/\\[0-9a-f]+/gi,Ut),ke=($e,fn,hn,vn,sn,Tn)=>{if(sn=sn||Tn)return"'"+(sn=Rt(sn)).replace(/\'/g,"\\'")+"'";if(fn=Rt(fn||hn||vn||""),!s.allow_script_urls){const Qn=fn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Qn)||!s.allow_svg_data_urls&&/^data:image\/svg/i.test(Qn))return""}return gt&&(fn=gt.call(ut,fn,"style")),"url('"+fn.replace(/\'/g,"\\'")+"')"};if(U){let $e;for(U=(U=U.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,Ct).replace(/\"[^\"]+\"|\'[^\']+\'/g,fn=>fn.replace(/[;:]/g,Ct));$e=m.exec(U);){m.lastIndex=$e.index+$e[0].length;let fn=$e[1].replace(x,"").toLowerCase(),hn=$e[2].replace(x,"");if(fn&&hn){if(fn=de(fn),hn=de(hn),fn.indexOf("\uFEFF")!==-1||fn.indexOf('"')!==-1||!s.allow_script_urls&&(fn==="behavior"||/expression\s*\(|\/\*|\*\//.test(hn)))continue;fn==="font-weight"&&hn==="700"?hn="bold":fn!=="color"&&fn!=="background-color"||(hn=hn.toLowerCase()),hn=hn.replace(p,ke),Z[fn]=dt?Rt(hn,!0):hn}}yt("border","",!0),yt("border","-width"),yt("border","-color"),yt("border","-style"),yt("padding",""),yt("margin",""),qe="border-style",Xe="border-color",st(_e="border-width")&&st(qe)&&st(Xe)&&(Z.border=Z[_e]+" "+Z[qe]+" "+Z[Xe],delete Z[_e],delete Z[qe],delete Z[Xe]),Z.border==="medium none"&&delete Z.border,Z["border-image"]==="none"&&delete Z["border-image"]}var _e,qe,Xe;return Z},serialize:(U,Z)=>{let dt="";const gt=(ut,yt)=>{const st=yt[ut];if(st)for(let Ct=0,Rt=st.length;Ct<Rt;Ct++){const Ut=st[Ct],de=U[Ut];de&&(dt+=(dt.length>0?" ":"")+Ut+": "+de+";")}};return Z&&T?(gt("*",T),gt(Z,T)):Le(U,(ut,yt)=>{ut&&((st,Ct)=>{if(!P||!Ct)return!0;let Rt=P["*"];return!(Rt&&Rt[st]||(Rt=P[Ct],Rt&&Rt[st]))})(yt,Z)&&(dt+=(dt.length>0?" ":"")+yt+": "+ut+";")}),dt}};return j},jm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ym=(s,c)=>{const p=c??{};for(const m in s)Hn(jm,m)||(p[m]=s[m]);return te(s.composedPath)&&(p.composedPath=()=>s.composedPath()),p},$p=(s,c,p,m)=>{var x;const w=Ym(c,m);return w.type=s,Wt(w.target)&&(w.target=(x=w.srcElement)!==null&&x!==void 0?x:p),(T=>Wt(T.preventDefault)||(P=>P instanceof Event||fe(P.initEvent))(T))(c)&&(w.preventDefault=()=>{w.defaultPrevented=!0,w.isDefaultPrevented=ht,fe(c.preventDefault)&&c.preventDefault()},w.stopPropagation=()=>{w.cancelBubble=!0,w.isPropagationStopped=ht,fe(c.stopPropagation)&&c.stopPropagation()},w.stopImmediatePropagation=()=>{w.isImmediatePropagationStopped=ht,w.stopPropagation()},(T=>T.isDefaultPrevented===ht||T.isDefaultPrevented===Fe)(w)||(w.isDefaultPrevented=w.defaultPrevented===!0?ht:Fe,w.isPropagationStopped=w.cancelBubble===!0?ht:Fe,w.isImmediatePropagationStopped=Fe)),w},w0=/^(?:mouse|contextmenu)|click/,Zp=(s,c,p,m)=>{s.addEventListener(c,p,m||!1)},_g=(s,c,p,m)=>{s.removeEventListener(c,p,m||!1)},Qu=(s,c)=>{const p=$p(s.type,s,document,c);if((m=>te(m)&&w0.test(m.type))(s)&&It(s.pageX)&&!It(s.clientX)){const m=p.target.ownerDocument||document,x=m.documentElement,w=m.body,T=p;T.pageX=s.clientX+(x&&x.scrollLeft||w&&w.scrollLeft||0)-(x&&x.clientLeft||w&&w.clientLeft||0),T.pageY=s.clientY+(x&&x.scrollTop||w&&w.scrollTop||0)-(x&&x.clientTop||w&&w.clientTop||0)}return p},f_=(s,c,p)=>{const m=s.document,x={type:"ready"};if(p.domLoaded)return void c(x);const w=()=>{_g(s,"DOMContentLoaded",w),_g(s,"load",w),p.domLoaded||(p.domLoaded=!0,c(x)),s=null};m.readyState==="complete"||m.readyState==="interactive"&&m.body?w():Zp(s,"DOMContentLoaded",w),p.domLoaded||Zp(s,"load",w)};class Ju{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(c,p,m,x){const w=this;let T;const P=window,F=dt=>{w.executeHandlers(Qu(dt||P.event),j)};if(!c||Sn(c)||Qr(c))return m;let j;c[w.expando]?j=c[w.expando]:(j=w.count++,c[w.expando]=j,w.events[j]={}),x=x||c;const U=p.split(" ");let Z=U.length;for(;Z--;){let dt=U[Z],gt=F,ut=!1,yt=!1;dt==="DOMContentLoaded"&&(dt="ready"),w.domLoaded&&dt==="ready"&&c.readyState==="complete"?m.call(x,Qu({type:dt})):(w.hasFocusIn||dt!=="focusin"&&dt!=="focusout"||(ut=!0,yt=dt==="focusin"?"focus":"blur",gt=st=>{const Ct=Qu(st||P.event);Ct.type=Ct.type==="focus"?"focusin":"focusout",w.executeHandlers(Ct,j)}),T=w.events[j][dt],T?dt==="ready"&&w.domLoaded?m(Qu({type:dt})):T.push({func:m,scope:x}):(w.events[j][dt]=T=[{func:m,scope:x}],T.fakeName=yt,T.capture=ut,T.nativeHandler=gt,dt==="ready"?f_(c,gt,w):Zp(c,yt||dt,gt,ut)))}return c=T=null,m}unbind(c,p,m){if(!c||Sn(c)||Qr(c))return this;const x=c[this.expando];if(x){let w=this.events[x];if(p){const T=p.split(" ");let P=T.length;for(;P--;){const F=T[P],j=w[F];if(j){if(m){let U=j.length;for(;U--;)if(j[U].func===m){const Z=j.nativeHandler,dt=j.fakeName,gt=j.capture,ut=j.slice(0,U).concat(j.slice(U+1));ut.nativeHandler=Z,ut.fakeName=dt,ut.capture=gt,w[F]=ut}}m&&j.length!==0||(delete w[F],_g(c,j.fakeName||F,j.nativeHandler,j.capture))}}}else Le(w,(T,P)=>{_g(c,T.fakeName||P,T.nativeHandler,T.capture)}),w={};for(const T in w)if(Hn(w,T))return this;delete this.events[x];try{delete c[this.expando]}catch{c[this.expando]=null}}return this}fire(c,p,m){return this.dispatch(c,p,m)}dispatch(c,p,m){if(!c||Sn(c)||Qr(c))return this;const x=Qu({type:p,target:c},m);do{const w=c[this.expando];w&&this.executeHandlers(x,w),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow}while(c&&!x.isPropagationStopped());return this}clean(c){if(!c||Sn(c)||Qr(c))return this;if(c[this.expando]&&this.unbind(c),c.getElementsByTagName||(c=c.document),c&&c.getElementsByTagName){this.unbind(c);const p=c.getElementsByTagName("*");let m=p.length;for(;m--;)(c=p[m])[this.expando]&&this.unbind(c)}return this}destroy(){this.events={}}cancel(c){return c&&(c.preventDefault(),c.stopImmediatePropagation()),!1}executeHandlers(c,p){const m=this.events[p],x=m&&m[c.type];if(x)for(let w=0,T=x.length;w<T;w++){const P=x[w];if(P&&P.func.call(P.scope,c)===!1&&c.preventDefault(),c.isImmediatePropagationStopped())return}}}Ju.Event=new Ju;const Kp=zn.each,wg=zn.grep,gu="data-mce-style",Ed=zn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Od=(s,c,p)=>{Wt(p)||p===""?Ko(s,c):Xo(s,c,p)},Qp=s=>s.replace(/[A-Z]/g,c=>"-"+c.toLowerCase()),Ka=(s,c)=>{let p=0;if(s)for(let m=s.nodeType,x=s.previousSibling;x;x=x.previousSibling){const w=x.nodeType;(!c||!Sn(x)||w!==m&&x.data.length)&&(p++,m=w)}return p},th=(s,c)=>{const p=aa(c,"style"),m=s.serialize(s.parse(p),Fr(c));Od(c,gu,m)},vl=(s,c,p)=>{const m=Qp(c);Wt(p)||p===""?Bs(s,m):Oa(s,m,((x,w)=>Me(x)?Hn(Ed,w)?x+"":x+"px":x)(p,m))},Sr=(s,c={})=>{const p={},m=window,x={};let w=0;const T=fg.forElement(Ke(s),{contentCssCors:c.contentCssCors,referrerPolicy:c.referrerPolicy}),P=[],F=c.schema?c.schema:zc({}),j=xg({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),U=c.ownEvents?new Ju:Ju.Event,Z=F.getBlockElements(),dt=tn=>tn&&s&&vt(tn)?s.getElementById(tn):tn,gt=tn=>{const nn=dt(tn);return te(nn)?Ke(nn):null},ut=(tn,nn,kn="")=>{let En;const In=gt(tn);if(te(In)&&Fo(In)){const On=gr[nn];En=On&&On.get?On.get(In.dom,nn):aa(In,nn)}return te(En)?En:kn},yt=tn=>{const nn=dt(tn);return Wt(nn)?[]:nn.attributes},st=(tn,nn,kn)=>{Xe(tn,En=>{if(We(En)){const In=Ke(En),On=kn===""?null:kn,Un=aa(In,nn),pi=gr[nn];pi&&pi.set?pi.set(In.dom,On,nn):Od(In,nn,On),Un!==On&&c.onSetAttrib&&c.onSetAttrib({attrElm:In.dom,attrName:nn,attrValue:On})}})},Ct=()=>c.root_element||s.body,Rt=(tn,nn)=>((kn,En,In)=>{let On=0,Un=0;const pi=kn.ownerDocument;if(In=In||kn,En){if(In===kn&&En.getBoundingClientRect&&hl(Ke(kn),"position")==="static"){const Ki=En.getBoundingClientRect();return On=Ki.left+(pi.documentElement.scrollLeft||kn.scrollLeft)-pi.documentElement.clientLeft,Un=Ki.top+(pi.documentElement.scrollTop||kn.scrollTop)-pi.documentElement.clientTop,{x:On,y:Un}}let Li=En;for(;Li&&Li!==In&&Li.nodeType&&!kd(Li,In);){const Ki=Li;On+=Ki.offsetLeft||0,Un+=Ki.offsetTop||0,Li=Ki.offsetParent}for(Li=En.parentNode;Li&&Li!==In&&Li.nodeType&&!kd(Li,In);)On-=Li.scrollLeft||0,Un-=Li.scrollTop||0,Li=Li.parentNode;Un+=(Ki=>b0.isFirefox()&&Fr(Ki)==="table"?Hm(Oo(Ki)).filter(ir=>Fr(ir)==="caption").bind(ir=>Hm(Vp(ir)).map(ui=>{const mr=ui.dom.offsetTop,Lo=ir.dom.offsetTop,Po=ir.dom.offsetHeight;return mr<=Lo?-Po:0})).getOr(0):0)(Ke(En))}return{x:On,y:Un}})(s.body,dt(tn),nn),Ut=(tn,nn,kn)=>{const En=dt(tn);if(!Wt(En)&&We(En))return kn?hl(Ke(En),Qp(nn)):((nn=nn.replace(/-(\D)/g,(In,On)=>On.toUpperCase()))==="float"&&(nn="cssFloat"),En.style?En.style[nn]:void 0)},de=tn=>{const nn=dt(tn);if(!nn)return{w:0,h:0};let kn=Ut(nn,"width"),En=Ut(nn,"height");return kn&&kn.indexOf("px")!==-1||(kn="0"),En&&En.indexOf("px")!==-1||(En="0"),{w:parseInt(kn,10)||nn.offsetWidth||nn.clientWidth,h:parseInt(En,10)||nn.offsetHeight||nn.clientHeight}},ke=(tn,nn)=>{if(!tn)return!1;const kn=wt(tn)?tn:[tn];return _n(kn,En=>za(Ke(En),nn))},_e=(tn,nn,kn,En)=>{const In=[];let On=dt(tn);En=En===void 0;const Un=kn||(Ct().nodeName!=="BODY"?Ct().parentNode:null);if(vt(nn))if(nn==="*")nn=We;else{const pi=nn;nn=Li=>ke(Li,pi)}for(;On&&!(On===Un||Wt(On.nodeType)||Co(On)||Lr(On));){if(!nn||nn(On)){if(!En)return[On];In.push(On)}On=On.parentNode}return En?In:null},qe=(tn,nn,kn)=>{let En=nn;if(tn){vt(nn)&&(En=In=>ke(In,nn));for(let In=tn[kn];In;In=In[kn])if(fe(En)&&En(In))return In}return null},Xe=function(tn,nn,kn){const En=kn??this;if(wt(tn)){const In=[];return Kp(tn,(On,Un)=>{const pi=dt(On);pi&&In.push(nn.call(En,pi,Un))}),In}{const In=dt(tn);return!!In&&nn.call(En,In)}},$e=(tn,nn)=>{Xe(tn,kn=>{Le(nn,(En,In)=>{st(kn,In,En)})})},fn=(tn,nn)=>{Xe(tn,kn=>{const En=Ke(kn);dc(En,nn)})},hn=(tn,nn,kn,En,In)=>Xe(tn,On=>{const Un=vt(nn)?s.createElement(nn):nn;return te(kn)&&$e(Un,kn),En&&(!vt(En)&&En.nodeType?Un.appendChild(En):vt(En)&&fn(Un,En)),In?Un:On.appendChild(Un)}),vn=(tn,nn,kn)=>hn(s.createElement(tn),tn,nn,kn,!0),sn=fu.encodeAllRaw,Tn=(tn,nn)=>Xe(tn,kn=>{const En=Ke(kn);return nn&&Ge(Oo(En),In=>{Ba(In)&&In.dom.length===0?uo(In):xa(En,In)}),uo(En),En.dom}),Qn=(tn,nn,kn)=>{Xe(tn,En=>{if(We(En)){const In=Ke(En),On=nn.split(" ");Ge(On,Un=>{te(kn)?(kn?El:Ol)(In,Un):((pi,Li)=>{const Ki=Ns(pi)?pi.dom.classList.toggle(Li):((ir,ui)=>Te(iu(ir),ui)?Il(ir,ui):Vu(ir,ui))(pi,Li);rs(pi)})(In,Un)})}})},ni=(tn,nn,kn)=>Xe(nn,En=>{var In;const On=wt(nn)?tn.cloneNode(!0):tn;return kn&&Kp(wg(En.childNodes),Un=>{On.appendChild(Un)}),(In=En.parentNode)===null||In===void 0||In.replaceChild(On,En),En}),Pi=tn=>{if(We(tn)){const nn=tn.nodeName.toLowerCase()==="a"&&!ut(tn,"href")&&ut(tn,"id");if(ut(tn,"name")||ut(tn,"data-mce-bookmark")||nn)return!0}return!1},qi=()=>s.createRange(),Mr=(tn,nn,kn,En)=>{if(wt(tn)){let In=tn.length;const On=[];for(;In--;)On[In]=Mr(tn[In],nn,kn,En);return On}return!c.collect||tn!==s&&tn!==m||P.push([tn,nn,kn,En]),U.bind(tn,nn,kn,En||fr)},po=(tn,nn,kn)=>{if(wt(tn)){let En=tn.length;const In=[];for(;En--;)In[En]=po(tn[En],nn,kn);return In}if(P.length>0&&(tn===s||tn===m)){let En=P.length;for(;En--;){const[In,On,Un]=P[En];tn!==In||nn&&nn!==On||kn&&kn!==Un||U.unbind(In,On,Un)}}return U.unbind(tn,nn,kn)},Ti=tn=>{if(tn&&We(tn)){const nn=tn.getAttribute("data-mce-contenteditable");return nn&&nn!=="inherit"?nn:tn.contentEditable!=="inherit"?tn.contentEditable:null}return null},fr={doc:s,settings:c,win:m,files:x,stdMode:!0,boxModel:!0,styleSheetLoader:T,boundEvents:P,styles:j,schema:F,events:U,isBlock:tn=>vt(tn)?Hn(Z,tn):We(tn)&&(Hn(Z,tn.nodeName)||Uu(F,tn)),root:null,clone:(tn,nn)=>tn.cloneNode(nn),getRoot:Ct,getViewPort:tn=>{const nn=wd(tn);return{x:nn.x,y:nn.y,w:nn.width,h:nn.height}},getRect:tn=>{const nn=dt(tn),kn=Rt(nn),En=de(nn);return{x:kn.x,y:kn.y,w:En.w,h:En.h}},getSize:de,getParent:(tn,nn,kn)=>{const En=_e(tn,nn,kn,!1);return En&&En.length>0?En[0]:null},getParents:_e,get:dt,getNext:(tn,nn)=>qe(tn,nn,"nextSibling"),getPrev:(tn,nn)=>qe(tn,nn,"previousSibling"),select:(tn,nn)=>{var kn,En;const In=(En=(kn=dt(nn))!==null&&kn!==void 0?kn:c.root_element)!==null&&En!==void 0?En:s;return fe(In.querySelectorAll)?re(In.querySelectorAll(tn)):[]},is:ke,add:hn,create:vn,createHTML:(tn,nn,kn="")=>{let En="<"+tn;for(const In in nn)wi(nn,In)&&(En+=" "+In+'="'+sn(nn[In])+'"');return O(kn)&&Hn(F.getVoidElements(),tn)?En+" />":En+">"+kn+"</"+tn+">"},createFragment:tn=>{const nn=s.createElement("div"),kn=s.createDocumentFragment();let En;for(kn.appendChild(nn),tn&&(nn.innerHTML=tn);En=nn.firstChild;)kn.appendChild(En);return kn.removeChild(nn),kn},remove:Tn,setStyle:(tn,nn,kn)=>{Xe(tn,En=>{const In=Ke(En);vl(In,nn,kn),c.update_styles&&th(j,In)})},getStyle:Ut,setStyles:(tn,nn)=>{Xe(tn,kn=>{const En=Ke(kn);Le(nn,(In,On)=>{vl(En,On,In)}),c.update_styles&&th(j,En)})},removeAllAttribs:tn=>Xe(tn,nn=>{const kn=nn.attributes;for(let En=kn.length-1;En>=0;En--)nn.removeAttributeNode(kn.item(En))}),setAttrib:st,setAttribs:$e,getAttrib:ut,getPos:Rt,parseStyle:tn=>j.parse(tn),serializeStyle:(tn,nn)=>j.serialize(tn,nn),addStyle:tn=>{if(fr!==Sr.DOM&&s===document){if(p[tn])return;p[tn]=!0}let nn=s.getElementById("mceDefaultStyles");if(!nn){nn=s.createElement("style"),nn.id="mceDefaultStyles",nn.type="text/css";const kn=s.head;kn.firstChild?kn.insertBefore(nn,kn.firstChild):kn.appendChild(nn)}nn.styleSheet?nn.styleSheet.cssText+=tn:nn.appendChild(s.createTextNode(tn))},loadCSS:tn=>{tn||(tn=""),Ge(tn.split(","),nn=>{x[nn]=!0,T.load(nn).catch(le)})},addClass:(tn,nn)=>{Qn(tn,nn,!0)},removeClass:(tn,nn)=>{Qn(tn,nn,!1)},hasClass:(tn,nn)=>{const kn=gt(tn),En=nn.split(" ");return te(kn)&&oi(En,In=>Ec(kn,In))},toggleClass:Qn,show:tn=>{Xe(tn,nn=>Bs(Ke(nn),"display"))},hide:tn=>{Xe(tn,nn=>Oa(Ke(nn),"display","none"))},isHidden:tn=>{const nn=gt(tn);return te(nn)&&Zo(Fa(nn,"display"),"none")},uniqueId:tn=>(tn||"mce_")+w++,setHTML:fn,getOuterHTML:tn=>{const nn=gt(tn);return te(nn)?We(nn.dom)?nn.dom.outerHTML:(kn=>{const En=co("div"),In=Ke(kn.dom.cloneNode(!0));return Ho(En,In),bd(En)})(nn):""},setOuterHTML:(tn,nn)=>{Xe(tn,kn=>{We(kn)&&(kn.outerHTML=nn)})},decode:fu.decode,encode:sn,insertAfter:(tn,nn)=>{const kn=dt(nn);return Xe(tn,En=>{const In=kn?.parentNode,On=kn?.nextSibling;return In&&(On?In.insertBefore(En,On):In.appendChild(En)),En})},replace:ni,rename:(tn,nn)=>{if(tn.nodeName!==nn.toUpperCase()){const kn=vn(nn);return Kp(yt(tn),En=>{st(kn,En.nodeName,ut(tn,En.nodeName))}),ni(kn,tn,!0),kn}return tn},findCommonAncestor:(tn,nn)=>{let kn=tn;for(;kn;){let En=nn;for(;En&&kn!==En;)En=En.parentNode;if(kn===En)break;kn=kn.parentNode}return!kn&&tn.ownerDocument?tn.ownerDocument.documentElement:kn},run:Xe,getAttribs:yt,isEmpty:(tn,nn)=>{let kn=0;if(Pi(tn))return!1;const En=tn.firstChild;if(En){const In=new zt(En,tn),On=F?F.getWhitespaceElements():{},Un=nn||(F?F.getNonEmptyElements():null);let pi=En;do{if(We(pi)){const Li=pi.getAttribute("data-mce-bogus");if(Li){pi=In.next(Li==="all");continue}const Ki=pi.nodeName.toLowerCase();if(Un&&Un[Ki]){if(Ki==="br"){kn++,pi=In.next();continue}return!1}if(Pi(pi))return!1}if(Qr(pi)||Sn(pi)&&!Nc(pi.data)||Sn(pi)&&pi.parentNode&&On[pi.parentNode.nodeName]&&Nc(pi.data))return!1;pi=In.next()}while(pi)}return kn<=1},createRng:qi,nodeIndex:Ka,split:(tn,nn,kn)=>{let En,In,On=qi();if(tn&&nn&&tn.parentNode&&nn.parentNode){const Un=tn.parentNode;return On.setStart(Un,Ka(tn)),On.setEnd(nn.parentNode,Ka(nn)),En=On.extractContents(),On=qi(),On.setStart(nn.parentNode,Ka(nn)+1),On.setEnd(Un,Ka(tn)+1),In=On.extractContents(),Un.insertBefore(Hr(fr,En),tn),kn?Un.insertBefore(kn,tn):Un.insertBefore(nn,tn),Un.insertBefore(Hr(fr,In),tn),Tn(tn),kn||nn}},bind:Mr,unbind:po,fire:(tn,nn,kn)=>U.dispatch(tn,nn,kn),dispatch:(tn,nn,kn)=>U.dispatch(tn,nn,kn),getContentEditable:Ti,getContentEditableParent:tn=>{const nn=Ct();let kn=null;for(let En=tn;En&&En!==nn&&(kn=Ti(En),kn===null);En=En.parentNode);return kn},isEditable:tn=>{if(te(tn)){const nn=We(tn)?tn:tn.parentElement,kn=Ti(Ct())==="true";return te(nn)&&Rl(Ke(nn),kn)}return!1},destroy:()=>{if(P.length>0){let tn=P.length;for(;tn--;){const[nn,kn,En]=P[tn];U.unbind(nn,kn,En)}}Le(x,(tn,nn)=>{T.unload(nn),delete x[nn]})},isChildOf:(tn,nn)=>tn===nn||nn.contains(tn),dumpRng:tn=>"startContainer: "+tn.startContainer.nodeName+", startOffset: "+tn.startOffset+", endContainer: "+tn.endContainer.nodeName+", endOffset: "+tn.endOffset},gr=((tn,nn,kn)=>{const En=nn.keep_values,In={set:(Un,pi,Li)=>{const Ki=Ke(Un);fe(nn.url_converter)&&te(pi)&&(pi=nn.url_converter.call(nn.url_converter_scope||kn(),String(pi),Li,Un)),Od(Ki,"data-mce-"+Li,pi),Od(Ki,Li,pi)},get:(Un,pi)=>{const Li=Ke(Un);return aa(Li,"data-mce-"+pi)||aa(Li,pi)}},On={style:{set:(Un,pi)=>{const Li=Ke(Un);En&&Od(Li,gu,pi),Ko(Li,"style"),vt(pi)&&ul(Li,tn.parse(pi))},get:Un=>{const pi=Ke(Un),Li=aa(pi,gu)||aa(pi,"style");return tn.serialize(tn.parse(Li),Fr(pi))}}};return En&&(On.href=On.src=In),On})(j,c,ne(fr));return fr};Sr.DOM=Sr(document),Sr.nodeIndex=Ka;const qs=Sr.DOM;class Wl{constructor(c={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=c}_setReferrerPolicy(c){this.settings.referrerPolicy=c}loadScript(c){return new Promise((p,m)=>{const x=qs;let w;const T=()=>{x.remove(P),w&&(w.onerror=w.onload=w=null)},P=x.uniqueId();w=document.createElement("script"),w.id=P,w.type="text/javascript",w.src=zn._addCacheSuffix(c),this.settings.referrerPolicy&&x.setAttrib(w,"referrerpolicy",this.settings.referrerPolicy),w.onload=()=>{T(),p()},w.onerror=()=>{T(),m("Failed to load script: "+c)},(document.getElementsByTagName("head")[0]||document.body).appendChild(w)})}isDone(c){return this.states[c]===2}markDone(c){this.states[c]=2}add(c){const p=this;return p.queue.push(c),p.states[c]===void 0&&(p.states[c]=0),new Promise((m,x)=>{p.scriptLoadedCallbacks[c]||(p.scriptLoadedCallbacks[c]=[]),p.scriptLoadedCallbacks[c].push({resolve:m,reject:x})})}load(c){return this.add(c)}remove(c){delete this.states[c],delete this.scriptLoadedCallbacks[c]}loadQueue(){const c=this.queue;return this.queue=[],this.loadScripts(c)}loadScripts(c){const p=this,m=(F,j)=>{ti(p.scriptLoadedCallbacks,j).each(U=>{Ge(U,Z=>Z[F](j))}),delete p.scriptLoadedCallbacks[j]},x=F=>{const j=Ln(F,U=>U.status==="rejected");return j.length>0?Promise.reject(xi(j,({reason:U})=>wt(U)?U:[U])):Promise.resolve()},w=F=>Promise.allSettled(Be(F,j=>p.states[j]===2?(m("resolve",j),Promise.resolve()):p.states[j]===3?(m("reject",j),Promise.reject(j)):(p.states[j]=1,p.loadScript(j).then(()=>{p.states[j]=2,m("resolve",j);const U=p.queue;return U.length>0?(p.queue=[],w(U).then(x)):Promise.resolve()},()=>(p.states[j]=3,m("reject",j),Promise.reject(j)))))),T=F=>(p.loading=!0,w(F).then(j=>{p.loading=!1;const U=p.queueLoadedCallbacks.shift();return lt.from(U).each(jt),x(j)})),P=Dn(c);return p.loading?new Promise((F,j)=>{p.queueLoadedCallbacks.push(()=>T(P).then(F,j))}):T(P)}}Wl.ScriptLoader=new Wl;const ca=s=>{let c=s;return{get:()=>c,set:p=>{c=p}}},jl={},Yh=ca("en"),eh=()=>ti(jl,Yh.get()),Cs={getData:()=>Ve(jl,s=>({...s})),setCode:s=>{s&&Yh.set(s)},getCode:()=>Yh.get(),add:(s,c)=>{let p=jl[s];p||(jl[s]=p={}),Le(c,(m,x)=>{p[x.toLowerCase()]=m})},translate:s=>{const c=eh().getOr({}),p=P=>fe(P)?Object.prototype.toString.call(P):m(P)?"":""+P,m=P=>P===""||P==null,x=P=>{const F=p(P);return ti(c,F.toLowerCase()).map(p).getOr(F)},w=P=>P.replace(/{context:\w+}$/,"");if(m(s))return"";if(Pt(T=s)&&Hn(T,"raw"))return p(s.raw);var T;if((P=>wt(P)&&P.length>1)(s)){const P=s.slice(1);return w(x(s[0]).replace(/\{([0-9]+)\}/g,(F,j)=>Hn(P,j)?p(P[j]):F))}return w(x(s))},isRtl:()=>eh().bind(s=>ti(s,"_dir")).exists(s=>s==="rtl"),hasCode:s=>Hn(jl,s)},Sa=()=>{const s=[],c={},p={},m=[],x=(F,j)=>{const U=Ln(m,Z=>Z.name===F&&Z.state===j);Ge(U,Z=>Z.resolve())},w=F=>Hn(c,F),T=(F,j)=>{const U=Cs.getCode();!U||j&&(","+(j||"")+",").indexOf(","+U+",")===-1||Wl.ScriptLoader.add(c[F]+"/langs/"+U+".js")},P=(F,j="added")=>j==="added"&&(U=>Hn(p,U))(F)||j==="loaded"&&w(F)?Promise.resolve():new Promise(U=>{m.push({name:F,state:j,resolve:U})});return{items:s,urls:c,lookup:p,get:F=>{if(p[F])return p[F].instance},requireLangPack:(F,j)=>{Sa.languageLoad!==!1&&(w(F)?T(F,j):P(F,"loaded").then(()=>T(F,j)))},add:(F,j)=>(s.push(j),p[F]={instance:j},x(F,"added"),j),remove:F=>{delete c[F],delete p[F]},createUrl:(F,j)=>vt(j)?vt(F)?{prefix:"",resource:j,suffix:""}:{prefix:F.prefix,resource:j,suffix:F.suffix}:j,load:(F,j)=>{if(c[F])return Promise.resolve();let U=vt(j)?j:j.prefix+j.resource+j.suffix;U.indexOf("/")!==0&&U.indexOf("://")===-1&&(U=Sa.baseURL+"/"+U),c[F]=U.substring(0,U.lastIndexOf("/"));const Z=()=>(x(F,"loaded"),Promise.resolve());return p[F]?Z():Wl.ScriptLoader.add(U).then(Z)},waitFor:P}};Sa.languageLoad=!0,Sa.baseURL="",Sa.PluginManager=Sa(),Sa.ThemeManager=Sa(),Sa.ModelManager=Sa();const Gm=s=>{const c=ca(lt.none()),p=()=>c.get().each(m=>clearInterval(m));return{clear:()=>{p(),c.set(lt.none())},isSet:()=>c.get().isSome(),get:()=>c.get(),set:m=>{p(),c.set(lt.some(setInterval(m,s)))}}},pa=()=>{const s=(c=>{const p=ca(lt.none()),m=()=>p.get().each(c);return{clear:()=>{m(),p.set(lt.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:x=>{m(),p.set(lt.some(x))}}})(le);return{...s,on:c=>s.get().each(c)}},Dd=(s,c)=>{let p=null;return{cancel:()=>{ct(p)||(clearTimeout(p),p=null)},throttle:(...m)=>{ct(p)&&(p=setTimeout(()=>{p=null,s.apply(null,m)},c))}}},Xm=(s,c)=>{let p=null;const m=()=>{ct(p)||(clearTimeout(p),p=null)};return{cancel:m,throttle:(...x)=>{m(),p=setTimeout(()=>{p=null,s.apply(null,x)},c)}}},I=ne("mce-annotation"),b=ne("data-mce-annotation"),k=ne("data-mce-annotation-uid"),L=ne("data-mce-annotation-active"),B=ne("data-mce-annotation-classes"),H=ne("data-mce-annotation-attrs"),X=s=>c=>Ir(c,s),tt=(s,c)=>{const p=s.selection.getRng(),m=Ke(p.startContainer),x=Ke(s.getBody()),w=c.fold(()=>"."+I(),P=>`[${b()}="${P}"]`),T=ru(m,p.startOffset).getOr(m);return uc(T,w,X(x)).bind(P=>ms(P,`${k()}`).bind(F=>ms(P,`${b()}`).map(j=>{const U=mt(s,F);return{uid:F,name:j,elements:U}})))},at=(s,c)=>oc(s,"data-mce-bogus")||nt(s,'[data-mce-bogus="all"]',X(c)),mt=(s,c)=>{const p=Ke(s.getBody()),m=oe(p,`[${k()}="${c}"]`);return Ln(m,x=>!at(x,p))},Ft=(s,c)=>{const p=Ke(s.getBody()),m=oe(p,`[${b()}="${c}"]`),x={};return Ge(m,w=>{if(!at(w,p)){const T=aa(w,k()),P=ti(x,T).getOr([]);x[T]=P.concat([w])}}),x};let Lt=0;const Ht=s=>{const c=new Date().getTime(),p=Math.floor(1e9*Math.random());return Lt++,s+"_"+p+Lt+String(c)},ae=(s,c)=>Ke(s.dom.cloneNode(c)),Se=s=>ae(s,!1),ge=s=>ae(s,!0),Ce=(s,c,p=Fe)=>{const m=new zt(s,c),x=w=>{let T;do T=m[w]();while(T&&!Sn(T)&&!p(T));return lt.from(T).filter(Sn)};return{current:()=>lt.from(m.current()).filter(Sn),next:()=>x("next"),prev:()=>x("prev"),prev2:()=>x("prev2")}},Ue=(s,c)=>{const p=c||(x=>s.isBlock(x)||nr(x)||or(x)),m=(x,w,T,P)=>{if(Sn(x)){const F=P(x,w,x.data);if(F!==-1)return lt.some({container:x,offset:F})}return T().bind(F=>m(F.container,F.offset,T,P))};return{backwards:(x,w,T,P)=>{const F=Ce(x,P??s.getRoot(),p);return m(x,w,()=>F.prev().map(j=>({container:j,offset:j.length})),T).getOrNull()},forwards:(x,w,T,P)=>{const F=Ce(x,P??s.getRoot(),p);return m(x,w,()=>F.next().map(j=>({container:j,offset:0})),T).getOrNull()}}},xn=Math.round,yn=s=>s?{left:xn(s.left),top:xn(s.top),bottom:xn(s.bottom),right:xn(s.right),width:xn(s.width),height:xn(s.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},mn=(s,c)=>(s=yn(s),c||(s.left=s.left+s.width),s.right=s.left,s.width=0,s),Rn=(s,c,p)=>s>=0&&s<=Math.min(c.height,p.height)/2,$n=(s,c)=>{const p=Math.min(c.height/2,s.height/2);return s.bottom-p<c.top||!(s.top>c.bottom)&&Rn(c.top-s.bottom,s,c)},mi=(s,c)=>s.top>c.bottom||!(s.bottom<c.top)&&Rn(c.bottom-s.top,s,c),Ei=(s,c,p)=>{const m=Math.max(Math.min(c,s.left+s.width),s.left),x=Math.max(Math.min(p,s.top+s.height),s.top);return Math.sqrt((c-m)*(c-m)+(p-x)*(p-x))},Mi=s=>{const c=s.startContainer,p=s.startOffset;return c===s.endContainer&&c.hasChildNodes()&&s.endOffset===p+1?c.childNodes[p]:null},Si=(s,c)=>{if(We(s)&&s.hasChildNodes()){const p=s.childNodes,m=((x,w,T)=>Math.min(Math.max(x,0),T))(c,0,p.length-1);return p[m]}return s},tr=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Vi=s=>vt(s)&&s.charCodeAt(0)>=768&&tr.test(s),Oi=We,Ri=Vl,_i=fi("display","block table"),br=fi("float","left right"),vo=((...s)=>c=>{for(let p=0;p<s.length;p++)if(!s[p](c))return!1;return!0})(Oi,Ri,Fn(br)),yo=Fn(fi("white-space","pre pre-line pre-wrap")),Ca=Sn,cs=nr,Qa=Sr.nodeIndex,ks=(s,c)=>c<0&&We(s)&&s.hasChildNodes()?void 0:Si(s,c),As=s=>s?s.createRange():Sr.DOM.createRng(),pr=s=>vt(s)&&/[\r\n\t ]/.test(s),Yl=s=>!!s.setStart&&!!s.setEnd,us=s=>{const c=s.startContainer,p=s.startOffset;if(pr(s.toString())&&yo(c.parentNode)&&Sn(c)){const m=c.data;if(pr(m[p-1])||pr(m[p+1]))return!0}return!1},gA=s=>s.left===0&&s.right===0&&s.top===0&&s.bottom===0,Ld=s=>{var c;let p;const m=s.getClientRects();return p=m.length>0?yn(m[0]):yn(s.getBoundingClientRect()),!Yl(s)&&cs(s)&&gA(p)?(x=>{const w=x.ownerDocument,T=As(w),P=w.createTextNode(no),F=x.parentNode;F.insertBefore(P,x),T.setStart(P,0),T.setEnd(P,1);const j=yn(T.getBoundingClientRect());return F.removeChild(P),j})(s):gA(p)&&Yl(s)&&(c=(x=>{const w=x.startContainer,T=x.endContainer,P=x.startOffset,F=x.endOffset;if(w===T&&Sn(T)&&P===0&&F===1){const j=x.cloneRange();return j.setEndAfter(T),Ld(j)}return null})(s))!==null&&c!==void 0?c:p},ua=(s,c)=>{const p=mn(s,c);return p.width=1,p.right=p.left+1,p},Cn=(s,c,p)=>{const m=()=>(p||(p=(x=>{const w=[],T=U=>{var Z,dt;U.height!==0&&(w.length>0&&(Z=U,dt=w[w.length-1],Z.left===dt.left&&Z.top===dt.top&&Z.bottom===dt.bottom&&Z.right===dt.right)||w.push(U))},P=(U,Z)=>{const dt=As(U.ownerDocument);if(Z<U.data.length){if(Vi(U.data[Z]))return;if(Vi(U.data[Z-1])&&(dt.setStart(U,Z),dt.setEnd(U,Z+1),!us(dt)))return void T(ua(Ld(dt),!1))}Z>0&&(dt.setStart(U,Z-1),dt.setEnd(U,Z),us(dt)||T(ua(Ld(dt),!1))),Z<U.data.length&&(dt.setStart(U,Z),dt.setEnd(U,Z+1),us(dt)||T(ua(Ld(dt),!0)))},F=x.container(),j=x.offset();if(Ca(F))return P(F,j),w;if(Oi(F))if(x.isAtEnd()){const U=ks(F,j);Ca(U)&&P(U,U.data.length),vo(U)&&!cs(U)&&T(ua(Ld(U),!1))}else{const U=ks(F,j);if(Ca(U)&&P(U,0),vo(U)&&x.isAtEnd())return T(ua(Ld(U),!1)),w;const Z=ks(x.container(),x.offset()-1);vo(Z)&&!cs(Z)&&(_i(Z)||_i(U)||!vo(U))&&T(ua(Ld(Z),!1)),vo(U)&&T(ua(Ld(U),!0))}return w})(Cn(s,c))),p);return{container:ne(s),offset:ne(c),toRange:()=>{const x=As(s.ownerDocument);return x.setStart(s,c),x.setEnd(s,c),x},getClientRects:m,isVisible:()=>m().length>0,isAtStart:()=>(Ca(s),c===0),isAtEnd:()=>Ca(s)?c>=s.data.length:c>=s.childNodes.length,isEqual:x=>x&&s===x.container()&&c===x.offset(),getNode:x=>ks(s,x?c-1:c)}};Cn.fromRangeStart=s=>Cn(s.startContainer,s.startOffset),Cn.fromRangeEnd=s=>Cn(s.endContainer,s.endOffset),Cn.after=s=>Cn(s.parentNode,Qa(s)+1),Cn.before=s=>Cn(s.parentNode,Qa(s)),Cn.isAbove=(s,c)=>Ro(At(c.getClientRects()),Dt(s.getClientRects()),$n).getOr(!1),Cn.isBelow=(s,c)=>Ro(Dt(c.getClientRects()),At(s.getClientRects()),mi).getOr(!1),Cn.isAtStart=s=>!!s&&s.isAtStart(),Cn.isAtEnd=s=>!!s&&s.isAtEnd(),Cn.isTextPosition=s=>!!s&&Sn(s.container()),Cn.isElementPosition=s=>!Cn.isTextPosition(s);const qm=(s,c)=>{Sn(c)&&c.data.length===0&&s.remove(c)},S0=(s,c,p)=>{Lr(p)?((m,x,w)=>{const T=lt.from(w.firstChild),P=lt.from(w.lastChild);x.insertNode(w),T.each(F=>qm(m,F.previousSibling)),P.each(F=>qm(m,F.nextSibling))})(s,c,p):((m,x,w)=>{x.insertNode(w),qm(m,w.previousSibling),qm(m,w.nextSibling)})(s,c,p)},Ms=Sn,mA=Xi,vA=Sr.nodeIndex,Ur=s=>{const c=s.parentNode;return mA(c)?Ur(c):c},C0=s=>s?Fi(s.childNodes,(c,p)=>(mA(p)&&p.nodeName!=="BR"?c=c.concat(C0(p)):c.push(p),c),[]):[],yA=s=>c=>s===c,$r=s=>(Ms(s)?"text()":s.nodeName.toLowerCase())+"["+(c=>{let p,m;p=C0(Ur(c)),m=jr(p,yA(c),c),p=p.slice(0,m+1);const x=Fi(p,(w,T,P)=>(Ms(T)&&Ms(p[P-1])&&w++,w),0);return p=Ji(p,Xn([c.nodeName])),m=jr(p,yA(c),c),m-x})(s)+"]",bA=(s,c)=>{let p,m=[],x=c.container(),w=c.offset();if(Ms(x))p=((P,F)=>{let j=P;for(;(j=j.previousSibling)&&Ms(j);)F+=j.data.length;return F})(x,w);else{const P=x.childNodes;w>=P.length?(p="after",w=P.length-1):p="before",x=P[w]}m.push($r(x));let T=((P,F,j)=>{const U=[];for(let Z=F.parentNode;Z&&Z!==P;Z=Z.parentNode)U.push(Z);return U})(s,x);return T=Ji(T,Fn(Xi)),m=m.concat(Cr(T,P=>$r(P))),m.reverse().join("/")+","+p},xA=(s,c)=>{if(!c)return null;const p=c.split(","),m=p[0].split("/"),x=p.length>1?p[1]:"before",w=Fi(m,(T,P)=>{const F=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(P);return F?(F[1]==="text()"&&(F[1]="#text"),((j,U,Z)=>{let dt=C0(j);return dt=Ji(dt,(gt,ut)=>!Ms(gt)||!Ms(dt[ut-1])),dt=Ji(dt,Xn([U])),dt[Z]})(T,F[1],parseInt(F[2],10))):null},s);if(!w)return null;if(!Ms(w)&&w.parentNode){let T;return T=x==="after"?vA(w)+1:vA(w),Cn(w.parentNode,T)}return((T,P)=>{let F=T,j=0;for(;Ms(F);){const U=F.data.length;if(P>=j&&P<=j+U){T=F,P-=j;break}if(!Ms(F.nextSibling)){T=F,P=U;break}j+=U,F=F.nextSibling}return Ms(T)&&P>T.data.length&&(P=T.data.length),Cn(T,P)})(w,parseInt(x,10))},Um=or,g_=(s,c,p,m,x)=>{const w=x?m.startContainer:m.endContainer;let T=x?m.startOffset:m.endOffset;const P=[],F=s.getRoot();if(Sn(w))P.push(p?((j,U,Z)=>{let dt=j(U.data.slice(0,Z)).length;for(let gt=U.previousSibling;gt&&Sn(gt);gt=gt.previousSibling)dt+=j(gt.data).length;return dt})(c,w,T):T);else{let j=0;const U=w.childNodes;T>=U.length&&U.length&&(j=1,T=Math.max(0,U.length-1)),P.push(s.nodeIndex(U[T],p)+j)}for(let j=w;j&&j!==F;j=j.parentNode)P.push(s.nodeIndex(j,p));return P},k0=(s,c,p)=>{let m=0;return zn.each(s.select(c),x=>x.getAttribute("data-mce-bogus")==="all"?void 0:x!==p&&void m++),m},m_=(s,c)=>{let p=c?s.startContainer:s.endContainer,m=c?s.startOffset:s.endOffset;if(We(p)&&p.nodeName==="TR"){const x=p.childNodes;p=x[Math.min(c?m:m-1,x.length-1)],p&&(m=c?0:p.childNodes.length,c?s.setStart(p,m):s.setEnd(p,m))}},v_=s=>(m_(s,!0),m_(s,!1),s),y_=(s,c)=>{if(We(s)&&(s=Si(s,c),Um(s)))return s;if(Di(s)){Sn(s)&&_s(s)&&(s=s.parentNode);let p=s.previousSibling;if(Um(p)||(p=s.nextSibling,Um(p)))return p}},b_=(s,c,p)=>{const m=p.getNode(),x=p.getRng();if(m.nodeName==="IMG"||Um(m)){const T=m.nodeName;return{name:T,index:k0(p.dom,T,m)}}const w=(T=>y_(T.startContainer,T.startOffset)||y_(T.endContainer,T.endOffset))(x);if(w){const T=w.tagName;return{name:T,index:k0(p.dom,T,w)}}return((T,P,F,j)=>{const U=P.dom,Z=g_(U,T,F,j,!0),dt=P.isForward(),gt=jp(j)?{isFakeCaret:!0}:{};return P.isCollapsed()?{start:Z,forward:dt,...gt}:{start:Z,end:g_(U,T,F,j,!1),forward:dt,...gt}})(s,p,c,x)},x_=(s,c,p)=>{const m={"data-mce-type":"bookmark",id:c,style:"overflow:hidden;line-height:0px"};return p?s.create("span",m,"&#xFEFF;"):s.create("span",m)},__=(s,c)=>{const p=s.dom;let m=s.getRng();const x=p.uniqueId(),w=s.isCollapsed(),T=s.getNode(),P=T.nodeName,F=s.isForward();if(P==="IMG")return{name:P,index:k0(p,P,T)};const j=v_(m.cloneRange());if(!w){j.collapse(!1);const Z=x_(p,x+"_end",c);S0(p,j,Z)}m=v_(m),m.collapse(!0);const U=x_(p,x+"_start",c);return S0(p,m,U),s.moveToBookmark({id:x,keep:!0,forward:F}),{id:x,forward:F}},$m=Ne(b_,De,!0),lr=s=>{const c=w=>w(s),p=ne(s),m=()=>x,x={tag:!0,inner:s,fold:(w,T)=>T(s),isValue:ht,isError:Fe,map:w=>Ts.value(w(s)),mapError:m,bind:c,exists:c,forall:c,getOr:p,or:m,getOrThunk:p,orThunk:m,getOrDie:p,each:w=>{w(s)},toOptional:()=>lt.some(s)};return x},A0=s=>{const c=()=>p,p={tag:!1,inner:s,fold:(m,x)=>m(s),isValue:Fe,isError:ht,map:c,mapError:m=>Ts.error(m(s)),bind:c,exists:Fe,forall:ht,getOr:De,or:De,getOrThunk:gn,orThunk:gn,getOrDie:dn(String(s)),each:le,toOptional:lt.none};return p},Ts={value:lr,error:A0,fromOption:(s,c)=>s.fold(()=>A0(c),lr)},mu=s=>{if(!wt(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const c=[],p={};return Ge(s,(m,x)=>{const w=He(m);if(w.length!==1)throw new Error("one and only one name per case");const T=w[0],P=m[T];if(p[T]!==void 0)throw new Error("duplicate key detected:"+T);if(T==="cata")throw new Error("cannot have a case named cata (sorry)");if(!wt(P))throw new Error("case arguments must be an array");c.push(T),p[T]=(...F)=>{const j=F.length;if(j!==P.length)throw new Error("Wrong number of arguments to case "+T+". Expected "+P.length+" ("+P+"), got "+j);return{fold:(...U)=>{if(U.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+U.length);return U[x].apply(null,F)},match:U=>{const Z=He(U);if(c.length!==Z.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+Z.join(","));if(!oi(c,dt=>Te(Z,dt)))throw new Error("Not all branches were specified when using match. Specified: "+Z.join(", ")+`
Required: `+c.join(", "));return U[T].apply(null,F)},log:U=>{console.log(U,{constructors:c,constructor:T,params:F})}}}}),p};mu([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _A=s=>s.type==="inline-command"||s.type==="inline-format",w_=s=>s.type==="block-command"||s.type==="block-format",yl=s=>{const c=m=>Ts.error({message:m,pattern:s}),p=(m,x,w)=>{if(s.format!==void 0){let T;if(wt(s.format)){if(!oi(s.format,vt))return c(m+" pattern has non-string items in the `format` array");T=s.format}else{if(!vt(s.format))return c(m+" pattern has non-string `format` parameter");T=[s.format]}return Ts.value(x(T))}return s.cmd!==void 0?vt(s.cmd)?Ts.value(w(s.cmd,s.value)):c(m+" pattern has non-string `cmd` parameter"):c(m+" pattern is missing both `format` and `cmd` parameters")};if(!Pt(s))return c("Raw pattern is not an object");if(!vt(s.start))return c("Raw pattern is missing `start` parameter");if(s.end!==void 0){if(!vt(s.end))return c("Inline pattern has non-string `end` parameter");if(s.start.length===0&&s.end.length===0)return c("Inline pattern has empty `start` and `end` parameters");let m=s.start,x=s.end;return x.length===0&&(x=m,m=""),p("Inline",w=>({type:"inline-format",start:m,end:x,format:w}),(w,T)=>({type:"inline-command",start:m,end:x,cmd:w,value:T}))}return s.replacement!==void 0?vt(s.replacement)?s.start.length===0?c("Replacement pattern has empty `start` parameter"):Ts.value({type:"inline-command",start:"",end:s.start,cmd:"mceInsertContent",value:s.replacement}):c("Replacement pattern has non-string `replacement` parameter"):s.start.length===0?c("Block pattern has empty `start` parameter"):p("Block",m=>({type:"block-format",start:s.start,format:m[0]}),(m,x)=>({type:"block-command",start:s.start,cmd:m,value:x}))},Sg=s=>Ln(s,w_),wA=s=>Ln(s,_A),Pd=s=>{const c=(p=>{const m=[],x=[];return Ge(p,w=>{w.fold(T=>{m.push(T)},T=>{x.push(T)})}),{errors:m,values:x}})(Be(s,yl));return Ge(c.errors,p=>console.error(p.message,p.pattern)),c.values},Cg=er().deviceType,Zm=Cg.isTouch(),M0=Sr.DOM,kg=s=>_t(s,RegExp),vi=s=>c=>c.options.get(s),T0=s=>vt(s)||Pt(s),S_=(s,c="")=>p=>{const m=vt(p);if(m){if(p.indexOf("=")!==-1){const x=(w=>{const T=w.indexOf("=")>0?w.split(/[;,](?![^=;,]*(?:[;,]|$))/):w.split(",");return ar(T,(P,F)=>{const j=F.split("="),U=j[0],Z=j.length>1?j[1]:U;return P[d(U)]=d(Z),P},{})})(p);return{value:ti(x,s.id).getOr(c),valid:m}}return{value:p,valid:m}}return{valid:!1,message:"Must be a string."}},I0=vi("iframe_attrs"),SA=vi("doctype"),C_=vi("document_base_url"),k_=vi("body_id"),CA=vi("body_class"),kA=vi("content_security_policy"),IE=vi("br_in_pre"),bl=vi("forced_root_block"),mc=vi("forced_root_block_attrs"),E0=vi("newline_behavior"),A_=vi("br_newline_selector"),Jp=vi("no_newline_selector"),AA=vi("keep_styles"),MA=vi("end_container_on_empty_block"),nh=vi("automatic_uploads"),ih=vi("images_reuse_filename"),TA=vi("images_replace_blob_uris"),O0=vi("icons"),IA=vi("icons_url"),EA=vi("images_upload_url"),OA=vi("images_upload_base_path"),DA=vi("images_upload_credentials"),M_=vi("images_upload_handler"),T_=vi("content_css_cors"),Km=vi("referrer_policy"),I_=vi("language"),EE=vi("language_url"),Gh=vi("indent_use_margin"),fa=vi("indentation"),E_=vi("content_css"),LA=vi("content_style"),PA=vi("font_css"),Is=vi("directionality"),tf=vi("inline_boundaries_selector"),Ag=vi("object_resizing"),O_=vi("resize_img_proportional"),NA=vi("placeholder"),ef=vi("event_root"),OE=vi("service_message"),nf=vi("theme"),DE=vi("theme_url"),D0=vi("model"),D_=vi("model_url"),Nd=vi("inline_boundaries"),L0=vi("formats"),Qm=vi("preview_styles"),RA=vi("format_empty_lines"),L_=vi("format_noneditable_selector"),BA=vi("custom_ui_selector"),P0=vi("inline"),LE=vi("hidden_input"),PE=vi("submit_patch"),zA=vi("add_form_submit_trigger"),FA=vi("add_unload_trigger"),VA=vi("custom_undo_redo_levels"),HA=vi("disable_nodechange"),N0=vi("readonly"),WA=vi("content_css_cors"),xl=vi("plugins"),NE=vi("external_plugins"),Jm=vi("block_unsupported_drop"),jA=vi("visual"),P_=vi("visual_table_class"),Rd=vi("visual_anchor_class"),Mg=vi("iframe_aria_text"),RE=vi("setup"),Us=vi("init_instance_callback"),YA=vi("urlconverter_callback"),tv=vi("auto_focus"),ev=vi("browser_spellcheck"),rh=vi("protect"),vu=vi("paste_block_drop"),rf=vi("paste_data_images"),BE=vi("paste_preprocess"),zE=vi("paste_postprocess"),$s=vi("paste_webkit_styles"),FE=vi("paste_remove_styles_if_webkit"),Tg=vi("paste_merge_formats"),GA=vi("smart_paste"),VE=vi("paste_as_text"),Zs=vi("paste_tab_spaces"),HE=vi("allow_html_data_urls"),Ks=vi("text_patterns"),WE=vi("text_patterns_lookup"),XA=vi("noneditable_class"),Ha=vi("editable_class"),Gl=vi("noneditable_regexp"),jE=vi("preserve_cdata"),qA=vi("highlight_on_focus"),Bd=vi("xss_sanitization"),UA=s=>zn.explode(s.options.get("images_file_types")),nv=vi("table_tab_navigation"),R0=We,N_=Sn,of=s=>{const c=s.parentNode;c&&c.removeChild(s)},B0=s=>{const c=Za(s);return{count:s.length-c.length,text:c}},zd=s=>{let c;for(;(c=s.data.lastIndexOf(jo))!==-1;)s.deleteData(c,1)},Fd=(s,c)=>(oh(s),c),z0=(s,c)=>Cn.isTextPosition(c)?((p,m)=>N_(p)&&m.container()===p?((x,w)=>{const T=B0(x.data.substr(0,w.offset())),P=B0(x.data.substr(w.offset()));return(T.text+P.text).length>0?(zd(x),Cn(x,w.offset()-T.count)):w})(p,m):Fd(p,m))(s,c):((p,m)=>m.container()===p.parentNode?((x,w)=>{const T=w.container(),P=((F,j)=>{const U=Qe(F,j);return U===-1?lt.none():lt.some(U)})(re(T.childNodes),x).map(F=>F<w.offset()?Cn(T,w.offset()-1):w).getOr(w);return oh(x),P})(p,m):Fd(p,m))(s,c),oh=s=>{R0(s)&&Di(s)&&(Gu(s)?s.removeAttribute("data-mce-caret"):of(s)),N_(s)&&(zd(s),s.data.length===0&&of(s))},F0=or,YE=io,$A=go,R_=(s,c,p)=>{const m=mn(c.getBoundingClientRect(),p);let x,w;if(s.tagName==="BODY"){const P=s.ownerDocument.documentElement;x=s.scrollLeft||P.scrollLeft,w=s.scrollTop||P.scrollTop}else{const P=s.getBoundingClientRect();x=s.scrollLeft-P.left,w=s.scrollTop-P.top}m.left+=x,m.right+=x,m.top+=w,m.bottom+=w,m.width=1;let T=c.offsetWidth-c.clientWidth;return T>0&&(p&&(T*=-1),m.left+=T,m.right+=T),m},Ig=(s,c,p,m)=>{const x=pa();let w,T;const P=bl(s),F=s.dom,j=()=>{(U=>{var Z,dt;const gt=oe(Ke(U),"*[contentEditable=false],video,audio,embed,object");for(let ut=0;ut<gt.length;ut++){const yt=gt[ut].dom;let st=yt.previousSibling;if(Pc(st)){const Ct=st.data;Ct.length===1?(Z=st.parentNode)===null||Z===void 0||Z.removeChild(st):st.deleteData(Ct.length-1,1)}st=yt.nextSibling,hu(st)&&(st.data.length===1?(dt=st.parentNode)===null||dt===void 0||dt.removeChild(st):st.deleteData(0,1))}})(c),T&&(oh(T),T=null),x.on(U=>{F.remove(U.caret),x.clear()}),w&&(clearInterval(w),w=void 0)};return{show:(U,Z)=>{let dt;if(j(),$A(Z))return null;if(!p(Z))return T=((gt,ut)=>{var yt;const st=((yt=gt.ownerDocument)!==null&&yt!==void 0?yt:document).createTextNode(jo),Ct=gt.parentNode;if(ut){const Rt=gt.previousSibling;if(Lc(Rt)){if(Di(Rt))return Rt;if(Pc(Rt))return Rt.splitText(Rt.data.length-1)}Ct?.insertBefore(st,gt)}else{const Rt=gt.nextSibling;if(Lc(Rt)){if(Di(Rt))return Rt;if(hu(Rt))return Rt.splitText(1),Rt}gt.nextSibling?Ct?.insertBefore(st,gt.nextSibling):Ct?.appendChild(st)}return st})(Z,U),dt=Z.ownerDocument.createRange(),Zr(T.nextSibling)?(dt.setStart(T,0),dt.setEnd(T,0)):(dt.setStart(T,1),dt.setEnd(T,1)),dt;{const gt=((st,Ct,Rt)=>{var Ut;const de=((Ut=Ct.ownerDocument)!==null&&Ut!==void 0?Ut:document).createElement(st);de.setAttribute("data-mce-caret",Rt?"before":"after"),de.setAttribute("data-mce-bogus","all"),de.appendChild(pc().dom);const ke=Ct.parentNode;return Rt?ke?.insertBefore(de,Ct):Ct.nextSibling?ke?.insertBefore(de,Ct.nextSibling):ke?.appendChild(de),de})(P,Z,U),ut=R_(c,Z,U);F.setStyle(gt,"top",ut.top),T=gt;const yt=F.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});F.setStyles(yt,{...ut}),F.add(c,yt),x.set({caret:yt,element:Z,before:U}),U&&F.addClass(yt,"mce-visual-caret-before"),w=setInterval(()=>{x.on(st=>{m()?F.toggleClass(st.caret,"mce-visual-caret-hidden"):F.addClass(st.caret,"mce-visual-caret-hidden")})},500),dt=Z.ownerDocument.createRange(),dt.setStart(gt,0),dt.setEnd(gt,0)}return dt},hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{x.on(U=>{const Z=R_(c,U.element,U.before);F.setStyles(U.caret,{...Z})})},destroy:()=>clearInterval(w)}},V0=()=>Dr.browser.isFirefox(),Zr=s=>F0(s)||YE(s),To=s=>(Zr(s)||Ci(s)&&V0())&&ac(Ke(s)).exists(Rl),Eg=dr,ah=or,ZA=io,Og=fi("display","block table table-cell table-caption list-item"),Fc=Di,iv=_s,H0=We,B_=Sn,KA=Vl,Dg=s=>s>0,Vd=s=>s<0,_l=(s,c)=>{let p;for(;p=s(c);)if(!iv(p))return p;return null},Hd=(s,c,p,m,x)=>{const w=new zt(s,m),T=ah(s)||iv(s);let P;if(Vd(c)){if(T&&(P=_l(w.prev.bind(w),!0),p(P)))return P;for(;P=_l(w.prev.bind(w),x);)if(p(P))return P}if(Dg(c)){if(T&&(P=_l(w.next.bind(w),!0),p(P)))return P;for(;P=_l(w.next.bind(w),x);)if(p(P))return P}return null},Vc=(s,c)=>{for(;s&&s!==c;){if(Og(s))return s;s=s.parentNode}return null},Hc=(s,c,p)=>Vc(s.container(),p)===Vc(c.container(),p),W0=(s,c)=>{if(!c)return lt.none();const p=c.container(),m=c.offset();return H0(p)?lt.from(p.childNodes[m+s]):lt.none()},Xl=(s,c)=>{var p;const m=((p=c.ownerDocument)!==null&&p!==void 0?p:document).createRange();return s?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),m},z_=(s,c,p)=>Vc(c,s)===Vc(p,s),af=(s,c,p)=>{const m=s?"previousSibling":"nextSibling";let x=p;for(;x&&x!==c;){let w=x[m];if(w&&Fc(w)&&(w=w[m]),ah(w)||ZA(w)){if(z_(c,w,x))return w;break}if(KA(w))break;x=x.parentNode}return null},Wd=Ne(Xl,!0),Wc=Ne(Xl,!1),vc=(s,c,p)=>{let m;const x=Ne(af,!0,c),w=Ne(af,!1,c),T=p.startContainer,P=p.startOffset;if(_s(T)){const F=B_(T)?T.parentNode:T,j=F.getAttribute("data-mce-caret");if(j==="before"&&(m=F.nextSibling,To(m)))return Wd(m);if(j==="after"&&(m=F.previousSibling,To(m)))return Wc(m)}if(!p.collapsed)return p;if(Sn(T)){if(Fc(T)){if(s===1){if(m=w(T),m)return Wd(m);if(m=x(T),m)return Wc(m)}if(s===-1){if(m=x(T),m)return Wc(m);if(m=w(T),m)return Wd(m)}return p}if(Pc(T)&&P>=T.data.length-1)return s===1&&(m=w(T),m)?Wd(m):p;if(hu(T)&&P<=1)return s===-1&&(m=x(T),m)?Wc(m):p;if(P===T.data.length)return m=w(T),m?Wd(m):p;if(P===0)return m=x(T),m?Wc(m):p}return p},rv=(s,c)=>W0(s?0:-1,c).filter(ah),Lg=(s,c,p)=>{const m=vc(s,c,p);return s===-1?Cn.fromRangeStart(m):Cn.fromRangeEnd(m)},jd=s=>lt.from(s.getNode()).map(Ke),ov=(s,c)=>{let p=c;for(;p=s(p);)if(p.isVisible())return p;return p},av=(s,c)=>{const p=Hc(s,c);return!(p||!nr(s.getNode()))||p};var ea;(function(s){s[s.Backwards=-1]="Backwards",s[s.Forwards=1]="Forwards"})(ea||(ea={}));const sv=or,yu=Sn,j0=We,Yd=nr,sf=Vl,Xh=s=>Bm(s)||(c=>!!Hh(c)&&!ar(re(c.getElementsByTagName("*")),(p,m)=>p||eo(m),!1))(s),Gd=lg,lv=(s,c)=>s.hasChildNodes()&&c<s.childNodes.length?s.childNodes[c]:null,F_=(s,c)=>{if(Dg(s)){if(sf(c.previousSibling)&&!yu(c.previousSibling))return Cn.before(c);if(yu(c))return Cn(c,0)}if(Vd(s)){if(sf(c.nextSibling)&&!yu(c.nextSibling))return Cn.after(c);if(yu(c))return Cn(c,c.data.length)}return Vd(s)?Yd(c)?Cn.before(c):Cn.after(c):Cn.before(c)},cv=(s,c,p)=>{let m,x,w,T;if(!j0(p)||!c)return null;if(c.isEqual(Cn.after(p))&&p.lastChild){if(T=Cn.after(p.lastChild),Vd(s)&&sf(p.lastChild)&&j0(p.lastChild))return Yd(p.lastChild)?Cn.before(p.lastChild):T}else T=c;const P=T.container();let F=T.offset();if(yu(P)){if(Vd(s)&&F>0)return Cn(P,--F);if(Dg(s)&&F<P.length)return Cn(P,++F);m=P}else{if(Vd(s)&&F>0&&(x=lv(P,F-1),sf(x)))return!Xh(x)&&(w=Hd(x,s,Gd,x),w)?yu(w)?Cn(w,w.data.length):Cn.after(w):yu(x)?Cn(x,x.data.length):Cn.before(x);if(Dg(s)&&F<P.childNodes.length&&(x=lv(P,F),sf(x)))return Yd(x)?((U,Z)=>{const dt=Z.nextSibling;return dt&&sf(dt)?yu(dt)?Cn(dt,0):Cn.before(dt):cv(ea.Forwards,Cn.after(Z),U)})(p,x):!Xh(x)&&(w=Hd(x,s,Gd,x),w)?yu(w)?Cn(w,0):Cn.before(w):yu(x)?Cn(x,0):Cn.after(x);m=x||T.getNode()}if(m&&(Dg(s)&&T.isAtEnd()||Vd(s)&&T.isAtStart())&&(m=Hd(m,s,ht,p,!0),Gd(m,p)))return F_(s,m);x=m&&Hd(m,s,Gd,p);const j=Tr(Ln(((U,Z)=>{const dt=[];let gt=U;for(;gt&&gt!==Z;)dt.push(gt),gt=gt.parentNode;return dt})(P,p),sv));return!j||x&&j.contains(x)?x?F_(s,x):null:(T=Dg(s)?Cn.after(j):Cn.before(j),T)},na=s=>({next:c=>cv(ea.Forwards,c,s),prev:c=>cv(ea.Backwards,c,s)}),Wa=s=>Cn.isTextPosition(s)?s.offset()===0:Vl(s.getNode()),Do=s=>{if(Cn.isTextPosition(s)){const c=s.container();return s.offset()===c.data.length}return Vl(s.getNode(!0))},uv=(s,c)=>!Cn.isTextPosition(s)&&!Cn.isTextPosition(c)&&s.getNode()===c.getNode(!0),ql=(s,c,p)=>{const m=na(c);return lt.from(s?m.next(p):m.prev(p))},hv=(s,c,p)=>ql(s,c,p).bind(m=>Hc(p,m,c)&&((x,w,T)=>{return x?!uv(w,T)&&(P=w,!(!Cn.isTextPosition(P)&&nr(P.getNode())))&&Do(w)&&Wa(T):!uv(T,w)&&Wa(w)&&Do(T);var P})(s,p,m)?ql(s,c,m):lt.some(m)),V_=(s,c,p,m)=>hv(s,c,p).bind(x=>m(x)?V_(s,c,x,m):lt.some(x)),lf=(s,c)=>{const p=s?c.firstChild:c.lastChild;return Sn(p)?lt.some(Cn(p,s?0:p.data.length)):p?Vl(p)?lt.some(s?Cn.before(p):nr(m=p)?Cn.before(m):Cn.after(m)):((x,w,T)=>{const P=x?Cn.before(T):Cn.after(T);return ql(x,w,P)})(s,c,p):lt.none();var m},Qs=Ne(ql,!0),hs=Ne(ql,!1),Es=Ne(lf,!0),bu=Ne(lf,!1),dv="_mce_caret",Ul=s=>We(s)&&s.id===dv,cf=(s,c)=>{let p=c;for(;p&&p!==s;){if(Ul(p))return p;p=p.parentNode}return null},Y0=s=>Hn(s,"name"),G0=s=>zn.isArray(s.start),X0=s=>!(!Y0(s)&&ie(s.forward))||s.forward,H_=(s,c)=>(We(c)&&s.isBlock(c)&&!c.innerHTML&&(c.innerHTML='<br data-mce-bogus="1" />'),c),GE=(s,c)=>bu(s).fold(Fe,p=>(c.setStart(p.container(),p.offset()),c.setEnd(p.container(),p.offset()),!0)),QA=(s,c,p)=>!(!(m=>!m.hasChildNodes())(c)||!cf(s,c)||(((m,x)=>{var w;const T=((w=m.ownerDocument)!==null&&w!==void 0?w:document).createTextNode(jo);m.appendChild(T),x.setStart(T,0),x.setEnd(T,0)})(c,p),0)),W_=(s,c,p,m)=>{const x=p[c?"start":"end"],w=s.getRoot();if(x){let T=w,P=x[0];for(let F=x.length-1;T&&F>=1;F--){const j=T.childNodes;if(QA(w,T,m))return!0;if(x[F]>j.length-1)return!!QA(w,T,m)||GE(T,m);T=j[x[F]]}Sn(T)&&(P=Math.min(x[0],T.data.length)),We(T)&&(P=Math.min(x[0],T.childNodes.length)),c?m.setStart(T,P):m.setEnd(T,P)}return!0},j_=s=>Sn(s)&&s.data.length>0,JA=(s,c,p)=>{const m=s.get(p.id+"_"+c),x=m?.parentNode,w=p.keep;if(m&&x){let T,P;if(c==="start"?w?m.hasChildNodes()?(T=m.firstChild,P=1):j_(m.nextSibling)?(T=m.nextSibling,P=0):j_(m.previousSibling)?(T=m.previousSibling,P=m.previousSibling.data.length):(T=x,P=s.nodeIndex(m)+1):(T=x,P=s.nodeIndex(m)):w?m.hasChildNodes()?(T=m.firstChild,P=1):j_(m.previousSibling)?(T=m.previousSibling,P=m.previousSibling.data.length):(T=x,P=s.nodeIndex(m)):(T=x,P=s.nodeIndex(m)),!w){const F=m.previousSibling,j=m.nextSibling;let U;for(zn.each(zn.grep(m.childNodes),Z=>{Sn(Z)&&(Z.data=Z.data.replace(/\uFEFF/g,""))});U=s.get(p.id+"_"+c);)s.remove(U,!0);if(Sn(j)&&Sn(F)&&!Dr.browser.isOpera()){const Z=F.data.length;F.appendData(j.data),s.remove(j),T=F,P=Z}}return lt.some(Cn(T,P))}return lt.none()},ao=(s,c,p)=>((m,x,w=!1)=>x===2?b_(Za,w,m):x===3?(T=>{const P=T.getRng();return{start:bA(T.dom.getRoot(),Cn.fromRangeStart(P)),end:bA(T.dom.getRoot(),Cn.fromRangeEnd(P)),forward:T.isForward()}})(m):x?(T=>({rng:T.getRng(),forward:T.isForward()}))(m):__(m,!1))(s,c,p),XE=(s,c)=>{((p,m)=>{const x=p.dom;if(m){if(G0(m))return((w,T)=>{const P=w.createRng();return W_(w,!0,T,P)&&W_(w,!1,T,P)?lt.some({range:P,forward:X0(T)}):lt.none()})(x,m);if((w=>vt(w.start))(m))return((w,T)=>{const P=lt.from(xA(w.getRoot(),T.start)),F=lt.from(xA(w.getRoot(),T.end));return Ro(P,F,(j,U)=>{const Z=w.createRng();return Z.setStart(j.container(),j.offset()),Z.setEnd(U.container(),U.offset()),{range:Z,forward:X0(T)}})})(x,m);if((w=>Hn(w,"id"))(m))return((w,T)=>{const P=JA(w,"start",T),F=JA(w,"end",T);return Ro(P,F.or(P),(j,U)=>{const Z=w.createRng();return Z.setStart(H_(w,j.container()),j.offset()),Z.setEnd(H_(w,U.container()),U.offset()),{range:Z,forward:X0(T)}})})(x,m);if(Y0(m))return((w,T)=>lt.from(w.select(T.name)[T.index]).map(P=>{const F=w.createRng();return F.selectNode(P),{range:F,forward:!0}}))(x,m);if((w=>Hn(w,"rng"))(m))return lt.some({range:m.rng,forward:X0(m)})}return lt.none()})(s,c).each(({range:p,forward:m})=>{s.setRng(p,m)})},ds=s=>We(s)&&s.tagName==="SPAN"&&s.getAttribute("data-mce-type")==="bookmark",xu=s=>s==="\xA0",qh=s=>s!==""&&` \f
\r	\v`.indexOf(s)!==-1,pv=s=>!qh(s)&&!xu(s)&&!_a(s),Pg=s=>{const c=s.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},q0=s=>(c=>{return{value:(p=c,ji(p,"#").toUpperCase())};var p})(Pg(s.red)+Pg(s.green)+Pg(s.blue)),Y_=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,tM=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,U0=(s,c,p,m)=>({red:s,green:c,blue:p,alpha:m}),$0=(s,c,p,m)=>{const x=parseInt(s,10),w=parseInt(c,10),T=parseInt(p,10),P=parseFloat(m);return U0(x,w,T,P)},fv=s=>(c=>{if(c==="transparent")return lt.some(U0(0,0,0,0));const p=Y_.exec(c);if(p!==null)return lt.some($0(p[1],p[2],p[3],"1"));const m=tM.exec(c);return m!==null?lt.some($0(m[1],m[2],m[3],m[4])):lt.none()})(s).map(q0).map(c=>"#"+c.value).getOr(s),Z0=s=>{const c=[];if(s)for(let p=0;p<s.rangeCount;p++)c.push(s.getRangeAt(p));return c},G_=(s,c)=>{const p=oe(c,"td[data-mce-selected],th[data-mce-selected]");return p.length>0?p:(m=>Ln((x=>xi(x,w=>{const T=Mi(w);return T?[Ke(T)]:[]}))(m),Ws))(s)},sh=s=>G_(Z0(s.selection.getSel()),Ke(s.getBody())),Ng=(s,c)=>cc(s,"table",c),Rg=s=>Ll(s).fold(ne([s]),c=>[s].concat(Rg(c))),Bg=s=>Wu(s).fold(ne([s]),c=>Fr(c)==="br"?os(c).map(p=>[s].concat(Bg(p))).getOr([]):[s].concat(Bg(c))),K0=(s,c)=>Ro((p=>{const m=p.startContainer,x=p.startOffset;return Sn(m)?x===0?lt.some(Ke(m)):lt.none():lt.from(m.childNodes[x]).map(Ke)})(c),(p=>{const m=p.endContainer,x=p.endOffset;return Sn(m)?x===m.data.length?lt.some(Ke(m)):lt.none():lt.from(m.childNodes[x-1]).map(Ke)})(c),(p,m)=>{const x=wn(Rg(s),Ne(Ir,p)),w=wn(Bg(s),Ne(Ir,m));return x.isSome()&&w.isSome()}).getOr(!1),gv=(s,c,p,m)=>{const x=p,w=new zt(p,x),T=bi(s.schema.getMoveCaretBeforeOnEnterElements(),(F,j)=>!Te(["td","th","table"],j.toLowerCase()));let P=p;do{if(Sn(P)&&zn.trim(P.data).length!==0)return void(m?c.setStart(P,0):c.setEnd(P,P.data.length));if(T[P.nodeName])return void(m?c.setStartBefore(P):P.nodeName==="BR"?c.setEndBefore(P):c.setEndAfter(P))}while(P=m?w.next():w.prev());x.nodeName==="BODY"&&(m?c.setStart(x,0):c.setEnd(x,x.childNodes.length))},mv=s=>{const c=s.selection.getSel();return te(c)&&c.rangeCount>0},Js=(s,c)=>{const p=sh(s);p.length>0?Ge(p,m=>{const x=m.dom,w=s.dom.createRng();w.setStartBefore(x),w.setEndAfter(x),c(w,!0)}):c(s.selection.getRng(),!1)},uf=(s,c,p)=>{const m=__(s,c);p(m),s.moveToBookmark(m)},Q0=s=>Me(s?.nodeType),hf=s=>We(s)&&!ds(s)&&!Ul(s)&&!Xi(s),Xd=s=>s.isContentEditable===!0,X_=(s,c,p)=>{const{selection:m,dom:x}=s,w=m.getNode(),T=or(w);uf(m,!0,()=>{c()}),T&&or(w)&&x.isChildOf(w,s.getBody())?s.selection.select(w):p(m.getStart())&&q_(x,m)},q_=(s,c)=>{var p,m;const x=c.getRng(),{startContainer:w,startOffset:T}=x;if(!((P,F)=>{if(hf(F)&&!/^(TD|TH)$/.test(F.nodeName)){const j=P.getAttrib(F,"data-mce-selected"),U=parseInt(j,10);return!isNaN(U)&&U>0}return!1})(s,c.getNode())&&We(w)){const P=w.childNodes,F=s.getRoot();let j;if(T<P.length){const U=P[T];j=new zt(U,(p=s.getParent(U,s.isBlock))!==null&&p!==void 0?p:F)}else{const U=P[P.length-1];j=new zt(U,(m=s.getParent(U,s.isBlock))!==null&&m!==void 0?m:F),j.next(!0)}for(let U=j.current();U;U=j.next()){if(s.getContentEditable(U)==="false")return;if(Sn(U)&&!Fg(U))return x.setStart(U,0),void c.setRng(x)}}},df=(s,c,p)=>{if(s){const m=c?"nextSibling":"previousSibling";for(s=p?s:s[m];s;s=s[m])if(We(s)||!Fg(s))return s}},zg=(s,c)=>!!s.getTextBlockElements()[c.nodeName.toLowerCase()]||Uu(s,c),lh=(s,c,p)=>s.schema.isValidChild(c,p),Fg=(s,c=!1)=>{if(te(s)&&Sn(s)){const p=c?s.data.replace(/ /g,"\xA0"):s.data;return Nc(p)}return!1},vv=(s,c)=>{const p=s.dom;return hf(c)&&p.getContentEditable(c)==="false"&&((m,x)=>{const w="[data-mce-cef-wrappable]",T=L_(m),P=O(T)?w:`${w},${T}`;return za(Ke(x),P)})(s,c)&&p.select('[contenteditable="true"]',c).length===0},_u=(s,c)=>fe(s)?s(c):(te(c)&&(s=s.replace(/%(\w+)/g,(p,m)=>c[m]||p)),s),U_=(s,c)=>(c=c||"",s=""+((s=s||"").nodeName||s),c=""+(c.nodeName||c),s.toLowerCase()===c.toLowerCase()),J0=(s,c)=>{if(Wt(s))return null;{let p=String(s);return c!=="color"&&c!=="backgroundColor"||(p=fv(p)),c==="fontWeight"&&s===700&&(p="bold"),c==="fontFamily"&&(p=p.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),p}},yv=(s,c,p)=>{const m=s.getStyle(c,p);return J0(m,p)},$_=(s,c)=>{let p;return s.getParent(c,m=>!!We(m)&&(p=s.getStyle(m,"text-decoration"),!!p&&p!=="none")),p},bv=(s,c,p)=>s.getParents(c,p,s.getRoot()),tb=(s,c,p)=>{const m=s.formatter.get(c);return te(m)&&_n(m,p)},wu=s=>wi(s,"block"),wl=s=>wi(s,"selector"),ga=s=>wi(s,"inline"),Uh=s=>wl(s)&&s.expand!==!1&&!ga(s),qd=ds,Z_=bv,eb=Fg,K_=zg,Q_=(s,c)=>{let p=c;for(;p;){if(We(p)&&s.getContentEditable(p))return s.getContentEditable(p)==="false"?p:c;p=p.parentNode}return c},Ud=(s,c,p,m)=>{const x=c.data;if(s){for(let w=p;w>0;w--)if(m(x.charAt(w-1)))return w}else for(let w=p;w<x.length;w++)if(m(x.charAt(w)))return w;return-1},nb=(s,c,p)=>Ud(s,c,p,m=>xu(m)||qh(m)),ib=(s,c,p)=>Ud(s,c,p,pv),J_=(s,c,p,m,x,w)=>{let T;const P=s.getParent(p,s.isBlock)||c,F=(j,U,Z)=>{const dt=Ue(s),gt=x?dt.backwards:dt.forwards;return lt.from(gt(j,U,(ut,yt)=>qd(ut.parentNode)?-1:(T=ut,Z(x,ut,yt)),P))};return F(p,m,nb).bind(j=>w?F(j.container,j.offset+(x?-1:0),ib):lt.some(j)).orThunk(()=>T?lt.some({container:T,offset:x?0:T.length}):lt.none())},$d=(s,c,p,m,x)=>{const w=m[x];Sn(m)&&O(m.data)&&w&&(m=w);const T=Z_(s,m);for(let P=0;P<T.length;P++)for(let F=0;F<c.length;F++){const j=c[F];if((!te(j.collapsed)||j.collapsed===p.collapsed)&&wl(j)&&s.is(T[P],j.selector))return T[P]}return m},rb=(s,c,p,m)=>{var x;let w=p;const T=s.getRoot(),P=c[0];if(wu(P)&&(w=P.wrapper?null:s.getParent(p,P.block,T)),!w){const F=(x=s.getParent(p,"LI,TD,TH"))!==null&&x!==void 0?x:T;w=s.getParent(Sn(p)?p.parentNode:p,j=>j!==T&&K_(s.schema,j),F)}if(w&&wu(P)&&P.wrapper&&(w=Z_(s,w,"ul,ol").reverse()[0]||w),!w)for(w=p;w&&w[m]&&!s.isBlock(w[m])&&(w=w[m],!U_(w,"br")););return w||p},Zd=(s,c,p,m)=>{const x=p.parentNode;return!te(p[m])&&(!(x!==c&&!Wt(x)&&!s.isBlock(x))||Zd(s,c,x,m))},ma=(s,c,p,m,x)=>{let w=p;const T=x?"previousSibling":"nextSibling",P=s.getRoot();if(Sn(p)&&!eb(p)&&(x?m>0:m<p.data.length))return p;for(;w;){if(!c[0].block_expand&&s.isBlock(w))return w;for(let j=w[T];j;j=j[T]){const U=Sn(j)&&!Zd(s,P,j,T);if(!qd(j)&&(!nr(F=j)||!F.getAttribute("data-mce-bogus")||F.nextSibling)&&!eb(j,U))return w}if(w===P||w.parentNode===P){p=w;break}w=w.parentNode}var F;return p},xv=s=>qd(s.parentNode)||qd(s),Su=(s,c,p,m=!1)=>{let{startContainer:x,startOffset:w,endContainer:T,endOffset:P}=c;const F=p[0];return We(x)&&x.hasChildNodes()&&(x=Si(x,w),Sn(x)&&(w=0)),We(T)&&T.hasChildNodes()&&(T=Si(T,c.collapsed?P:P-1),Sn(T)&&(P=T.data.length)),x=Q_(s,x),T=Q_(s,T),xv(x)&&(x=qd(x)?x:x.parentNode,x=c.collapsed?x.previousSibling||x:x.nextSibling||x,Sn(x)&&(w=c.collapsed?x.length:0)),xv(T)&&(T=qd(T)?T:T.parentNode,T=c.collapsed?T.nextSibling||T:T.previousSibling||T,Sn(T)&&(P=c.collapsed?0:T.length)),c.collapsed&&(J_(s,s.getRoot(),x,w,!0,m).each(({container:j,offset:U})=>{x=j,w=U}),J_(s,s.getRoot(),T,P,!1,m).each(({container:j,offset:U})=>{T=j,P=U})),(ga(F)||F.block_expand)&&(ga(F)&&Sn(x)&&w!==0||(x=ma(s,p,x,w,!0)),ga(F)&&Sn(T)&&P!==T.data.length||(T=ma(s,p,T,P,!1))),Uh(F)&&(x=$d(s,p,c,x,"previousSibling"),T=$d(s,p,c,T,"nextSibling")),(wu(F)||wl(F))&&(x=rb(s,p,x,"previousSibling"),T=rb(s,p,T,"nextSibling"),wu(F)&&(s.isBlock(x)||(x=ma(s,p,x,w,!0)),s.isBlock(T)||(T=ma(s,p,T,P,!1)))),We(x)&&x.parentNode&&(w=s.nodeIndex(x),x=x.parentNode),We(T)&&T.parentNode&&(P=s.nodeIndex(T)+1,T=T.parentNode),{startContainer:x,startOffset:w,endContainer:T,endOffset:P}},jc=(s,c,p)=>{var m;const x=c.startOffset,w=Si(c.startContainer,x),T=c.endOffset,P=Si(c.endContainer,T-1),F=st=>{const Ct=st[0];Sn(Ct)&&Ct===w&&x>=Ct.data.length&&st.splice(0,1);const Rt=st[st.length-1];return T===0&&st.length>0&&Rt===P&&Sn(Rt)&&st.splice(st.length-1,1),st},j=(st,Ct,Rt)=>{const Ut=[];for(;st&&st!==Rt;st=st[Ct])Ut.push(st);return Ut},U=(st,Ct)=>s.getParent(st,Rt=>Rt.parentNode===Ct,Ct),Z=(st,Ct,Rt)=>{const Ut=Rt?"nextSibling":"previousSibling";for(let de=st,ke=de.parentNode;de&&de!==Ct;de=ke){ke=de.parentNode;const _e=j(de===st?de:de[Ut],Ut);_e.length&&(Rt||_e.reverse(),p(F(_e)))}};if(w===P)return p(F([w]));const dt=(m=s.findCommonAncestor(w,P))!==null&&m!==void 0?m:s.getRoot();if(s.isChildOf(w,P))return Z(w,dt,!0);if(s.isChildOf(P,w))return Z(P,dt);const gt=U(w,dt)||w,ut=U(P,dt)||P;Z(w,gt,!0);const yt=j(gt===w?gt:gt.nextSibling,"nextSibling",ut===P?ut.nextSibling:ut);yt.length&&p(F(yt)),Z(P,ut)},Vg=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],tw=(s,c,p,m,x,w)=>{const{uid:T=c,...P}=p;El(s,I()),Xo(s,`${k()}`,T),Xo(s,`${b()}`,m);const{attributes:F={},classes:j=[]}=x(T,P);if(is(s,F),((U,Z)=>{Ge(Z,dt=>{El(U,dt)})})(s,j),w){j.length>0&&Xo(s,`${B()}`,j.join(","));const U=He(F);U.length>0&&Xo(s,`${H()}`,U.join(","))}},eM=(s,c,p,m,x)=>{const w=co("span",s);return tw(w,c,p,m,x,!1),w},Wr=(s,c,p,m,x,w)=>{const T=[],P=eM(s.getDoc(),p,w,m,x),F=pa(),j=()=>{F.clear()},U=dt=>{Ge(dt,Z)},Z=dt=>{switch(((gt,ut,yt,st)=>Ma(ut).fold(()=>"skipping",Ct=>st==="br"||(Rt=>Ba(Rt)&&xo(Rt)===jo)(ut)?"valid":(Rt=>Fo(Rt)&&Ec(Rt,I()))(ut)?"existing":Ul(ut.dom)?"caret":_n(Vg,Rt=>za(ut,Rt))?"valid-block":lh(gt,yt,st)&&lh(gt,Fr(Ct),yt)?"valid":"invalid-child"))(s,dt,"span",Fr(dt))){case"invalid-child":{j();const gt=Oo(dt);U(gt),j();break}case"valid-block":j(),tw(dt,p,w,m,x,!0);break;case"valid":{const gt=F.get().getOrThunk(()=>{const ut=Se(P);return T.push(ut),F.set(ut),ut});su(dt,gt);break}}};return jc(s.dom,c,dt=>{j(),(gt=>{const ut=Be(gt,Ke);U(ut)})(dt)}),T},ew=s=>{const c=(()=>{const w={};return{register:(T,P)=>{w[T]={name:T,settings:P}},lookup:T=>ti(w,T).map(P=>P.settings),getNames:()=>He(w)}})();((w,T)=>{const P=b(),F=U=>lt.from(U.attr(P)).bind(T.lookup),j=U=>{var Z,dt;U.attr(k(),null),U.attr(b(),null),U.attr(L(),null);const gt=lt.from(U.attr(H())).map(Ct=>Ct.split(",")).getOr([]),ut=lt.from(U.attr(B())).map(Ct=>Ct.split(",")).getOr([]);Ge(gt,Ct=>U.attr(Ct,null));const yt=(dt=(Z=U.attr("class"))===null||Z===void 0?void 0:Z.split(" "))!==null&&dt!==void 0?dt:[],st=yi(yt,[I()].concat(ut));U.attr("class",st.length>0?st.join(" "):null),U.attr(B(),null),U.attr(H(),null)};w.serializer.addTempAttr(L()),w.serializer.addAttributeFilter(P,U=>{for(const Z of U)F(Z).each(dt=>{dt.persistent===!1&&(Z.name==="span"?Z.unwrap():j(Z))})})})(s,c);const p=((w,T)=>{const P=ca({}),F=()=>({listeners:[],previous:pa()}),j=(gt,ut)=>{U(gt,yt=>(ut(yt),yt))},U=(gt,ut)=>{const yt=P.get(),st=ut(ti(yt,gt).getOrThunk(F));yt[gt]=st,P.set(yt)},Z=(gt,ut)=>{Ge(mt(w,gt),yt=>{ut?Xo(yt,L(),"true"):Ko(yt,L())})},dt=Xm(()=>{const gt=Kr(T.getNames());Ge(gt,ut=>{U(ut,yt=>{const st=yt.previous.get();return tt(w,lt.some(ut)).fold(()=>{st.each(Ct=>{(Rt=>{j(Rt,Ut=>{Ge(Ut.listeners,de=>de(!1,Rt))})})(ut),yt.previous.clear(),Z(Ct,!1)})},({uid:Ct,name:Rt,elements:Ut})=>{Zo(st,Ct)||(st.each(de=>Z(de,!1)),((de,ke,_e)=>{j(de,qe=>{Ge(qe.listeners,Xe=>Xe(!0,de,{uid:ke,nodes:Be(_e,$e=>$e.dom)}))})})(Rt,Ct,Ut),yt.previous.set(Ct),Z(Ct,!0))}),{previous:yt.previous,listeners:yt.listeners}})})},30);return w.on("remove",()=>{dt.cancel()}),w.on("NodeChange",()=>{dt.throttle()}),{addListener:(gt,ut)=>{U(gt,yt=>({previous:yt.previous,listeners:yt.listeners.concat([ut])}))}}})(s,c),m=Fu("span"),x=w=>{Ge(w,T=>{m(T)?ss(T):(P=>{Ol(P,I()),Ko(P,`${k()}`),Ko(P,`${b()}`),Ko(P,`${L()}`);const F=ms(P,`${H()}`).map(Z=>Z.split(",")).getOr([]),j=ms(P,`${B()}`).map(Z=>Z.split(",")).getOr([]);var U;Ge(F,Z=>Ko(P,Z)),U=P,Ge(j,Z=>{Ol(U,Z)}),Ko(P,`${B()}`),Ko(P,`${H()}`)})(T)})};return{register:(w,T)=>{c.register(w,T)},annotate:(w,T)=>{c.lookup(w).each(P=>{((F,j,U,Z)=>{F.undoManager.transact(()=>{const dt=F.selection,gt=dt.getRng(),ut=sh(F).length>0,yt=Ht("mce-annotation");if(gt.collapsed&&!ut&&((st,Ct)=>{const Rt=Su(st.dom,Ct,[{inline:"span"}]);Ct.setStart(Rt.startContainer,Rt.startOffset),Ct.setEnd(Rt.endContainer,Rt.endOffset),st.selection.setRng(Ct)})(F,gt),dt.getRng().collapsed&&!ut){const st=eM(F.getDoc(),yt,Z,j,U.decorate);dc(st,no),dt.getRng().insertNode(st.dom),dt.select(st.dom)}else uf(dt,!1,()=>{Js(F,st=>{Wr(F,st,yt,j,U.decorate,Z)})})})})(s,w,P,T)})},annotationChanged:(w,T)=>{p.addListener(w,T)},remove:w=>{tt(s,lt.some(w)).each(({elements:T})=>{const P=s.selection.getBookmark();x(T),s.selection.moveToBookmark(P)})},removeAll:w=>{const T=s.selection.getBookmark();Le(Ft(s,w),(P,F)=>{x(P)}),s.selection.moveToBookmark(T)},getAll:w=>{const T=Ft(s,w);return Ve(T,P=>Be(P,F=>F.dom))}}},ch=s=>({getBookmark:Ne(ao,s),moveToBookmark:Ne(XE,s)});ch.isBookmarkNode=ds;const nM=(s,c,p)=>!p.collapsed&&_n(p.getClientRects(),m=>((x,w,T)=>w>=x.left&&w<=x.right&&T>=x.top&&T<=x.bottom)(m,s,c)),nw=(s,c,p)=>{s.dispatch(c,p)},yc=(s,c,p,m)=>{s.dispatch("FormatApply",{format:c,node:p,vars:m})},Os=(s,c,p,m)=>{s.dispatch("FormatRemove",{format:c,node:p,vars:m})},bc=(s,c)=>s.dispatch("SetContent",c),Cu=(s,c)=>s.dispatch("GetContent",c),$h=(s,c)=>s.dispatch("PastePlainTextToggle",{state:c}),ki={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:s=>s.shiftKey||s.ctrlKey||s.altKey||ki.metaKeyPressed(s),metaKeyPressed:s=>Dr.os.isMacOS()||Dr.os.isiOS()?s.metaKey:s.ctrlKey&&!s.altKey},$l="data-mce-selected",pf=Math.abs,ff=Math.round,ob={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Yc=(s,c)=>{const p=c.dom,m=c.getDoc(),x=document,w=c.getBody();let T,P,F,j,U,Z,dt,gt,ut,yt,st,Ct,Rt,Ut,de;const ke=Ti=>te(Ti)&&(Yr(Ti)||p.is(Ti,"figure.image")),_e=Ti=>io(Ti)||p.hasClass(Ti,"mce-preview-object"),qe=Ti=>{const fr=Ti.target;((gr,tn)=>{if((nn=>nn.type==="longpress"||nn.type.indexOf("touch")===0)(gr)){const nn=gr.touches[0];return ke(gr.target)&&!nM(nn.clientX,nn.clientY,tn)}return ke(gr.target)&&!nM(gr.clientX,gr.clientY,tn)})(Ti,c.selection.getRng())&&!Ti.isDefaultPrevented()&&c.selection.select(fr)},Xe=Ti=>p.hasClass(Ti,"mce-preview-object")&&te(Ti.firstElementChild)?[Ti,Ti.firstElementChild]:p.is(Ti,"figure.image")?[Ti.querySelector("img")]:[Ti],$e=Ti=>{const fr=Ag(c);return!!fr&&Ti.getAttribute("data-mce-resize")!=="false"&&Ti!==c.getBody()&&(p.hasClass(Ti,"mce-preview-object")&&te(Ti.firstElementChild)?za(Ke(Ti.firstElementChild),fr):za(Ke(Ti),fr))},fn=(Ti,fr,gr)=>{if(te(gr)){const tn=Xe(Ti);Ge(tn,nn=>{nn.style[fr]||!c.schema.isValid(nn.nodeName.toLowerCase(),fr)?p.setStyle(nn,fr,gr):p.setAttrib(nn,fr,""+gr)})}},hn=(Ti,fr,gr)=>{fn(Ti,"width",fr),fn(Ti,"height",gr)},vn=Ti=>{let fr,gr,tn,nn,kn;fr=Ti.screenX-Z,gr=Ti.screenY-dt,Ct=fr*j[2]+gt,Rt=gr*j[3]+ut,Ct=Ct<5?5:Ct,Rt=Rt<5?5:Rt,tn=(ke(T)||_e(T))&&O_(c)!==!1?!ki.modifierPressed(Ti):ki.modifierPressed(Ti),tn&&(pf(fr)>pf(gr)?(Rt=ff(Ct*yt),Ct=ff(Rt/yt)):(Ct=ff(Rt/yt),Rt=ff(Ct*yt))),hn(P,Ct,Rt),nn=j.startPos.x+fr,kn=j.startPos.y+gr,nn=nn>0?nn:0,kn=kn>0?kn:0,p.setStyles(F,{left:nn,top:kn,display:"block"}),F.innerHTML=Ct+" &times; "+Rt,j[2]<0&&P.clientWidth<=Ct&&p.setStyle(P,"left",void 0+(gt-Ct)),j[3]<0&&P.clientHeight<=Rt&&p.setStyle(P,"top",void 0+(ut-Rt)),fr=w.scrollWidth-Ut,gr=w.scrollHeight-de,fr+gr!==0&&p.setStyles(F,{left:nn-fr,top:kn-gr}),st||(((En,In,On,Un,pi)=>{En.dispatch("ObjectResizeStart",{target:In,width:On,height:Un,origin:pi})})(c,T,gt,ut,"corner-"+j.name),st=!0)},sn=()=>{const Ti=st;st=!1,Ti&&(fn(T,"width",Ct),fn(T,"height",Rt)),p.unbind(m,"mousemove",vn),p.unbind(m,"mouseup",sn),x!==m&&(p.unbind(x,"mousemove",vn),p.unbind(x,"mouseup",sn)),p.remove(P),p.remove(F),p.remove(U),Tn(T),Ti&&(((fr,gr,tn,nn,kn)=>{fr.dispatch("ObjectResized",{target:gr,width:tn,height:nn,origin:kn})})(c,T,Ct,Rt,"corner-"+j.name),p.setAttrib(T,"style",p.getAttrib(T,"style"))),c.nodeChanged()},Tn=Ti=>{Mr();const fr=p.getPos(Ti,w),gr=fr.x,tn=fr.y,nn=Ti.getBoundingClientRect(),kn=nn.width||nn.right-nn.left,En=nn.height||nn.bottom-nn.top;T!==Ti&&(ni(),T=Ti,Ct=Rt=0);const In=c.dispatch("ObjectSelected",{target:Ti});$e(Ti)&&!In.isDefaultPrevented()?Le(ob,(On,Un)=>{let pi=p.get("mceResizeHandle"+Un);pi&&p.remove(pi),pi=p.add(w,"div",{id:"mceResizeHandle"+Un,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Un+"-resize; margin:0; padding:0"}),p.bind(pi,"mousedown",Li=>{Li.stopImmediatePropagation(),Li.preventDefault(),(Ki=>{const ir=Xe(T)[0];var ui;Z=Ki.screenX,dt=Ki.screenY,gt=ir.clientWidth,ut=ir.clientHeight,yt=ut/gt,j=On,j.name=Un,j.startPos={x:kn*On[0]+gr,y:En*On[1]+tn},Ut=w.scrollWidth,de=w.scrollHeight,U=p.add(w,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),p.setStyles(U,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),P=_e(ui=T)?p.create("img",{src:Dr.transparentSrc}):ui.cloneNode(!0),p.addClass(P,"mce-clonedresizable"),p.setAttrib(P,"data-mce-bogus","all"),P.contentEditable="false",p.setStyles(P,{left:gr,top:tn,margin:0}),hn(P,kn,En),P.removeAttribute($l),w.appendChild(P),p.bind(m,"mousemove",vn),p.bind(m,"mouseup",sn),x!==m&&(p.bind(x,"mousemove",vn),p.bind(x,"mouseup",sn)),F=p.add(w,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},gt+" &times; "+ut)})(Li)}),On.elm=pi,p.setStyles(pi,{left:kn*On[0]+gr-pi.offsetWidth/2,top:En*On[1]+tn-pi.offsetHeight/2})}):ni(!1)},Qn=Dd(Tn,0),ni=(Ti=!0)=>{Qn.cancel(),Mr(),T&&Ti&&T.removeAttribute($l),Le(ob,(fr,gr)=>{const tn=p.get("mceResizeHandle"+gr);tn&&(p.unbind(tn),p.remove(tn))})},Pi=(Ti,fr)=>p.isChildOf(Ti,fr),qi=Ti=>{if(st||c.removed||c.composing)return;const fr=Ti.type==="mousedown"?Ti.target:s.getNode(),gr=uc(Ke(fr),"table,img,figure.image,hr,video,span.mce-preview-object").map(nn=>nn.dom).filter(nn=>p.isEditable(nn.parentElement)).getOrUndefined(),tn=te(gr)?p.getAttrib(gr,$l,"1"):"1";if(Ge(p.select("img[data-mce-selected],hr[data-mce-selected]"),nn=>{nn.removeAttribute($l)}),te(gr)&&Pi(gr,w)){po();const nn=s.getStart(!0);if(Pi(nn,gr)&&Pi(s.getEnd(!0),gr))return p.setAttrib(gr,$l,tn),void Qn.throttle(gr)}ni()},Mr=()=>{Le(ob,Ti=>{Ti.elm&&(p.unbind(Ti.elm),delete Ti.elm)})},po=()=>{try{c.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return c.on("init",()=>{po(),c.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",qi),c.on("keyup compositionend",Ti=>{T&&T.nodeName==="TABLE"&&qi(Ti)}),c.on("hide blur",ni),c.on("contextmenu longpress",qe,!0)}),c.on("remove",Mr),{isResizable:$e,showResizeRect:Tn,hideResizeRect:ni,updateResizeRect:qi,destroy:()=>{Qn.cancel(),T=P=U=null}}},iw=(s,c,p)=>{const m=s.document.createRange();var x;return x=m,c.fold(w=>{x.setStartBefore(w.dom)},(w,T)=>{x.setStart(w.dom,T)},w=>{x.setStartAfter(w.dom)}),((w,T)=>{T.fold(P=>{w.setEndBefore(P.dom)},(P,F)=>{w.setEnd(P.dom,F)},P=>{w.setEndAfter(P.dom)})})(m,p),m},ab=(s,c,p,m,x)=>{const w=s.document.createRange();return w.setStart(c.dom,p),w.setEnd(m.dom,x),w},gf=mu([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sb=(s,c,p)=>c(Ke(p.startContainer),p.startOffset,Ke(p.endContainer),p.endOffset);gf.ltr,gf.rtl;const rw=(s,c,p,m)=>({start:s,soffset:c,finish:p,foffset:m}),iM=document.caretPositionFromPoint?(s,c,p)=>{var m,x;return lt.from((x=(m=s.dom).caretPositionFromPoint)===null||x===void 0?void 0:x.call(m,c,p)).bind(w=>{if(w.offsetNode===null)return lt.none();const T=s.dom.createRange();return T.setStart(w.offsetNode,w.offset),T.collapse(),lt.some(T)})}:document.caretRangeFromPoint?(s,c,p)=>{var m,x;return lt.from((x=(m=s.dom).caretRangeFromPoint)===null||x===void 0?void 0:x.call(m,c,p))}:lt.none,_v=mu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gc={before:_v.before,on:_v.on,after:_v.after,cata:(s,c,p,m)=>s.fold(c,p,m),getStart:s=>s.fold(De,De,De)},Kd=mu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),mf={domRange:Kd.domRange,relative:Kd.relative,exact:Kd.exact,exactFromRange:s=>Kd.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const c=(p=>p.match({domRange:m=>Ke(m.startContainer),relative:(m,x)=>Gc.getStart(m),exact:(m,x,w,T)=>m}))(s);return Eo(c)},range:rw},wv=(s,c)=>{const p=Fr(s);return p==="input"?Gc.after(s):Te(["br","img"],p)?c===0?Gc.before(s):Gc.after(s):Gc.on(s,c)},qE=(s,c)=>{const p=s.fold(Gc.before,wv,Gc.after),m=c.fold(Gc.before,wv,Gc.after);return mf.relative(p,m)},lb=(s,c,p,m)=>{const x=wv(s,c),w=wv(p,m);return mf.relative(x,w)},Sv=(s,c)=>{const p=(c||document).createDocumentFragment();return Ge(s,m=>{p.appendChild(m.dom)}),Ke(p)},rM=s=>{const c=mf.getWin(s).dom,p=(x,w,T,P)=>ab(c,x,w,T,P),m=(x=>x.match({domRange:w=>{const T=Ke(w.startContainer),P=Ke(w.endContainer);return lb(T,w.startOffset,P,w.endOffset)},relative:qE,exact:lb}))(s);return((x,w)=>{const T=((P,F)=>F.match({domRange:j=>({ltr:ne(j),rtl:lt.none}),relative:(j,U)=>({ltr:Yi(()=>iw(P,j,U)),rtl:Yi(()=>lt.some(iw(P,U,j)))}),exact:(j,U,Z,dt)=>({ltr:Yi(()=>ab(P,j,U,Z,dt)),rtl:Yi(()=>lt.some(ab(P,Z,dt,j,U)))})}))(x,w);return((P,F)=>{const j=F.ltr();return j.collapsed?F.rtl().filter(U=>U.collapsed===!1).map(U=>gf.rtl(Ke(U.endContainer),U.endOffset,Ke(U.startContainer),U.startOffset)).getOrThunk(()=>sb(0,gf.ltr,j)):sb(0,gf.ltr,j)})(0,T)})(c,m).match({ltr:p,rtl:p})},ow=(s,c,p)=>((m,x,w)=>((T,P,F)=>{const j=Ke(T.document);return iM(j,P,F).map(U=>rw(Ke(U.startContainer),U.startOffset,Ke(U.endContainer),U.endOffset))})(m,x,w))(Eo(Ke(p)).dom,s,c).map(m=>{const x=p.createRange();return x.setStart(m.start.dom,m.soffset),x.setEnd(m.finish.dom,m.foffset),x}).getOrUndefined(),Cv=(s,c)=>te(s)&&te(c)&&s.startContainer===c.startContainer&&s.startOffset===c.startOffset&&s.endContainer===c.endContainer&&s.endOffset===c.endOffset,aw=(s,c,p)=>((m,x,w)=>{let T=m;for(;T&&T!==x;){if(w(T))return T;T=T.parentNode}return null})(s,c,p)!==null,oM=(s,c,p)=>aw(s,c,m=>m.nodeName===p),aM=(s,c)=>Di(s)&&!aw(s,c,Ul),sM=(s,c,p)=>{const m=c.parentNode;if(m){const x=new zt(c,s.getParent(m,s.isBlock)||s.getRoot());let w;for(;w=x[p?"prev":"next"]();)if(nr(w))return!0}return!1},cb=(s,c,p,m,x)=>{const w=s.getRoot(),T=s.schema.getNonEmptyElements(),P=x.parentNode;let F,j;if(!P)return lt.none();const U=s.getParent(P,s.isBlock)||w;if(m&&nr(x)&&c&&s.isEmpty(U))return lt.some(Cn(P,s.nodeIndex(x)));const Z=new zt(x,U);for(;j=Z[m?"prev":"next"]();){if(s.getContentEditableParent(j)==="false"||aM(j,w))return lt.none();if(Sn(j)&&j.data.length>0)return oM(j,w,"A")?lt.none():lt.some(Cn(j,m?j.data.length:0));if(s.isBlock(j)||T[j.nodeName.toLowerCase()])return lt.none();F=j}return Qr(F)?lt.none():p&&F?lt.some(Cn(F,0)):lt.none()},ub=(s,c,p,m)=>{const x=s.getRoot();let w,T=!1,P=p?m.startContainer:m.endContainer,F=p?m.startOffset:m.endOffset;const j=We(P)&&F===P.childNodes.length,U=s.schema.getNonEmptyElements();let Z=p;if(Di(P))return lt.none();if(We(P)&&F>P.childNodes.length-1&&(Z=!1),Co(P)&&(P=x,F=0),P===x){if(Z&&(w=P.childNodes[F>0?F-1:0],w)&&(Di(w)||U[w.nodeName]||Ci(w)))return lt.none();if(P.hasChildNodes()){if(F=Math.min(!Z&&F>0?F-1:F,P.childNodes.length-1),P=P.childNodes[F],F=Sn(P)&&j?P.data.length:0,!c&&P===x.lastChild&&Ci(P)||((dt,gt)=>{let ut=gt;for(;ut&&ut!==dt;){if(or(ut))return!0;ut=ut.parentNode}return!1})(x,P)||Di(P))return lt.none();if(P.hasChildNodes()&&!Ci(P)){w=P;const dt=new zt(P,x);do{if(or(w)||Di(w)){T=!1;break}if(Sn(w)&&w.data.length>0){F=Z?0:w.data.length,P=w,T=!0;break}if(U[w.nodeName.toLowerCase()]&&!mo(w)){F=s.nodeIndex(w),P=w.parentNode,Z||F++,T=!0;break}}while(w=Z?dt.next():dt.prev())}}}return c&&(Sn(P)&&F===0&&cb(s,j,c,!0,P).each(dt=>{P=dt.container(),F=dt.offset(),T=!0}),We(P)&&(w=P.childNodes[F],w||(w=P.childNodes[F-1]),!w||!nr(w)||((dt,gt)=>{var ut;return((ut=dt.previousSibling)===null||ut===void 0?void 0:ut.nodeName)==="A"})(w)||sM(s,w,!1)||sM(s,w,!0)||cb(s,j,c,!0,w).each(dt=>{P=dt.container(),F=dt.offset(),T=!0}))),Z&&!c&&Sn(P)&&F===P.data.length&&cb(s,j,c,!1,P).each(dt=>{P=dt.container(),F=dt.offset(),T=!0}),T&&P?lt.some(Cn(P,F)):lt.none()},Zh=(s,c)=>{const p=c.collapsed,m=c.cloneRange(),x=Cn.fromRangeStart(c);return ub(s,p,!0,m).each(w=>{p&&Cn.isAbove(x,w)||m.setStart(w.container(),w.offset())}),p||ub(s,p,!1,m).each(w=>{m.setEnd(w.container(),w.offset())}),p&&m.collapse(!0),Cv(c,m)?lt.none():lt.some(m)},hb=(s,c)=>s.splitText(c),db=s=>{let c=s.startContainer,p=s.startOffset,m=s.endContainer,x=s.endOffset;if(c===m&&Sn(c)){if(p>0&&p<c.data.length)if(m=hb(c,p),c=m.previousSibling,x>p){x-=p;const w=hb(m,x).previousSibling;c=m=w,x=w.data.length,p=0}else x=0}else if(Sn(c)&&p>0&&p<c.data.length&&(c=hb(c,p),p=0),Sn(m)&&x>0&&x<m.data.length){const w=hb(m,x).previousSibling;m=w,x=w.data.length}return{startContainer:c,startOffset:p,endContainer:m,endOffset:x}},vf=s=>({walk:(c,p)=>jc(s,c,p),split:db,expand:(c,p={type:"word"})=>{if(p.type==="word"){const m=Su(s,c,[{inline:"span"}]),x=s.createRng();return x.setStart(m.startContainer,m.startOffset),x.setEnd(m.endContainer,m.endOffset),x}return c},normalize:c=>Zh(s,c).fold(Fe,p=>(c.setStart(p.startContainer,p.startOffset),c.setEnd(p.endContainer,p.endOffset),!0))});vf.compareRanges=Cv,vf.getCaretRangeFromPoint=ow,vf.getSelectedNode=Mi,vf.getNode=Si;const ku=((s,c)=>{const p=x=>{const w=(T=>{const P=T.dom;return Nl(T)?P.getBoundingClientRect().height:P.offsetHeight})(x);if(w<=0||w===null){const T=hl(x,s);return parseFloat(T)||0}return w},m=(x,w)=>ar(w,(T,P)=>{const F=hl(x,P),j=F===void 0?0:parseInt(F,10);return isNaN(j)?T:T+j},0);return{set:(x,w)=>{if(!Me(w)&&!w.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+w);const T=x.dom;cl(T)&&(T.style[s]=w+"px")},get:p,getOuter:p,aggregate:m,max:(x,w,T)=>{const P=m(x,T);return w>P?w-P:0}}})("height"),Hg=()=>Ke(document),sw=(s,c)=>s.view(c).fold(ne([]),p=>{const m=s.owner(p),x=sw(s,m);return[p].concat(x)});var lw=Object.freeze({__proto__:null,view:s=>{var c;return(s.dom===document?lt.none():lt.from((c=s.dom.defaultView)===null||c===void 0?void 0:c.frameElement)).map(Ke)},owner:s=>Vr(s)});const ps=s=>Fr(s)==="textarea",Wg=(s,c)=>{const p=(x=>{const w=x.dom.ownerDocument,T=w.body,P=w.defaultView,F=w.documentElement;if(T===x.dom)return Vs(T.offsetLeft,T.offsetTop);const j=Hs(P?.pageYOffset,F.scrollTop),U=Hs(P?.pageXOffset,F.scrollLeft),Z=Hs(F.clientTop,T.clientTop),dt=Hs(F.clientLeft,T.clientLeft);return _d(x).translate(U-dt,j-Z)})(s),m=(x=>ku.get(x))(s);return{element:s,bottom:p.top+m,height:m,pos:p,cleanup:c}},Ea=(s,c,p,m)=>{UE(s,(x,w)=>Kh(s,c,p,m),p)},xc=(s,c,p,m,x)=>{const w={elm:m.element.dom,alignToTop:x};((T,P)=>T.dispatch("ScrollIntoView",P).isDefaultPrevented())(s,w)||(p(c,lu(c).top,m,x),((T,P)=>{T.dispatch("AfterScrollIntoView",P)})(s,w))},Kh=(s,c,p,m)=>{const x=Ke(s.getBody()),w=Ke(s.getDoc());x.dom.offsetWidth;const T=((P,F)=>{const j=((Z,dt)=>{const gt=Oo(Z);if(gt.length===0||ps(Z))return{element:Z,offset:dt};if(dt<gt.length&&!ps(gt[dt]))return{element:gt[dt],offset:0};{const ut=gt[gt.length-1];return ps(ut)?{element:Z,offset:dt}:Fr(ut)==="img"?{element:ut,offset:1}:Ba(ut)?{element:ut,offset:xo(ut).length}:{element:ut,offset:Oo(ut).length}}})(P,F),U=ha('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return xa(j.element,U),Wg(U,()=>uo(U))})(Ke(p.startContainer),p.startOffset);xc(s,w,c,T,m),T.cleanup()},cw=(s,c,p,m)=>{const x=Ke(s.getDoc());xc(s,x,p,(w=>Wg(Ke(w),le))(c),m)},UE=(s,c,p)=>{const m=p.startContainer,x=p.startOffset,w=p.endContainer,T=p.endOffset;c(Ke(m),Ke(w));const P=s.dom.createRng();P.setStart(m,x),P.setEnd(w,T),s.selection.setRng(p)},pb=(s,c)=>s.element.dom.scrollIntoView({block:c?"start":"end"}),lM=(s,c,p,m)=>{const x=c+s,w=p.pos.top,T=p.bottom,P=T-w>=c;w<s?pb(p,m!==!1):w>x?pb(p,P?m!==!1:m===!0):T>x&&!P&&pb(p,m===!0)},cM=(s,c,p,m)=>{const x=Eo(s).dom.innerHeight;lM(c,x,p,m)},fb=(s,c,p,m)=>{const x=Eo(s).dom.innerHeight;lM(c,x,p,m);const w=(P=>{const F=Hg(),j=lu(F),U=((gt,ut)=>{const yt=ut.owner(gt);return sw(ut,yt)})(P,lw),Z=_d(P),dt=di(U,(gt,ut)=>{const yt=_d(ut);return{left:gt.left+yt.left,top:gt.top+yt.top}},{left:0,top:0});return Vs(dt.left+Z.left+j.left,dt.top+Z.top+j.top)})(p.element),T=wd(window);w.top<T.y?pl(p.element,m!==!1):w.top>T.bottom&&pl(p.element,m===!0)},kv=(s,c,p)=>Ea(s,cM,c,p),uM=(s,c,p)=>cw(s,c,cM,p),hM=(s,c,p)=>Ea(s,fb,c,p),dM=(s,c,p)=>cw(s,c,fb,p),jg=(s,c,p)=>{(s.inline?kv:hM)(s,c,p)},pM=s=>s.dom.focus(),yf=s=>{const c=Pl(s).dom;return s.dom===c.activeElement},Qd=(s=Hg())=>lt.from(s.dom.activeElement).map(Ke),bf=(s,c)=>{const p=Ba(c)?xo(c).length:Oo(c).length+1;return s>p?p:s<0?0:s},fM=s=>mf.range(s.start,bf(s.soffset,s.start),s.finish,bf(s.foffset,s.finish)),uw=(s,c)=>!bn(c.dom)&&(Ua(s,c)||Ir(s,c)),Av=s=>c=>uw(s,c.start)&&uw(s,c.finish),hw=s=>mf.range(Ke(s.startContainer),s.startOffset,Ke(s.endContainer),s.endOffset),dw=s=>{const c=document.createRange();try{return c.setStart(s.start.dom,s.soffset),c.setEnd(s.finish.dom,s.foffset),lt.some(c)}catch{return lt.none()}},Mv=s=>{const c=(m=>m.inline||Dr.browser.isFirefox())(s)?(p=Ke(s.getBody()),(m=>{const x=m.getSelection();return(x&&x.rangeCount!==0?lt.from(x.getRangeAt(0)):lt.none()).map(hw)})(Eo(p).dom).filter(Av(p))):lt.none();var p;s.bookmark=c.isSome()?c:s.bookmark},gb=s=>(s.bookmark?s.bookmark:lt.none()).bind(c=>{return p=Ke(s.getBody()),m=c,lt.from(m).filter(Av(p)).map(fM);var p,m}).bind(dw),pw={isEditorUIElement:s=>{const c=s.className.toString();return c.indexOf("tox-")!==-1||c.indexOf("mce-")!==-1}},Zl={setEditorTimeout:(s,c,p)=>((m,x)=>(Me(x)||(x=0),setTimeout(m,x)))(()=>{s.removed||c()},p),setEditorInterval:(s,c,p)=>{const m=((x,w)=>(Me(w)||(w=0),setInterval(x,w)))(()=>{s.removed?clearInterval(m):c()},p);return m}};let xf;const mb=Sr.DOM,vb=s=>{const c=s.classList;return c!==void 0&&(c.contains("tox-edit-area")||c.contains("tox-edit-area__iframe")||c.contains("mce-content-body"))},yb=(s,c)=>{const p=BA(s);return mb.getParent(c,x=>(w=>We(w)&&pw.isEditorUIElement(w))(x)||!!p&&s.dom.is(x,p))!==null},bb=s=>{try{const c=Pl(Ke(s.getElement()));return Qd(c).fold(()=>document.body,p=>p.dom)}catch{return document.body}},gM=(s,c)=>{const p=c.editor;(x=>{const w=Dd(()=>{Mv(x)},0);x.on("init",()=>{x.inline&&((T,P)=>{const F=()=>{P.throttle()};Sr.DOM.bind(document,"mouseup",F),T.on("remove",()=>{Sr.DOM.unbind(document,"mouseup",F)})})(x,w),((T,P)=>{((F,j)=>{F.on("mouseup touchend",U=>{j.throttle()})})(T,P),T.on("keyup NodeChange AfterSetSelectionRange",F=>{(j=>j.type==="nodechange"&&j.selectionChange)(F)||Mv(T)})})(x,w)}),x.on("remove",()=>{w.cancel()})})(p);const m=(x,w)=>{qA(x)&&x.inline!==!0&&w(Ke(x.getContainer()),"tox-edit-focus")};p.on("focusin",()=>{const x=s.focusedEditor;vb(bb(p))&&m(p,El),x!==p&&(x&&x.dispatch("blur",{focusedEditor:p}),s.setActive(p),s.focusedEditor=p,p.dispatch("focus",{blurredEditor:x}),p.focus(!0))}),p.on("focusout",()=>{Zl.setEditorTimeout(p,()=>{const x=s.focusedEditor;vb(bb(p))&&x===p||m(p,Ol),yb(p,bb(p))||x!==p||(p.dispatch("blur",{focusedEditor:null}),s.focusedEditor=null)})}),xf||(xf=x=>{const w=s.activeEditor;w&&md(x).each(T=>{const P=T;P.ownerDocument===document&&(P===document.body||yb(w,P)||s.focusedEditor!==w||(w.dispatch("blur",{focusedEditor:null}),s.focusedEditor=null))})},mb.bind(document,"focusin",xf))},$E=(s,c)=>{s.focusedEditor===c.editor&&(s.focusedEditor=null),!s.activeEditor&&xf&&(mb.unbind(document,"focusin",xf),xf=null)},fw=(s,c)=>{((p,m)=>(x=>x.collapsed?lt.from(Si(x.startContainer,x.startOffset)).map(Ke):lt.none())(m).bind(x=>cu(x)?lt.some(x):Ua(p,x)?lt.none():lt.some(p)))(Ke(s.getBody()),c).bind(p=>Es(p.dom)).fold(()=>{s.selection.normalize()},p=>s.selection.setRng(p.toRange()))},Tv=s=>{if(s.setActive)try{s.setActive()}catch{s.focus()}else s.focus()},_f=s=>s.inline?(c=>{const p=c.getBody();return p&&(m=Ke(p),yf(m)||(x=m,Qd(Pl(x)).filter(w=>x.dom.contains(w.dom))).isSome());var m,x})(s):(c=>te(c.iframeElement)&&yf(Ke(c.iframeElement)))(s),xb=s=>s.editorManager.setActive(s),_b=(s,c,p,m,x)=>{const w=p?c.startContainer:c.endContainer,T=p?c.startOffset:c.endOffset;return lt.from(w).map(Ke).map(P=>m&&c.collapsed?P:ru(P,x(P,T)).getOr(P)).bind(P=>Fo(P)?lt.some(P):Ma(P).filter(Fo)).map(P=>P.dom).getOr(s)},wf=(s,c,p=!1)=>_b(s,c,!0,p,(m,x)=>Math.min(as(m),x)),mM=(s,c,p=!1)=>_b(s,c,!1,p,(m,x)=>x>0?x-1:x),wb=(s,c)=>{const p=s;for(;s&&Sn(s)&&s.length===0;)s=c?s.nextSibling:s.previousSibling;return s||p},Sb=(s,c)=>Be(c,p=>{const m=s.dispatch("GetSelectionRange",{range:p});return m.range!==p?m.range:p}),Iv=["img","br"],vM=s=>ls(s).filter(p=>p.trim().length!==0||p.indexOf(no)>-1).isSome()||Te(Iv,Fr(s))||(p=>{return Fo(m=p)&&ag(m.dom)&&aa(p,"contenteditable")==="false";var m})(s),gw="[data-mce-autocompleter]",Jd=(s,c)=>{if(yM(Ke(s.getBody())).isNone()){const m=ha('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',s.getDoc());Ho(m,Ke(c.extractContents())),c.insertNode(m.dom),Ma(m).each(x=>x.dom.normalize()),(p=m,((x,w)=>{const T=P=>{const F=Oo(P);for(let j=F.length-1;j>=0;j--){const U=F[j];if(w(U))return lt.some(U);const Z=T(U);if(Z.isSome())return Z}return lt.none()};return T(x)})(p,vM)).map(x=>{s.selection.setCursorLocation(x.dom,(w=>Fr(w)==="img"?1:ls(w).fold(()=>Oo(w).length,T=>T.length))(x))})}var p},yM=s=>ys(s,gw),bM={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ev=(s,c,p)=>{const m=p?"lastChild":"firstChild",x=p?"prev":"next";if(s[m])return s[m];if(s!==c){let w=s[x];if(w)return w;for(let T=s.parent;T&&T!==c;T=T.parent)if(w=T[x],w)return w}},ZE=s=>{var c;const p=(c=s.value)!==null&&c!==void 0?c:"";if(!Nc(p))return!1;const m=s.parent;return!m||m.name==="span"&&!m.attr("style")||!/^[ ]+$/.test(p)},mw=s=>{const c=s.name==="a"&&!s.attr("href")&&s.attr("id");return s.attr("name")||s.attr("id")&&!s.firstChild||s.attr("data-mce-bookmark")||c};class tl{constructor(c,p){this.name=c,this.type=p,p===1&&(this.attributes=[],this.attributes.map={})}static create(c,p){const m=new tl(c,bM[c]||1);return p&&Le(p,(x,w)=>{m.attr(w,x)}),m}replace(c){const p=this;return c.parent&&c.remove(),p.insert(c,p),p.remove(),p}attr(c,p){const m=this;if(!vt(c))return te(c)&&Le(c,(w,T)=>{m.attr(T,w)}),m;const x=m.attributes;if(x){if(p!==void 0){if(p===null){if(c in x.map){delete x.map[c];let w=x.length;for(;w--;)if(x[w].name===c)return x.splice(w,1),m}return m}if(c in x.map){let w=x.length;for(;w--;)if(x[w].name===c){x[w].value=p;break}}else x.push({name:c,value:p});return x.map[c]=p,m}return x.map[c]}}clone(){const c=this,p=new tl(c.name,c.type),m=c.attributes;if(m){const x=[];x.map={};for(let w=0,T=m.length;w<T;w++){const P=m[w];P.name!=="id"&&(x[x.length]={name:P.name,value:P.value},x.map[P.name]=P.value)}p.attributes=x}return p.value=c.value,p}wrap(c){const p=this;return p.parent&&(p.parent.insert(c,p),c.append(p)),p}unwrap(){const c=this;for(let p=c.firstChild;p;){const m=p.next;c.insert(p,c,!0),p=m}c.remove()}remove(){const c=this,p=c.parent,m=c.next,x=c.prev;return p&&(p.firstChild===c?(p.firstChild=m,m&&(m.prev=null)):x&&(x.next=m),p.lastChild===c?(p.lastChild=x,x&&(x.next=null)):m&&(m.prev=x),c.parent=c.next=c.prev=null),c}append(c){const p=this;c.parent&&c.remove();const m=p.lastChild;return m?(m.next=c,c.prev=m,p.lastChild=c):p.lastChild=p.firstChild=c,c.parent=p,c}insert(c,p,m){c.parent&&c.remove();const x=p.parent||this;return m?(p===x.firstChild?x.firstChild=c:p.prev&&(p.prev.next=c),c.prev=p.prev,c.next=p,p.prev=c):(p===x.lastChild?x.lastChild=c:p.next&&(p.next.prev=c),c.next=p.next,c.prev=p,p.next=c),c.parent=x,c}getAll(c){const p=this,m=[];for(let x=p.firstChild;x;x=Ev(x,p))x.name===c&&m.push(x);return m}children(){const c=[];for(let p=this.firstChild;p;p=p.next)c.push(p);return c}empty(){const c=this;if(c.firstChild){const p=[];for(let x=c.firstChild;x;x=Ev(x,c))p.push(x);let m=p.length;for(;m--;){const x=p[m];x.parent=x.firstChild=x.lastChild=x.next=x.prev=null}}return c.firstChild=c.lastChild=null,c}isEmpty(c,p={},m){var x;const w=this;let T=w.firstChild;if(mw(w))return!1;if(T)do{if(T.type===1){if(T.attr("data-mce-bogus"))continue;if(c[T.name]||mw(T))return!1}if(T.type===8||T.type===3&&!ZE(T)||T.type===3&&T.parent&&p[T.parent.name]&&Nc((x=T.value)!==null&&x!==void 0?x:"")||m&&m(T))return!1}while(T=Ev(T,w));return!0}walk(c){return Ev(this,null,c)}}const xM=(s,c,p=0)=>{const m=s.toLowerCase();if(m.indexOf("[if ",p)!==-1&&((x,w)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(x.substr(w)))(m,p)){const x=m.indexOf("[endif]",p);return m.indexOf(">",x)}if(c){const x=m.indexOf(">",p);return x!==-1?x:m.length}{const x=/--!?>/g;x.lastIndex=p;const w=x.exec(s);return w?w.index+w[0].length:m.length}},KE=(s,c,p)=>{const m=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,x=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,w=s.getVoidElements();let T=1,P=p;for(;T!==0;)for(m.lastIndex=P;;){const F=m.exec(c);if(F===null)return P;if(F[1]==="!"){P=Ui(F[2],"--")?xM(c,!1,F.index+3):xM(c,!0,F.index+1);break}{x.lastIndex=m.lastIndex;const j=x.exec(c);if(ct(j)||j.index!==m.lastIndex)continue;F[1]==="/"?T-=1:Hn(w,F[2])||(T+=1),P=m.lastIndex+j[0].length;break}}return P},_M=(s,c)=>{const p=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,m=s.schema;let x=((P,F)=>{const j=new RegExp(["\\s?("+P.join("|")+')="[^"]+"'].join("|"),"gi");return F.replace(j,"")})(s.getTempAttrs(),c);const w=m.getVoidElements();let T;for(;T=p.exec(x);){const P=p.lastIndex,F=T[0].length;let j;j=w[T[1]]?P:KE(m,x,P),x=x.substring(0,P-F)+x.substring(j),p.lastIndex=P-F}return Za(x)},QE=_M,wM=s=>{const c=oe(s,"[data-mce-bogus]");Ge(c,p=>{aa(p,"data-mce-bogus")==="all"?uo(p):qo(p)?(xa(p,qa(Ta)),uo(p)):ss(p)})},SM=s=>{const c=oe(s,"input");Ge(c,p=>{Ko(p,"name")})},CM=(s,c,p)=>{let m;return m=c.format==="raw"?zn.trim(QE(s.serializer,p.innerHTML)):c.format==="text"?((x,w)=>{const T=x.getDoc(),P=Pl(Ke(x.getBody())),F=co("div",T);Xo(F,"data-mce-bogus","all"),ul(F,{position:"fixed",left:"-9999999px",top:"0"}),dc(F,w.innerHTML),wM(F),SM(F);const j=(Z=>lc(Z)?Z:Ke(Vr(Z).dom.body))(P);Ho(j,F);const U=Za(F.dom.innerText);return uo(F),U})(s,p):c.format==="tree"?s.serializer.serialize(p,c):((x,w)=>{const T=bl(x),P=new RegExp(`^(<${T}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${T}>[\r
]*|<br \\/>[\r
]*)$`);return w.replace(P,"")})(s,s.serializer.serialize(p,c)),c.format!=="text"&&!zl(Ke(p))&&vt(m)?zn.trim(m):m},kM=zn.makeMap,Cb=s=>{const c=[],p=(s=s||{}).indent,m=kM(s.indent_before||""),x=kM(s.indent_after||""),w=fu.getEncodeFunc(s.entity_encoding||"raw",s.entities),T=s.element_format!=="xhtml";return{start:(P,F,j)=>{if(p&&m[P]&&c.length>0){const U=c[c.length-1];U.length>0&&U!==`
`&&c.push(`
`)}if(c.push("<",P),F)for(let U=0,Z=F.length;U<Z;U++){const dt=F[U];c.push(" ",dt.name,'="',w(dt.value,!0),'"')}if(c[c.length]=!j||T?">":" />",j&&p&&x[P]&&c.length>0){const U=c[c.length-1];U.length>0&&U!==`
`&&c.push(`
`)}},end:P=>{let F;c.push("</",P,">"),p&&x[P]&&c.length>0&&(F=c[c.length-1],F.length>0&&F!==`
`&&c.push(`
`))},text:(P,F)=>{P.length>0&&(c[c.length]=F?P:w(P))},cdata:P=>{c.push("<![CDATA[",P,"]]>")},comment:P=>{c.push("<!--",P,"-->")},pi:(P,F)=>{F?c.push("<?",P," ",w(F),"?>"):c.push("<?",P,"?>"),p&&c.push(`
`)},doctype:P=>{c.push("<!DOCTYPE",P,">",p?`
`:"")},reset:()=>{c.length=0},getContent:()=>c.join("").replace(/\n$/,"")}},uh=(s={},c=zc())=>{const p=Cb(s);return s.validate=!("validate"in s)||s.validate,{serialize:m=>{const x=s.validate,w={3:P=>{var F;p.text((F=P.value)!==null&&F!==void 0?F:"",P.raw)},8:P=>{var F;p.comment((F=P.value)!==null&&F!==void 0?F:"")},7:P=>{p.pi(P.name,P.value)},10:P=>{var F;p.doctype((F=P.value)!==null&&F!==void 0?F:"")},4:P=>{var F;p.cdata((F=P.value)!==null&&F!==void 0?F:"")},11:P=>{let F=P;if(F=F.firstChild)do T(F);while(F=F.next)}};p.reset();const T=P=>{var F;const j=w[P.type];if(j)j(P);else{const U=P.name,Z=U in c.getVoidElements();let dt=P.attributes;if(x&&dt&&dt.length>1){const gt=[];gt.map={};const ut=c.getElementRule(P.name);if(ut){for(let yt=0,st=ut.attributesOrder.length;yt<st;yt++){const Ct=ut.attributesOrder[yt];if(Ct in dt.map){const Rt=dt.map[Ct];gt.map[Ct]=Rt,gt.push({name:Ct,value:Rt})}}for(let yt=0,st=dt.length;yt<st;yt++){const Ct=dt[yt].name;if(!(Ct in gt.map)){const Rt=dt.map[Ct];gt.map[Ct]=Rt,gt.push({name:Ct,value:Rt})}}dt=gt}}if(p.start(U,dt,Z),!Z){let gt=P.firstChild;if(gt){U!=="pre"&&U!=="textarea"||gt.type!==3||((F=gt.value)===null||F===void 0?void 0:F[0])!==`
`||p.text(`
`,!0);do T(gt);while(gt=gt.next)}p.end(U)}}};return m.type!==1||s.inner?m.type===3?w[3](m):w[11](m):T(m),p.getContent()}}},Ov=new Set;Ge(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{Ov.add(s)});const AM=["font","text-decoration","text-emphasis"],vw=(s,c)=>He(s.parseStyle(s.getAttrib(c,"style"))),MM=(s,c,p)=>{const m=vw(s,c),x=vw(s,p),w=T=>{var P,F;const j=(P=s.getStyle(c,T))!==null&&P!==void 0?P:"",U=(F=s.getStyle(p,T))!==null&&F!==void 0?F:"";return M(j)&&M(U)&&j!==U};return _n(m,T=>{const P=F=>_n(F,j=>j===T);if(!P(x)&&P(AM)){const F=Ln(x,j=>_n(AM,U=>Ui(j,U)));return _n(F,w)}return w(T)})},yw=(s,c,p)=>lt.from(p.container()).filter(Sn).exists(m=>{const x=s?0:-1;return c(m.data.charAt(p.offset()+x))}),kb=Ne(yw,!0,qh),Sf=Ne(yw,!1,qh),TM=s=>{const c=s.container();return Sn(c)&&(c.data.length===0||gl(c.data)&&ch.isBookmarkNode(c.parentNode))},hh=(s,c)=>p=>W0(s?0:-1,p).filter(c).isSome(),bw=s=>Yr(s)&&hl(Ke(s),"display")==="block",xw=s=>or(s)&&!(c=>We(c)&&c.getAttribute("data-mce-bogus")==="all")(s),Ab=hh(!0,bw),IM=hh(!1,bw),Yg=hh(!0,io),Gg=hh(!1,io),EM=hh(!0,Ci),OM=hh(!1,Ci),ia=hh(!0,xw),dh=hh(!1,xw),_w=(s,c)=>((p,m,x)=>Ua(m,p)?Rs(p,w=>x(w)||Ir(w,m)).slice(0,-1):[])(s,c,Fe),ph=(s,c)=>[s].concat(_w(s,c)),ww=(s,c,p)=>V_(s,c,p,TM),DM=(s,c)=>wn(ph(Ke(c.container()),s),Gr),Sw=(s,c,p)=>ww(s,c.dom,p).forall(m=>DM(c,p).fold(()=>!Hc(m,p,c.dom),x=>!Hc(m,p,c.dom)&&Ua(x,Ke(m.container())))),Mb=(s,c,p)=>DM(c,p).fold(()=>ww(s,c.dom,p).forall(m=>!Hc(m,p,c.dom)),m=>ww(s,m.dom,p).isNone()),Tb=Ne(Mb,!1),Cw=Ne(Mb,!0),LM=Ne(Sw,!1),kw=Ne(Sw,!0),PM=s=>jd(s).exists(qo),Au=(s,c,p)=>{const m=Ln(ph(Ke(p.container()),c),Gr),x=At(m).getOr(c);return ql(s,x.dom,p).filter(PM)},Xg=(s,c)=>jd(c).exists(qo)||Au(!0,s,c).isSome(),qg=(s,c)=>(p=>lt.from(p.getNode(!0)).map(Ke))(c).exists(qo)||Au(!1,s,c).isSome(),Io=Ne(Au,!1),NM=Ne(Au,!0),RM=s=>Cn.isTextPosition(s)&&!s.isAtStart()&&!s.isAtEnd(),BM=(s,c)=>{const p=Ln(ph(Ke(c.container()),s),Gr);return At(p).getOr(s)},zM=(s,c)=>RM(c)?Sf(c):Sf(c)||hs(BM(s,c).dom,c).exists(Sf),Aw=(s,c)=>RM(c)?kb(c):kb(c)||Qs(BM(s,c).dom,c).exists(kb),Mw=s=>jd(s).bind(c=>vs(c,Fo)).exists(c=>(p=>Te(["pre","pre-wrap"],p))(hl(c,"white-space"))),Ib=(s,c)=>p=>{return m=new zt(p,s)[c](),te(m)&&or(m)&&Og(m);var m},Ao=(s,c)=>!Mw(c)&&(Tb(s,c)||LM(s,c)||qg(s,c)||zM(s,c)||((p,m)=>{const x=hs(p.dom,m).getOr(m),w=Ib(p.dom,"prev");return m.isAtStart()&&(w(m.container())||w(x.container()))})(s,c)),fh=(s,c)=>!Mw(c)&&(Cw(s,c)||kw(s,c)||Xg(s,c)||Aw(s,c)||((p,m)=>{const x=Qs(p.dom,m).getOr(m),w=Ib(p.dom,"next");return m.isAtEnd()&&(w(m.container())||w(x.container()))})(s,c)),Eb=(s,c)=>Ao(s,c)||fh(s,(p=>{const m=p.container(),x=p.offset();return Sn(m)&&x<m.data.length?Cn(m,x+1):p})(c)),FM=(s,c)=>xu(s.charAt(c)),wo=(s,c)=>qh(s.charAt(c)),Tw=(s,c,p)=>{const m=c.data,x=Cn(c,0);return p||!FM(m,0)||Eb(s,x)?!!(p&&wo(m,0)&&Ao(s,x))&&(c.data=no+m.slice(1),!0):(c.data=" "+m.slice(1),!0)},Iw=(s,c,p)=>{const m=c.data,x=Cn(c,m.length-1);return p||!FM(m,m.length-1)||Eb(s,x)?!!(p&&wo(m,m.length-1)&&fh(s,x))&&(c.data=m.slice(0,-1)+no,!0):(c.data=m.slice(0,-1)+" ",!0)},JE=(s,c)=>{const p=c.container();if(!Sn(p))return lt.none();if((m=>{const x=m.container();return Sn(x)&&Wi(x.data,no)})(c)){const m=Tw(s,p,!1)||(x=>{const w=x.data,T=(P=>{const F=P.split("");return Be(F,(j,U)=>xu(j)&&U>0&&U<F.length-1&&pv(F[U-1])&&pv(F[U+1])?" ":j).join("")})(w);return T!==w&&(x.data=T,!0)})(p)||Iw(s,p,!1);return ns(m,c)}if(Eb(s,c)){const m=Tw(s,p,!0)||Iw(s,p,!0);return ns(m,c)}return lt.none()},VM=(s,c,p)=>{if(p===0)return;const m=Ke(s),x=Vo(m,Gr).getOr(m),w=s.data.slice(c,c+p),T=c+p>=s.data.length&&fh(x,Cn(s,s.data.length)),P=c===0&&Ao(x,Cn(s,0));s.replaceData(c,p,cg(w,4,P,T))},Ob=(s,c)=>{const p=s.data.slice(c),m=p.length-y(p).length;VM(s,c,m)},Ug=(s,c)=>{const p=s.data.slice(0,c),m=p.length-C(p).length;VM(s,c-m,m)},Db=(s,c,p,m=!0)=>{const x=C(s.data).length,w=m?s:c,T=m?c:s;return m?w.appendData(T.data):w.insertData(0,T.data),uo(Ke(T)),p&&Ob(w,x),w},HM=(s,c)=>((p,m)=>{const x=p.container(),w=p.offset();return!Cn.isTextPosition(p)&&x===m.parentNode&&w>Cn.before(m).offset()})(c,s)?Cn(c.container(),c.offset()-1):c,Dv=s=>{return Vl(s.previousSibling)?lt.some((c=s.previousSibling,Sn(c)?Cn(c,c.data.length):Cn.after(c))):s.previousSibling?bu(s.previousSibling):lt.none();var c},Cf=s=>{return Vl(s.nextSibling)?lt.some((c=s.nextSibling,Sn(c)?Cn(c,0):Cn.before(c))):s.nextSibling?Es(s.nextSibling):lt.none();var c},Lv=(s,c,p)=>((m,x,w)=>m?((T,P)=>Cf(P).orThunk(()=>Dv(P)).orThunk(()=>((F,j)=>Qs(F,Cn.after(j)).orThunk(()=>hs(F,Cn.before(j))))(T,P)))(x,w):((T,P)=>Dv(P).orThunk(()=>Cf(P)).orThunk(()=>((F,j)=>lt.from(j.previousSibling?j.previousSibling:j.parentNode).bind(U=>hs(F,Cn.before(U))).orThunk(()=>Qs(F,Cn.after(j))))(T,P)))(x,w))(s,c,p).map(Ne(HM,p)),Ew=(s,c,p)=>{p.fold(()=>{s.focus()},m=>{s.selection.setRng(m.toRange(),c)})},WM=(s,c)=>c&&Hn(s.schema.getBlockElements(),Fr(c)),tO=s=>{if(ho(s)){const c=ha('<br data-mce-bogus="1">');return dl(s),Ho(s,c),lt.some(Cn.before(c.dom))}return lt.none()},tp=(s,c,p,m=!0)=>{const x=Lv(c,s.getBody(),p.dom),w=Vo(p,Ne(WM,s),(T=s.getBody(),F=>F.dom===T));var T;const P=((F,j,U)=>{const Z=os(F).filter(Ba),dt=sc(F).filter(Ba);return uo(F),(gt=Z,ut=dt,yt=j,st=(Ct,Rt,Ut)=>{const de=Ct.dom,ke=Rt.dom,_e=de.data.length;return Db(de,ke,U),Ut.container()===ke?Cn(de,_e):Ut},gt.isSome()&&ut.isSome()&&yt.isSome()?lt.some(st(gt.getOrDie(),ut.getOrDie(),yt.getOrDie())):lt.none()).orThunk(()=>(U&&(Z.each(Ct=>Ug(Ct.dom,Ct.dom.length)),dt.each(Ct=>Ob(Ct.dom,0))),j));var gt,ut,yt,st})(p,x,((F,j)=>Hn(F.schema.getTextInlineElements(),Fr(j)))(s,p));s.dom.isEmpty(s.getBody())?(s.setContent(""),s.selection.setCursorLocation()):w.bind(tO).fold(()=>{m&&Ew(s,c,P)},F=>{m&&Ew(s,c,lt.some(F))})},jM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,kf=(s,c)=>za(Ke(c),tf(s))&&!Uu(s.schema,c)&&s.dom.isEditable(c),Xc=(s,c,p)=>{const m=((x,w,T)=>Ln(Sr.DOM.getParents(T.container(),"*",w),x))(s,c,p);return lt.from(m[m.length-1])},_c=(s,c)=>{const p=c.container(),m=c.offset();return s?ws(p)?Sn(p.nextSibling)?Cn(p.nextSibling,0):Cn.after(p):Ys(c)?Cn(p,m+1):c:ws(p)?Sn(p.previousSibling)?Cn(p.previousSibling,p.previousSibling.data.length):Cn.before(p):Fh(c)?Cn(p,m-1):c},YM=Ne(_c,!0),Pv=Ne(_c,!1),Ow=(s,c)=>{const p=m=>m.stopImmediatePropagation();s.on("beforeinput input",p,!0),s.getDoc().execCommand(c),s.off("beforeinput input",p)},Dw=s=>Ow(s,"Delete"),eO=s=>zo(s)||xs(s),Lb=(s,c)=>Ua(s,c)?vs(c,eO,(p=>m=>Zo(Ma(m),p,Ir))(s)):lt.none(),Lw=(s,c=!0)=>{s.dom.isEmpty(s.getBody())&&s.setContent("",{no_selection:!c})},GM=s=>{var c;return(nu(c=s)===8||Fr(c)==="#comment"?os(s):Wu(s)).bind(GM).orThunk(()=>lt.some(s))},XM=(s,c,p,m=!0)=>{var x;c.deleteContents();const w=GM(p).getOr(p),T=Ke((x=s.dom.getParent(w.dom,s.dom.isBlock))!==null&&x!==void 0?x:p.dom);if(T.dom===s.getBody()?Lw(s,m):ho(T)&&(fc(T),m&&s.selection.setCursorLocation(T.dom,0)),!Ir(p,T)){const F=Zo(Ma(T),p)?[]:Ma(P=T).map(Oo).map(j=>Ln(j,U=>!Ir(P,U))).getOr([]);Ge(F.concat(Oo(p)),j=>{Ir(j,T)||Ua(j,T)||!ho(j)||uo(j)})}var P},Pw=s=>oe(s,"td,th"),Pb=(s,c)=>({start:s,end:c}),Nv=mu([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Nb=(s,c)=>uc(Ke(s),"td,th",c),Rv=s=>!Ir(s.start,s.end),$g=(s,c)=>Ng(s.start,c).bind(p=>Ng(s.end,c).bind(m=>ns(Ir(p,m),p))),Rb=s=>c=>$g(c,s).map(p=>((m,x,w)=>({rng:m,table:x,cells:w}))(c,p,Pw(p))),Nw=(s,c,p,m)=>{if(p.collapsed||!s.forall(Rv))return lt.none();if(c.isSameTable){const x=s.bind(Rb(m));return lt.some({start:x,end:x})}{const x=Nb(p.startContainer,m),w=Nb(p.endContainer,m),T=x.bind((F=>j=>Ng(j,F).bind(U=>Dt(Pw(U)).map(Z=>Pb(j,Z))))(m)).bind(Rb(m)),P=w.bind((F=>j=>Ng(j,F).bind(U=>At(Pw(U)).map(Z=>Pb(Z,j))))(m)).bind(Rb(m));return lt.some({start:T,end:P})}},Rw=(s,c)=>Wn(s,p=>Ir(p,c)),Bw=s=>Ro(Rw(s.cells,s.rng.start),Rw(s.cells,s.rng.end),(c,p)=>s.cells.slice(c,p+1)),el=(s,c)=>{const{startTable:p,endTable:m}=c,x=s.cloneRange();return p.each(w=>x.setStartAfter(w.dom)),m.each(w=>x.setEndBefore(w.dom)),x},qM=(s,c)=>{const p=(w=>T=>Ir(w,T))(s),m=((w,T)=>{const P=Nb(w.startContainer,T),F=Nb(w.endContainer,T);return Ro(P,F,Pb)})(c,p),x=((w,T)=>{const P=gt=>Ng(Ke(gt),T),F=P(w.startContainer),j=P(w.endContainer),U=F.isSome(),Z=j.isSome(),dt=Ro(F,j,Ir).getOr(!1);return{startTable:F,endTable:j,isStartInTable:U,isEndInTable:Z,isSameTable:dt,isMultiTable:!dt&&U&&Z}})(c,p);return((w,T,P)=>w.exists(F=>((j,U)=>!Rv(j)&&$g(j,U).exists(Z=>{const dt=Z.dom.rows;return dt.length===1&&dt[0].cells.length===1}))(F,P)&&K0(F.start,T)))(m,c,p)?m.map(w=>Nv.singleCellTable(c,w.start)):x.isMultiTable?((w,T,P,F)=>Nw(w,T,P,F).bind(({start:j,end:U})=>{const Z=j.bind(Bw).getOr([]),dt=U.bind(Bw).getOr([]);if(Z.length>0&&dt.length>0){const gt=el(P,T);return lt.some(Nv.multiTable(Z,dt,gt))}return lt.none()}))(m,x,c,p):((w,T,P,F)=>Nw(w,T,P,F).bind(({start:j,end:U})=>j.or(U)).bind(j=>{const{isSameTable:U}=T,Z=Bw(j).getOr([]);if(U&&j.cells.length===Z.length)return lt.some(Nv.fullTable(j.table));if(Z.length>0){if(U)return lt.some(Nv.partialTable(Z,lt.none()));{const dt=el(P,T);return lt.some(Nv.partialTable(Z,lt.some({...T,rng:dt})))}}return lt.none()}))(m,x,c,p)},Bv=s=>Ge(s,c=>{Ko(c,"contenteditable"),fc(c)}),Bb=(s,c,p,m)=>{const x=p.cloneRange();m?(x.setStart(p.startContainer,p.startOffset),x.setEndAfter(c.dom.lastChild)):(x.setStartBefore(c.dom.firstChild),x.setEnd(p.endContainer,p.endOffset)),zb(s,x,c,!1).each(w=>w())},zw=s=>{const c=sh(s),p=Ke(s.selection.getNode());go(p.dom)&&ho(p)?s.selection.setCursorLocation(p.dom,0):s.selection.collapse(!0),c.length>1&&_n(c,m=>Ir(m,p))&&Xo(p,"data-mce-selected","1")},UM=(s,c,p)=>lt.some(()=>{const m=s.selection.getRng(),x=p.bind(({rng:w,isStartInTable:T})=>{const P=((j,U)=>lt.from(j.dom.getParent(U,j.dom.isBlock)).map(Ke))(s,T?w.endContainer:w.startContainer);w.deleteContents(),((j,U,Z)=>{Z.each(dt=>{U?uo(dt):(fc(dt),j.selection.setCursorLocation(dt.dom,0))})})(s,T,P.filter(ho));const F=T?c[0]:c[c.length-1];return Bb(s,F,m,T),ho(F)?lt.none():lt.some(T?c.slice(1):c.slice(0,-1))}).getOr(c);Bv(x),zw(s)}),Fw=(s,c,p,m)=>lt.some(()=>{const x=s.selection.getRng(),w=c[0],T=p[p.length-1];Bb(s,w,x,!0),Bb(s,T,x,!1);const P=ho(w)?c:c.slice(1),F=ho(T)?p:p.slice(0,-1);Bv(P.concat(F)),m.deleteContents(),zw(s)}),zb=(s,c,p,m=!0)=>lt.some(()=>{XM(s,c,p,m)}),nO=(s,c)=>lt.some(()=>tp(s,!1,c)),$M=(s,c)=>wn(ph(c,s),Ws),zv=(s,c)=>wn(ph(c,s),Fu("caption")),ep=(s,c)=>lt.some(()=>{fc(c),s.selection.setCursorLocation(c.dom,0)}),Vw=(s,c)=>s?EM(c):OM(c),ZM=(s,c,p)=>{const m=Ke(s.getBody());return zv(m,p).fold(()=>((x,w,T,P)=>{const F=Cn.fromRangeStart(x.selection.getRng());return $M(T,P).bind(j=>ho(j)?ep(x,j):((U,Z,dt,gt,ut)=>hv(dt,U.getBody(),ut).bind(yt=>$M(Z,Ke(yt.getNode())).bind(st=>Ir(st,gt)?lt.none():lt.some(le))))(x,T,w,j,F))})(s,c,m,p).orThunk(()=>ns(((x,w)=>{const T=Cn.fromRangeStart(x.selection.getRng());return Vw(w,T)||ql(w,x.getBody(),T).exists(P=>Vw(w,P))})(s,c),le)),x=>((w,T,P,F)=>{const j=Cn.fromRangeStart(w.selection.getRng());return ho(F)?ep(w,F):((U,Z,dt,gt,ut)=>hv(dt,U.getBody(),ut).fold(()=>lt.some(le),yt=>((st,Ct,Rt,Ut)=>Es(st.dom).bind(de=>bu(st.dom).map(ke=>Ct?Rt.isEqual(de)&&Ut.isEqual(ke):Rt.isEqual(ke)&&Ut.isEqual(de))).getOr(!0))(gt,dt,ut,yt)?((st,Ct)=>ep(st,Ct))(U,gt):((st,Ct,Rt)=>zv(st,Ke(Rt.getNode())).fold(()=>lt.some(le),Ut=>ns(!Ir(Ut,Ct),le)))(Z,gt,yt)))(w,P,T,F,j)})(s,c,m,x))},np=(s,c)=>{const p=Ke(s.selection.getStart(!0)),m=sh(s);return s.selection.isCollapsed()&&m.length===0?ZM(s,c,p):((x,w,T)=>{const P=Ke(x.getBody()),F=x.selection.getRng();return T.length!==0?UM(x,T,lt.none()):((j,U,Z,dt)=>zv(U,dt).fold(()=>((gt,ut,yt)=>qM(ut,yt).bind(st=>st.fold(Ne(zb,gt),Ne(nO,gt),Ne(UM,gt),Ne(Fw,gt))))(j,U,Z),gt=>((ut,yt)=>ep(ut,yt))(j,gt)))(x,P,F,w)})(s,p,m)},wc=(s,c)=>{let p=c;for(;p&&p!==s;){if(dr(p)||or(p))return p;p=p.parentNode}return null},iO=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],rO=zn.each,Hw=s=>{const c=s.dom,p=new Set(s.serializer.getTempAttrs()),m=x=>_n(iO,w=>Ui(x,w))||p.has(x);return{compare:(x,w)=>{if(x.nodeName!==w.nodeName||x.nodeType!==w.nodeType)return!1;const T=F=>{const j={};return rO(c.getAttribs(F),U=>{const Z=U.nodeName.toLowerCase();Z==="style"||m(Z)||(j[Z]=c.getAttrib(F,Z))}),j},P=(F,j)=>{for(const U in F)if(Hn(F,U)){const Z=j[U];if(It(Z)||F[U]!==Z)return!1;delete j[U]}for(const U in j)if(Hn(j,U))return!1;return!0};return We(x)&&We(w)&&(!P(T(x),T(w))||!P(c.parseStyle(c.getAttrib(x,"style")),c.parseStyle(c.getAttrib(w,"style"))))?!1:!ds(x)&&!ds(w)},isAttributeInternal:m}},KM=(s,c,p,m)=>{const x=p.name;for(let w=0,T=s.length;w<T;w++){const P=s[w];if(P.name===x){const F=m.nodes[x];F?F.nodes.push(p):m.nodes[x]={filter:P,nodes:[p]}}}if(p.attributes)for(let w=0,T=c.length;w<T;w++){const P=c[w],F=P.name;if(F in p.attributes.map){const j=m.attributes[F];j?j.nodes.push(p):m.attributes[F]={filter:P,nodes:[p]}}}},QM=(s,c)=>{const p=(m,x)=>{Le(m,w=>{const T=re(w.nodes);Ge(w.filter.callbacks,P=>{for(let F=T.length-1;F>=0;F--){const j=T[F];(x?j.attr(w.filter.name)!==void 0:j.name===w.filter.name)&&!Wt(j.parent)||T.splice(F,1)}T.length>0&&P(T,w.filter.name,c)})})};p(s.nodes,!1),p(s.attributes,!0)},JM=(s,c,p,m={})=>{const x=((w,T,P)=>{const F={nodes:{},attributes:{}};return P.firstChild&&((j,U)=>{let Z=j;for(;Z=Z.walk();)KM(w,T,Z,F)})(P),F})(s,c,p);QM(x,m)},Ww=(s,c,p)=>{if(s.insert&&c(p)){const m=new tl("br",1);m.attr("data-mce-bogus","1"),p.empty().append(m)}else p.empty().append(new tl("#text",3)).value=no},tT=(s,c)=>{const p=s?.firstChild;return te(p)&&p===s.lastChild&&p.name===c},ip=(s,c,p,m)=>m.isEmpty(c,p,x=>((w,T)=>{const P=w.getElementRule(T.name);return P?.paddEmpty===!0})(s,x)),oO=s=>{let c;for(let p=s;p;p=p.parent){const m=p.attr("contenteditable");if(m==="false")break;m==="true"&&(c=p)}return lt.from(c)},jw=(s,c,p=s.parent)=>{if(c.getSpecialElements()[s.name])s.empty().remove();else{const m=s.children();for(const x of m)p&&!c.isValidChild(p.name,x.name)&&jw(x,c,p);s.unwrap()}},va=(s,c,p,m=le)=>{const x=c.getTextBlockElements(),w=c.getNonEmptyElements(),T=c.getWhitespaceElements(),P=zn.makeMap("tr,td,th,tbody,thead,tfoot,table"),F=new Set,j=U=>U!==p&&!P[U.name];for(let U=0;U<s.length;U++){const Z=s[U];let dt,gt,ut;if(!Z.parent||F.has(Z))continue;if(x[Z.name]&&Z.parent.name==="li"){let st=Z.next;for(;st&&x[st.name];)st.name="li",F.add(st),Z.parent.insert(st,Z.parent),st=st.next;Z.unwrap();continue}const yt=[Z];for(dt=Z.parent;dt&&!c.isValidChild(dt.name,Z.name)&&j(dt);dt=dt.parent)yt.push(dt);if(dt&&yt.length>1)if(c.isValidChild(dt.name,Z.name)){yt.reverse(),gt=yt[0].clone(),m(gt);let st=gt;for(let Ct=0;Ct<yt.length-1;Ct++){c.isValidChild(st.name,yt[Ct].name)&&Ct>0?(ut=yt[Ct].clone(),m(ut),st.append(ut)):ut=st;for(let Rt=yt[Ct].firstChild;Rt&&Rt!==yt[Ct+1];){const Ut=Rt.next;ut.append(Rt),Rt=Ut}st=ut}ip(c,w,T,gt)?dt.insert(Z,yt[0],!0):(dt.insert(gt,yt[0],!0),dt.insert(Z,gt)),dt=yt[0],(ip(c,w,T,dt)||tT(dt,"br"))&&dt.empty().remove()}else jw(Z,c);else if(Z.parent){if(Z.name==="li"){let st=Z.prev;if(st&&(st.name==="ul"||st.name==="ol")){st.append(Z);continue}if(st=Z.next,st&&(st.name==="ul"||st.name==="ol")&&st.firstChild){st.insert(Z,st.firstChild,!0);continue}const Ct=new tl("ul",1);m(Ct),Z.wrap(Ct);continue}if(c.isValidChild(Z.parent.name,"div")&&c.isValidChild("div",Z.name)){const st=new tl("div",1);m(st),Z.wrap(st)}else jw(Z,c)}}},Zg=(s,c,p=c.parent)=>!(!p||!s.children[c.name]||s.isValidChild(p.name,c.name))||!(!p||c.name!=="a"||!((m,x)=>{let w=m;for(;w;){if(w.name==="a")return!0;w=w.parent}return!1})(p)),rp=s=>s.collapsed?s:(c=>{const p=Cn.fromRangeStart(c),m=Cn.fromRangeEnd(c),x=c.commonAncestorContainer;return ql(!1,x,m).map(w=>!Hc(p,m,x)&&Hc(p,w,x)?((T,P,F,j)=>{const U=document.createRange();return U.setStart(T,P),U.setEnd(F,j),U})(p.container(),p.offset(),w.container(),w.offset()):c).getOr(c)})(s),Af=(s,c)=>{let p=c.firstChild,m=c.lastChild;return p&&p.name==="meta"&&(p=p.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),((x,w)=>{const T=x.getNonEmptyElements();return te(w)&&(w.isEmpty(T)||((P,F)=>P.getBlockElements()[F.name]&&(j=>te(j.firstChild)&&j.firstChild===j.lastChild)(F)&&(j=>j.name==="br"||j.value===no)(F.firstChild))(x,w))})(s,m)&&(m=m?.prev),!(!p||p!==m||p.name!=="ul"&&p.name!=="ol")},Yw=s=>{return s.length>0&&(!(p=s[s.length-1]).firstChild||te((c=p)==null?void 0:c.firstChild)&&c.firstChild===c.lastChild&&(m=>m.data===no||nr(m))(c.firstChild))?s.slice(0,-1):s;var c,p},Kg=(s,c)=>{const p=s.getParent(c,s.isBlock);return p&&p.nodeName==="LI"?p:null},Mf=(s,c)=>{const p=Cn.after(s),m=na(c).prev(p);return m?m.toRange():null},Gw=(s,c,p,m)=>{const x=((Z,dt,gt)=>{const ut=dt.serialize(gt);return(yt=>{var st,Ct;const Rt=yt.firstChild,Ut=yt.lastChild;return Rt&&Rt.nodeName==="META"&&((st=Rt.parentNode)===null||st===void 0||st.removeChild(Rt)),Ut&&Ut.id==="mce_marker"&&((Ct=Ut.parentNode)===null||Ct===void 0||Ct.removeChild(Ut)),yt})(Z.createFragment(ut))})(c,s,m),w=Kg(c,p.startContainer),T=Yw((P=x.firstChild,Ln((F=P?.childNodes)!==null&&F!==void 0?F:[],Z=>Z.nodeName==="LI")));var P,F;const j=c.getRoot(),U=Z=>{const dt=Cn.fromRangeStart(p),gt=na(c.getRoot()),ut=Z===1?gt.prev(dt):gt.next(dt),yt=ut?.getNode();return!yt||Kg(c,yt)!==w};return w?U(1)?((Z,dt,gt)=>{const ut=Z.parentNode;return ut&&zn.each(dt,yt=>{ut.insertBefore(yt,Z)}),((yt,st)=>{const Ct=Cn.before(yt),Rt=na(st).next(Ct);return Rt?Rt.toRange():null})(Z,gt)})(w,T,j):U(2)?((Z,dt,gt,ut)=>(ut.insertAfter(dt.reverse(),Z),Mf(dt[0],gt)))(w,T,j,c):((Z,dt,gt,ut)=>{const yt=((Ct,Rt)=>{const Ut=Rt.cloneRange(),de=Rt.cloneRange();return Ut.setStartBefore(Ct),de.setEndAfter(Ct),[Ut.cloneContents(),de.cloneContents()]})(Z,ut),st=Z.parentNode;return st&&(st.insertBefore(yt[0],Z),zn.each(dt,Ct=>{st.insertBefore(Ct,Z)}),st.insertBefore(yt[1],Z),st.removeChild(Z)),Mf(dt[dt.length-1],gt)})(w,T,j,p):null},aO=["pre"],Qg=go,eT=(s,c,p)=>{var m,x;const w=s.selection,T=s.dom,P=s.parser,F=p.merge,j=uh({validate:!0},s.schema),U='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';c.indexOf("{$caret}")===-1&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,U);let Z=w.getRng();const dt=Z.startContainer,gt=s.getBody();dt===gt&&w.isCollapsed()&&T.isBlock(gt.firstChild)&&((Ut,de)=>te(de)&&!Ut.schema.getVoidElements()[de.nodeName])(s,gt.firstChild)&&T.isEmpty(gt.firstChild)&&(Z=T.createRng(),Z.setStart(gt.firstChild,0),Z.setEnd(gt.firstChild,0),w.setRng(Z)),w.isCollapsed()||(Ut=>{const de=Ut.dom,ke=rp(Ut.selection.getRng());Ut.selection.setRng(ke);const _e=de.getParent(ke.startContainer,Qg);((qe,Xe,$e)=>!!te($e)&&$e===qe.getParent(Xe.endContainer,Qg)&&K0(Ke($e),Xe))(de,ke,_e)?zb(Ut,ke,Ke(_e)):ke.startContainer===ke.endContainer&&ke.endOffset-ke.startOffset==1&&Sn(ke.startContainer.childNodes[ke.startOffset])?ke.deleteContents():Ut.getDoc().execCommand("Delete",!1)})(s);const ut=w.getNode(),yt={context:ut.nodeName.toLowerCase(),data:p.data,insert:!0},st=P.parse(c,yt);if(p.paste===!0&&Af(s.schema,st)&&((Ut,de)=>!!Kg(Ut,de))(T,ut))return Z=Gw(j,T,w.getRng(),st),Z&&w.setRng(Z),c;p.paste===!0&&((Ut,de,ke,_e)=>{var qe;const Xe=de.firstChild,$e=de.lastChild,fn=Xe===($e.attr("data-mce-type")==="bookmark"?$e.prev:$e),hn=Te(aO,Xe.name);if(fn&&hn){const vn=Xe.attr("contenteditable")!=="false",sn=((qe=Ut.getParent(ke,Ut.isBlock))===null||qe===void 0?void 0:qe.nodeName.toLowerCase())===Xe.name,Tn=lt.from(wc(_e,ke)).forall(dr);return vn&&sn&&Tn}return!1})(T,st,ut,s.getBody())&&((m=st.firstChild)===null||m===void 0||m.unwrap()),(Ut=>{let de=Ut;for(;de=de.walk();)de.type===1&&de.attr("data-mce-fragment","1")})(st);let Ct=st.lastChild;if(Ct&&Ct.attr("id")==="mce_marker"){const Ut=Ct;for(Ct=Ct.prev;Ct;Ct=Ct.walk(!0))if(Ct.type===3||!T.isBlock(Ct.name)){Ct.parent&&s.schema.isValidChild(Ct.parent.name,"span")&&Ct.parent.insert(Ut,Ct,Ct.name==="br");break}}if(s._selectionOverrides.showBlockCaretContainer(ut),yt.invalid){s.selection.setContent(U);let Ut,de=w.getNode();const ke=s.getBody();for(Co(de)?de=Ut=ke:Ut=de;Ut&&Ut!==ke;)de=Ut,Ut=Ut.parentNode;c=de===ke?ke.innerHTML:T.getOuterHTML(de);const _e=P.parse(c),qe=(vn=>{for(let sn=vn;sn;sn=sn.walk())if(sn.attr("id")==="mce_marker")return lt.some(sn);return lt.none()})(_e),Xe=qe.bind(oO).getOr(_e);qe.each(vn=>vn.replace(st));const $e=st.children(),fn=(x=st.parent)!==null&&x!==void 0?x:_e;st.unwrap();const hn=Ln($e,vn=>Zg(s.schema,vn,fn));va(hn,s.schema,Xe),JM(P.getNodeFilters(),P.getAttributeFilters(),_e),c=j.serialize(_e),de===ke?T.setHTML(ke,c):T.setOuterHTML(de,c)}else c=j.serialize(st),((Ut,de,ke)=>{var _e;if(ke.getAttribute("data-mce-bogus")==="all")(_e=ke.parentNode)===null||_e===void 0||_e.insertBefore(Ut.dom.createFragment(de),ke);else{const qe=ke.firstChild,Xe=ke.lastChild;!qe||qe===Xe&&qe.nodeName==="BR"?Ut.dom.setHTML(ke,de):Ut.selection.setContent(de,{no_events:!0})}})(s,c,ut);var Rt;return((Ut,de)=>{const ke=Ut.schema.getTextInlineElements(),_e=Ut.dom;if(de){const qe=Ut.getBody(),Xe=Hw(Ut);zn.each(_e.select("*[data-mce-fragment]"),$e=>{if(te(ke[$e.nodeName.toLowerCase()])&&((fn,hn)=>oi(vw(fn,hn),vn=>!(sn=>Ov.has(sn))(vn)))(_e,$e)){for(let fn=$e.parentElement;te(fn)&&fn!==qe&&!MM(_e,$e,fn);fn=fn.parentElement)if(Xe.compare(fn,$e)){_e.remove($e,!0);break}}})}})(s,F),((Ut,de)=>{var ke,_e,qe;let Xe;const $e=Ut.dom,fn=Ut.selection;if(!de)return;fn.scrollIntoView(de);const hn=wc(Ut.getBody(),de);if(hn&&$e.getContentEditable(hn)==="false")return $e.remove(de),void fn.select(hn);let vn=$e.createRng();const sn=de.previousSibling;if(Sn(sn)){vn.setStart(sn,(_e=(ke=sn.nodeValue)===null||ke===void 0?void 0:ke.length)!==null&&_e!==void 0?_e:0);const Qn=de.nextSibling;Sn(Qn)&&(sn.appendData(Qn.data),(qe=Qn.parentNode)===null||qe===void 0||qe.removeChild(Qn))}else vn.setStartBefore(de),vn.setEndBefore(de);const Tn=$e.getParent(de,$e.isBlock);$e.remove(de),Tn&&$e.isEmpty(Tn)&&(dl(Ke(Tn)),vn.setStart(Tn,0),vn.setEnd(Tn,0),Qg(Tn)||(Qn=>!!Qn.getAttribute("data-mce-fragment"))(Tn)||!(Xe=(Qn=>{let ni=Cn.fromRangeStart(Qn);return ni=na(Ut.getBody()).next(ni),ni?.toRange()})(vn))?$e.add(Tn,$e.create("br",{"data-mce-bogus":"1"})):(vn=Xe,$e.remove(Tn))),fn.setRng(vn)})(s,T.get("mce_marker")),Rt=s.getBody(),zn.each(Rt.getElementsByTagName("*"),Ut=>{Ut.removeAttribute("data-mce-fragment")}),((Ut,de)=>{lt.from(Ut.getParent(de,"td,th")).map(Ke).each(Jo)})(T,w.getStart()),((Ut,de,ke)=>{const _e=Rs(Ke(ke),qe=>Ir(qe,Ke(de)));Yt(_e,_e.length-2).filter(Fo).fold(()=>Xu(Ut,de),qe=>Xu(Ut,qe.dom))})(s.schema,s.getBody(),w.getStart()),c},Tf=s=>s instanceof tl,Fb=(s,c,p)=>{s.dom.setHTML(s.getBody(),c),p!==!0&&(m=>{_f(m)&&Es(m.getBody()).each(x=>{const w=x.getNode(),T=Ci(w)?Es(w).getOr(x):x;m.selection.setRng(T.toRange())})})(s)},nT=(s,c)=>((p,m)=>{const x=p.dom;return x.parentNode?((w,T)=>wn(w.dom.childNodes,P=>T(Ke(P))).map(Ke))(Ke(x.parentNode),w=>!Ir(p,w)&&m(w)):lt.none()})(s,c).isSome(),Vb=s=>fe(s)?s:Fe,Hb=(s,c,p)=>{const m=c(s),x=Vb(p);return m.orThunk(()=>x(s)?lt.none():((w,T,P)=>{let F=w.dom;const j=Vb(P);for(;F.parentNode;){F=F.parentNode;const U=Ke(F),Z=T(U);if(Z.isSome())return Z;if(j(U))break}return lt.none()})(s,c,x))},Wb=U_,Xw=(s,c,p)=>{const m=s.formatter.get(p);if(m)for(let x=0;x<m.length;x++){const w=m[x];if(wl(w)&&w.inherit===!1&&s.dom.is(c,w.selector))return!0}return!1},jb=(s,c,p,m,x)=>{const w=s.dom.getRoot();if(c===w)return!1;const T=s.dom.getParent(c,P=>!!Xw(s,P,p)||P.parentNode===w||!!Kl(s,P,p,m,!0));return!!Kl(s,T,p,m,x)},Fv=(s,c,p)=>!(!ga(p)||!Wb(c,p.inline))||!(!wu(p)||!Wb(c,p.block))||!!wl(p)&&We(c)&&s.is(c,p.selector),Sl=(s,c,p,m,x,w)=>{const T=p[m],P=m==="attributes";if(fe(p.onmatch))return p.onmatch(c,p,m);if(T){if(Hi(T)){for(let F=0;F<T.length;F++)if(P?s.getAttrib(c,T[F]):yv(s,c,T[F]))return!0}else for(const F in T)if(Hn(T,F)){const j=P?s.getAttrib(c,F):yv(s,c,F),U=_u(T[F],w),Z=Wt(j)||O(j);if(Z&&Wt(U))continue;if(x&&Z&&!p.exact||(!x||p.exact)&&!Wb(j,J0(U,F)))return!1}}return!0},Kl=(s,c,p,m,x)=>{const w=s.formatter.get(p),T=s.dom;if(w&&We(c))for(let P=0;P<w.length;P++){const F=w[P];if(Fv(s.dom,c,F)&&Sl(T,c,F,"attributes",x,m)&&Sl(T,c,F,"styles",x,m)){const j=F.classes;if(j){for(let U=0;U<j.length;U++)if(!s.dom.hasClass(c,_u(j[U],m)))return}return F}}},Vv=(s,c,p,m,x)=>{if(m)return jb(s,m,c,p,x);if(m=s.selection.getNode(),jb(s,m,c,p,x))return!0;const w=s.selection.getStart();return!(w===m||!jb(s,w,c,p,x))},qc=jo,Yb=s=>(c=>{const p=[];let m=c;for(;m;){if(Sn(m)&&m.data!==qc||m.childNodes.length>1)return[];We(m)&&p.push(m),m=m.firstChild}return p})(s).length>0,qw=s=>{if(s){const c=new zt(s,s);for(let p=c.current();p;p=c.next())if(Sn(p))return p}return null},Gb=s=>{const c=co("span");return is(c,{id:dv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),s&&Ho(c,qa(qc)),c},op=(s,c,p=!0)=>{const m=s.dom,x=s.selection;if(Yb(c))tp(s,!1,Ke(c),p);else{const w=x.getRng(),T=m.getParent(c,m.isBlock),P=w.startContainer,F=w.startOffset,j=w.endContainer,U=w.endOffset,Z=(dt=>{const gt=qw(dt);return gt&&gt.data.charAt(0)===qc&&gt.deleteData(0,1),gt})(c);m.remove(c,!0),P===Z&&F>0&&w.setStart(Z,F-1),j===Z&&U>0&&w.setEnd(Z,U-1),T&&m.isEmpty(T)&&fc(Ke(T)),x.setRng(w)}},Xb=(s,c,p=!0)=>{const m=s.dom,x=s.selection;if(c)op(s,c,p);else if(!(c=cf(s.getBody(),x.getStart())))for(;c=m.get(dv);)op(s,c,!1)},Uw=(s,c)=>(s.appendChild(c),c),$w=(s,c)=>{var p;const m=di(s,(w,T)=>Uw(w,T.cloneNode(!1)),c),x=(p=m.ownerDocument)!==null&&p!==void 0?p:document;return Uw(m,x.createTextNode(qc))},Mu=(s,c,p,m)=>{const x=s.dom,w=s.selection;let T=!1;const P=s.formatter.get(c);if(!P)return;const F=w.getRng(),j=F.startContainer,U=F.startOffset;let Z=j;Sn(j)&&(U!==j.data.length&&(T=!0),Z=Z.parentNode);const dt=[];let gt;for(;Z;){if(Kl(s,Z,c,p,m)){gt=Z;break}Z.nextSibling&&(T=!0),dt.push(Z),Z=Z.parentNode}if(gt)if(T){const ut=w.getBookmark();F.collapse(!0);let yt=Su(x,F,P,!0);yt=db(yt),s.formatter.remove(c,p,yt,m),w.moveToBookmark(ut)}else{const ut=cf(s.getBody(),gt),yt=Gb(!1).dom;((Rt,Ut,de)=>{var ke,_e;const qe=Rt.dom,Xe=qe.getParent(de,Ne(zg,Rt.schema));Xe&&qe.isEmpty(Xe)?(ke=de.parentNode)===null||ke===void 0||ke.replaceChild(Ut,de):(($e=>{const fn=oe($e,"br"),hn=Ln((vn=>{const sn=[];let Tn=vn.dom;for(;Tn;)sn.push(Ke(Tn)),Tn=Tn.lastChild;return sn})($e).slice(-1),qo);fn.length===hn.length&&Ge(hn,uo)})(Ke(de)),qe.isEmpty(de)?(_e=de.parentNode)===null||_e===void 0||_e.replaceChild(Ut,de):qe.insertAfter(Ut,de))})(s,yt,ut??gt);const st=((Rt,Ut,de,ke,_e,qe)=>{const Xe=Rt.formatter,$e=Rt.dom,fn=Ln(He(Xe.get()),vn=>vn!==ke&&!Wi(vn,"removeformat")),hn=((vn,sn,Tn)=>ar(Tn,(Qn,ni)=>{const Pi=((qi,Mr)=>tb(qi,Mr,po=>{const Ti=fr=>fe(fr)||fr.length>1&&fr.charAt(0)==="%";return _n(["styles","attributes"],fr=>ti(po,fr).exists(gr=>{const tn=wt(gr)?gr:Vn(gr);return _n(tn,Ti)}))}))(vn,ni);return vn.formatter.matchNode(sn,ni,{},Pi)?Qn.concat([ni]):Qn},[]))(Rt,de,fn);if(Ln(hn,vn=>!((sn,Tn,Qn)=>{const ni=["inline","block","selector","attributes","styles","classes"],Pi=qi=>bi(qi,(Mr,po)=>_n(ni,Ti=>Ti===po));return tb(sn,Tn,qi=>{const Mr=Pi(qi);return tb(sn,Qn,po=>{const Ti=Pi(po);return((fr,gr,tn=$t)=>Oe(tn).eq(fr,gr))(Mr,Ti)})})})(Rt,vn,ke)).length>0){const vn=de.cloneNode(!1);return $e.add(Ut,vn),Xe.remove(ke,_e,vn,qe),$e.remove(vn),lt.some(vn)}return lt.none()})(s,yt,gt,c,p,m),Ct=$w(dt.concat(st.toArray()),yt);ut&&op(s,ut,!1),w.setCursorLocation(Ct,1),x.isEmpty(gt)&&x.remove(gt)}},Zw=s=>{const c=Gb(!1),p=$w(s,c.dom);return{caretContainer:c,caretPosition:Cn(p,0)}},Kw=(s,c)=>{const{caretContainer:p,caretPosition:m}=Zw(c);return xa(Ke(s),p),uo(Ke(s)),m},qb=(s,c)=>{const p=s.schema.getTextInlineElements();return Hn(p,Fr(c))&&!Ul(c.dom)&&!Xi(c.dom)},Hv=s=>Ul(s.dom)&&Yb(s.dom),Jg={},Ds=Xn(["pre"]);Jg.pre||(Jg.pre=[]),Jg.pre.push(s=>{if(!s.selection.getRng().collapsed){const c=s.selection.getSelectedBlocks(),p=Ln(Ln(c,Ds),(m=>x=>{const w=x.previousSibling;return Ds(w)&&Te(m,w)})(c));Ge(p,m=>{((x,w)=>{const T=Ke(w),P=Vr(T).dom;uo(T),Dc(Ke(x),[co("br",P),co("br",P),...Oo(T)])})(m.previousSibling,m)})}});const Cl=["fontWeight","fontStyle","color","fontSize","fontFamily"],Ub=(s,c)=>{const p=s.get(c);return wt(p)?wn(p,m=>ga(m)&&m.inline==="span"&&(x=>Pt(x.styles)&&_n(He(x.styles),w=>Te(Cl,w)))(m)):lt.none()},Qw=(s,c)=>hs(c,Cn.fromRangeStart(s)).isNone(),$b=(s,c)=>Qs(c,Cn.fromRangeEnd(s)).exists(p=>!nr(p.getNode())||Qs(c,p).isSome())===!1,Jw=s=>c=>Va(c)&&s.isEditable(c),tS=s=>Ln(s.getSelectedBlocks(),Jw(s.dom)),Zb=zn.each,ap=s=>We(s)&&!ds(s)&&!Ul(s)&&!Xi(s),Kb=(s,c)=>{for(let p=s;p;p=p[c]){if(Sn(p)&&M(p.data))return s;if(We(p)&&!ds(p))return p}return s},Wv=(s,c,p)=>{const m=Hw(s),x=We(c)&&Xd(c),w=We(p)&&Xd(p);if(x&&w){const T=Kb(c,"previousSibling"),P=Kb(p,"nextSibling");if(m.compare(T,P)){for(let F=T.nextSibling;F&&F!==P;){const j=F;F=F.nextSibling,T.appendChild(j)}return s.dom.remove(P),zn.each(zn.grep(P.childNodes),F=>{T.appendChild(F)}),T}}return p},Qh=(s,c,p,m)=>{var x;if(m&&c.merge_siblings!==!1){const w=(x=Wv(s,df(m),m))!==null&&x!==void 0?x:m;Wv(s,w,df(w,!0))}},jv=(s,c,p)=>{Zb(s.childNodes,m=>{ap(m)&&(c(m)&&p(m),m.hasChildNodes()&&jv(m,c,p))})},Qb=(s,c)=>p=>!(!p||!yv(s,p,c)),Jb=(s,c,p)=>m=>{s.setStyle(m,c,p),m.getAttribute("style")===""&&m.removeAttribute("style"),((x,w)=>{w.nodeName==="SPAN"&&x.getAttribs(w).length===0&&x.remove(w,!0)})(s,m)},Tu=mu([{keep:[]},{rename:["name"]},{removed:[]}]),Yv=/^(src|href|style)$/,tx=zn.each,Gv=U_,ex=(s,c,p)=>s.isChildOf(c,p)&&c!==p&&!s.isBlock(p),eS=(s,c,p)=>{let m=c[p?"startContainer":"endContainer"],x=c[p?"startOffset":"endOffset"];if(We(m)){const w=m.childNodes.length-1;!p&&x&&x--,m=m.childNodes[x>w?w:x]}return Sn(m)&&p&&x>=m.data.length&&(m=new zt(m,s.getBody()).next()||m),Sn(m)&&!p&&x===0&&(m=new zt(m,s.getBody()).prev()||m),m},Xv=(s,c)=>{const p=c?"firstChild":"lastChild",m=s[p];return(x=>/^(TR|TH|TD)$/.test(x.nodeName))(s)&&m?s.nodeName==="TR"&&m[p]||m:s},nx=(s,c,p,m)=>{var x;const w=s.create(p,m);return(x=c.parentNode)===null||x===void 0||x.insertBefore(w,c),w.appendChild(c),w},nS=(s,c,p,m,x)=>{const w=Ke(c),T=Ke(s.create(m,x)),P=p?Vp(w):Hu(w);return Dc(T,P),p?(xa(w,T),au(T,w)):(zs(w,T),Ho(T,w)),T.dom},Sc=(s,c,p)=>{const m=c.parentNode;let x;const w=s.dom,T=bl(s);wu(p)&&m===w.getRoot()&&(p.list_block&&Gv(c,p.list_block)||Ge(re(c.childNodes),P=>{lh(s,T,P.nodeName.toLowerCase())?x?x.appendChild(P):(x=nx(w,P,T),w.setAttribs(x,mc(s))):x=null})),(P=>wl(P)&&ga(P)&&Zo(ti(P,"mixed"),!0))(p)&&!Gv(p.inline,c)||w.remove(c,!0)},iS=(s,c,p)=>Me(s)?{name:c,value:null}:{name:s,value:_u(c,p)},rS=(s,c)=>{s.getAttrib(c,"style")===""&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"))},oS=(s,c,p,m,x)=>{let w=!1;tx(p.styles,(T,P)=>{const{name:F,value:j}=iS(P,T,m),U=J0(j,F);(p.remove_similar||ct(j)||!We(x)||Gv(yv(s,x,F),U))&&s.setStyle(c,F,""),w=!0}),w&&rS(s,c)},qv=(s,c,p,m,x)=>{const w=s.dom,T=Hw(s),P=s.schema;if(ga(c)&&oo(P,c.inline)&&Uu(P,m)&&m.parentElement===s.getBody())return Sc(s,m,c),Tu.removed();if(!c.ceFalseOverride&&m&&w.getContentEditableParent(m)==="false"||m&&!Fv(w,m,c)&&!((U,Z)=>Z.links&&U.nodeName==="A")(m,c))return Tu.keep();const F=m,j=c.preserve_attributes;if(ga(c)&&c.remove==="all"&&wt(j)){const U=Ln(w.getAttribs(F),Z=>Te(j,Z.name.toLowerCase()));if(w.removeAllAttribs(F),Ge(U,Z=>w.setAttrib(F,Z.name,Z.value)),U.length>0)return Tu.rename("span")}if(c.remove!=="all"){oS(w,F,c,p,x),tx(c.attributes,(Z,dt)=>{const{name:gt,value:ut}=iS(dt,Z,p);if(c.remove_similar||ct(ut)||!We(x)||Gv(w.getAttrib(x,gt),ut)){if(gt==="class"){const yt=w.getAttrib(F,gt);if(yt){let st="";if(Ge(yt.split(/\s+/),Ct=>{/mce\-\w+/.test(Ct)&&(st+=(st?" ":"")+Ct)}),st)return void w.setAttrib(F,gt,st)}}if(Yv.test(gt)&&F.removeAttribute("data-mce-"+gt),gt==="style"&&Xn(["li"])(F)&&w.getStyle(F,"list-style-type")==="none")return F.removeAttribute(gt),void w.setStyle(F,"list-style-type","none");gt==="class"&&F.removeAttribute("className"),F.removeAttribute(gt)}}),tx(c.classes,Z=>{Z=_u(Z,p),We(x)&&!w.hasClass(x,Z)||w.removeClass(F,Z)});const U=w.getAttribs(F);for(let Z=0;Z<U.length;Z++){const dt=U[Z].nodeName;if(!T.isAttributeInternal(dt))return Tu.keep()}}return c.remove!=="none"?(Sc(s,F,c),Tu.removed()):Tu.keep()},If=(s,c,p,m,x)=>qv(s,c,p,m,x).fold(Fe,w=>(s.dom.rename(m,w),!0),ht),sO=(s,c,p,m)=>qv(s,c,p,m,m).fold(ne(m),x=>(s.dom.createFragment().appendChild(m),s.dom.rename(m,x)),ne(null)),lO=(s,c,p,m,x)=>{const w=s.formatter.get(c),T=w[0],P=s.dom,F=s.selection,j=ut=>{const yt=((st,Ct,Rt,Ut,de)=>{let ke;return Ct.parentNode&&Ge(bv(st.dom,Ct.parentNode).reverse(),_e=>{if(!ke&&We(_e)&&_e.id!=="_start"&&_e.id!=="_end"){const qe=Kl(st,_e,Rt,Ut,de);qe&&qe.split!==!1&&(ke=_e)}}),ke})(s,ut,c,p,x);return((st,Ct,Rt,Ut,de,ke,_e,qe)=>{var Xe,$e;let fn,hn;const vn=st.dom;if(Rt){const sn=Rt.parentNode;for(let Tn=Ut.parentNode;Tn&&Tn!==sn;Tn=Tn.parentNode){let Qn=vn.clone(Tn,!1);for(let ni=0;ni<Ct.length&&(Qn=sO(st,Ct[ni],qe,Qn),Qn!==null);ni++);Qn&&(fn&&Qn.appendChild(fn),hn||(hn=Qn),fn=Qn)}_e.mixed&&vn.isBlock(Rt)||(Ut=(Xe=vn.split(Rt,Ut))!==null&&Xe!==void 0?Xe:Ut),fn&&hn&&(($e=de.parentNode)===null||$e===void 0||$e.insertBefore(fn,de),hn.appendChild(de),ga(_e)&&Qh(st,_e,0,fn))}return Ut})(s,w,yt,ut,ut,0,T,p)},U=ut=>_n(w,yt=>If(s,yt,p,ut,ut)),Z=ut=>{const yt=re(ut.childNodes),st=U(ut)||_n(w,Rt=>Fv(P,ut,Rt)),Ct=ut.parentNode;if(!st&&te(Ct)&&Uh(T)&&U(Ct),T.deep&&yt.length)for(let Rt=0;Rt<yt.length;Rt++)Z(yt[Rt]);Ge(["underline","line-through","overline"],Rt=>{We(ut)&&s.dom.getStyle(ut,"text-decoration")===Rt&&ut.parentNode&&$_(P,ut.parentNode)===Rt&&If(s,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Rt}},void 0,ut)})},dt=ut=>{const yt=P.get(ut?"_start":"_end");if(yt){let st=yt[ut?"firstChild":"lastChild"];return(Ct=>ds(Ct)&&We(Ct)&&(Ct.id==="_start"||Ct.id==="_end"))(st)&&(st=st[ut?"firstChild":"lastChild"]),Sn(st)&&st.data.length===0&&(st=ut?yt.previousSibling||yt.nextSibling:yt.nextSibling||yt.previousSibling),P.remove(yt,!0),st}return null},gt=ut=>{let yt,st,Ct=Su(P,ut,w,ut.collapsed);if(T.split){if(Ct=db(Ct),yt=eS(s,Ct,!0),st=eS(s,Ct),yt!==st){if(yt=Xv(yt,!0),st=Xv(st,!1),ex(P,yt,st)){const Ut=lt.from(yt.firstChild).getOr(yt);return j(nS(P,Ut,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void dt(!0)}if(ex(P,st,yt)){const Ut=lt.from(st.lastChild).getOr(st);return j(nS(P,Ut,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void dt(!1)}yt=nx(P,yt,"span",{id:"_start","data-mce-type":"bookmark"}),st=nx(P,st,"span",{id:"_end","data-mce-type":"bookmark"});const Rt=P.createRng();Rt.setStartAfter(yt),Rt.setEndBefore(st),jc(P,Rt,Ut=>{Ge(Ut,de=>{ds(de)||ds(de.parentNode)||j(de)})}),j(yt),j(st),yt=dt(!0),st=dt()}else yt=st=j(yt);Ct.startContainer=yt.parentNode?yt.parentNode:yt,Ct.startOffset=P.nodeIndex(yt),Ct.endContainer=st.parentNode?st.parentNode:st,Ct.endOffset=P.nodeIndex(st)+1}jc(P,Ct,Rt=>{Ge(Rt,Z)})};if(m){if(Q0(m)){const ut=P.createRng();ut.setStartBefore(m),ut.setEndAfter(m),gt(ut)}else gt(m);Os(s,c,m,p)}else F.isCollapsed()&&ga(T)&&!sh(s).length?Mu(s,c,p,x):(X_(s,()=>Js(s,gt),ut=>ga(T)&&Vv(s,c,p,ut)),s.nodeChanged()),((ut,yt,st)=>{yt==="removeformat"?Ge(tS(ut.selection),Ct=>{Ge(Cl,Rt=>ut.dom.setStyle(Ct,Rt,"")),rS(ut.dom,Ct)}):Ub(ut.formatter,yt).each(Ct=>{Ge(tS(ut.selection),Rt=>oS(ut.dom,Rt,Ct,st,null))})})(s,c,p),Os(s,c,m,p)},Uv=zn.each,sp=zn.each,ix=(s,c,p,m)=>{if(sp(p.styles,(x,w)=>{s.setStyle(c,w,_u(x,m))}),p.styles){const x=s.getAttrib(c,"style");x&&s.setAttrib(c,"data-mce-style",x)}},rx=(s,c,p,m)=>{const x=s.formatter.get(c),w=x[0],T=!m&&s.selection.isCollapsed(),P=s.dom,F=s.selection,j=(ut,yt=w)=>{fe(yt.onformat)&&yt.onformat(ut,yt,p,m),ix(P,ut,yt,p),sp(yt.attributes,(st,Ct)=>{P.setAttrib(ut,Ct,_u(st,p))}),sp(yt.classes,st=>{const Ct=_u(st,p);P.hasClass(ut,Ct)||P.addClass(ut,Ct)})},U=(ut,yt)=>{let st=!1;return sp(ut,Ct=>!(!wl(Ct)||(P.getContentEditable(yt)!=="false"||Ct.ceFalseOverride)&&(!te(Ct.collapsed)||Ct.collapsed===T)&&P.is(yt,Ct.selector)&&!Ul(yt)&&(j(yt,Ct),st=!0,1))),st},Z=ut=>{if(vt(ut)){const yt=P.create(ut);return j(yt),yt}return null},dt=(ut,yt,st)=>{const Ct=[];let Rt=!0;const Ut=w.inline||w.block,de=Z(Ut);jc(ut,yt,ke=>{let _e;const qe=Xe=>{let $e=!1,fn=Rt,hn=!1;const vn=Xe.parentNode,sn=vn.nodeName.toLowerCase(),Tn=ut.getContentEditable(Xe);te(Tn)&&(fn=Rt,Rt=Tn==="true",$e=!0,hn=vv(s,Xe));const Qn=Rt&&!$e;if(nr(Xe)&&!((ni,Pi,qi,Mr)=>{if(RA(ni)&&ga(Pi)&&qi.parentNode){const po=Wm(ni.schema),Ti=nT(Ke(qi),fr=>Ul(fr.dom));return wi(po,Mr)&&ho(Ke(qi.parentNode),!1)&&!Ti}return!1})(s,w,Xe,sn))return _e=null,void(wu(w)&&ut.remove(Xe));if((ni=>(Pi=>wu(Pi)&&Pi.wrapper===!0)(w)&&Kl(s,ni,c,p))(Xe))_e=null;else{if(((ni,Pi,qi)=>{const Mr=(po=>wu(po)&&po.wrapper!==!0)(w)&&zg(s.schema,ni)&&lh(s,Pi,Ut);return qi&&Mr})(Xe,sn,Qn)){const ni=ut.rename(Xe,Ut);return j(ni),Ct.push(ni),void(_e=null)}if(wl(w)){let ni=U(x,Xe);if(!ni&&te(vn)&&Uh(w)&&(ni=U(x,vn)),!ga(w)||ni)return void(_e=null)}te(de)&&((ni,Pi,qi,Mr)=>{const po=ni.nodeName.toLowerCase(),Ti=lh(s,Ut,po)&&lh(s,Pi,Ut),fr=!st&&Sn(ni)&&gl(ni.data),gr=Ul(ni),tn=!ga(w)||!ut.isBlock(ni);return(qi||Mr)&&Ti&&!fr&&!gr&&tn})(Xe,sn,Qn,hn)?(_e||(_e=ut.clone(de,!1),vn.insertBefore(_e,Xe),Ct.push(_e)),hn&&$e&&(Rt=fn),_e.appendChild(Xe)):(_e=null,Ge(re(Xe.childNodes),qe),$e&&(Rt=fn),_e=null)}};Ge(ke,qe)}),w.links===!0&&Ge(Ct,ke=>{const _e=qe=>{qe.nodeName==="A"&&j(qe,w),Ge(re(qe.childNodes),_e)};_e(ke)}),Ge(Ct,ke=>{const _e=(qe=>{let Xe=0;return Ge(qe.childNodes,$e=>{(fn=>te(fn)&&Sn(fn)&&fn.length===0)($e)||ds($e)||Xe++}),Xe})(ke);!(Ct.length>1)&&ut.isBlock(ke)||_e!==0?(ga(w)||wu(w)&&w.wrapper)&&(w.exact||_e!==1||(ke=(qe=>wn(qe.childNodes,hf).filter($e=>ut.getContentEditable($e)!=="false"&&Fv(ut,$e,w)).map($e=>{const fn=ut.clone($e,!1);return j(fn),ut.replace(fn,qe,!0),ut.remove($e,!0),fn}).getOr(qe))(ke)),((qe,Xe,$e,fn)=>{Uv(Xe,hn=>{ga(hn)&&Uv(qe.dom.select(hn.inline,fn),vn=>{ap(vn)&&If(qe,hn,$e,vn,hn.exact?vn:null)}),((vn,sn,Tn)=>{if(sn.clear_child_styles){const Qn=sn.links?"*:not(a)":"*";Zb(vn.select(Qn,Tn),ni=>{ap(ni)&&Xd(ni)&&Zb(sn.styles,(Pi,qi)=>{vn.setStyle(ni,qi,"")})})}})(qe.dom,hn,fn)})})(s,x,p,ke),((qe,Xe,$e,fn,hn)=>{const vn=hn.parentNode;Kl(qe,vn,$e,fn)&&If(qe,Xe,fn,hn)||Xe.merge_with_parents&&vn&&qe.dom.getParent(vn,sn=>!!Kl(qe,sn,$e,fn)&&(If(qe,Xe,fn,hn),!0))})(s,w,c,p,ke),((qe,Xe,$e,fn)=>{if(Xe.styles&&Xe.styles.backgroundColor){const hn=Qb(qe,"fontSize");jv(fn,vn=>hn(vn)&&Xd(vn),Jb(qe,"backgroundColor",_u(Xe.styles.backgroundColor,$e)))}})(ut,w,p,ke),((qe,Xe,$e,fn)=>{const hn=vn=>{if(We(vn)&&We(vn.parentNode)&&Xd(vn)){const sn=$_(qe,vn.parentNode);qe.getStyle(vn,"color")&&sn?qe.setStyle(vn,"text-decoration",sn):qe.getStyle(vn,"text-decoration")===sn&&qe.setStyle(vn,"text-decoration",null)}};Xe.styles&&(Xe.styles.color||Xe.styles.textDecoration)&&(zn.walk(fn,hn,"childNodes"),hn(fn))})(ut,w,0,ke),((qe,Xe,$e,fn)=>{if(ga(Xe)&&(Xe.inline==="sub"||Xe.inline==="sup")){const hn=Qb(qe,"fontSize");jv(fn,sn=>hn(sn)&&Xd(sn),Jb(qe,"fontSize",""));const vn=Ln(qe.select(Xe.inline==="sup"?"sub":"sup",fn),Xd);qe.remove(vn,!0)}})(ut,w,0,ke),Qh(s,w,0,ke)):ut.remove(ke,!0)})},gt=Q0(m)?m:F.getNode();if(P.getContentEditable(gt)==="false"&&!vv(s,gt))return U(x,m=gt),void yc(s,c,m,p);if(w){if(m)if(Q0(m)){if(!U(x,m)){const ut=P.createRng();ut.setStartBefore(m),ut.setEndAfter(m),dt(P,Su(P,ut,x),!0)}}else dt(P,m,!0);else T&&ga(w)&&!sh(s).length?((ut,yt,st)=>{let Ct;const Rt=ut.selection,Ut=ut.formatter.get(yt);if(!Ut)return;const de=Rt.getRng();let ke=de.startOffset;const _e=de.startContainer.nodeValue;Ct=cf(ut.getBody(),Rt.getStart());const qe=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_e&&ke>0&&ke<_e.length&&qe.test(_e.charAt(ke))&&qe.test(_e.charAt(ke-1))){const fn=Rt.getBookmark();de.collapse(!0);let hn=Su(ut.dom,de,Ut);hn=db(hn),ut.formatter.apply(yt,st,hn),Rt.moveToBookmark(fn)}else{let fn=Ct?qw(Ct):null;Ct&&fn?.data===qc||(Xe=ut.getDoc(),$e=Gb(!0).dom,Ct=Xe.importNode($e,!0),fn=Ct.firstChild,de.insertNode(Ct),ke=1),ut.formatter.apply(yt,st,Ct),Rt.setCursorLocation(fn,ke)}var Xe,$e})(s,c,p):(F.setRng(rp(F.getRng())),X_(s,()=>{Js(s,(ut,yt)=>{const st=yt?ut:Su(P,ut,x);dt(P,st,!1)})},ht),s.nodeChanged()),Ub(s.formatter,c).each(ut=>{Ge((yt=>Ln((st=>{const Ct=st.getSelectedBlocks(),Rt=st.getRng();if(st.isCollapsed())return[];if(Ct.length===1)return Qw(Rt,Ct[0])&&$b(Rt,Ct[0])?Ct:[];{const Ut=At(Ct).filter(_e=>Qw(Rt,_e)).toArray(),de=Dt(Ct).filter(_e=>$b(Rt,_e)).toArray(),ke=Ct.slice(1,-1);return Ut.concat(ke).concat(de)}})(yt),Jw(yt.dom)))(s.selection),yt=>ix(P,yt,ut,p))});((ut,yt)=>{Hn(Jg,ut)&&Ge(Jg[ut],st=>{st(yt)})})(c,s)}yc(s,c,m,p)},$v=s=>Hn(s,"vars"),aS=s=>s.selection.getStart(),ox=(s,c,p,m,x)=>hr(c,w=>{const T=s.formatter.matchNode(w,p,x??{},m);return!It(T)},w=>!!Xw(s,w,p)||!m&&te(s.formatter.matchNode(w,p,x,!0))),lp=(s,c)=>{const p=c??aS(s);return Ln(bv(s.dom,p),m=>We(m)&&!Xi(m))},Zv=(s,c,p)=>{const m=lp(s,c);Le(p,(x,w)=>{const T=P=>{const F=ox(s,m,w,P.similar,$v(P)?P.vars:void 0),j=F.isSome();if(P.state.get()!==j){P.state.set(j);const U=F.getOr(c);$v(P)?P.callback(j,{node:U,format:w,parents:m}):Ge(P.callbacks,Z=>Z(j,{node:U,format:w,parents:m}))}};Ge([x.withSimilar,x.withoutSimilar],T),Ge(x.withVars,T)})},iT=zn.explode,rT=()=>{const s={};return{addFilter:(c,p)=>{Ge(iT(c),m=>{Hn(s,m)||(s[m]={name:m,callbacks:[]}),s[m].callbacks.push(p)})},getFilters:()=>Vn(s),removeFilter:(c,p)=>{Ge(iT(c),m=>{if(Hn(s,m))if(te(p)){const x=s[m],w=Ln(x.callbacks,T=>T!==p);w.length>0?x.callbacks=w:delete s[m]}else delete s[m]})}}},sS=(s,c,p)=>{var m;const x=xg();c.convert_fonts_to_spans&&((w,T,P)=>{w.addNodeFilter("font",F=>{Ge(F,j=>{const U=T.parse(j.attr("style")),Z=j.attr("color"),dt=j.attr("face"),gt=j.attr("size");Z&&(U.color=Z),dt&&(U["font-family"]=dt),gt&&N(gt).each(ut=>{U["font-size"]=P[ut-1]}),j.name="span",j.attr("style",T.serialize(U)),((ut,yt)=>{Ge(["color","face","size"],st=>{ut.attr(st,null)})})(j)})})})(s,x,zn.explode((m=c.font_size_legacy_values)!==null&&m!==void 0?m:"")),((w,T,P)=>{w.addNodeFilter("strike",F=>{const j=T.type!=="html4";Ge(F,U=>{if(j)U.name="s";else{const Z=P.parse(U.attr("style"));Z["text-decoration"]="line-through",U.name="span",U.attr("style",P.serialize(Z))}})})})(s,p,x)},ax=s=>{const[c,...p]=s.split(","),m=p.join(","),x=/data:([^/]+\/[^;]+)(;.+)?/.exec(c);if(x){const w=x[2]===";base64",T=w?(P=>{const F=/([a-z0-9+\/=\s]+)/i.exec(P);return F?F[1]:""})(m):decodeURIComponent(m);return lt.some({type:x[1],data:T,base64Encoded:w})}return lt.none()},oT=(s,c,p=!0)=>{let m=c;if(p)try{m=atob(c)}catch{return lt.none()}const x=new Uint8Array(m.length);for(let w=0;w<x.length;w++)x[w]=m.charCodeAt(w);return lt.some(new Blob([x],{type:s}))},sx=s=>new Promise((c,p)=>{const m=new FileReader;m.onloadend=()=>{c(m.result)},m.onerror=()=>{var x;p((x=m.error)===null||x===void 0?void 0:x.message)},m.readAsDataURL(s)});let lS=0;const lx=(s,c,p)=>ax(s).bind(({data:m,type:x,base64Encoded:w})=>{if(c&&!w)return lt.none();{const T=w?m:btoa(m);return p(T,x)}}),cx=(s,c,p)=>{const m=s.create("blobid"+lS++,c,p);return s.add(m),m},cS=(s,c,p=!1)=>lx(c,p,(m,x)=>lt.from(s.getByData(m,x)).orThunk(()=>oT(x,m).map(w=>cx(s,w,m))));function cp(s){return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},cp(s)}function tm(s,c){return tm=Object.setPrototypeOf||function(p,m){return p.__proto__=m,p},tm(s,c)}function Iu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ux(s,c,p){return ux=Iu()?Reflect.construct:function(m,x,w){var T=[null];T.push.apply(T,x);var P=new(Function.bind.apply(m,T));return w&&tm(P,w.prototype),P},ux.apply(null,arguments)}function Uc(s){return function(c){if(Array.isArray(c))return gh(c)}(s)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(s)||function(c,p){if(c){if(typeof c=="string")return gh(c,p);var m=Object.prototype.toString.call(c).slice(8,-1);return m==="Object"&&c.constructor&&(m=c.constructor.name),m==="Map"||m==="Set"?Array.from(c):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?gh(c,p):void 0}}(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gh(s,c){(c==null||c>s.length)&&(c=s.length);for(var p=0,m=new Array(c);p<c;p++)m[p]=s[p];return m}var aT=Object.hasOwnProperty,hx=Object.setPrototypeOf,uS=Object.isFrozen,sT=Object.getPrototypeOf,lT=Object.getOwnPropertyDescriptor,nl=Object.freeze,mh=Object.seal,Nr=Object.create,em=typeof Reflect<"u"&&Reflect,Kv=em.apply,Eu=em.construct;Kv||(Kv=function(s,c,p){return s.apply(c,p)}),nl||(nl=function(s){return s}),mh||(mh=function(s){return s}),Eu||(Eu=function(s,c){return ux(s,Uc(c))});var cT,hS=$c(Array.prototype.forEach),dx=$c(Array.prototype.pop),up=$c(Array.prototype.push),px=$c(String.prototype.toLowerCase),cO=$c(String.prototype.match),Jh=$c(String.prototype.replace),uT=$c(String.prototype.indexOf),hT=$c(String.prototype.trim),il=$c(RegExp.prototype.test),fx=(cT=TypeError,function(){for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return Eu(cT,c)});function $c(s){return function(c){for(var p=arguments.length,m=new Array(p>1?p-1:0),x=1;x<p;x++)m[x-1]=arguments[x];return Kv(s,c,m)}}function to(s,c){hx&&hx(s,null);for(var p=c.length;p--;){var m=c[p];if(typeof m=="string"){var x=px(m);x!==m&&(uS(c)||(c[p]=x),m=x)}s[m]=!0}return s}function Ou(s){var c,p=Nr(null);for(c in s)Kv(aT,s,[c])&&(p[c]=s[c]);return p}function hp(s,c){for(;s!==null;){var p=lT(s,c);if(p){if(p.get)return $c(p.get);if(typeof p.value=="function")return $c(p.value)}s=sT(s)}return function(m){return console.warn("fallback value for",m),null}}var gx=nl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nm=nl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qv=nl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Jv=nl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),vh=nl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),uO=nl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dT=nl(["#text"]),pT=nl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fs=nl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ef=nl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mx=nl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hO=mh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dO=mh(/<%[\w\W]*|[\w\W]*%>/gm),im=mh(/^data-[\-\w.\u00B7-\uFFFF]/),fT=mh(/^aria-[\-\w]+$/),td=mh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dS=mh(/^(?:\w+script|data):/i),yh=mh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bh=mh(/^html$/i),pO=function(){return typeof window>"u"?null:window},pS=function(s,c){if(cp(s)!=="object"||typeof s.createPolicy!="function")return null;var p=null,m="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(m)&&(p=c.currentScript.getAttribute(m));var x="dompurify"+(p?"#"+p:"");try{return s.createPolicy(x,{createHTML:function(w){return w}})}catch{return console.warn("TrustedTypes policy "+x+" could not be created."),null}},fO=function s(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pO(),p=function(pn){return s(pn)};if(p.version="2.3.8",p.removed=[],!c||!c.document||c.document.nodeType!==9)return p.isSupported=!1,p;var m=c.document,x=c.document,w=c.DocumentFragment,T=c.HTMLTemplateElement,P=c.Node,F=c.Element,j=c.NodeFilter,U=c.NamedNodeMap,Z=U===void 0?c.NamedNodeMap||c.MozNamedAttrMap:U,dt=c.HTMLFormElement,gt=c.DOMParser,ut=c.trustedTypes,yt=F.prototype,st=hp(yt,"cloneNode"),Ct=hp(yt,"nextSibling"),Rt=hp(yt,"childNodes"),Ut=hp(yt,"parentNode");if(typeof T=="function"){var de=x.createElement("template");de.content&&de.content.ownerDocument&&(x=de.content.ownerDocument)}var ke=pS(ut,m),_e=ke?ke.createHTML(""):"",qe=x,Xe=qe.implementation,$e=qe.createNodeIterator,fn=qe.createDocumentFragment,hn=qe.getElementsByTagName,vn=m.importNode,sn={};try{sn=Ou(x).documentMode?x.documentMode:{}}catch{}var Tn={};p.isSupported=typeof Ut=="function"&&Xe&&Xe.createHTMLDocument!==void 0&&sn!==9;var Qn,ni,Pi=hO,qi=dO,Mr=im,po=fT,Ti=dS,fr=yh,gr=td,tn=null,nn=to({},[].concat(Uc(gx),Uc(nm),Uc(Qv),Uc(vh),Uc(dT))),kn=null,En=to({},[].concat(Uc(pT),Uc(fs),Uc(Ef),Uc(mx))),In=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),On=null,Un=null,pi=!0,Li=!0,Ki=!1,ir=!1,ui=!1,mr=!1,Lo=!1,Po=!1,Aa=!1,sl=!1,zu=!0,Ic=!0,La=!1,Tl={},oa=null,Ih=to({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),cd=null,u0=to({},["audio","video","img","source","image","track"]),Eh=null,ud=to({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nc="http://www.w3.org/1998/Math/MathML",Dp="http://www.w3.org/2000/svg",ic="http://www.w3.org/1999/xhtml",Qf=ic,qI=!1,wD=["application/xhtml+xml","text/html"],Kk="text/html",Jf=null,Qk=x.createElement("form"),UI=function(pn){return pn instanceof RegExp||pn instanceof Function},Jk=function(pn){Jf&&Jf===pn||(pn&&cp(pn)==="object"||(pn={}),pn=Ou(pn),tn="ALLOWED_TAGS"in pn?to({},pn.ALLOWED_TAGS):nn,kn="ALLOWED_ATTR"in pn?to({},pn.ALLOWED_ATTR):En,Eh="ADD_URI_SAFE_ATTR"in pn?to(Ou(ud),pn.ADD_URI_SAFE_ATTR):ud,cd="ADD_DATA_URI_TAGS"in pn?to(Ou(u0),pn.ADD_DATA_URI_TAGS):u0,oa="FORBID_CONTENTS"in pn?to({},pn.FORBID_CONTENTS):Ih,On="FORBID_TAGS"in pn?to({},pn.FORBID_TAGS):{},Un="FORBID_ATTR"in pn?to({},pn.FORBID_ATTR):{},Tl="USE_PROFILES"in pn&&pn.USE_PROFILES,pi=pn.ALLOW_ARIA_ATTR!==!1,Li=pn.ALLOW_DATA_ATTR!==!1,Ki=pn.ALLOW_UNKNOWN_PROTOCOLS||!1,ir=pn.SAFE_FOR_TEMPLATES||!1,ui=pn.WHOLE_DOCUMENT||!1,Po=pn.RETURN_DOM||!1,Aa=pn.RETURN_DOM_FRAGMENT||!1,sl=pn.RETURN_TRUSTED_TYPE||!1,Lo=pn.FORCE_BODY||!1,zu=pn.SANITIZE_DOM!==!1,Ic=pn.KEEP_CONTENT!==!1,La=pn.IN_PLACE||!1,gr=pn.ALLOWED_URI_REGEXP||gr,Qf=pn.NAMESPACE||ic,pn.CUSTOM_ELEMENT_HANDLING&&UI(pn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(In.tagNameCheck=pn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),pn.CUSTOM_ELEMENT_HANDLING&&UI(pn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(In.attributeNameCheck=pn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),pn.CUSTOM_ELEMENT_HANDLING&&typeof pn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(In.allowCustomizedBuiltInElements=pn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qn=Qn=wD.indexOf(pn.PARSER_MEDIA_TYPE)===-1?Kk:pn.PARSER_MEDIA_TYPE,ni=Qn==="application/xhtml+xml"?function(Zi){return Zi}:px,ir&&(Li=!1),Aa&&(Po=!0),Tl&&(tn=to({},Uc(dT)),kn=[],Tl.html===!0&&(to(tn,gx),to(kn,pT)),Tl.svg===!0&&(to(tn,nm),to(kn,fs),to(kn,mx)),Tl.svgFilters===!0&&(to(tn,Qv),to(kn,fs),to(kn,mx)),Tl.mathMl===!0&&(to(tn,vh),to(kn,Ef),to(kn,mx))),pn.ADD_TAGS&&(tn===nn&&(tn=Ou(tn)),to(tn,pn.ADD_TAGS)),pn.ADD_ATTR&&(kn===En&&(kn=Ou(kn)),to(kn,pn.ADD_ATTR)),pn.ADD_URI_SAFE_ATTR&&to(Eh,pn.ADD_URI_SAFE_ATTR),pn.FORBID_CONTENTS&&(oa===Ih&&(oa=Ou(oa)),to(oa,pn.FORBID_CONTENTS)),Ic&&(tn["#text"]=!0),ui&&to(tn,["html","head","body"]),tn.table&&(to(tn,["tbody"]),delete On.tbody),nl&&nl(pn),Jf=pn)},e_=to({},["mi","mo","mn","ms","mtext"]),tA=to({},["foreignobject","desc","title","annotation-xml"]),eA=to({},["title","style","font","a","script"]),h0=to({},nm);to(h0,Qv),to(h0,Jv);var nA=to({},vh);to(nA,uO);var SD=function(pn){var Zi=Ut(pn);Zi&&Zi.tagName||(Zi={namespaceURI:ic,tagName:"template"});var Ni=px(pn.tagName),Uo=px(Zi.tagName);return pn.namespaceURI===Dp?Zi.namespaceURI===ic?Ni==="svg":Zi.namespaceURI===nc?Ni==="svg"&&(Uo==="annotation-xml"||e_[Uo]):!!h0[Ni]:pn.namespaceURI===nc?Zi.namespaceURI===ic?Ni==="math":Zi.namespaceURI===Dp?Ni==="math"&&tA[Uo]:!!nA[Ni]:pn.namespaceURI===ic&&!(Zi.namespaceURI===Dp&&!tA[Uo])&&!(Zi.namespaceURI===nc&&!e_[Uo])&&!nA[Ni]&&(eA[Ni]||!h0[Ni])},hd=function(pn){up(p.removed,{element:pn});try{pn.parentNode.removeChild(pn)}catch{try{pn.outerHTML=_e}catch{pn.remove()}}},n_=function(pn,Zi){try{up(p.removed,{attribute:Zi.getAttributeNode(pn),from:Zi})}catch{up(p.removed,{attribute:null,from:Zi})}if(Zi.removeAttribute(pn),pn==="is"&&!kn[pn])if(Po||Aa)try{hd(Zi)}catch{}else try{Zi.setAttribute(pn,"")}catch{}},$I=function(pn){var Zi,Ni;if(Lo)pn="<remove></remove>"+pn;else{var Uo=cO(pn,/^[\r\n\t ]+/);Ni=Uo&&Uo[0]}Qn==="application/xhtml+xml"&&(pn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+pn+"</body></html>");var Pa=ke?ke.createHTML(pn):pn;if(Qf===ic)try{Zi=new gt().parseFromString(Pa,Qn)}catch{}if(!Zi||!Zi.documentElement){Zi=Xe.createDocument(Qf,"template",null);try{Zi.documentElement.innerHTML=qI?"":Pa}catch{}}var ll=Zi.body||Zi.documentElement;return pn&&Ni&&ll.insertBefore(x.createTextNode(Ni),ll.childNodes[0]||null),Qf===ic?hn.call(Zi,ui?"html":"body")[0]:ui?Zi.documentElement:ll},ZI=function(pn){return $e.call(pn.ownerDocument||pn,pn,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT,null,!1)},CD=function(pn){return pn instanceof dt&&(typeof pn.nodeName!="string"||typeof pn.textContent!="string"||typeof pn.removeChild!="function"||!(pn.attributes instanceof Z)||typeof pn.removeAttribute!="function"||typeof pn.setAttribute!="function"||typeof pn.namespaceURI!="string"||typeof pn.insertBefore!="function")},d0=function(pn){return cp(P)==="object"?pn instanceof P:pn&&cp(pn)==="object"&&typeof pn.nodeType=="number"&&typeof pn.nodeName=="string"},Oh=function(pn,Zi,Ni){Tn[pn]&&hS(Tn[pn],function(Uo){Uo.call(p,Zi,Ni,Jf)})},iA=function(pn){var Zi;if(Oh("beforeSanitizeElements",pn,null),CD(pn)||il(/[\u0080-\uFFFF]/,pn.nodeName))return hd(pn),!0;var Ni=ni(pn.nodeName);if(Oh("uponSanitizeElement",pn,{tagName:Ni,allowedTags:tn}),pn.hasChildNodes()&&!d0(pn.firstElementChild)&&(!d0(pn.content)||!d0(pn.content.firstElementChild))&&il(/<[/\w]/g,pn.innerHTML)&&il(/<[/\w]/g,pn.textContent)||Ni==="select"&&il(/<template/i,pn.innerHTML))return hd(pn),!0;if(!tn[Ni]||On[Ni]){if(!On[Ni]&&QI(Ni)&&(In.tagNameCheck instanceof RegExp&&il(In.tagNameCheck,Ni)||In.tagNameCheck instanceof Function&&In.tagNameCheck(Ni)))return!1;if(Ic&&!oa[Ni]){var Uo=Ut(pn)||pn.parentNode,Pa=Rt(pn)||pn.childNodes;if(Pa&&Uo)for(var ll=Pa.length-1;ll>=0;--ll)Uo.insertBefore(st(Pa[ll],!0),Ct(pn))}return hd(pn),!0}return pn instanceof F&&!SD(pn)?(hd(pn),!0):Ni!=="noscript"&&Ni!=="noembed"||!il(/<\/no(script|embed)/i,pn.innerHTML)?(ir&&pn.nodeType===3&&(Zi=pn.textContent,Zi=Jh(Zi,Pi," "),Zi=Jh(Zi,qi," "),pn.textContent!==Zi&&(up(p.removed,{element:pn.cloneNode()}),pn.textContent=Zi)),Oh("afterSanitizeElements",pn,null),!1):(hd(pn),!0)},KI=function(pn,Zi,Ni){if(zu&&(Zi==="id"||Zi==="name")&&(Ni in x||Ni in Qk))return!1;if(!(Li&&!Un[Zi]&&il(Mr,Zi))){if(!(pi&&il(po,Zi))){if(!kn[Zi]||Un[Zi]){if(!(QI(pn)&&(In.tagNameCheck instanceof RegExp&&il(In.tagNameCheck,pn)||In.tagNameCheck instanceof Function&&In.tagNameCheck(pn))&&(In.attributeNameCheck instanceof RegExp&&il(In.attributeNameCheck,Zi)||In.attributeNameCheck instanceof Function&&In.attributeNameCheck(Zi))||Zi==="is"&&In.allowCustomizedBuiltInElements&&(In.tagNameCheck instanceof RegExp&&il(In.tagNameCheck,Ni)||In.tagNameCheck instanceof Function&&In.tagNameCheck(Ni))))return!1}else if(!Eh[Zi]){if(!il(gr,Jh(Ni,fr,""))){if((Zi!=="src"&&Zi!=="xlink:href"&&Zi!=="href"||pn==="script"||uT(Ni,"data:")!==0||!cd[pn])&&!(Ki&&!il(Ti,Jh(Ni,fr,"")))){if(Ni)return!1}}}}}return!0},QI=function(pn){return pn.indexOf("-")>0},JI=function(pn){var Zi,Ni,Uo,Pa;Oh("beforeSanitizeAttributes",pn,null);var ll=pn.attributes;if(ll){var Ps={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:kn};for(Pa=ll.length;Pa--;){var p0=Zi=ll[Pa],Dh=p0.name,tu=p0.namespaceURI;Ni=Dh==="value"?Zi.value:hT(Zi.value),Uo=ni(Dh);var kD=Ni;if(Ps.attrName=Uo,Ps.attrValue=Ni,Ps.keepAttr=!0,Ps.forceKeepAttr=void 0,Oh("uponSanitizeAttribute",pn,Ps),Ni=Ps.attrValue,!Ps.forceKeepAttr)if(Ps.keepAttr)if(il(/\/>/i,Ni))n_(Dh,pn);else{ir&&(Ni=Jh(Ni,Pi," "),Ni=Jh(Ni,qi," "));var i_=ni(pn.nodeName);if(KI(i_,Uo,Ni)){if(Ni!==kD)try{tu?pn.setAttributeNS(tu,Dh,Ni):pn.setAttribute(Dh,Ni)}catch{n_(Dh,pn)}}else n_(Dh,pn)}else n_(Dh,pn)}Oh("afterSanitizeAttributes",pn,null)}},tE=function pn(Zi){var Ni,Uo=ZI(Zi);for(Oh("beforeSanitizeShadowDOM",Zi,null);Ni=Uo.nextNode();)Oh("uponSanitizeShadowNode",Ni,null),iA(Ni)||(Ni.content instanceof w&&pn(Ni.content),JI(Ni));Oh("afterSanitizeShadowDOM",Zi,null)};return p.sanitize=function(pn,Zi){var Ni,Uo,Pa,ll,Ps;if((qI=!pn)&&(pn="<!-->"),typeof pn!="string"&&!d0(pn)){if(typeof pn.toString!="function")throw fx("toString is not a function");if(typeof(pn=pn.toString())!="string")throw fx("dirty is not a string, aborting")}if(!p.isSupported){if(cp(c.toStaticHTML)==="object"||typeof c.toStaticHTML=="function"){if(typeof pn=="string")return c.toStaticHTML(pn);if(d0(pn))return c.toStaticHTML(pn.outerHTML)}return pn}if(mr||Jk(Zi),p.removed=[],typeof pn=="string"&&(La=!1),La){if(pn.nodeName){var p0=ni(pn.nodeName);if(!tn[p0]||On[p0])throw fx("root node is forbidden and cannot be sanitized in-place")}}else if(pn instanceof P)(Uo=(Ni=$I("<!---->")).ownerDocument.importNode(pn,!0)).nodeType===1&&Uo.nodeName==="BODY"||Uo.nodeName==="HTML"?Ni=Uo:Ni.appendChild(Uo);else{if(!Po&&!ir&&!ui&&pn.indexOf("<")===-1)return ke&&sl?ke.createHTML(pn):pn;if(!(Ni=$I(pn)))return Po?null:sl?_e:""}Ni&&Lo&&hd(Ni.firstChild);for(var Dh=ZI(La?pn:Ni);Pa=Dh.nextNode();)Pa.nodeType===3&&Pa===ll||iA(Pa)||(Pa.content instanceof w&&tE(Pa.content),JI(Pa),ll=Pa);if(ll=null,La)return pn;if(Po){if(Aa)for(Ps=fn.call(Ni.ownerDocument);Ni.firstChild;)Ps.appendChild(Ni.firstChild);else Ps=Ni;return kn.shadowroot&&(Ps=vn.call(m,Ps,!0)),Ps}var tu=ui?Ni.outerHTML:Ni.innerHTML;return ui&&tn["!doctype"]&&Ni.ownerDocument&&Ni.ownerDocument.doctype&&Ni.ownerDocument.doctype.name&&il(bh,Ni.ownerDocument.doctype.name)&&(tu="<!DOCTYPE "+Ni.ownerDocument.doctype.name+`>
`+tu),ir&&(tu=Jh(tu,Pi," "),tu=Jh(tu,qi," ")),ke&&sl?ke.createHTML(tu):tu},p.setConfig=function(pn){Jk(pn),mr=!0},p.clearConfig=function(){Jf=null,mr=!1},p.isValidAttribute=function(pn,Zi,Ni){Jf||Jk({});var Uo=ni(pn),Pa=ni(Zi);return KI(Uo,Pa,Ni)},p.addHook=function(pn,Zi){typeof Zi=="function"&&(Tn[pn]=Tn[pn]||[],up(Tn[pn],Zi))},p.removeHook=function(pn){if(Tn[pn])return dx(Tn[pn])},p.removeHooks=function(pn){Tn[pn]&&(Tn[pn]=[])},p.removeAllHooks=function(){Tn={}},p}();const vx=zn.each,gO=zn.trim,fS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],gT={ftp:21,http:80,https:443,mailto:25},mT=["img","video"],ty=(s,c,p)=>{const m=(x=>{try{return decodeURIComponent(x)}catch{return unescape(x)}})(c).replace(/\s/g,"");return!s.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(m)||!s.allow_html_data_urls&&(/^data:image\//i.test(m)?((x,w)=>te(x)?!x:!te(w)||!Te(mT,w))(s.allow_svg_data_urls,p)&&/^data:image\/svg\+xml/i.test(m):/^data:/i.test(m)))};class Ql{constructor(c,p={}){this.path="",this.directory="",c=gO(c),this.settings=p;const m=p.base_uri,x=this;if(/^([\w\-]+):([^\/]{2})/i.test(c)||/^\s*#/.test(c))return void(x.source=c);const w=c.indexOf("//")===0;if(c.indexOf("/")!==0||w||(c=(m&&m.protocol||"http")+"://mce_host"+c),!/^[\w\-]*:?\/\//.test(c)){const P=m?m.path:new Ql(document.location.href).directory;if(m?.protocol==="")c="//mce_host"+x.toAbsPath(P,c);else{const F=/([^#?]*)([#?]?.*)/.exec(c);F&&(c=(m&&m.protocol||"http")+"://mce_host"+x.toAbsPath(P,F[1])+F[2])}}c=c.replace(/@@/g,"(mce_at)");const T=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(c);T&&vx(fS,(P,F)=>{let j=T[F];j&&(j=j.replace(/\(mce_at\)/g,"@@")),x[P]=j}),m&&(x.protocol||(x.protocol=m.protocol),x.userInfo||(x.userInfo=m.userInfo),x.port||x.host!=="mce_host"||(x.port=m.port),x.host&&x.host!=="mce_host"||(x.host=m.host),x.source=""),w&&(x.protocol="")}static parseDataUri(c){let p;const m=decodeURIComponent(c).split(","),x=/data:([^;]+)/.exec(m[0]);return x&&(p=x[1]),{type:p,data:m[1]}}static isDomSafe(c,p,m={}){if(m.allow_script_urls)return!0;{const x=fu.decode(c).replace(/[\s\u0000-\u001F]+/g,"");return!ty(m,x,p)}}static getDocumentBaseUrl(c){var p;let m;return m=c.protocol.indexOf("http")!==0&&c.protocol!=="file:"?(p=c.href)!==null&&p!==void 0?p:"":c.protocol+"//"+c.host+c.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/")),m}setPath(c){const p=/^(.*?)\/?(\w+)?$/.exec(c);p&&(this.path=p[0],this.directory=p[1],this.file=p[2]),this.source="",this.getURI()}toRelative(c){if(c==="./")return c;const p=new Ql(c,{base_uri:this});if(p.host!=="mce_host"&&this.host!==p.host&&p.host||this.port!==p.port||this.protocol!==p.protocol&&p.protocol!=="")return p.getURI();const m=this.getURI(),x=p.getURI();if(m===x||m.charAt(m.length-1)==="/"&&m.substr(0,m.length-1)===x)return m;let w=this.toRelPath(this.path,p.path);return p.query&&(w+="?"+p.query),p.anchor&&(w+="#"+p.anchor),w}toAbsolute(c,p){const m=new Ql(c,{base_uri:this});return m.getURI(p&&this.isSameOrigin(m))}isSameOrigin(c){if(this.host==c.host&&this.protocol==c.protocol){if(this.port==c.port)return!0;const p=this.protocol?gT[this.protocol]:null;if(p&&(this.port||p)==(c.port||p))return!0}return!1}toRelPath(c,p){let m,x,w=0,T="";const P=c.substring(0,c.lastIndexOf("/")).split("/"),F=p.split("/");if(P.length>=F.length){for(m=0,x=P.length;m<x;m++)if(m>=F.length||P[m]!==F[m]){w=m+1;break}}if(P.length<F.length){for(m=0,x=F.length;m<x;m++)if(m>=P.length||P[m]!==F[m]){w=m+1;break}}if(w===1)return p;for(m=0,x=P.length-(w-1);m<x;m++)T+="../";for(m=w-1,x=F.length;m<x;m++)T+=m!==w-1?"/"+F[m]:F[m];return T}toAbsPath(c,p){let m=0;const x=/\/$/.test(p)?"/":"",w=c.split("/"),T=p.split("/"),P=[];vx(w,Z=>{Z&&P.push(Z)});const F=[];for(let Z=T.length-1;Z>=0;Z--)T[Z].length!==0&&T[Z]!=="."&&(T[Z]!==".."?m>0?m--:F.push(T[Z]):m++);const j=P.length-m;let U;return U=j<=0?zi(F).join("/"):P.slice(0,j).join("/")+"/"+zi(F).join("/"),U.indexOf("/")!==0&&(U="/"+U),x&&U.lastIndexOf("/")!==U.length-1&&(U+=x),U}getURI(c=!1){let p;return this.source&&!c||(p="",c||(this.protocol?p+=this.protocol+"://":p+="//",this.userInfo&&(p+=this.userInfo+"@"),this.host&&(p+=this.host),this.port&&(p+=":"+this.port)),this.path&&(p+=this.path),this.query&&(p+="?"+this.query),this.anchor&&(p+="#"+this.anchor),this.source=p),this.source}}const yx=zn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),rm="data-mce-type";let dp=0;const xh=(s,c,p,m)=>{var x,w,T,P;const F=c.validate,j=p.getSpecialElements();s.nodeType===8&&!c.allow_conditional_comments&&/^\[if/i.test((x=s.nodeValue)!==null&&x!==void 0?x:"")&&(s.nodeValue=" "+s.nodeValue);const U=(w=m?.tagName)!==null&&w!==void 0?w:s.nodeName.toLowerCase();if(s.nodeType!==1||U==="body")return;const Z=Ke(s),dt=oc(Z,rm),gt=aa(Z,"data-mce-bogus");if(!dt&&vt(gt))return void(gt==="all"?uo(Z):ss(Z));const ut=p.getElementRule(U);if(!F||ut){if(te(m)&&(m.allowedTags[U]=!0),F&&ut&&!dt){if(Ge((T=ut.attributesForced)!==null&&T!==void 0?T:[],yt=>{Xo(Z,yt.name,yt.value==="{$uid}"?"mce_"+dp++:yt.value)}),Ge((P=ut.attributesDefault)!==null&&P!==void 0?P:[],yt=>{oc(Z,yt.name)||Xo(Z,yt.name,yt.value==="{$uid}"?"mce_"+dp++:yt.value)}),ut.attributesRequired&&!_n(ut.attributesRequired,yt=>oc(Z,yt))||ut.removeEmptyAttrs&&(yt=>{const st=yt.dom.attributes;return st==null||st.length===0})(Z))return void ss(Z);ut.outputName&&ut.outputName!==U&&((yt,st)=>{const Ct=((Ut,de)=>{const ke=co(de),_e=Bh(Ut);return is(ke,_e),ke})(yt,st);zs(yt,Ct);const Rt=Oo(yt);Dc(Ct,Rt),uo(yt)})(Z,ut.outputName)}}else Hn(j,U)?uo(Z):ss(Z)},gS=(s,c,p,m,x)=>!(m in yx&&ty(s,x,p))&&(!s.validate||c.isValid(p,m)||Ui(m,"data-")||Ui(m,"aria-")),vT=(s,c)=>s.hasAttribute(rm)&&(c==="id"||c==="class"||c==="style"),Du=(s,c)=>s in c.getBoolAttrs(),mS=(s,c,p)=>{const{attributes:m}=s;for(let x=m.length-1;x>=0;x--){const w=m[x],T=w.name,P=w.value;gS(c,p,s.tagName.toLowerCase(),T,P)||vT(s,T)?Du(T,p)&&s.setAttribute(T,T):s.removeAttribute(T)}},vS=(s,c)=>{const p=fO();return p.addHook("uponSanitizeElement",(m,x)=>{xh(m,s,c,x)}),p.addHook("uponSanitizeAttribute",(m,x)=>{const w=m.tagName.toLowerCase(),{attrName:T,attrValue:P}=x;x.keepAttr=gS(s,c,w,T,P),x.keepAttr?(x.allowedAttributes[T]=!0,Du(T,c)&&(x.attrValue=T),s.allow_svg_data_urls&&Ui(P,"data:image/svg+xml")&&(x.forceKeepAttr=!0)):vT(m,T)&&(x.forceKeepAttr=!0)}),p},bx=zn.makeMap,yS=zn.extend,bS=(s,c,p)=>{const m=s.name,x=m in p&&m!=="title"&&m!=="textarea",w=c.childNodes;for(let T=0,P=w.length;T<P;T++){const F=w[T],j=new tl(F.nodeName.toLowerCase(),F.nodeType);if(We(F)){const U=F.attributes;for(let Z=0,dt=U.length;Z<dt;Z++){const gt=U[Z];j.attr(gt.name,gt.value)}}else Sn(F)?(j.value=F.data,x&&(j.raw=!0)):(Qr(F)||Pr(F)||sr(F))&&(j.value=F.data);bS(j,F,p),s.append(j)}},Of=(s={},c=zc())=>{const p=rT(),m=rT(),x={validate:!0,root_name:"body",sanitize:!0,...s},w=new DOMParser,T=((yt,st)=>{if(yt.sanitize){const Ct=vS(yt,st);return(Rt,Ut)=>{Ct.sanitize(Rt,((de,ke)=>{const _e={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return _e.PARSER_MEDIA_TYPE=ke,de.allow_script_urls?_e.ALLOWED_URI_REGEXP=/.*/:de.allow_html_data_urls&&(_e.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),_e})(yt,Ut)),Ct.removed=[]}}return(Ct,Rt)=>{const Ut=document.createNodeIterator(Ct,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let de;for(;de=Ut.nextNode();)xh(de,yt,st),We(de)&&mS(de,yt,st)}})(x,c),P=p.addFilter,F=p.getFilters,j=p.removeFilter,U=m.addFilter,Z=m.getFilters,dt=m.removeFilter,gt=(yt,st)=>{const Ct=vt(st.attr(rm)),Rt=st.type===1&&!Hn(yt,st.name)&&!((Ut,de)=>de.type===1&&oo(Ut,de.name)&&vt(de.attr(du)))(c,st);return st.type===3||Rt&&!Ct},ut={schema:c,addAttributeFilter:U,getAttributeFilters:Z,removeAttributeFilter:dt,addNodeFilter:P,getNodeFilters:F,removeNodeFilter:j,parse:(yt,st={})=>{var Ct;const Rt=x.validate,Ut=(Ct=st.context)!==null&&Ct!==void 0?Ct:x.root_name,de=((sn,Tn,Qn="html")=>{const ni=Qn==="xhtml"?"application/xhtml+xml":"text/html",Pi=Hn(c.getSpecialElements(),Tn.toLowerCase()),qi=Pi?`<${Tn}>${sn}</${Tn}>`:sn,Mr=Qn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${qi}</body></html>`:`<body>${qi}</body>`,po=w.parseFromString(Mr,ni).body;return T(po,ni),Pi?po.firstChild:po})(yt,Ut,st.format);Xu(c,de);const ke=new tl(Ut,11);bS(ke,de,c.getSpecialElements()),de.innerHTML="";const[_e,qe]=((sn,Tn,Qn,ni)=>{const Pi=Qn.validate,qi=Tn.getNonEmptyElements(),Mr=Tn.getWhitespaceElements(),po=yS(bx("script,style,head,html,body,title,meta,param"),Tn.getBlockElements()),Ti=Wm(Tn),fr=/[ \t\r\n]+/g,gr=/^[ \t\r\n]+/,tn=/[ \t\r\n]+$/,nn=In=>{let On=In.parent;for(;te(On);){if(On.name in Mr)return!0;On=On.parent}return!1},kn=In=>In.name in po&&!Vm(Tn,In),En=(In,On)=>{const Un=On?In.prev:In.next;return!te(Un)&&!Wt(In.parent)&&kn(In.parent)&&(In.parent!==sn||ni.isRootContent===!0)};return[In=>{var On;if(In.type===3&&!nn(In)){let Un=(On=In.value)!==null&&On!==void 0?On:"";Un=Un.replace(fr," "),(((pi,Li)=>te(pi)&&(Li(pi)||pi.name==="br"))(In.prev,kn)||En(In,!0))&&(Un=Un.replace(gr,"")),Un.length===0?In.remove():In.value=Un}},In=>{var On;if(In.type===1){const Un=Tn.getElementRule(In.name);if(Pi&&Un){const pi=ip(Tn,qi,Mr,In);Un.paddInEmptyBlock&&pi&&(Li=>{let Ki=Li;for(;te(Ki);){if(Ki.name in Ti)return ip(Tn,qi,Mr,Ki);Ki=Ki.parent}return!1})(In)?Ww(ni,kn,In):Un.removeEmpty&&pi?kn(In)?In.remove():In.unwrap():Un.paddEmpty&&(pi||(Li=>{var Ki;return tT(Li,"#text")&&((Ki=Li?.firstChild)===null||Ki===void 0?void 0:Ki.value)===no})(In))&&Ww(ni,kn,In)}}else if(In.type===3&&!nn(In)){let Un=(On=In.value)!==null&&On!==void 0?On:"";(In.next&&kn(In.next)||En(In,!1))&&(Un=Un.replace(tn,"")),Un.length===0?In.remove():In.value=Un}}]})(ke,c,x,st),Xe=[],$e=Rt?sn=>((Tn,Qn)=>{Zg(c,Tn)&&Qn.push(Tn)})(sn,Xe):le,fn={nodes:{},attributes:{}},hn=sn=>KM(F(),Z(),sn,fn);if(((sn,Tn,Qn)=>{const ni=[];for(let Pi=sn,qi=Pi;Pi;qi=Pi,Pi=Pi.walk()){const Mr=Pi;Ge(Tn,po=>po(Mr)),Wt(Mr.parent)&&Mr!==sn?Pi=qi:ni.push(Mr)}for(let Pi=ni.length-1;Pi>=0;Pi--){const qi=ni[Pi];Ge(Qn,Mr=>Mr(qi))}})(ke,[_e,hn],[qe,$e]),Xe.reverse(),Rt&&Xe.length>0)if(st.context){const{pass:sn,fail:Tn}=wr(Xe,Qn=>Qn.parent===ke);va(Tn,c,ke,hn),st.invalid=sn.length>0}else va(Xe,c,ke,hn);const vn=((sn,Tn)=>{var Qn;const ni=(Qn=Tn.forced_root_block)!==null&&Qn!==void 0?Qn:sn.forced_root_block;return ni===!1?"":ni===!0?"p":ni})(x,st);return vn&&(ke.name==="body"||st.isRootContent)&&((sn,Tn)=>{const Qn=yS(bx("script,style,head,html,body,title,meta,param"),c.getBlockElements()),ni=/^[ \t\r\n]+/,Pi=/[ \t\r\n]+$/;let qi=sn.firstChild,Mr=null;const po=Ti=>{var fr,gr;Ti&&(qi=Ti.firstChild,qi&&qi.type===3&&(qi.value=(fr=qi.value)===null||fr===void 0?void 0:fr.replace(ni,"")),qi=Ti.lastChild,qi&&qi.type===3&&(qi.value=(gr=qi.value)===null||gr===void 0?void 0:gr.replace(Pi,"")))};if(c.isValidChild(sn.name,Tn.toLowerCase())){for(;qi;){const Ti=qi.next;gt(Qn,qi)?(Mr||(Mr=new tl(Tn,1),Mr.attr(x.forced_root_block_attrs),sn.insert(Mr,qi)),Mr.append(qi)):(po(Mr),Mr=null),qi=Ti}po(Mr)}})(ke,vn),st.invalid||QM(fn,st),ke}};return((yt,st)=>{const Ct=yt.schema;st.remove_trailing_brs&&yt.addNodeFilter("br",(Ut,de,ke)=>{const _e=zn.extend({},Ct.getBlockElements()),qe=Ct.getNonEmptyElements(),Xe=Ct.getWhitespaceElements();_e.body=1;const $e=fn=>fn.name in _e&&Vm(Ct,fn);for(let fn=0,hn=Ut.length;fn<hn;fn++){let vn=Ut[fn],sn=vn.parent;if(sn&&_e[sn.name]&&vn===sn.lastChild){let Tn=vn.prev;for(;Tn;){const Qn=Tn.name;if(Qn!=="span"||Tn.attr("data-mce-type")!=="bookmark"){Qn==="br"&&(vn=null);break}Tn=Tn.prev}if(vn&&(vn.remove(),ip(Ct,qe,Xe,sn))){const Qn=Ct.getElementRule(sn.name);Qn&&(Qn.removeEmpty?sn.remove():Qn.paddEmpty&&Ww(ke,$e,sn))}}else{let Tn=vn;for(;sn&&sn.firstChild===Tn&&sn.lastChild===Tn&&(Tn=sn,!_e[sn.name]);)sn=sn.parent;if(Tn===sn){const Qn=new tl("#text",3);Qn.value=no,vn.replace(Qn)}}}}),yt.addAttributeFilter("href",Ut=>{let de=Ut.length;const ke=_e=>{const qe=_e?zn.trim(_e):"";return/\b(noopener)\b/g.test(qe)?qe:(Xe=>Xe.split(" ").filter($e=>$e.length>0).concat(["noopener"]).sort().join(" "))(qe)};if(!st.allow_unsafe_link_target)for(;de--;){const _e=Ut[de];_e.name==="a"&&_e.attr("target")==="_blank"&&_e.attr("rel",ke(_e.attr("rel")))}}),st.allow_html_in_named_anchor||yt.addAttributeFilter("id,name",Ut=>{let de,ke,_e,qe,Xe=Ut.length;for(;Xe--;)if(qe=Ut[Xe],qe.name==="a"&&qe.firstChild&&!qe.attr("href"))for(_e=qe.parent,de=qe.lastChild;de&&_e;)ke=de.prev,_e.insert(de,qe),de=ke}),st.fix_list_elements&&yt.addNodeFilter("ul,ol",Ut=>{let de,ke,_e=Ut.length;for(;_e--;)if(de=Ut[_e],ke=de.parent,ke&&(ke.name==="ul"||ke.name==="ol"))if(de.prev&&de.prev.name==="li")de.prev.append(de);else{const qe=new tl("li",1);qe.attr("style","list-style-type: none"),de.wrap(qe)}});const Rt=Ct.getValidClasses();st.validate&&Rt&&yt.addAttributeFilter("class",Ut=>{var de;let ke=Ut.length;for(;ke--;){const _e=Ut[ke],qe=(de=_e.attr("class"))!==null&&de!==void 0?de:"",Xe=zn.explode(qe," ");let $e="";for(let fn=0;fn<Xe.length;fn++){const hn=Xe[fn];let vn=!1,sn=Rt["*"];sn&&sn[hn]&&(vn=!0),sn=Rt[_e.name],!vn&&sn&&sn[hn]&&(vn=!0),vn&&($e&&($e+=" "),$e+=hn)}$e.length||($e=null),_e.attr("class",$e)}}),((Ut,de)=>{const{blob_cache:ke}=de;if(ke){const _e=qe=>{const Xe=qe.attr("src");($e=>$e.attr("src")===Dr.transparentSrc||te($e.attr("data-mce-placeholder")))(qe)||($e=>te($e.attr("data-mce-bogus")))(qe)||Wt(Xe)||cS(ke,Xe,!0).each($e=>{qe.attr("src",$e.blobUri())})};Ut.addAttributeFilter("src",qe=>Ge(qe,_e))}})(yt,st)})(ut,x),((yt,st,Ct)=>{st.inline_styles&&sS(yt,st,Ct)})(ut,x,c),ut},xS=(s,c,p)=>{const m=(w=>Tf(w)?uh({validate:!1}).serialize(w):w)(s),x=c(m);if(x.isDefaultPrevented())return x;if(Tf(s)){if(x.content!==m){const w=Of({validate:!1,forced_root_block:!1,sanitize:p}).parse(x.content,{context:s.name});return{...x,content:w}}return{...x,content:s}}return x},_S=(s,c)=>{if(c.no_events)return Ts.value(c);{const p=((m,x)=>m.dispatch("BeforeGetContent",x))(s,c);return p.isDefaultPrevented()?Ts.error(Cu(s,{content:"",...p}).content):Ts.value(p)}},wS=(s,c,p)=>p.no_events?c:xS(c,x=>Cu(s,{...p,content:x}),Bd(s)).content,xx=(s,c)=>{if(c.no_events)return Ts.value(c);{const p=xS(c.content,m=>((x,w)=>x.dispatch("BeforeSetContent",w))(s,{...c,content:m}),Bd(s));return p.isDefaultPrevented()?(bc(s,p),Ts.error(void 0)):Ts.value(p)}},ey=(s,c,p)=>{p.no_events||bc(s,{...p,content:c})},om=(s,c,p)=>({element:s,width:c,rows:p}),yT=(s,c)=>({element:s,cells:c}),mO=(s,c)=>({x:s,y:c}),bT=(s,c)=>ms(s,c).bind(N).getOr(1),xT=(s,c,p)=>{const m=s.rows;return!!(m[p]?m[p].cells:[])[c]},_T=s=>ar(s,(c,p)=>p.cells.length>c?p.cells.length:c,0),wT=(s,c)=>{const p=s.rows;for(let m=0;m<p.length;m++){const x=p[m].cells;for(let w=0;w<x.length;w++)if(Ir(x[w],c))return lt.some(mO(w,m))}return lt.none()},SS=(s,c,p,m,x)=>{const w=[],T=s.rows;for(let P=p;P<=x;P++){const F=T[P].cells,j=c<m?F.slice(c,m+1):F.slice(m,c+1);w.push(yT(T[P].element,j))}return w},ny=s=>((c,p)=>{const m=Se(c.element),x=co("tbody");return Dc(x,p),Ho(m,x),m})(s,(c=>Be(c.rows,p=>{const m=Be(p.cells,w=>{const T=ge(w);return Ko(T,"colspan"),Ko(T,"rowspan"),T}),x=Se(p.element);return Dc(x,m),x}))(s)),vO=(s,c)=>{const p=Ke(c.commonAncestorContainer),m=ph(p,s),x=Ln(m,uu),w=((P,F)=>wn(P,j=>Fr(j)==="li"&&K0(j,F)).fold(ne([]),j=>(U=>wn(U,Z=>Fr(Z)==="ul"||Fr(Z)==="ol"))(P).map(U=>{const Z=co(Fr(U)),dt=bi(Wp(U),(gt,ut)=>Ui(ut,"list-style"));return ul(Z,dt),[co("li"),Z]}).getOr([])))(m,c),T=x.concat(w.length?w:(P=>xs(P)?Ma(P).filter(fl).fold(ne([]),F=>[P,F]):fl(P)?[P]:[])(p));return Be(T,Se)},ST=()=>Sv([]),yO=(s,c)=>((p,m)=>cc(m,"table",Ne(Ir,p)))(s,c[0]).bind(p=>{const m=c[0],x=c[c.length-1],w=(T=>{const P=om(Se(T),0,[]);return Ge(oe(T,"tr"),(F,j)=>{Ge(oe(F,"td,th"),(U,Z)=>{((dt,gt,ut,yt,st)=>{const Ct=bT(st,"rowspan"),Rt=bT(st,"colspan"),Ut=dt.rows;for(let de=ut;de<ut+Ct;de++){Ut[de]||(Ut[de]=yT(ge(yt),[]));for(let ke=gt;ke<gt+Rt;ke++)Ut[de].cells[ke]=de===ut&&ke===gt?st:Se(st)}})(P,((dt,gt,ut)=>{for(;xT(dt,gt,ut);)gt++;return gt})(P,Z,j),j,F,U)})}),om(P.element,_T(P.rows),P.rows)})(p);return((T,P,F)=>wT(T,P).bind(j=>wT(T,F).map(U=>((Z,dt,gt)=>{const ut=dt.x,yt=dt.y,st=gt.x,Ct=gt.y,Rt=yt<Ct?SS(Z,ut,yt,st,Ct):SS(Z,ut,Ct,st,yt);return om(Z.element,_T(Rt),Rt)})(T,j,U))))(w,m,x).map(T=>Sv([ny(T)]))}).getOrThunk(ST),_x=(s,c)=>{const p=G_(c,s);return p.length>0?yO(s,p):((m,x)=>x.length>0&&x[0].collapsed?ST():((w,T)=>((P,F)=>{const j=ar(F,(U,Z)=>(Ho(Z,U),Z),P);return F.length>0?Sv([j]):j})(Ke(T.cloneContents()),vO(w,T)))(m,x[0]))(s,c)},Jl=(s,c)=>c>=0&&c<s.length&&qh(s.charAt(c)),Sx=s=>Za(s.innerText),CS=s=>We(s)?s.outerHTML:Sn(s)?fu.encodeRaw(s.data,!1):Qr(s)?"<!--"+s.data+"-->":"",Cx=(s,c)=>(((p,m)=>{let x=0;Ge(p,w=>{w[0]===0?x++:w[0]===1?(((T,P,F)=>{const j=(U=>{let Z;const dt=document.createElement("div"),gt=document.createDocumentFragment();for(U&&(dt.innerHTML=U);Z=dt.firstChild;)gt.appendChild(Z);return gt})(P);if(T.hasChildNodes()&&F<T.childNodes.length){const U=T.childNodes[F];T.insertBefore(j,U)}else T.appendChild(j)})(m,w[1],x),x++):w[0]===2&&((T,P)=>{if(T.hasChildNodes()&&P<T.childNodes.length){const F=T.childNodes[P];T.removeChild(F)}})(m,x)})})(((p,m)=>{const x=p.length+m.length+2,w=new Array(x),T=new Array(x),P=(Z,dt,gt,ut,yt)=>{const st=j(Z,dt,gt,ut);if(st===null||st.start===dt&&st.diag===dt-ut||st.end===Z&&st.diag===Z-gt){let Ct=Z,Rt=gt;for(;Ct<dt||Rt<ut;)Ct<dt&&Rt<ut&&p[Ct]===m[Rt]?(yt.push([0,p[Ct]]),++Ct,++Rt):dt-Z>ut-gt?(yt.push([2,p[Ct]]),++Ct):(yt.push([1,m[Rt]]),++Rt)}else{P(Z,st.start,gt,st.start-st.diag,yt);for(let Ct=st.start;Ct<st.end;++Ct)yt.push([0,p[Ct]]);P(st.end,dt,st.end-st.diag,ut,yt)}},F=(Z,dt,gt,ut)=>{let yt=Z;for(;yt-dt<ut&&yt<gt&&p[yt]===m[yt-dt];)++yt;return((st,Ct,Rt)=>({start:st,end:Ct,diag:Rt}))(Z,yt,dt)},j=(Z,dt,gt,ut)=>{const yt=dt-Z,st=ut-gt;if(yt===0||st===0)return null;const Ct=yt-st,Rt=st+yt,Ut=(Rt%2==0?Rt:Rt+1)/2;let de,ke,_e,qe,Xe;for(w[1+Ut]=Z,T[1+Ut]=dt+1,de=0;de<=Ut;++de){for(ke=-de;ke<=de;ke+=2){for(_e=ke+Ut,ke===-de||ke!==de&&w[_e-1]<w[_e+1]?w[_e]=w[_e+1]:w[_e]=w[_e-1]+1,qe=w[_e],Xe=qe-Z+gt-ke;qe<dt&&Xe<ut&&p[qe]===m[Xe];)w[_e]=++qe,++Xe;if(Ct%2!=0&&Ct-de<=ke&&ke<=Ct+de&&T[_e-Ct]<=w[_e])return F(T[_e-Ct],ke+Z-gt,dt,ut)}for(ke=Ct-de;ke<=Ct+de;ke+=2){for(_e=ke+Ut-Ct,ke===Ct-de||ke!==Ct+de&&T[_e+1]<=T[_e-1]?T[_e]=T[_e+1]-1:T[_e]=T[_e-1],qe=T[_e]-1,Xe=qe-Z+gt-ke;qe>=Z&&Xe>=gt&&p[qe]===m[Xe];)T[_e]=qe--,Xe--;if(Ct%2==0&&-de<=ke&&ke<=de&&T[_e]<=w[_e+Ct])return F(T[_e],ke+Z-gt,dt,ut)}}return null},U=[];return P(0,p.length,0,m.length,U),U})(Be(re(c.childNodes),CS),s),c),c),bO=Yi(()=>document.implementation.createHTMLDocument("undo")),kx=s=>{const c=(p=s.getBody(),Ln(Be(re(p.childNodes),CS),w=>w.length>0));var p;const m=xi(c,w=>{const T=_M(s.serializer,w);return T.length>0?[T]:[]}),x=m.join("");return(w=>w.indexOf("</iframe>")!==-1)(x)?(w=>({type:"fragmented",fragments:w,content:"",bookmark:null,beforeBookmark:null}))(m):(w=>({type:"complete",fragments:null,content:w,bookmark:null,beforeBookmark:null}))(x)},kS=(s,c,p)=>{const m=p?c.beforeBookmark:c.bookmark;c.type==="fragmented"?Cx(c.fragments,s.getBody()):s.setContent(c.content,{format:"raw",no_selection:!te(m)||!G0(m)||!m.isFakeCaret}),m&&(s.selection.moveToBookmark(m),s.selection.scrollIntoView())},Ax=s=>s.type==="fragmented"?s.fragments.join(""):s.content,iy=s=>{const c=co("body",bO());return dc(c,Ax(s)),Ge(oe(c,"*[data-mce-bogus]"),ss),bd(c)},Mx=(s,c)=>!(!s||!c)&&(!!((p,m)=>Ax(p)===Ax(m))(s,c)||((p,m)=>iy(p)===iy(m))(s,c)),ed=s=>s.get()===0,pp=(s,c,p)=>{ed(p)&&(s.typing=c)},am=(s,c)=>{s.typing&&(pp(s,!1,c),s.add())},Tx=s=>({init:{bindEvents:le},undoManager:{beforeChange:(c,p)=>((m,x,w)=>{ed(x)&&w.set($m(m.selection))})(s,c,p),add:(c,p,m,x,w,T)=>((P,F,j,U,Z,dt,gt)=>{const ut=kx(P),yt=zn.extend(dt||{},ut);if(!ed(U)||P.removed)return null;const st=F.data[j.get()];if(P.dispatch("BeforeAddUndo",{level:yt,lastLevel:st,originalEvent:gt}).isDefaultPrevented()||st&&Mx(st,yt))return null;F.data[j.get()]&&Z.get().each(Ut=>{F.data[j.get()].beforeBookmark=Ut});const Ct=VA(P);if(Ct&&F.data.length>Ct){for(let Ut=0;Ut<F.data.length-1;Ut++)F.data[Ut]=F.data[Ut+1];F.data.length--,j.set(F.data.length)}yt.bookmark=$m(P.selection),j.get()<F.data.length-1&&(F.data.length=j.get()+1),F.data.push(yt),j.set(F.data.length-1);const Rt={level:yt,lastLevel:st,originalEvent:gt};return j.get()>0?(P.setDirty(!0),P.dispatch("AddUndo",Rt),P.dispatch("change",Rt)):P.dispatch("AddUndo",Rt),yt})(s,c,p,m,x,w,T),undo:(c,p,m)=>((x,w,T,P)=>{let F;return w.typing&&(w.add(),w.typing=!1,pp(w,!1,T)),P.get()>0&&(P.set(P.get()-1),F=w.data[P.get()],kS(x,F,!0),x.setDirty(!0),x.dispatch("Undo",{level:F})),F})(s,c,p,m),redo:(c,p)=>((m,x,w)=>{let T;return x.get()<w.length-1&&(x.set(x.get()+1),T=w[x.get()],kS(m,T,!1),m.setDirty(!0),m.dispatch("Redo",{level:T})),T})(s,c,p),clear:(c,p)=>((m,x,w)=>{x.data=[],w.set(0),x.typing=!1,m.dispatch("ClearUndos")})(s,c,p),reset:c=>(p=>{p.clear(),p.add()})(c),hasUndo:(c,p)=>((m,x,w)=>w.get()>0||x.typing&&x.data[0]&&!Mx(kx(m),x.data[0]))(s,c,p),hasRedo:(c,p)=>((m,x)=>x.get()<m.data.length-1&&!m.typing)(c,p),transact:(c,p,m)=>((x,w,T)=>(am(x,w),x.beforeChange(),x.ignore(T),x.add()))(c,p,m),ignore:(c,p)=>((m,x)=>{try{m.set(m.get()+1),x()}finally{m.set(m.get()-1)}})(c,p),extra:(c,p,m,x)=>((w,T,P,F,j)=>{if(T.transact(F)){const U=T.data[P.get()].bookmark,Z=T.data[P.get()-1];kS(w,Z,!0),T.transact(j)&&(T.data[P.get()-1].beforeBookmark=U)}})(s,c,p,m,x)},formatter:{match:(c,p,m,x)=>Vv(s,c,p,m,x),matchAll:(c,p)=>((m,x,w)=>{const T=[],P={},F=m.selection.getStart();return m.dom.getParent(F,j=>{for(let U=0;U<x.length;U++){const Z=x[U];!P[Z]&&Kl(m,j,Z,w)&&(P[Z]=!0,T.push(Z))}},m.dom.getRoot()),T})(s,c,p),matchNode:(c,p,m,x)=>Kl(s,c,p,m,x),canApply:c=>((p,m)=>{const x=p.formatter.get(m),w=p.dom;if(x){const T=p.selection.getStart(),P=bv(w,T);for(let F=x.length-1;F>=0;F--){const j=x[F];if(!wl(j))return!0;for(let U=P.length-1;U>=0;U--)if(w.is(P[U],j.selector))return!0}}return!1})(s,c),closest:c=>((p,m)=>{const x=w=>Ir(w,Ke(p.getBody()));return lt.from(p.selection.getStart(!0)).bind(w=>Hb(Ke(w),T=>Pe(m,P=>((F,j)=>Kl(p,F.dom,j)?lt.some(j):lt.none())(T,P)),x)).getOrNull()})(s,c),apply:(c,p,m)=>rx(s,c,p,m),remove:(c,p,m,x)=>lO(s,c,p,m,x),toggle:(c,p,m)=>((x,w,T,P)=>{const F=x.formatter.get(w);F&&(!Vv(x,w,T,P)||"toggle"in F[0]&&!F[0].toggle?rx(x,w,T,P):lO(x,w,T,P))})(s,c,p,m),formatChanged:(c,p,m,x,w)=>((T,P,F,j,U,Z)=>(((dt,gt,ut,yt,st,Ct)=>{const Rt=gt.get();Ge(ut.split(","),Ut=>{const de=ti(Rt,Ut).getOrThunk(()=>{const _e={withSimilar:{state:ca(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ca(!1),similar:!1,callbacks:[]},withVars:[]};return Rt[Ut]=_e,_e}),ke=()=>{const _e=lp(dt);return ox(dt,_e,Ut,st,Ct).isSome()};if(It(Ct)){const _e=st?de.withSimilar:de.withoutSimilar;_e.callbacks.push(yt),_e.callbacks.length===1&&_e.state.set(ke())}else de.withVars.push({state:ca(ke()),similar:st,vars:Ct,callback:yt})}),gt.set(Rt)})(T,P,F,j,U,Z),{unbind:()=>((dt,gt,ut)=>{const yt=dt.get();Ge(gt.split(","),st=>ti(yt,st).each(Ct=>{yt[st]={withSimilar:{...Ct.withSimilar,callbacks:Ln(Ct.withSimilar.callbacks,Rt=>Rt!==ut)},withoutSimilar:{...Ct.withoutSimilar,callbacks:Ln(Ct.withoutSimilar.callbacks,Rt=>Rt!==ut)},withVars:Ln(Ct.withVars,Rt=>Rt.callback!==ut)}})),dt.set(yt)})(P,F,j)}))(s,c,p,m,x,w)},editor:{getContent:c=>((p,m)=>lt.from(p.getBody()).fold(ne(m.format==="tree"?new tl("body",11):""),x=>CM(p,m,x)))(s,c),setContent:(c,p)=>((m,x,w)=>lt.from(m.getBody()).map(T=>Tf(x)?((P,F,j,U)=>{JM(P.parser.getNodeFilters(),P.parser.getAttributeFilters(),j);const Z=uh({validate:!1},P.schema).serialize(j),dt=zl(Ke(F))?Z:zn.trim(Z);return Fb(P,dt,U.no_selection),{content:j,html:dt}})(m,T,x,w):((P,F,j,U)=>{if(j.length===0||/^\s+$/.test(j)){const Z='<br data-mce-bogus="1">';F.nodeName==="TABLE"?j="<tr><td>"+Z+"</td></tr>":/^(UL|OL)$/.test(F.nodeName)&&(j="<li>"+Z+"</li>");const dt=bl(P);return P.schema.isValidChild(F.nodeName.toLowerCase(),dt.toLowerCase())?(j=Z,j=P.dom.createHTML(dt,mc(P),j)):j||(j=Z),Fb(P,j,U.no_selection),{content:j,html:j}}{U.format!=="raw"&&(j=uh({validate:!1},P.schema).serialize(P.parser.parse(j,{isRootContent:!0,insert:!0})));const Z=zl(Ke(F))?j:zn.trim(j);return Fb(P,Z,U.no_selection),{content:Z,html:Z}}})(m,T,x,w)).getOr({content:x,html:Tf(w.content)?"":w.content}))(s,c,p),insertContent:(c,p)=>eT(s,c,p),addVisual:c=>((p,m)=>{const x=p.dom,w=te(m)?m:p.getBody();Ge(x.select("table,a",w),T=>{switch(T.nodeName){case"TABLE":const P=P_(p),F=x.getAttrib(T,"border");F&&F!=="0"||!p.hasVisual?x.removeClass(T,P):x.addClass(T,P);break;case"A":if(!x.getAttrib(T,"href")){const j=x.getAttrib(T,"name")||T.id,U=Rd(p);j&&p.hasVisual?x.addClass(T,U):x.removeClass(T,U)}}}),p.dispatch("VisualAid",{element:m,hasVisual:p.hasVisual})})(s,c)},selection:{getContent:(c,p)=>((m,x,w={})=>{const T=((P,F)=>({...P,format:F,get:!0,selection:!0,getInner:!0}))(w,x);return _S(m,T).fold(De,P=>{const F=((j,U)=>{if(U.format==="text")return(Z=>lt.from(Z.selection.getRng()).map(dt=>{var gt;const ut=lt.from(Z.dom.getParent(dt.commonAncestorContainer,Z.dom.isBlock)),yt=Z.getBody(),st=(ke=>ke.map(_e=>_e.nodeName).getOr("div").toLowerCase())(ut),Ct=Ke(dt.cloneContents());wM(Ct),SM(Ct);const Rt=Z.dom.add(yt,st,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Ct.dom),Ut=Sx(Rt),de=Za((gt=Rt.textContent)!==null&&gt!==void 0?gt:"");if(Z.dom.remove(Rt),Jl(de,0)||Jl(de,de.length-1)){const ke=ut.getOr(yt),_e=Sx(ke),qe=_e.indexOf(Ut);return qe===-1?Ut:(Jl(_e,qe-1)?" ":"")+Ut+(Jl(_e,qe+Ut.length)?" ":"")}return Ut}).getOr(""))(j);{const Z=((dt,gt)=>{const ut=dt.selection.getRng(),yt=dt.dom.create("body"),st=dt.selection.getSel(),Ct=Sb(dt,Z0(st)),Rt=gt.contextual?_x(Ke(dt.getBody()),Ct).dom:ut.cloneContents();return Rt&&yt.appendChild(Rt),dt.selection.serializer.serialize(yt,gt)})(j,U);return U.format==="tree"?Z:j.selection.isCollapsed()?"":Z}})(m,P);return wS(m,F,P)})})(s,c,p)},autocompleter:{addDecoration:c=>Jd(s,c),removeDecoration:()=>((c,p)=>yM(p).each(m=>{const x=c.selection.getBookmark();ss(m),c.selection.moveToBookmark(x)}))(s,Ke(s.getBody()))},raw:{getModel:()=>lt.none()}}),_h=s=>Hn(s.plugins,"rtc"),ry=s=>s.rtcInstance?s.rtcInstance:Tx(s),ra=s=>{const c=s.rtcInstance;if(c)return c;throw new Error("Failed to get RTC instance not yet initialized.")},oy=s=>ra(s).init.bindEvents(),Df=s=>s.dom.length===0?(uo(s),lt.none()):lt.some(s),CT=(s,c,p,m)=>{s.bind(x=>((m?Ug:Ob)(x.dom,m?x.dom.length:0),c.filter(Ba).map(w=>((T,P,F,j)=>{const U=T.dom,Z=P.dom,dt=j?U.length:Z.length;j?(Db(U,Z,!1,!j),F.setStart(Z,dt)):(Db(Z,U,!1,!j),F.setEnd(Z,dt))})(x,w,p,m)))).orThunk(()=>((w,T)=>w.filter(P=>ch.isBookmarkNode(P.dom)).bind(T?sc:os))(c,m).or(c).filter(Ba).map(w=>((T,P)=>{Ma(T).each(F=>{const j=T.dom;P&&Ao(F,Cn(j,0))?Ob(j,0):!P&&fh(F,Cn(j,j.length))&&Ug(j,j.length)})})(w,m)))},kT=(s,c,p)=>{if(Hn(s,c)){const m=Ln(s[c],x=>x!==p);m.length===0?delete s[c]:s[c]=m}},AS=s=>!(!s||!s.ownerDocument)&&Ua(Ke(s.ownerDocument),Ke(s)),fp=(s,c,p,m)=>{let x,w;const{selectorChangedWithUnbind:T}=((st,Ct)=>{let Rt,Ut;const de=(_e,qe)=>wn(qe,Xe=>st.is(Xe,_e)),ke=_e=>st.getParents(_e,void 0,st.getRoot());return{selectorChangedWithUnbind:(_e,qe)=>(Rt||(Rt={},Ut={},Ct.on("NodeChange",Xe=>{const $e=Xe.element,fn=ke($e),hn={};Le(Rt,(vn,sn)=>{de(sn,fn).each(Tn=>{Ut[sn]||(Ge(vn,Qn=>{Qn(!0,{node:Tn,selector:sn,parents:fn})}),Ut[sn]=vn),hn[sn]=vn})}),Le(Ut,(vn,sn)=>{hn[sn]||(delete Ut[sn],Ge(vn,Tn=>{Tn(!1,{node:$e,selector:sn,parents:fn})}))})})),Rt[_e]||(Rt[_e]=[]),Rt[_e].push(qe),de(_e,ke(Ct.selection.getStart())).each(()=>{Ut[_e]=Rt[_e]}),{unbind:()=>{kT(Rt,_e,qe),kT(Ut,_e,qe)}})}})(s,m),P=(st,Ct)=>((Rt,Ut,de={})=>{const ke=((_e,qe)=>({format:"html",..._e,set:!0,selection:!0,content:qe}))(de,Ut);xx(Rt,ke).each(_e=>{const qe=(($e,fn)=>{if(fn.format!=="raw"){const hn=$e.selection.getRng(),vn=$e.dom.getParent(hn.commonAncestorContainer,$e.dom.isBlock),sn=vn?{context:vn.nodeName.toLowerCase()}:{},Tn=$e.parser.parse(fn.content,{forced_root_block:!1,...sn,...fn});return uh({validate:!1},$e.schema).serialize(Tn)}return fn.content})(Rt,_e),Xe=Rt.selection.getRng();(($e,fn)=>{const hn=lt.from(fn.firstChild).map(Ke),vn=lt.from(fn.lastChild).map(Ke);$e.deleteContents(),$e.insertNode(fn);const sn=hn.bind(os).filter(Ba).bind(Df),Tn=vn.bind(sc).filter(Ba).bind(Df);CT(sn,hn,$e,!0),CT(Tn,vn,$e,!1),$e.collapse(!1)})(Xe,Xe.createContextualFragment(qe)),Rt.selection.setRng(Xe),jg(Rt,Xe),ey(Rt,qe,_e)})})(m,st,Ct),F=st=>{const Ct=U();Ct.collapse(!!st),Z(Ct)},j=()=>c.getSelection?c.getSelection():c.document.selection,U=()=>{let st;const Ct=(Ut,de,ke)=>{try{return de.compareBoundaryPoints(Ut,ke)}catch{return-1}},Rt=c.document;if(te(m.bookmark)&&!_f(m)){const Ut=gb(m);if(Ut.isSome())return Ut.map(de=>Sb(m,[de])[0]).getOr(Rt.createRange())}try{const Ut=j();Ut&&!bn(Ut.anchorNode)&&(st=Ut.rangeCount>0?Ut.getRangeAt(0):Rt.createRange(),st=Sb(m,[st])[0])}catch{}if(st||(st=Rt.createRange()),Co(st.startContainer)&&st.collapsed){const Ut=s.getRoot();st.setStart(Ut,0),st.setEnd(Ut,0)}return x&&w&&(Ct(st.START_TO_START,st,x)===0&&Ct(st.END_TO_END,st,x)===0?st=w:(x=null,w=null)),st},Z=(st,Ct)=>{if(!(Ut=>!!Ut&&AS(Ut.startContainer)&&AS(Ut.endContainer))(st))return;const Rt=j();if(st=m.dispatch("SetSelectionRange",{range:st,forward:Ct}).range,Rt){w=st;try{Rt.removeAllRanges(),Rt.addRange(st)}catch{}Ct===!1&&Rt.extend&&(Rt.collapse(st.endContainer,st.endOffset),Rt.extend(st.startContainer,st.startOffset)),x=Rt.rangeCount>0?Rt.getRangeAt(0):null}if(!st.collapsed&&st.startContainer===st.endContainer&&Rt?.setBaseAndExtent&&st.endOffset-st.startOffset<2&&st.startContainer.hasChildNodes()){const Ut=st.startContainer.childNodes[st.startOffset];Ut&&Ut.nodeName==="IMG"&&(Rt.setBaseAndExtent(st.startContainer,st.startOffset,st.endContainer,st.endOffset),Rt.anchorNode===st.startContainer&&Rt.focusNode===st.endContainer||Rt.setBaseAndExtent(Ut,0,Ut,1))}m.dispatch("AfterSetSelectionRange",{range:st,forward:Ct})},dt=()=>{const st=j(),Ct=st?.anchorNode,Rt=st?.focusNode;if(!st||!Ct||!Rt||bn(Ct)||bn(Rt))return!0;const Ut=s.createRng(),de=s.createRng();try{Ut.setStart(Ct,st.anchorOffset),Ut.collapse(!0),de.setStart(Rt,st.focusOffset),de.collapse(!0)}catch{return!0}return Ut.compareBoundaryPoints(Ut.START_TO_START,de)<=0},gt={dom:s,win:c,serializer:p,editor:m,expand:(st={type:"word"})=>Z(vf(s).expand(U(),st)),collapse:F,setCursorLocation:(st,Ct)=>{const Rt=s.createRng();te(st)&&te(Ct)?(Rt.setStart(st,Ct),Rt.setEnd(st,Ct),Z(Rt),F(!1)):(gv(s,Rt,m.getBody(),!0),Z(Rt))},getContent:st=>((Ct,Rt={})=>((Ut,de,ke)=>ra(Ut).selection.getContent(de,ke))(Ct,Rt.format?Rt.format:"html",Rt))(m,st),setContent:P,getBookmark:(st,Ct)=>ut.getBookmark(st,Ct),moveToBookmark:st=>ut.moveToBookmark(st),select:(st,Ct)=>(((Rt,Ut,de)=>lt.from(Ut).bind(ke=>lt.from(ke.parentNode).map(_e=>{const qe=Rt.nodeIndex(ke),Xe=Rt.createRng();return Xe.setStart(_e,qe),Xe.setEnd(_e,qe+1),de&&(gv(Rt,Xe,ke,!0),gv(Rt,Xe,ke,!1)),Xe})))(s,st,Ct).each(Z),st),isCollapsed:()=>{const st=U(),Ct=j();return!(!st||st.item)&&(st.compareEndPoints?st.compareEndPoints("StartToEnd",st)===0:!Ct||st.collapsed)},isEditable:()=>{const st=U(),Ct=m.getBody().querySelectorAll('[data-mce-selected="1"]');return Ct.length>0?oi(Ct,Rt=>s.isEditable(Rt.parentElement)):st.startContainer===st.endContainer?s.isEditable(st.startContainer):s.isEditable(st.startContainer)&&s.isEditable(st.endContainer)},isForward:dt,setNode:st=>(P(s.getOuterHTML(st)),st),getNode:()=>((st,Ct)=>{if(!Ct)return st;let Rt=Ct.startContainer,Ut=Ct.endContainer;const de=Ct.startOffset,ke=Ct.endOffset;let _e=Ct.commonAncestorContainer;Ct.collapsed||(Rt===Ut&&ke-de<2&&Rt.hasChildNodes()&&(_e=Rt.childNodes[de]),Sn(Rt)&&Sn(Ut)&&(Rt=Rt.length===de?wb(Rt.nextSibling,!0):Rt.parentNode,Ut=ke===0?wb(Ut.previousSibling,!1):Ut.parentNode,Rt&&Rt===Ut&&(_e=Rt)));const qe=Sn(_e)?_e.parentNode:_e;return We(qe)?qe:st})(m.getBody(),U()),getSel:j,setRng:Z,getRng:U,getStart:st=>wf(m.getBody(),U(),st),getEnd:st=>mM(m.getBody(),U(),st),getSelectedBlocks:(st,Ct)=>((Rt,Ut,de,ke)=>{const _e=[],qe=Rt.getRoot(),Xe=Rt.getParent(de||wf(qe,Ut,Ut.collapsed),Rt.isBlock),$e=Rt.getParent(ke||mM(qe,Ut,Ut.collapsed),Rt.isBlock);if(Xe&&Xe!==qe&&_e.push(Xe),Xe&&$e&&Xe!==$e){let fn;const hn=new zt(Xe,qe);for(;(fn=hn.next())&&fn!==$e;)Rt.isBlock(fn)&&_e.push(fn)}return $e&&Xe!==$e&&$e!==qe&&_e.push($e),_e})(s,U(),st,Ct),normalize:()=>{const st=U(),Ct=j();if(!(Z0(Ct).length>1)&&mv(m)){const Rt=Zh(s,st);return Rt.each(Ut=>{Z(Ut,dt())}),Rt.getOr(st)}return st},selectorChanged:(st,Ct)=>(T(st,Ct),gt),selectorChangedWithUnbind:T,getScrollContainer:()=>{let st,Ct=s.getRoot();for(;Ct&&Ct.nodeName!=="BODY";){if(Ct.scrollHeight>Ct.clientHeight){st=Ct;break}Ct=Ct.parentNode}return st},scrollIntoView:(st,Ct)=>{te(st)?((Rt,Ut,de)=>{(Rt.inline?uM:dM)(Rt,Ut,de)})(m,st,Ct):jg(m,U(),Ct)},placeCaretAt:(st,Ct)=>Z(ow(st,Ct,m.getDoc())),getBoundingClientRect:()=>{const st=U();return st.collapsed?Cn.fromRangeStart(st).getClientRects()[0]:st.getBoundingClientRect()},destroy:()=>{c=x=w=null,yt.destroy()}},ut=ch(gt),yt=Yc(gt,m);return gt.bookmarkManager=ut,gt.controlSelection=yt,gt},xO=(s,c,p)=>{zn.inArray(c,p)===-1&&(s.addAttributeFilter(p,(m,x)=>{let w=m.length;for(;w--;)m[w].attr(x,null)}),c.push(p))},MS=(s,c)=>{const p=["data-mce-selected"],m=c&&c.dom?c.dom:Sr.DOM,x=c&&c.schema?c.schema:zc(s);s.entity_encoding=s.entity_encoding||"named",s.remove_trailing_brs=!("remove_trailing_brs"in s)||s.remove_trailing_brs;const w=Of(s,x);return((T,P,F)=>{T.addAttributeFilter("data-mce-tabindex",(j,U)=>{let Z=j.length;for(;Z--;){const dt=j[Z];dt.attr("tabindex",dt.attr("data-mce-tabindex")),dt.attr(U,null)}}),T.addAttributeFilter("src,href,style",(j,U)=>{const Z="data-mce-"+U,dt=P.url_converter,gt=P.url_converter_scope;let ut=j.length;for(;ut--;){const yt=j[ut];let st=yt.attr(Z);st!==void 0?(yt.attr(U,st.length>0?st:null),yt.attr(Z,null)):(st=yt.attr(U),U==="style"?st=F.serializeStyle(F.parseStyle(st),yt.name):dt&&(st=dt.call(gt,st,U,yt.name)),yt.attr(U,st.length>0?st:null))}}),T.addAttributeFilter("class",j=>{let U=j.length;for(;U--;){const Z=j[U];let dt=Z.attr("class");dt&&(dt=dt.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),Z.attr("class",dt.length>0?dt:null))}}),T.addAttributeFilter("data-mce-type",(j,U,Z)=>{let dt=j.length;for(;dt--;){const gt=j[dt];gt.attr("data-mce-type")==="bookmark"&&!Z.cleanup&&(lt.from(gt.firstChild).exists(yt=>{var st;return!gl((st=yt.value)!==null&&st!==void 0?st:"")})?gt.unwrap():gt.remove())}}),T.addNodeFilter("noscript",j=>{var U;let Z=j.length;for(;Z--;){const dt=j[Z].firstChild;dt&&(dt.value=fu.decode((U=dt.value)!==null&&U!==void 0?U:""))}}),T.addNodeFilter("script,style",(j,U)=>{var Z;const dt=ut=>ut.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let gt=j.length;for(;gt--;){const ut=j[gt],yt=ut.firstChild,st=(Z=yt?.value)!==null&&Z!==void 0?Z:"";if(U==="script"){const Ct=ut.attr("type");Ct&&ut.attr("type",Ct==="mce-no/type"?null:Ct.replace(/^mce\-/,"")),P.element_format==="xhtml"&&yt&&st.length>0&&(yt.value=`// <![CDATA[
`+dt(st)+`
// ]]>`)}else P.element_format==="xhtml"&&yt&&st.length>0&&(yt.value=`<!--
`+dt(st)+`
-->`)}}),T.addNodeFilter("#comment",j=>{let U=j.length;for(;U--;){const Z=j[U],dt=Z.value;P.preserve_cdata&&dt?.indexOf("[CDATA[")===0?(Z.name="#cdata",Z.type=4,Z.value=F.decode(dt.replace(/^\[CDATA\[|\]\]$/g,""))):dt?.indexOf("mce:protected ")===0&&(Z.name="#text",Z.type=3,Z.raw=!0,Z.value=unescape(dt).substr(14))}}),T.addNodeFilter("xml:namespace,input",(j,U)=>{let Z=j.length;for(;Z--;){const dt=j[Z];dt.type===7?dt.remove():dt.type===1&&(U!=="input"||dt.attr("type")||dt.attr("type","text"))}}),T.addAttributeFilter("data-mce-type",j=>{Ge(j,U=>{U.attr("data-mce-type")==="format-caret"&&(U.isEmpty(T.schema.getNonEmptyElements())?U.remove():U.unwrap())})}),T.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(j,U)=>{let Z=j.length;for(;Z--;)j[Z].attr(U,null)})})(w,s,m),{schema:x,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:(T,P={})=>{const F={format:"html",...P},j=((dt,gt,ut)=>((yt,st)=>te(yt)&&yt.hasEventListeners("PreProcess")&&!st.no_events)(dt,ut)?((yt,st,Ct)=>{let Rt;const Ut=yt.dom;let de=st.cloneNode(!0);const ke=document.implementation;if(ke.createHTMLDocument){const _e=ke.createHTMLDocument("");zn.each(de.nodeName==="BODY"?de.childNodes:[de],qe=>{_e.body.appendChild(_e.importNode(qe,!0))}),de=de.nodeName!=="BODY"?_e.body.firstChild:_e.body,Rt=Ut.doc,Ut.doc=_e}return((_e,qe)=>{_e.dispatch("PreProcess",qe)})(yt,{...Ct,node:de}),Rt&&(Ut.doc=Rt),de})(dt,gt,ut):gt)(c,T,F),U=((dt,gt,ut)=>{const yt=Za(ut.getInner?gt.innerHTML:dt.getOuterHTML(gt));return ut.selection||zl(Ke(gt))?yt:zn.trim(yt)})(m,j,F),Z=((dt,gt,ut)=>{const yt=ut.selection?{forced_root_block:!1,...ut}:ut,st=dt.parse(gt,yt);return(Ct=>{const Rt=de=>de?.name==="br",Ut=Ct.lastChild;if(Rt(Ut)){const de=Ut.prev;Rt(de)&&(Ut.remove(),de.remove())}})(st),st})(w,U,F);return F.format==="tree"?Z:((dt,gt,ut,yt,st)=>{const Ct=((Rt,Ut,de)=>uh(Rt,Ut).serialize(de))(gt,ut,yt);return((Rt,Ut,de)=>!Ut.no_events&&Rt?((_e,qe)=>_e.dispatch("PostProcess",qe))(Rt,{...Ut,content:de}).content:de)(dt,st,Ct)})(c,s,x,Z,F)},addRules:x.addValidElements,setRules:x.setValidElements,addTempAttr:Ne(xO,w,p),getTempAttrs:ne(p),getNodeFilters:w.getNodeFilters,getAttributeFilters:w.getAttributeFilters,removeNodeFilter:w.removeNodeFilter,removeAttributeFilter:w.removeAttributeFilter}},TS=(s,c)=>{const p=MS(s,c);return{schema:p.schema,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:p.serialize,addRules:p.addRules,setRules:p.setRules,addTempAttr:p.addTempAttr,getTempAttrs:p.getTempAttrs,getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},Ix=(s,c,p={})=>{const m=((x,w)=>({format:"html",...x,set:!0,content:w}))(p,c);return xx(s,m).map(x=>{const w=((T,P,F)=>ry(T).editor.setContent(P,F))(s,x.content,x);return ey(s,w.html,x),w.content}).getOr(c)},AT="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),MT="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),TT="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),IT=[{name:"template",replacedWith:"Advanced Template"}],IS=(s,c)=>{const p=Ln(c,m=>Hn(s,m));return Kr(p)},ET=s=>{const c=IS(s,AT),p=s.forced_root_block;return p!==!1&&p!==""||c.push("forced_root_block (false only)"),Kr(c)},ES=s=>IS(s,MT),OT=(s,c)=>{const p=zn.makeMap(s.plugins," "),m=Ln(c,x=>Hn(p,x));return Kr(m)},_O=s=>OT(s,TT),wO=s=>OT(s,IT.map(c=>c.name)),SO=s=>wn(IT,c=>c.name===s).fold(()=>s,c=>`${s}, replaced by ${c.replacedWith}`),Ex=Sr.DOM,gp=s=>lt.from(s).each(c=>c.destroy()),Ox=(()=>{const s={};return{add:(c,p)=>{s[c]=p},get:c=>s[c]?s[c]:{icons:{}},has:c=>Hn(s,c)}})(),sm=Sa.ModelManager,OS=(s,c)=>c.dom[s],DS=(s,c)=>parseInt(hl(c,s),10),DT=Ne(OS,"clientWidth"),LT=Ne(OS,"clientHeight"),PT=Ne(DS,"margin-top"),NT=Ne(DS,"margin-left"),LS=s=>{const c=[],p=()=>{const F=s.theme;return F&&F.getNotificationManagerImpl?F.getNotificationManagerImpl():(()=>{const j=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:j,close:j,getArgs:j}})()},m=()=>lt.from(c[0]),x=()=>{Ge(c,F=>{F.reposition()})},w=F=>{Wn(c,j=>j===F).each(j=>{c.splice(j,1)})},T=(F,j=!0)=>s.removed||!(U=>{return(Z=U.inline?U.getBody():U.getContentAreaContainer(),lt.from(Z).map(Ke)).map(Nl).getOr(!1);var Z})(s)?{}:(j&&s.dispatch("BeforeOpenNotification",{notification:F}),wn(c,U=>{return Z=p().getArgs(U),dt=F,!(Z.type!==dt.type||Z.text!==dt.text||Z.progressBar||Z.timeout||dt.progressBar||dt.timeout);var Z,dt}).getOrThunk(()=>{s.editorManager.setActive(s);const U=p().open(F,()=>{w(U),x(),m().fold(()=>s.focus(),Z=>pM(Ke(Z.getEl())))});return(Z=>{c.push(Z)})(U),x(),s.dispatch("OpenNotification",{notification:{...U}}),U})),P=ne(c);return(F=>{F.on("SkinLoaded",()=>{const j=OE(F);j&&T({text:j,type:"warning",timeout:0},!1),x()}),F.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(x)}),F.on("remove",()=>{Ge(c.slice(),j=>{p().close(j)})})})(s),{open:T,close:()=>{m().each(F=>{p().close(F),w(F),x()})},getNotifications:P}},Ls=Sa.PluginManager,mp=Sa.ThemeManager,lm=s=>{let c=[];const p=()=>{const T=s.theme;return T&&T.getWindowManagerImpl?T.getWindowManagerImpl():(()=>{const P=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:P,openUrl:P,alert:P,confirm:P,close:P}})()},m=(T,P)=>(...F)=>P?P.apply(T,F):void 0,x=T=>{(P=>{s.dispatch("CloseWindow",{dialog:P})})(T),c=Ln(c,P=>P!==T),c.length===0&&s.focus()},w=T=>{s.editorManager.setActive(s),Mv(s),s.ui.show();const P=T();return(F=>{c.push(F),(j=>{s.dispatch("OpenWindow",{dialog:j})})(F)})(P),P};return s.on("remove",()=>{Ge(c,T=>{p().close(T)})}),{open:(T,P)=>w(()=>p().open(T,P,x)),openUrl:T=>w(()=>p().openUrl(T,x)),alert:(T,P,F)=>{const j=p();j.alert(T,m(F||j,P))},confirm:(T,P,F)=>{const j=p();j.confirm(T,m(F||j,P))},close:()=>{lt.from(c[c.length-1]).each(T=>{p().close(T),x(T)})}}},vp=(s,c)=>{s.notificationManager.open({type:"error",text:c})},Dx=(s,c)=>{s._skinLoaded?vp(s,c):s.on("SkinLoaded",()=>{vp(s,c)})},ay=(s,c,p)=>{nw(s,c,{message:p}),console.error(p)},sy=(s,c,p)=>p?`Failed to load ${s}: ${p} from url ${c}`:`Failed to load ${s} url: ${c}`,Lf=(s,...c)=>{const p=window.console;p&&(p.error?p.error(s,...c):p.log(s,...c))},PS=(s,c)=>{const p=s.editorManager.baseURL+"/skins/content",m=`content${s.editorManager.suffix}.css`;return Be(c,x=>(w=>/^[a-z0-9\-]+$/i.test(w))(x)&&!s.inline?`${p}/${x}/${m}`:s.documentBaseURI.toAbsolute(x))},Lu=(s,c)=>{const p={};return{findAll:(m,x=ht)=>{const w=Ln((P=>P?re(P.getElementsByTagName("img")):[])(m),P=>{const F=P.src;return!P.hasAttribute("data-mce-bogus")&&!P.hasAttribute("data-mce-placeholder")&&!(!F||F===Dr.transparentSrc)&&(Ui(F,"blob:")?!s.isUploaded(F)&&x(P):!!Ui(F,"data:")&&x(P))}),T=Be(w,P=>{const F=P.src;if(Hn(p,F))return p[F].then(j=>vt(j)?j:{image:P,blobInfo:j.blobInfo});{const j=((U,Z)=>{const dt=()=>Promise.reject("Invalid data URI");if(Ui(Z,"blob:")){const yt=U.getByUri(Z);return te(yt)?Promise.resolve(yt):(gt=Z,Ui(gt,"blob:")?(st=>fetch(st).then(Ct=>Ct.ok?Ct.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${st} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(gt):Ui(gt,"data:")?(ut=gt,new Promise((st,Ct)=>{ax(ut).bind(({type:Rt,data:Ut,base64Encoded:de})=>oT(Rt,Ut,de)).fold(()=>Ct("Invalid data URI"),st)})):Promise.reject("Unknown URI format")).then(st=>sx(st).then(Ct=>lx(Ct,!1,Rt=>lt.some(cx(U,st,Rt))).getOrThunk(dt)))}var gt,ut;return Ui(Z,"data:")?cS(U,Z).fold(dt,yt=>Promise.resolve(yt)):Promise.reject("Unknown image data format")})(c,F).then(U=>(delete p[F],{image:P,blobInfo:U})).catch(U=>(delete p[F],U));return p[F]=j,j}});return Promise.all(T)}}},RT=()=>{let s={};const c=(m,x)=>({status:m,resultUri:x}),p=m=>m in s;return{hasBlobUri:p,getResultUri:m=>{const x=s[m];return x?x.resultUri:null},isPending:m=>!!p(m)&&s[m].status===1,isUploaded:m=>!!p(m)&&s[m].status===2,markPending:m=>{s[m]=c(1,null)},markUploaded:(m,x)=>{s[m]=c(2,x)},removeFailed:m=>{delete s[m]},destroy:()=>{s={}}}};let CO=0;const Pu=(s,c)=>{const p={},m=(F,j)=>new Promise((U,Z)=>{const dt=new XMLHttpRequest;dt.open("POST",c.url),dt.withCredentials=c.credentials,dt.upload.onprogress=ut=>{j(ut.loaded/ut.total*100)},dt.onerror=()=>{Z("Image upload failed due to a XHR Transport error. Code: "+dt.status)},dt.onload=()=>{if(dt.status<200||dt.status>=300)return void Z("HTTP Error: "+dt.status);const ut=JSON.parse(dt.responseText);var yt,st;ut&&vt(ut.location)?U((yt=c.basePath,st=ut.location,yt?yt.replace(/\/$/,"")+"/"+st.replace(/^\//,""):st)):Z("Invalid JSON: "+dt.responseText)};const gt=new FormData;gt.append("file",F.blob(),F.filename()),dt.send(gt)}),x=fe(c.handler)?c.handler:m,w=(F,j)=>({url:j,blobInfo:F,status:!0}),T=(F,j)=>({url:"",blobInfo:F,status:!1,error:j}),P=(F,j)=>{zn.each(p[F],U=>{U(j)}),delete p[F]};return{upload:(F,j)=>c.url||x!==m?((U,Z)=>(U=zn.grep(U,dt=>!s.isUploaded(dt.blobUri())),Promise.all(zn.map(U,dt=>s.isPending(dt.blobUri())?(gt=>{const ut=gt.blobUri();return new Promise(yt=>{p[ut]=p[ut]||[],p[ut].push(yt)})})(dt):((gt,ut,yt)=>(s.markPending(gt.blobUri()),new Promise(st=>{let Ct,Rt;try{const Ut=()=>{Ct&&(Ct.close(),Rt=le)},de=_e=>{Ut(),s.markUploaded(gt.blobUri(),_e),P(gt.blobUri(),w(gt,_e)),st(w(gt,_e))},ke=_e=>{Ut(),s.removeFailed(gt.blobUri()),P(gt.blobUri(),T(gt,_e)),st(T(gt,_e))};Rt=_e=>{_e<0||_e>100||lt.from(Ct).orThunk(()=>lt.from(yt).map(gn)).each(qe=>{Ct=qe,qe.progressBar.value(_e)})},ut(gt,Rt).then(de,_e=>{ke(vt(_e)?{message:_e}:_e)})}catch(Ut){st(T(gt,Ut))}})))(dt,x,Z)))))(F,j):new Promise(U=>{U([])})}},Bo=s=>()=>s.notificationManager.open({text:s.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),ka=(s,c)=>Pu(c,{url:EA(s),basePath:OA(s),credentials:DA(s),handler:M_(s)}),wh=s=>{const c=(()=>{let yt=[];const st=Ut=>{if(!Ut.blob||!Ut.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const de=Ut.id||"blobid"+CO+++(()=>{const Xe=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+new Date().getTime().toString(36)+Xe()+Xe()+Xe()})(),ke=Ut.name||de,_e=Ut.blob;var qe;return{id:ne(de),name:ne(ke),filename:ne(Ut.filename||ke+"."+(qe=_e.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[qe.toLowerCase()]||"dat")),blob:ne(_e),base64:ne(Ut.base64),blobUri:ne(Ut.blobUri||URL.createObjectURL(_e)),uri:ne(Ut.uri)}},Ct=Ut=>wn(yt,Ut).getOrUndefined(),Rt=Ut=>Ct(de=>de.id()===Ut);return{create:(Ut,de,ke,_e,qe)=>{if(vt(Ut))return st({id:Ut,name:_e,filename:qe,blob:de,base64:ke});if(Pt(Ut))return st(Ut);throw new Error("Unknown input type")},add:Ut=>{Rt(Ut.id())||yt.push(Ut)},get:Rt,getByUri:Ut=>Ct(de=>de.blobUri()===Ut),getByData:(Ut,de)=>Ct(ke=>ke.base64()===Ut&&ke.blob().type===de),findFirst:Ct,removeByUri:Ut=>{yt=Ln(yt,de=>de.blobUri()!==Ut||(URL.revokeObjectURL(de.blobUri()),!1))},destroy:()=>{Ge(yt,Ut=>{URL.revokeObjectURL(Ut.blobUri())}),yt=[]}}})();let p,m;const x=RT(),w=[],T=yt=>st=>s.selection?yt(st):[],P=(yt,st,Ct)=>{let Rt=0;do Rt=yt.indexOf(st,Rt),Rt!==-1&&(yt=yt.substring(0,Rt)+Ct+yt.substr(Rt+st.length),Rt+=Ct.length-st.length+1);while(Rt!==-1);return yt},F=(yt,st,Ct)=>{const Rt=`src="${Ct}"${Ct===Dr.transparentSrc?' data-mce-placeholder="1"':""}`;return yt=P(yt,`src="${st}"`,Rt),P(yt,'data-mce-src="'+st+'"','data-mce-src="'+Ct+'"')},j=(yt,st)=>{Ge(s.undoManager.data,Ct=>{Ct.type==="fragmented"?Ct.fragments=Be(Ct.fragments,Rt=>F(Rt,yt,st)):Ct.content=F(Ct.content,yt,st)})},U=()=>(p||(p=ka(s,x)),gt().then(T(yt=>{const st=Be(yt,Ct=>Ct.blobInfo);return p.upload(st,Bo(s)).then(T(Ct=>{const Rt=[];let Ut=!1;const de=Be(Ct,(ke,_e)=>{const{blobInfo:qe,image:Xe}=yt[_e];let $e=!1;return ke.status&&TA(s)?(ke.url&&!Wi(Xe.src,ke.url)&&(Ut=!0),c.removeByUri(Xe.src),_h(s)||((fn,hn)=>{const vn=s.convertURL(hn,"src");var sn;j(fn.src,hn),is(Ke(fn),{src:ih(s)?(sn=hn,sn+(sn.indexOf("?")===-1?"?":"&")+new Date().getTime()):hn,"data-mce-src":vn})})(Xe,ke.url)):ke.error&&(ke.error.remove&&(j(Xe.src,Dr.transparentSrc),Rt.push(Xe),$e=!0),((fn,hn)=>{Dx(fn,Cs.translate(["Failed to upload image: {0}",hn]))})(s,ke.error.message)),{element:Xe,status:ke.status,uploadUri:ke.url,blobInfo:qe,removed:$e}});return Rt.length>0&&!_h(s)?s.undoManager.transact(()=>{Ge(Rt,ke=>{s.dom.remove(ke),c.removeByUri(ke.src)})}):Ut&&s.undoManager.dispatchChange(),de}))}))),Z=()=>nh(s)?U():Promise.resolve([]),dt=yt=>oi(w,st=>st(yt)),gt=()=>(m||(m=Lu(x,c)),m.findAll(s.getBody(),dt).then(T(yt=>{const st=Ln(yt,Ct=>vt(Ct)?(Dx(s,Ct),!1):Ct.uriType!=="blob");return _h(s)||Ge(st,Ct=>{j(Ct.image.src,Ct.blobInfo.blobUri()),Ct.image.src=Ct.blobInfo.blobUri(),Ct.image.removeAttribute("data-mce-src")}),st}))),ut=yt=>yt.replace(/src="(blob:[^"]+)"/g,(st,Ct)=>{const Rt=x.getResultUri(Ct);if(Rt)return'src="'+Rt+'"';let Ut=c.getByUri(Ct);return Ut||(Ut=ar(s.editorManager.get(),(de,ke)=>de||ke.editorUpload&&ke.editorUpload.blobCache.getByUri(Ct),void 0)),Ut?'src="data:'+Ut.blob().type+";base64,"+Ut.base64()+'"':st});return s.on("SetContent",()=>{nh(s)?Z():gt()}),s.on("RawSaveContent",yt=>{yt.content=ut(yt.content)}),s.on("GetContent",yt=>{yt.source_view||yt.format==="raw"||yt.format==="tree"||(yt.content=ut(yt.content))}),s.on("PostRender",()=>{s.parser.addNodeFilter("img",yt=>{Ge(yt,st=>{const Ct=st.attr("src");if(!Ct||c.getByUri(Ct))return;const Rt=x.getResultUri(Ct);Rt&&st.attr("src",Rt)})})}),{blobCache:c,addFilter:yt=>{w.push(yt)},uploadImages:U,uploadImagesAuto:Z,scanForImages:gt,destroy:()=>{c.destroy(),x.destroy(),m=p=null}}},Nu={remove_similar:!0,inherit:!1},Pf={selector:"td,th",...Nu},Lx={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Pf},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Pf},tablecellbordercolor:{styles:{borderColor:"%value"},...Pf},tablecellclass:{classes:["%value"],...Pf},tableclass:{selector:"table",classes:["%value"],...Nu},tablecellborderstyle:{styles:{borderStyle:"%value"},...Pf},tablecellborderwidth:{styles:{borderWidth:"%value"},...Pf}},kl=ne(Lx),ly=zn.each,Cc=Sr.DOM,Px=s=>te(s)&&Pt(s),BT=(s,c)=>{const p=c&&c.schema||zc({}),m=T=>{const P=vt(T)?{name:T,classes:[],attrs:{}}:T,F=Cc.create(P.name);return((j,U)=>{U.classes.length>0&&Cc.addClass(j,U.classes.join(" ")),Cc.setAttribs(j,U.attrs)})(F,P),F},x=(T,P,F)=>{let j;const U=P[0],Z=Px(U)?U.name:void 0,dt=((yt,st)=>{const Ct=p.getElementRule(yt.nodeName.toLowerCase()),Rt=Ct?.parentsRequired;return!(!Rt||!Rt.length)&&(st&&Te(Rt,st)?st:Rt[0])})(T,Z);if(dt)Z===dt?(j=U,P=P.slice(1)):j=dt;else if(U)j=U,P=P.slice(1);else if(!F)return T;const gt=j?m(j):Cc.create("div");gt.appendChild(T),F&&zn.each(F,yt=>{const st=m(yt);gt.insertBefore(st,T)});const ut=Px(j)?j.siblings:void 0;return x(gt,P,ut)},w=Cc.create("div");if(s.length>0){const T=s[0],P=m(T),F=Px(T)?T.siblings:void 0;w.appendChild(x(P,s.slice(1),F))}return w},NS=s=>{let c="div";const p={name:c,classes:[],attrs:{},selector:s=zn.trim(s)};return s!=="*"&&(c=s.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(m,x,w,T,P)=>{switch(x){case"#":p.attrs.id=w;break;case".":p.classes.push(w);break;case":":zn.inArray("checked disabled enabled read-only required".split(" "),w)!==-1&&(p.attrs[w]=w)}if(T==="["){const F=P.match(/([\w\-]+)(?:\=\"([^\"]+))?/);F&&(p.attrs[F[1]]=F[2])}return""})),p.name=c||"div",p},RS=(s,c)=>{let p="",m=Qm(s);if(m==="")return"";const x=gt=>vt(gt)?gt.replace(/%(\w+)/g,""):"",w=(gt,ut)=>Cc.getStyle(ut??s.getBody(),gt,!0);if(vt(c)){const gt=s.formatter.get(c);if(!gt)return"";c=gt[0]}if("preview"in c){const gt=c.preview;if(gt===!1)return"";m=gt||m}let T,P=c.block||c.inline||"span";const F=(j=c.selector,vt(j)?(j=(j=j.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),zn.map(j.split(/(?:>|\s+(?![^\[\]]+\]))/),gt=>{const ut=zn.map(gt.split(/(?:~\+|~|\+)/),NS),yt=ut.pop();return ut.length&&(yt.siblings=ut),yt}).reverse()):[]);var j;F.length>0?(F[0].name||(F[0].name=P),P=c.selector,T=BT(F,s)):T=BT([P],s);const U=Cc.select(P,T)[0]||T.firstChild;ly(c.styles,(gt,ut)=>{const yt=x(gt);yt&&Cc.setStyle(U,ut,yt)}),ly(c.attributes,(gt,ut)=>{const yt=x(gt);yt&&Cc.setAttrib(U,ut,yt)}),ly(c.classes,gt=>{const ut=x(gt);Cc.hasClass(U,ut)||Cc.addClass(U,ut)}),s.dispatch("PreviewFormats"),Cc.setStyles(T,{position:"absolute",left:-65535}),s.getBody().appendChild(T);const Z=w("fontSize"),dt=/px$/.test(Z)?parseInt(Z,10):0;return ly(m.split(" "),gt=>{let ut=w(gt,U);if(!(gt==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ut)&&(ut=w(gt),fv(ut).toLowerCase()==="#ffffff")||gt==="color"&&fv(ut).toLowerCase()==="#000000")){if(gt==="font-size"&&/em|%$/.test(ut)){if(dt===0)return;ut=parseFloat(ut)/(/%$/.test(ut)?100:1)*dt+"px"}gt==="border"&&ut&&(p+="padding:0 2px;"),p+=gt+":"+ut+";"}}),s.dispatch("AfterPreviewFormats"),Cc.remove(T),p},BS=s=>{const c=(m=>{const x={},w=(T,P)=>{T&&(vt(T)?(wt(P)||(P=[P]),Ge(P,F=>{It(F.deep)&&(F.deep=!wl(F)),It(F.split)&&(F.split=!wl(F)||ga(F)),It(F.remove)&&wl(F)&&!ga(F)&&(F.remove="none"),wl(F)&&ga(F)&&(F.mixed=!0,F.block_expand=!0),vt(F.classes)&&(F.classes=F.classes.split(/\s+/))}),x[T]=P):Le(T,(F,j)=>{w(j,F)}))};return w((T=>{const P=T.dom,F=T.schema.type,j={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:U=>{P.setStyle(U,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:U=>{P.setStyle(U,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const U={inline:"span",styles:{textDecoration:"line-through"},exact:!0},Z={inline:"strike",remove:"all",preserve_attributes:["class","style"]},dt={inline:"s",remove:"all",preserve_attributes:["class","style"]};return F!=="html4"?[dt,U,Z]:[U,dt,Z]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(U,Z,dt)=>We(U)&&U.hasAttribute("href"),onformat:(U,Z,dt)=>{zn.each(dt,(gt,ut)=>{P.setAttrib(U,ut,gt)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":U=>{var Z;return(Z=U?.customValue)!==null&&Z!==void 0?Z:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return zn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),U=>{j[U]={block:U,remove:"all"}}),j})(m)),w(kl()),w(L0(m)),{get:T=>te(T)?x[T]:x,has:T=>Hn(x,T),register:w,unregister:T=>(T&&x[T]&&delete x[T],x)}})(s),p=ca({});return(m=>{m.addShortcut("meta+b","","Bold"),m.addShortcut("meta+i","","Italic"),m.addShortcut("meta+u","","Underline");for(let x=1;x<=6;x++)m.addShortcut("access+"+x,"",["FormatBlock",!1,"h"+x]);m.addShortcut("access+7","",["FormatBlock",!1,"p"]),m.addShortcut("access+8","",["FormatBlock",!1,"div"]),m.addShortcut("access+9","",["FormatBlock",!1,"address"])})(s),(m=>{m.on("mouseup keydown",x=>{((w,T)=>{const P=w.selection,F=w.getBody();Xb(w,null,!1),T!==8&&T!==46||!P.isCollapsed()||P.getStart().innerHTML!==qc||Xb(w,cf(F,P.getStart())),T!==37&&T!==39||Xb(w,cf(F,P.getStart()))})(m,x.keyCode)})})(s),_h(s)||((m,x)=>{m.set({}),x.on("NodeChange",w=>{Zv(x,w.element,m.get())}),x.on("FormatApply FormatRemove",w=>{const T=lt.from(w.node).map(P=>Q0(P)?P:P.startContainer).bind(P=>We(P)?lt.some(P):lt.from(P.parentElement)).getOrThunk(()=>aS(x));Zv(x,T,m.get())})})(p,s),{get:c.get,has:c.has,register:c.register,unregister:c.unregister,apply:(m,x,w)=>{((T,P,F,j)=>{ra(T).formatter.apply(P,F,j)})(s,m,x,w)},remove:(m,x,w,T)=>{((P,F,j,U,Z)=>{ra(P).formatter.remove(F,j,U,Z)})(s,m,x,w,T)},toggle:(m,x,w)=>{((T,P,F,j)=>{ra(T).formatter.toggle(P,F,j)})(s,m,x,w)},match:(m,x,w,T)=>((P,F,j,U,Z)=>ra(P).formatter.match(F,j,U,Z))(s,m,x,w,T),closest:m=>((x,w)=>ra(x).formatter.closest(w))(s,m),matchAll:(m,x)=>((w,T,P)=>ra(w).formatter.matchAll(T,P))(s,m,x),matchNode:(m,x,w,T)=>((P,F,j,U,Z)=>ra(P).formatter.matchNode(F,j,U,Z))(s,m,x,w,T),canApply:m=>((x,w)=>ra(x).formatter.canApply(w))(s,m),formatChanged:(m,x,w,T)=>((P,F,j,U,Z,dt)=>ra(P).formatter.formatChanged(F,j,U,Z,dt))(s,p,m,x,w,T),getCssText:Ne(RS,s)}},zS=s=>{switch(s.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},FS=s=>{const c=pa(),p=ca(0),m=ca(0),x={data:[],typing:!1,beforeChange:()=>{((w,T,P)=>{ra(w).undoManager.beforeChange(T,P)})(s,p,c)},add:(w,T)=>((P,F,j,U,Z,dt,gt)=>ra(P).undoManager.add(F,j,U,Z,dt,gt))(s,x,m,p,c,w,T),dispatchChange:()=>{s.setDirty(!0);const w=kx(s);w.bookmark=$m(s.selection),s.dispatch("change",{level:w,lastLevel:Yt(x.data,m.get()).getOrUndefined()})},undo:()=>((w,T,P,F)=>ra(w).undoManager.undo(T,P,F))(s,x,p,m),redo:()=>((w,T,P)=>ra(w).undoManager.redo(T,P))(s,m,x.data),clear:()=>{((w,T,P)=>{ra(w).undoManager.clear(T,P)})(s,x,m)},reset:()=>{((w,T)=>{ra(w).undoManager.reset(T)})(s,x)},hasUndo:()=>((w,T,P)=>ra(w).undoManager.hasUndo(T,P))(s,x,m),hasRedo:()=>((w,T,P)=>ra(w).undoManager.hasRedo(T,P))(s,x,m),transact:w=>((T,P,F,j)=>ra(T).undoManager.transact(P,F,j))(s,x,p,w),ignore:w=>{((T,P,F)=>{ra(T).undoManager.ignore(P,F)})(s,p,w)},extra:(w,T)=>{((P,F,j,U,Z)=>{ra(P).undoManager.extra(F,j,U,Z)})(s,x,m,w,T)}};return _h(s)||((w,T,P)=>{const F=ca(!1),j=U=>{pp(T,!1,P),T.add({},U)};w.on("init",()=>{T.add()}),w.on("BeforeExecCommand",U=>{const Z=U.command;zS(Z)||(am(T,P),T.beforeChange())}),w.on("ExecCommand",U=>{const Z=U.command;zS(Z)||j(U)}),w.on("ObjectResizeStart cut",()=>{T.beforeChange()}),w.on("SaveContent ObjectResized blur",j),w.on("dragend",j),w.on("keyup",U=>{const Z=U.keyCode;U.isDefaultPrevented()||((Z>=33&&Z<=36||Z>=37&&Z<=40||Z===45||U.ctrlKey)&&(j(),w.nodeChanged()),Z!==46&&Z!==8||w.nodeChanged(),F.get()&&T.typing&&!Mx(kx(w),T.data[0])&&(w.isDirty()||w.setDirty(!0),w.dispatch("TypingUndo"),F.set(!1),w.nodeChanged()))}),w.on("keydown",U=>{const Z=U.keyCode;if(U.isDefaultPrevented())return;if(Z>=33&&Z<=36||Z>=37&&Z<=40||Z===45)return void(T.typing&&j(U));const dt=U.ctrlKey&&!U.altKey||U.metaKey;!(Z<16||Z>20)||Z===224||Z===91||T.typing||dt||(T.beforeChange(),pp(T,!0,P),T.add({},U),F.set(!0))}),w.on("mousedown",U=>{T.typing&&j(U)}),w.on("input",U=>{var Z;U.inputType&&(U.inputType==="insertReplacementText"||(Z=U).inputType==="insertText"&&Z.data===null||(dt=>dt.inputType==="insertFromPaste"||dt.inputType==="insertFromDrop")(U))&&j(U)}),w.on("AddUndo Undo Redo ClearUndos",U=>{U.isDefaultPrevented()||w.nodeChanged()})})(s,x,p),(w=>{w.addShortcut("meta+z","","Undo"),w.addShortcut("meta+y,meta+shift+z","","Redo")})(s),x},zT=[9,27,ki.HOME,ki.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ki.DOWN,ki.UP,ki.LEFT,ki.RIGHT].concat(Dr.browser.isFirefox()?[224]:[]),FT="data-mce-placeholder",VT=s=>s.type==="keydown"||s.type==="keyup",VS=s=>{const c=s.keyCode;return c===ki.BACKSPACE||c===ki.DELETE},kc=(s,c)=>({from:s,to:c}),cy=(s,c)=>{const p=Ke(s),m=Ke(c.container());return Lb(p,m).map(x=>((w,T)=>({block:w,position:T}))(x,c))},HT=(s,c)=>vs(c,p=>Ws(p)||dr(p.dom),p=>Ir(p,s)).filter(Fo).getOr(s),uy=s=>{const c=(p=>{const m=Oo(p);return Wn(m,Gr).fold(ne(m),x=>m.slice(0,x))})(s);return Ge(c,uo),c},hy=(s,c)=>{const p=ph(c,s);return wn(p.reverse(),m=>ho(m)).each(uo)},kO=(s,c,p,m)=>{if(ho(p))return fc(p),Es(p.dom);Ln(Hu(m),w=>!ho(w)).length===0&&ho(c)&&xa(m,co("br"));const x=hs(p.dom,Cn.before(m.dom));return Ge(uy(c),w=>{xa(m,w)}),hy(s,c),x},HS=(s,c,p)=>{if(ho(p)){if(ho(c)){const x=T=>{const P=(F,j)=>Ll(F).fold(()=>j,U=>_o(U)?P(U,j.concat(Se(U))):j);return P(T,[])},w=di(x(p),(T,P)=>(su(T,P),P),pc());dl(c),Ho(c,w)}return uo(p),Es(c.dom)}const m=bu(p.dom);return Ge(uy(c),x=>{Ho(p,x)}),hy(s,c),m},Nx=(s,c)=>{lf(s,c.dom).bind(p=>lt.from(p.getNode())).map(Ke).filter(qo).each(uo)},Rx=(s,c,p)=>(Nx(!0,c),Nx(!1,p),((m,x)=>Ua(x,m)?((w,T)=>{const P=ph(T,w);return lt.from(P[P.length-1])})(x,m):lt.none())(c,p).fold(Ne(HS,s,c,p),Ne(kO,s,c,p))),WS=(s,c,p,m)=>c?Rx(s,m,p):Rx(s,p,m),nd=(s,c)=>{const p=Ke(s.getBody());return((x,w,T)=>T.collapsed?((P,F,j)=>{const U=cy(P,Cn.fromRangeStart(j)),Z=U.bind(dt=>ql(F,P,dt.position).bind(gt=>cy(P,gt).map(ut=>((yt,st,Ct)=>nr(Ct.position.getNode())&&!ho(Ct.block)?lf(!1,Ct.block.dom).bind(Rt=>Rt.isEqual(Ct.position)?ql(st,yt,Rt).bind(Ut=>cy(yt,Ut)):lt.some(Ct)).getOr(Ct):Ct)(P,F,ut))));return Ro(U,Z,kc).filter(dt=>(gt=>!Ir(gt.from.block,gt.to.block))(dt)&&((gt,ut)=>{const yt=Ke(gt);return Ir(HT(yt,ut.from.block),HT(yt,ut.to.block))})(P,dt)&&(gt=>or(gt.from.block.dom)===!1&&or(gt.to.block.dom)===!1)(dt)&&(gt=>{const ut=yt=>zo(yt)||Gp(yt.dom);return ut(gt.from.block)&&ut(gt.to.block)})(dt))})(x,w,T):lt.none())(p.dom,c,s.selection.getRng()).map(x=>()=>{WS(p,c,x.from.block,x.to.block).each(w=>{s.selection.setRng(w.toRange())})})},WT=(s,c)=>{const p=Ke(c),m=Ne(Ir,s);return Vo(p,Ws,m).isSome()},jT=s=>{const c=Ke(s.getBody());return((p,m)=>{const x=hs(p.dom,Cn.fromRangeStart(m)).isNone(),w=Qs(p.dom,Cn.fromRangeEnd(m)).isNone();return!((T,P)=>WT(T,P.startContainer)||WT(T,P.endContainer))(p,m)&&x&&w})(c,s.selection.getRng())?(p=>lt.some(()=>{p.setContent(""),p.selection.setCursorLocation()}))(s):((p,m)=>{const x=m.getRng();return Ro(Lb(p,Ke(x.startContainer)),Lb(p,Ke(x.endContainer)),(w,T)=>Ir(w,T)?lt.none():lt.some(()=>{x.deleteContents(),WS(p,!0,w,T).each(P=>{m.setRng(P.toRange())})})).getOr(lt.none())})(c,s.selection)},Nf=(s,c)=>s.selection.isCollapsed()?lt.none():jT(s),id=(s,c,p,m,x)=>lt.from(c._selectionOverrides.showCaret(s,p,m,x)),Rf=(s,c)=>s.dispatch("BeforeObjectSelected",{target:c}).isDefaultPrevented()?lt.none():lt.some((p=>{const m=p.ownerDocument.createRange();return m.selectNode(p),m})(c)),jS=(s,c,p)=>c.collapsed?((m,x,w)=>{const T=vc(1,m.getBody(),x),P=Cn.fromRangeStart(T),F=P.getNode();if(Zr(F))return id(1,m,F,!P.isAtEnd(),!1);const j=P.getNode(!0);if(Zr(j))return id(1,m,j,!1,!1);const U=wc(m.dom.getRoot(),P.getNode());return Zr(U)?id(1,m,U,!1,w):lt.none()})(s,c,p).getOr(c):c,AO=s=>ia(s)||Yg(s),YT=s=>dh(s)||Gg(s),YS=(s,c,p,m,x,w)=>{id(m,s,w.getNode(!x),x,!0).each(T=>{if(c.collapsed){const P=c.cloneRange();x?P.setEnd(T.startContainer,T.startOffset):P.setStart(T.endContainer,T.endOffset),P.deleteContents()}else c.deleteContents();s.selection.setRng(T)}),((T,P)=>{Sn(P)&&P.data.length===0&&T.remove(P)})(s.dom,p)},Bx=(s,c)=>((p,m)=>{const x=p.selection.getRng();if(!Sn(x.commonAncestorContainer))return lt.none();const w=m?ea.Forwards:ea.Backwards,T=na(p.getBody()),P=Ne(ov,m?T.next:T.prev),F=m?AO:YT,j=Lg(w,p.getBody(),x),U=P(j),Z=U&&_c(m,U);if(!Z||!av(j,Z))return lt.none();if(F(Z))return lt.some(()=>YS(p,x,j.getNode(),w,m,Z));const dt=P(Z);return dt&&F(dt)&&av(Z,dt)?lt.some(()=>YS(p,x,j.getNode(),w,m,dt)):lt.none()})(s,c),Da=(s,c)=>{const p=s.getBody();return c?Es(p).filter(ia):bu(p).filter(dh)},dy=s=>{const c=s.selection.getRng();return!c.collapsed&&(Da(s,!0).exists(p=>p.isEqual(Cn.fromRangeStart(c)))||Da(s,!1).exists(p=>p.isEqual(Cn.fromRangeEnd(c))))},Al=mu([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),GS=(s,c,p)=>ql(c,s,p).bind(m=>{return x=m.getNode(),te(x)&&(Ws(Ke(x))||xs(Ke(x)))||((w,T,P,F)=>{const j=U=>_o(Ke(U))&&!Hc(P,F,w);return rv(!T,P).fold(()=>rv(T,F).fold(Fe,j),j)})(s,c,p,m)?lt.none():c&&or(m.getNode())||!c&&or(m.getNode(!0))?((w,T,P,F)=>{const j=F.getNode(!T);return Lb(Ke(w),Ke(P.getNode())).map(U=>ho(U)?Al.remove(U.dom):Al.moveToElement(j)).orThunk(()=>lt.some(Al.moveToElement(j)))})(s,c,p,m):c&&dh(p)||!c&&ia(p)?lt.some(Al.moveToPosition(m)):lt.none();var x}),XS=(s,c)=>lt.from(wc(s.getBody(),c)),Bf=(s,c)=>{const p=s.selection.getNode();return XS(s,p).filter(or).fold(()=>((m,x,w)=>{const T=vc(x?1:-1,m,w),P=Cn.fromRangeStart(T),F=Ke(m);return!x&&dh(P)?lt.some(Al.remove(P.getNode(!0))):x&&ia(P)?lt.some(Al.remove(P.getNode())):!x&&ia(P)&&qg(F,P)?Io(F,P).map(j=>Al.remove(j.getNode())):x&&dh(P)&&Xg(F,P)?NM(F,P).map(j=>Al.remove(j.getNode())):((j,U,Z)=>((dt,gt)=>{const ut=gt.getNode(!dt),yt=dt?"after":"before";return We(ut)&&ut.getAttribute("data-mce-caret")===yt})(U,Z)?((dt,gt)=>Wt(gt)?lt.none():dt&&or(gt.nextSibling)?lt.some(Al.moveToElement(gt.nextSibling)):!dt&&or(gt.previousSibling)?lt.some(Al.moveToElement(gt.previousSibling)):lt.none())(U,Z.getNode(!U)).orThunk(()=>GS(j,U,Z)):GS(j,U,Z).bind(dt=>((gt,ut,yt)=>yt.fold(st=>lt.some(Al.remove(st)),st=>lt.some(Al.moveToElement(st)),st=>Hc(ut,st,gt)?lt.none():lt.some(Al.moveToPosition(st))))(j,Z,dt)))(m,x,P)})(s.getBody(),c,s.selection.getRng()).map(m=>()=>m.fold(((x,w)=>T=>(x._selectionOverrides.hideFakeCaret(),tp(x,w,Ke(T)),!0))(s,c),((x,w)=>T=>{const P=w?Cn.before(T):Cn.after(T);return x.selection.setRng(P.toRange()),!0})(s,c),(x=>w=>(x.selection.setRng(w.toRange()),!0))(s))),()=>lt.some(le))},GT=s=>{const c=s.dom,p=s.selection,m=wc(s.getBody(),p.getNode());if(dr(m)&&c.isBlock(m)&&c.isEmpty(m)){const x=c.create("br",{"data-mce-bogus":"1"});c.setHTML(m,""),m.appendChild(x),p.setRng(Cn.before(x).toRange())}return!0},qS=(s,c)=>s.selection.isCollapsed()?Bf(s,c):((p,m)=>{const x=p.selection.getNode();return or(x)&&!go(x)?XS(p,x.parentNode).filter(or).fold(()=>lt.some(()=>{var w;w=Ke(p.getBody()),Ge(oe(w,".mce-offscreen-selection"),uo),tp(p,m,Ke(p.selection.getNode())),Lw(p)}),()=>lt.some(le)):dy(p)?lt.some(()=>{XM(p,p.selection.getRng(),Ke(p.getBody()))}):lt.none()})(s,c),US=(s,c)=>s.selection.isCollapsed()?((p,m)=>{const x=Cn.fromRangeStart(p.selection.getRng());return ql(m,p.getBody(),x).filter(w=>m?Ab(w):IM(w)).bind(w=>W0(m?0:-1,w)).map(w=>()=>p.selection.select(w))})(s,c):lt.none(),zf=Sn,$S=s=>zf(s)&&s.data[0]===jo,py=s=>zf(s)&&s.data[s.data.length-1]===jo,cm=s=>{var c;return((c=s.ownerDocument)!==null&&c!==void 0?c:document).createTextNode(jo)},fy=(s,c)=>s?(p=>{var m;if(zf(p.previousSibling))return py(p.previousSibling)||p.previousSibling.appendData(jo),p.previousSibling;if(zf(p))return $S(p)||p.insertData(0,jo),p;{const x=cm(p);return(m=p.parentNode)===null||m===void 0||m.insertBefore(x,p),x}})(c):(p=>{var m,x;if(zf(p.nextSibling))return $S(p.nextSibling)||p.nextSibling.insertData(0,jo),p.nextSibling;if(zf(p))return py(p)||p.appendData(jo),p;{const w=cm(p);return p.nextSibling?(m=p.parentNode)===null||m===void 0||m.insertBefore(w,p.nextSibling):(x=p.parentNode)===null||x===void 0||x.appendChild(w),w}})(c),XT=Ne(fy,!0),ZS=Ne(fy,!1),KS=(s,c)=>Sn(s.container())?fy(c,s.container()):fy(c,s.getNode()),zx=(s,c)=>{const p=c.get();return p&&s.container()===p&&ws(p)},Fx=(s,c)=>c.fold(p=>{oh(s.get());const m=XT(p);return s.set(m),lt.some(Cn(m,m.length-1))},p=>Es(p).map(m=>{if(zx(m,s)){const x=s.get();return Cn(x,1)}{oh(s.get());const x=KS(m,!0);return s.set(x),Cn(x,1)}}),p=>bu(p).map(m=>{if(zx(m,s)){const x=s.get();return Cn(x,x.length-1)}{oh(s.get());const x=KS(m,!1);return s.set(x),Cn(x,x.length-1)}}),p=>{oh(s.get());const m=ZS(p);return s.set(m),lt.some(Cn(m,1))}),QS=(s,c)=>{for(let p=0;p<s.length;p++){const m=s[p].apply(null,c);if(m.isSome())return m}return lt.none()},gs=mu([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Vx=(s,c)=>Vc(c,s)||s,MO=(s,c,p)=>{const m=YM(p),x=Vx(c,m.container());return Xc(s,x,m).fold(()=>Qs(x,m).bind(Ne(Xc,s,x)).map(w=>gs.before(w)),lt.none)},qT=(s,c)=>cf(s,c)===null,JS=(s,c,p)=>Xc(s,c,p).filter(Ne(qT,c)),UT=(s,c,p)=>{const m=Pv(p);return JS(s,c,m).bind(x=>hs(x,m).isNone()?lt.some(gs.start(x)):lt.none())},$T=(s,c,p)=>{const m=YM(p);return JS(s,c,m).bind(x=>Qs(x,m).isNone()?lt.some(gs.end(x)):lt.none())},TO=(s,c,p)=>{const m=Pv(p),x=Vx(c,m.container());return Xc(s,x,m).fold(()=>hs(x,m).bind(Ne(Xc,s,x)).map(w=>gs.after(w)),lt.none)},tC=s=>{return c=Hx(s),!(Sr.DOM.getStyle(c,"direction",!0)==="rtl"||(m=>jM.test(m))((p=c.textContent)!==null&&p!==void 0?p:""));var c,p},Ml=(s,c,p)=>QS([MO,UT,$T,TO],[s,c,p]).filter(tC),Hx=s=>s.fold(De,De,De,De),eC=s=>s.fold(ne("before"),ne("start"),ne("end"),ne("after")),gy=s=>s.fold(gs.before,gs.before,gs.after,gs.after),Wx=s=>s.fold(gs.start,gs.start,gs.end,gs.end),nC=(s,c,p,m,x,w)=>Ro(Xc(c,p,m),Xc(c,p,x),(T,P)=>T!==P&&((F,j,U)=>{const Z=Vc(j,F),dt=Vc(U,F);return te(Z)&&Z===dt})(p,T,P)?gs.after(s?T:P):w).getOr(w),IO=(s,c)=>s.fold(ht,p=>{return x=c,!(eC(m=p)===eC(x)&&Hx(m)===Hx(x));var m,x}),iC=(s,c)=>s?c.fold(Xt(lt.some,gs.start),lt.none,Xt(lt.some,gs.after),lt.none):c.fold(lt.none,Xt(lt.some,gs.before),lt.none,Xt(lt.some,gs.end)),Ru=(s,c,p)=>{const m=s?1:-1;return c.setRng(Cn(p.container(),p.offset()+m).toRange()),c.getSel().modify("move",s?"forward":"backward","word"),!0};var Sh;(function(s){s[s.Br=0]="Br",s[s.Block=1]="Block",s[s.Wrap=2]="Wrap",s[s.Eol=3]="Eol"})(Sh||(Sh={}));const yp=(s,c)=>s===ea.Backwards?zi(c):c,jx=(s,c,p)=>s===ea.Forwards?c.next(p):c.prev(p),ZT=(s,c,p,m)=>nr(m.getNode(c===ea.Forwards))?Sh.Br:Hc(p,m)===!1?Sh.Block:Sh.Wrap,my=(s,c,p,m)=>{const x=na(p);let w=m;const T=[];for(;w;){const P=jx(c,x,w);if(!P)break;if(nr(P.getNode(!1)))return c===ea.Forwards?{positions:yp(c,T).concat([P]),breakType:Sh.Br,breakAt:lt.some(P)}:{positions:yp(c,T),breakType:Sh.Br,breakAt:lt.some(P)};if(P.isVisible()){if(s(w,P)){const F=ZT(0,c,w,P);return{positions:yp(c,T),breakType:F,breakAt:lt.some(P)}}T.push(P),w=P}else w=P}return{positions:yp(c,T),breakType:Sh.Eol,breakAt:lt.none()}},Yx=(s,c,p,m)=>c(p,m).breakAt.map(x=>{const w=c(p,x).positions;return s===ea.Backwards?w.concat(x):[x].concat(w)}).getOr([]),bp=(s,c)=>ar(s,(p,m)=>p.fold(()=>lt.some(m),x=>Ro(At(x.getClientRects()),At(m.getClientRects()),(w,T)=>{const P=Math.abs(c-w.left);return Math.abs(c-T.left)<=P?m:x}).or(p)),lt.none()),Gx=(s,c)=>At(c.getClientRects()).bind(p=>bp(s,p.left)),vy=Ne(my,Cn.isAbove,-1),um=Ne(my,Cn.isBelow,1),rC=Ne(Yx,-1,vy),Xx=Ne(Yx,1,um),KT=(s,c)=>Gx(rC(s,c),c),yy=(s,c)=>Gx(Xx(s,c),c),qx=or,QT=(s,c)=>Math.abs(s.left-c),JT=(s,c)=>Math.abs(s.right-c),Ff=(s,c)=>Fi(s,(p,m)=>{const x=Math.min(QT(p,c),JT(p,c)),w=Math.min(QT(m,c),JT(m,c));return w===x&&wi(m,"node")&&qx(m.node)||w<x?m:p}),t2=s=>{const c=p=>Be(p,m=>{const x=yn(m);return x.node=s,x});if(We(s))return c(s.getClientRects());if(Sn(s)){const p=s.ownerDocument.createRange();return p.setStart(s,0),p.setEnd(s,s.data.length),c(p.getClientRects())}return[]},hm=s=>xi(s,t2);var by;(function(s){s[s.Up=-1]="Up",s[s.Down=1]="Down"})(by||(by={}));const Ux=(s,c,p,m,x,w)=>{let T=0;const P=[],F=Z=>{let dt=hm([Z]);s===-1&&(dt=dt.reverse());for(let gt=0;gt<dt.length;gt++){const ut=dt[gt];if(!p(ut,j)){if(P.length>0&&c(ut,Tr(P))&&T++,ut.line=T,x(ut))return!0;P.push(ut)}}return!1},j=Tr(w.getClientRects());if(!j)return P;const U=w.getNode();return U&&(F(U),((Z,dt,gt,ut)=>{let yt=ut;for(;yt=Hd(yt,Z,lg,dt);)if(gt(yt))return})(s,m,F,U)),P},e2=Ne(Ux,by.Up,$n,mi),n2=Ne(Ux,by.Down,mi,$n),dm=s=>Tr(s.getClientRects()),oC=s=>c=>((p,m)=>m.line>p)(s,c),$x=s=>c=>((p,m)=>m.line===p)(s,c),rl=(s,c)=>{s.selection.setRng(c),jg(s,s.selection.getRng())},Ch=(s,c,p)=>lt.some(jS(s,c,p)),xp=(s,c,p,m,x,w)=>{const T=c===ea.Forwards,P=na(s.getBody()),F=Ne(ov,T?P.next:P.prev),j=T?m:x;if(!p.collapsed){const ut=Mi(p);if(w(ut))return id(c,s,ut,c===ea.Backwards,!1);if(dy(s)){const yt=p.cloneRange();return yt.collapse(c===ea.Backwards),lt.from(yt)}}const U=Lg(c,s.getBody(),p);if(j(U))return Rf(s,U.getNode(!T));let Z=F(U);const dt=jp(p);if(!Z)return dt?lt.some(p):lt.none();if(Z=_c(T,Z),j(Z))return id(c,s,Z.getNode(!T),T,!1);const gt=F(Z);return gt&&j(gt)&&av(Z,gt)?id(c,s,gt.getNode(!T),T,!1):dt?Ch(s,Z.toRange(),!1):lt.none()},Zx=(s,c,p,m,x,w)=>{const T=Lg(c,s.getBody(),p),P=Tr(T.getClientRects()),F=c===by.Down,j=s.getBody();if(!P)return lt.none();if(dy(s)){const yt=F?Cn.fromRangeEnd(p):Cn.fromRangeStart(p);return(F?yy:KT)(j,yt).orThunk(()=>lt.from(yt)).map(st=>st.toRange())}const U=(F?n2:e2)(j,oC(1),T),Z=Ln(U,$x(1)),dt=P.left,gt=Ff(Z,dt);if(gt&&w(gt.node)){const yt=Math.abs(dt-gt.left),st=Math.abs(dt-gt.right);return id(c,s,gt.node,yt<st,!1)}let ut;if(ut=m(T)?T.getNode():x(T)?T.getNode(!0):Mi(p),ut){const yt=((Ct,Rt,Ut,de)=>{const ke=na(Rt);let _e,qe,Xe,$e;const fn=[];let hn=0;Ct===1?(_e=ke.next,qe=mi,Xe=$n,$e=Cn.after(de)):(_e=ke.prev,qe=$n,Xe=mi,$e=Cn.before(de));const vn=dm($e);do{if(!$e.isVisible())continue;const sn=dm($e);if(Xe(sn,vn))continue;fn.length>0&&qe(sn,Tr(fn))&&hn++;const Tn=yn(sn);if(Tn.position=$e,Tn.line=hn,Ut(Tn))return fn;fn.push(Tn)}while($e=_e($e));return fn})(c,j,oC(1),ut);let st=Ff(Ln(yt,$x(1)),dt);if(st||(st=Tr(Ln(yt,$x(0))),st))return Ch(s,st.position.toRange(),!1)}return Z.length===0?Kx(s,F).filter(F?x:m).map(yt=>jS(s,yt.toRange(),!1)):lt.none()},Kx=(s,c)=>{const p=s.selection.getRng(),m=c?Cn.fromRangeEnd(p):Cn.fromRangeStart(p),x=(w=m.container(),T=s.getBody(),Vo(Ke(w),P=>Eg(P.dom),P=>P.dom===T).map(P=>P.dom).getOr(T));var w,T;if(c){const P=um(x,m);return Dt(P.positions)}{const P=vy(x,m);return At(P.positions)}},i2=(s,c,p)=>Kx(s,c).filter(p).exists(m=>(s.selection.setRng(m.toRange()),!0)),Qx=(s,c)=>{const p=s.dom.createRng();p.setStart(c.container(),c.offset()),p.setEnd(c.container(),c.offset()),s.selection.setRng(p)},aC=(s,c)=>{s?c.setAttribute("data-mce-selected","inline-boundary"):c.removeAttribute("data-mce-selected")},sC=(s,c,p)=>Fx(c,p).map(m=>(Qx(s,m),p)),r2=(s,c,p)=>{const m=s.getBody(),x=((w,T,P)=>{const F=Cn.fromRangeStart(w);if(w.collapsed)return F;{const j=Cn.fromRangeEnd(w);return P?hs(T,j).getOr(j):Qs(T,F).getOr(F)}})(s.selection.getRng(),m,p);return((w,T,P,F)=>{const j=_c(w,F),U=Ml(T,P,j);return Ml(T,P,j).bind(Ne(iC,w)).orThunk(()=>((Z,dt,gt,ut,yt)=>{const st=_c(Z,yt);return ql(Z,gt,st).map(Ne(_c,Z)).fold(()=>ut.map(gy),Ct=>Ml(dt,gt,Ct).map(Ne(nC,Z,dt,gt,st,Ct)).filter(Ne(IO,ut))).filter(tC)})(w,T,P,U,F))})(p,Ne(kf,s),m,x).bind(w=>sC(s,c,w))},xy=(s,c,p)=>!!Nd(s)&&r2(s,c,p).isSome(),_p=(s,c,p)=>!!Nd(c)&&((m,x)=>{const w=x.selection.getRng(),T=m?Cn.fromRangeEnd(w):Cn.fromRangeStart(w);return!!(P=>fe(P.selection.getSel().modify))(x)&&(m&&Ys(T)?Ru(!0,x.selection,T):!(m||!Fh(T))&&Ru(!1,x.selection,T))})(s,c),o2=s=>{const c=ca(null),p=Ne(kf,s);return s.on("NodeChange",m=>{Nd(s)&&(((x,w,T)=>{const P=Be(oe(Ke(w.getRoot()),'*[data-mce-selected="inline-boundary"]'),U=>U.dom),F=Ln(P,x),j=Ln(T,x);Ge(yi(F,j),Ne(aC,!1)),Ge(yi(j,F),Ne(aC,!0))})(p,s.dom,m.parents),((x,w)=>{const T=w.get();if(x.selection.isCollapsed()&&!x.composing&&T){const P=Cn.fromRangeStart(x.selection.getRng());Cn.isTextPosition(P)&&!(F=>Ys(F)||Fh(F))(P)&&(Qx(x,z0(T,P)),w.set(null))}})(s,c),((x,w,T,P)=>{if(w.selection.isCollapsed()){const F=Ln(P,x);Ge(F,j=>{const U=Cn.fromRangeStart(w.selection.getRng());Ml(x,w.getBody(),U).bind(Z=>sC(w,T,Z))})}})(p,s,c,m.parents))}),c},a2=Ne(_p,!0),s2=Ne(_p,!1),_y=(s,c,p)=>{if(Nd(s)){const m=Kx(s,c).getOrThunk(()=>{const x=s.selection.getRng();return c?Cn.fromRangeEnd(x):Cn.fromRangeStart(x)});return Ml(Ne(kf,s),s.getBody(),m).exists(x=>{const w=gy(x);return Fx(p,w).exists(T=>(Qx(s,T),!0))})}return!1},rd=(s,c)=>p=>Fx(c,p).map(m=>()=>Qx(s,m)),l2=(s,c,p,m)=>{const x=s.getBody(),w=Ne(kf,s);s.undoManager.ignore(()=>{s.selection.setRng(((T,P)=>{const F=document.createRange();return F.setStart(T.container(),T.offset()),F.setEnd(P.container(),P.offset()),F})(p,m)),Dw(s),Ml(w,x,Cn.fromRangeStart(s.selection.getRng())).map(Wx).bind(rd(s,c)).each(jt)}),s.nodeChanged()},lC=(s,c,p)=>{if(s.selection.isCollapsed()&&Nd(s)){const m=Cn.fromRangeStart(s.selection.getRng());return((x,w,T,P)=>{const F=((Z,dt)=>Vc(dt,Z)||Z)(x.getBody(),P.container()),j=Ne(kf,x),U=Ml(j,F,P);return U.bind(Z=>T?Z.fold(ne(lt.some(Wx(Z))),lt.none,ne(lt.some(gy(Z))),lt.none):Z.fold(lt.none,ne(lt.some(gy(Z))),lt.none,ne(lt.some(Wx(Z))))).map(rd(x,w)).getOrThunk(()=>{const Z=hv(T,F,P),dt=Z.bind(gt=>Ml(j,F,gt));return Ro(U,dt,()=>Xc(j,F,P).bind(gt=>(ut=>Ro(Es(ut),bu(ut),(yt,st)=>{const Ct=_c(!0,yt),Rt=_c(!1,st);return Qs(ut,Ct).forall(Ut=>Ut.isEqual(Rt))}).getOr(!0))(gt)?lt.some(()=>{tp(x,T,Ke(gt))}):lt.none())).getOrThunk(()=>dt.bind(()=>Z.map(gt=>()=>{T?l2(x,w,P,gt):l2(x,w,gt,P)})))})})(s,c,p,m)}return lt.none()},cC=(s,c)=>{const p=Ke(s.getBody()),m=Ke(s.selection.getStart()),x=ph(m,p);return Wn(x,c).fold(ne(x),w=>x.slice(0,w))},uC=(s,c)=>{const p=Ne(qb,s);return xi(c,m=>p(m)?[m.dom]:[])},Jx=s=>{const c=(p=>cC(p,Gr))(s);return uC(s,c)},EO=(s,c)=>{const p=(m=>cC(m,x=>Gr(x)||(w=>as(w)>1)(x)))(s);return Dt(p).bind(m=>{const x=Cn.fromRangeStart(s.selection.getRng());return((w,T,P)=>Ro(Es(P),bu(P),(F,j)=>{const U=_c(!0,F),Z=_c(!1,j),dt=_c(!1,T);return w?Qs(P,dt).exists(gt=>gt.isEqual(Z)&&T.isEqual(U)):hs(P,dt).exists(gt=>gt.isEqual(U)&&T.isEqual(Z))}).getOr(!0))(c,x,m.dom)&&!Hv(m)?lt.some(()=>((w,T,P,F)=>{const j=uC(T,F);if(j.length===0)tp(T,w,P);else{const U=Kw(P.dom,j);T.selection.setRng(U.toRange())}})(c,s,m,p)):lt.none()})},pm=(s,c)=>{const p=s.selection.getStart(),m=((x,w)=>{const T=w.parentElement;return nr(w)&&!ct(T)&&x.dom.isEmpty(T)})(s,p)||Hv(Ke(p))?Kw(p,c):((x,w)=>{const{caretContainer:T,caretPosition:P}=Zw(w);return x.selection.getRng().insertNode(T.dom),P})(s,c);s.selection.setRng(m.toRange())},c2=s=>Sn(s.startContainer),OO=s=>{const c=s.selection.getRng();return(p=>p.startOffset===0&&c2(p))(c)&&((p,m)=>{const x=m.startContainer.parentElement;return!ct(x)&&qb(p,Ke(x))})(s,c)&&(p=>(m=>(x=>{const w=x.startContainer.parentNode,T=x.endContainer.parentNode;return!ct(w)&&!ct(T)&&w.isEqualNode(T)})(m)&&(x=>{const w=x.endContainer;return x.endOffset===(Sn(w)?w.length:w.childNodes.length)})(m))(p)||(m=>!m.endContainer.isEqualNode(m.commonAncestorContainer))(p))(c)},t1=(s,c)=>s.selection.isCollapsed()?EO(s,c):(p=>{if(OO(p)){const m=Jx(p);return lt.some(()=>{Dw(p),((x,w)=>{const T=yi(w,Jx(x));T.length>0&&pm(x,T)})(p,m)})}return lt.none()})(s),wy=s=>((c,p,m)=>Vo(c,x=>Ul(x.dom),m).isSome())(s,0,Gr),Sy=s=>((c=>{const p=c.selection.getRng();return p.collapsed&&(c2(p)||c.dom.isEmpty(p.startContainer))&&!(m=>wy(Ke(m.selection.getStart())))(c)})(s)&&pm(s,[]),!0),hC=(s,c,p)=>te(p)?lt.some(()=>{s._selectionOverrides.hideFakeCaret(),tp(s,c,Ke(p))}):lt.none(),fm=(s,c)=>s.selection.isCollapsed()?((p,m)=>{const x=m?Yg:Gg,w=m?ea.Forwards:ea.Backwards,T=Lg(w,p.getBody(),p.selection.getRng());return x(T)?hC(p,m,T.getNode(!m)):lt.from(_c(m,T)).filter(P=>x(P)&&av(T,P)).bind(P=>hC(p,m,P.getNode(!m)))})(s,c):((p,m)=>{const x=p.selection.getNode();return io(x)?hC(p,m,x):lt.none()})(s,c),gm=s=>N(s??"").getOr(0),Cy=(s,c)=>(s||Fr(c)==="table"?"margin":"padding")+(hl(c,"direction")==="rtl"?"-right":"-left"),wp=s=>{const c=n1(s);return!s.mode.isReadOnly()&&(c.length>1||((p,m)=>oi(m,x=>{const w=Cy(Gh(p),x),T=Fa(x,w).map(gm).getOr(0);return p.dom.getContentEditable(x.dom)!=="false"&&T>0}))(s,c))},e1=s=>fl(s)||xs(s),n1=s=>Ln(yd(s.selection.getSelectedBlocks()),c=>!e1(c)&&!(p=>Ma(p).exists(e1))(c)&&vs(c,p=>dr(p.dom)||or(p.dom)).exists(p=>dr(p.dom))),u2=(s,c)=>{var p,m;const{dom:x}=s,w=fa(s),T=(m=(p=/[a-z%]+$/i.exec(w))===null||p===void 0?void 0:p[0])!==null&&m!==void 0?m:"px",P=gm(w),F=Gh(s);Ge(n1(s),j=>{((U,Z,dt,gt,ut,yt)=>{const st=Cy(dt,Ke(yt)),Ct=gm(U.getStyle(yt,st));if(Z==="outdent"){const Rt=Math.max(0,Ct-gt);U.setStyle(yt,st,Rt?Rt+ut:"")}else{const Rt=Ct+gt+ut;U.setStyle(yt,st,Rt)}})(x,c,F,P,T,j.dom)})},dC=s=>u2(s,"outdent"),pC=s=>{if(s.selection.isCollapsed()&&wp(s)){const c=s.dom,p=s.selection.getRng(),m=Cn.fromRangeStart(p),x=c.getParent(p.startContainer,c.isBlock);if(x!==null&&Tb(Ke(x),m))return lt.some(()=>dC(s))}return lt.none()},fC=(s,c,p)=>Pe([pC,qS,Bx,(m,x)=>lC(m,c,x),nd,np,US,fm,Nf,t1],m=>m(s,p)).filter(m=>s.selection.isEditable()),h2=(s,c)=>{s.addCommand("delete",()=>{((p,m)=>{fC(p,m,!1).fold(()=>{Dw(p),Lw(p)},jt)})(s,c)}),s.addCommand("forwardDelete",()=>{((p,m)=>{fC(p,m,!0).fold(()=>(x=>Ow(x,"ForwardDelete"))(p),jt)})(s,c)})},d2=s=>s.touches===void 0||s.touches.length!==1?lt.none():lt.some(s.touches[0]),gC=(s,c)=>Hn(s,c.nodeName),p2=(s,c)=>!!Sn(c)||!!We(c)&&!gC(s.getBlockElements(),c)&&!ds(c)&&!Uu(s,c),i1=(s,c)=>!!(Sn(c)&&(c.data.length===0||/^\s+$/.test(c.data)&&(!c.nextSibling||gC(s,c.nextSibling)))),mC=s=>s.dom.create(bl(s),mc(s)),f2=s=>{const c=s.dom,p=s.selection,m=s.schema,x=m.getBlockElements(),w=p.getStart(),T=s.getBody();let P,F,j=!1;const U=bl(s);if(!w||!We(w))return;const Z=T.nodeName.toLowerCase();if(!m.isValidChild(Z,U.toLowerCase())||((Ut,de,ke)=>_n(_w(Ke(ke),Ke(de)),_e=>gC(Ut,_e.dom)))(x,T,w))return;const dt=p.getRng(),{startContainer:gt,startOffset:ut,endContainer:yt,endOffset:st}=dt,Ct=_f(s);let Rt=T.firstChild;for(;Rt;)if(We(Rt)&&qu(m,Rt),p2(m,Rt)){if(i1(x,Rt)){F=Rt,Rt=Rt.nextSibling,c.remove(F);continue}P||(P=mC(s),T.insertBefore(P,Rt),j=!0),F=Rt,Rt=Rt.nextSibling,P.appendChild(F)}else P=null,Rt=Rt.nextSibling;j&&Ct&&(dt.setStart(gt,ut),dt.setEnd(yt,st),p.setRng(dt),s.nodeChanged())},g2=(s,c,p)=>{const m=Ke(mC(s)),x=pc();Ho(m,x),p(c,m);const w=document.createRange();return w.setStartBefore(x.dom),w.setEndBefore(x.dom),w},vC=s=>c=>(" "+c.attr("class")+" ").indexOf(s)!==-1,m2=(s,c,p)=>function(m){const x=arguments,w=x[x.length-2],T=w>0?c.charAt(w-1):"";if(T==='"')return m;if(T===">"){const P=c.lastIndexOf("<",w);if(P!==-1&&c.substring(P,w).indexOf('contenteditable="false"')!==-1)return m}return'<span class="'+p+'" data-mce-content="'+s.dom.encode(x[0])+'">'+s.dom.encode(typeof x[1]=="string"?x[1]:x[0])+"</span>"},yC=(s,c)=>{c.hasAttribute("data-mce-caret")&&(Vh(c),s.selection.setRng(s.selection.getRng()),s.selection.scrollIntoView(c))},v2=(s,c)=>{const p=(m=>ys(Ke(m.getBody()),"*[data-mce-caret]").map(x=>x.dom).getOrNull())(s);if(p)return c.type==="compositionstart"?(c.preventDefault(),c.stopPropagation(),void yC(s,p)):void(Gu(p)&&(yC(s,p),s.undoManager.add()))},ky=or,bC=(s,c,p)=>{const m=na(s.getBody()),x=Ne(ov,c===1?m.next:m.prev);if(p.collapsed){const w=s.dom.getParent(p.startContainer,"PRE");if(!w)return;if(!x(Cn.fromRangeStart(p))){const T=Ke((P=>{const F=P.dom.create(bl(P));return F.innerHTML='<br data-mce-bogus="1">',F})(s));c===1?zs(Ke(w),T):xa(Ke(w),T),s.selection.select(T.dom,!0),s.selection.collapse()}}},xC=(s,c)=>((p,m)=>{const x=m?ea.Forwards:ea.Backwards,w=p.selection.getRng();return((T,P,F)=>xp(P,T,F,ia,dh,ky))(x,p,w).orThunk(()=>(bC(p,x,w),lt.none()))})(s,c).exists(p=>(rl(s,p),!0)),_C=(s,c)=>((p,m)=>{const x=m?1:-1,w=p.selection.getRng();return((T,P,F)=>Zx(P,T,F,j=>ia(j)||EM(j),j=>dh(j)||OM(j),ky))(x,p,w).orThunk(()=>(bC(p,x,w),lt.none()))})(s,c).exists(p=>(rl(s,p),!0)),y2=(s,c)=>i2(s,c,c?dh:ia),Sp=(s,c)=>Da(s,!c).map(p=>{const m=p.toRange(),x=s.selection.getRng();return c?m.setStart(x.startContainer,x.startOffset):m.setEnd(x.endContainer,x.endOffset),m}).exists(p=>(rl(s,p),!0)),DO=s=>Te(["figcaption"],Fr(s)),b2=(s,c)=>{const p=Ke(s.getBody()),m=Cn.fromRangeStart(s.selection.getRng());return((x,w)=>{const T=Ne(Ir,w);return vs(Ke(x.container()),Gr,T).filter(DO)})(m,p).exists(()=>{if(((x,w,T)=>w?((P,F)=>um(P,F).breakAt.isNone())(x.dom,T):((P,F)=>vy(P,F).breakAt.isNone())(x.dom,T))(p,c,m)){const x=g2(s,p,c?Ho:au);return s.selection.setRng(x),!0}return!1})},wC=(s,c)=>!!s.selection.isCollapsed()&&b2(s,c),r1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},x2=(s,c)=>c.keyCode===s.keyCode&&c.shiftKey===s.shiftKey&&c.altKey===s.altKey&&c.ctrlKey===s.ctrlKey&&c.metaKey===s.metaKey,xr=(s,...c)=>()=>s.apply(null,c),Ay=(s,c)=>wn(((p,m)=>xi((x=>Be(x,w=>({...r1,...w})))(p),x=>x2(x,m)?[x]:[]))(s,c),p=>p.action()),Vf=(s,c)=>Pe(((p,m)=>xi((x=>Be(x,w=>({...r1,...w})))(p),x=>x2(x,m)?[x]:[]))(s,c),p=>p.action()),mm=(s,c)=>{const p=c?ea.Forwards:ea.Backwards,m=s.selection.getRng();return xp(s,p,m,Yg,Gg,io).exists(x=>(rl(s,x),!0))},_2=(s,c)=>{const p=c?1:-1,m=s.selection.getRng();return Zx(s,p,m,Yg,Gg,io).exists(x=>(rl(s,x),!0))},w2=(s,c)=>i2(s,c,c?Gg:Yg),S2=mu([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),My={...S2,none:s=>S2.none(s)},C2=(s,c,p)=>xi(Oo(s),m=>za(m,c)?p(m)?[m]:[]:C2(m,c,p)),k2=(s,c)=>uc(s,"table",c),SC=(s,c,p,m,x=ht)=>{const w=m===1;if(!w&&p<=0)return My.first(s[0]);if(w&&p>=s.length-1)return My.last(s[s.length-1]);{const T=p+m,P=s[T];return x(P)?My.middle(c,P):SC(s,c,T,m,x)}},A2=(s,c)=>k2(s,c).bind(p=>{const m=C2(p,"th,td",ht);return Wn(m,x=>Ir(s,x)).map(x=>({index:x,all:m}))}),o1=(s,c,p,m,x)=>{const w=oe(Ke(p),"td,th,caption").map(P=>P.dom),T=Ln(((P,F)=>xi(F,j=>{const U=((Z,dt)=>({left:Z.left-dt,top:Z.top-dt,right:Z.right+-2,bottom:Z.bottom+-2,width:Z.width+dt,height:Z.height+dt}))(yn(j.getBoundingClientRect()),-1);return[{x:U.left,y:P(U),cell:j},{x:U.right,y:P(U),cell:j}]}))(s,w),P=>c(P,x));return((P,F,j)=>ar(P,(U,Z)=>U.fold(()=>lt.some(Z),dt=>{const gt=Math.sqrt(Math.abs(dt.x-F)+Math.abs(dt.y-j)),ut=Math.sqrt(Math.abs(Z.x-F)+Math.abs(Z.y-j));return lt.some(ut<gt?Z:dt)}),lt.none()))(T,m,x).map(P=>P.cell)},M2=Ne(o1,s=>s.bottom,(s,c)=>s.y<c),LO=Ne(o1,s=>s.top,(s,c)=>s.y>c),a1=(s,c,p)=>{const m=s(c,p);return(x=>x.breakType===Sh.Wrap&&x.positions.length===0)(m)||!nr(p.getNode())&&(x=>x.breakType===Sh.Br&&x.positions.length===1)(m)?!((x,w,T)=>T.breakAt.exists(P=>x(w,P).breakAt.isSome()))(s,c,m):m.breakAt.isNone()},T2=Ne(a1,vy),PO=Ne(a1,um),vm=(s,c,p,m)=>{const x=s.selection.getRng(),w=c?1:-1;return!(!V0()||!((T,P,F)=>{const j=Cn.fromRangeStart(P);return lf(!T,F).exists(U=>U.isEqual(j))})(c,x,p)||(id(w,s,p,!c,!1).each(T=>{rl(s,T)}),0))},CC=(s,c,p)=>{const m=((w,T)=>{const P=T.getNode(w);return Ci(P)?lt.some(P):lt.none()})(!!c,p),x=c===!1;m.fold(()=>rl(s,p.toRange()),w=>lf(x,s.getBody()).filter(T=>T.isEqual(p)).fold(()=>rl(s,p.toRange()),T=>((P,F,j)=>{F.undoManager.transact(()=>{const U=P?zs:xa,Z=g2(F,Ke(j),U);rl(F,Z)})})(c,s,w)))},NO=(s,c,p,m)=>{const x=s.selection.getRng(),w=Cn.fromRangeStart(x),T=s.getBody();if(!c&&T2(m,w)){const P=((F,j,U)=>((Z,dt)=>At(dt.getClientRects()).bind(gt=>M2(Z,gt.left,gt.top)).bind(gt=>{return Gx(bu(ut=gt).map(yt=>vy(ut,yt).positions.concat(yt)).getOr([]),dt);var ut}))(j,U).orThunk(()=>At(U.getClientRects()).bind(Z=>bp(rC(F,Cn.before(j)),Z.left))).getOr(Cn.before(j)))(T,p,w);return CC(s,c,P),!0}if(c&&PO(m,w)){const P=((F,j,U)=>((Z,dt)=>Dt(dt.getClientRects()).bind(gt=>LO(Z,gt.left,gt.top)).bind(gt=>{return Gx(Es(ut=gt).map(yt=>[yt].concat(um(ut,yt).positions)).getOr([]),dt);var ut}))(j,U).orThunk(()=>At(U.getClientRects()).bind(Z=>bp(Xx(F,Cn.after(j)),Z.left))).getOr(Cn.after(j)))(T,p,w);return CC(s,c,P),!0}return!1},s1=(s,c,p)=>lt.from(s.dom.getParent(s.selection.getNode(),"td,th")).bind(m=>lt.from(s.dom.getParent(m,"table")).map(x=>p(s,c,x,m))).getOr(!1),kC=(s,c)=>s1(s,c,vm),I2=(s,c)=>s1(s,c,NO),E2=(s,c,p)=>p.fold(lt.none,lt.none,(m,x)=>{return(w=x,((T,P)=>{const F=j=>{for(let U=0;U<j.childNodes.length;U++){const Z=Ke(j.childNodes[U]);if(P(Z))return lt.some(Z);const dt=F(j.childNodes[U]);if(dt.isSome())return dt}return lt.none()};return F(T.dom)})(w,vM)).map(T=>(P=>{const F=mf.exact(P,0,P,0);return rM(F)})(T));var w},m=>(s.execCommand("mceTableInsertRowAfter"),l1(s,c,m))),l1=(s,c,p)=>{return E2(s,c,(x=Rl,A2(m=p,void 0).fold(()=>My.none(m),w=>SC(w.all,m,w.index,1,x))));var m,x},O2=(s,c,p)=>{return E2(s,c,(x=Rl,A2(m=p,void 0).fold(()=>My.none(),w=>SC(w.all,m,w.index,-1,x))));var m,x},AC=(s,c)=>{const p=["table","li","dl"],m=Ke(s.getBody()),x=T=>{const P=Fr(T);return Ir(T,m)||Te(p,P)},w=s.selection.getRng();return((T,P)=>((F,j,U=Fe)=>U(j)?lt.none():Te(F,Fr(j))?lt.some(j):cc(j,F.join(","),Z=>za(Z,"table")||U(Z)))(["td","th"],T,P))(Ke(c?w.endContainer:w.startContainer),x).map(T=>(k2(T,x).each(P=>{s.model.table.clearSelectedCells(P.dom)}),s.selection.collapse(!c),(c?l1:O2)(s,x,T).each(P=>{s.selection.setRng(P)}),!0)).getOr(!1)},Ac=(s,c)=>({container:s,offset:c}),Ty=Sr.DOM,c1=s=>c=>s===c?-1:0,Iy=(s,c,p)=>{if(Sn(s)&&c>=0)return lt.some(Ac(s,c));{const m=Ue(Ty);return lt.from(m.backwards(s,c,c1(s),p)).map(x=>Ac(x.container,x.container.data.length))}},u1=(s,c,p)=>{if(!Sn(s))return lt.none();const m=s.data;if(c>=0&&c<=m.length)return lt.some(Ac(s,c));{const x=Ue(Ty);return lt.from(x.backwards(s,c,c1(s),p)).bind(w=>{const T=w.container.data;return u1(w.container,c+T.length,p)})}},MC=(s,c,p)=>{if(!Sn(s))return lt.none();const m=s.data;if(c<=m.length)return lt.some(Ac(s,c));{const x=Ue(Ty);return lt.from(x.forwards(s,c,c1(s),p)).bind(w=>MC(w.container,c-m.length,p))}},kh=(s,c,p,m,x)=>{const w=Ue(s,(T=>P=>T.isBlock(P)||Te(["BR","IMG","HR","INPUT"],P.nodeName)||T.getContentEditable(P)==="false")(s));return lt.from(w.backwards(c,p,m,x))},ol=s=>Za(s.toString().replace(/\u00A0/g," ")),TC=s=>s!==""&&` \xA0\f
\r	\v`.indexOf(s)!==-1,tc=(s,c)=>s.substring(c.length),IC=(s,c,p,m=0)=>{return(x=Ke(c.startContainer),uc(x,gw)).fold(()=>((w,T,P,F=0)=>{if(!(j=T).collapsed||!Sn(j.startContainer))return lt.none();var j;const U={text:"",offset:0},Z=w.getParent(T.startContainer,w.isBlock)||w.getRoot();return kh(w,T.startContainer,T.startOffset,(dt,gt,ut)=>(U.text=ut+U.text,U.offset+=gt,((yt,st,Ct)=>{let Rt;const Ut=Ct.charAt(0);for(Rt=st-1;Rt>=0;Rt--){const de=yt.charAt(Rt);if(TC(de))return lt.none();if(Ut===de&&Wi(yt,Ct,Rt,st))break}return lt.some(Rt)})(U.text,U.offset,P).getOr(gt)),Z).bind(dt=>{const gt=T.cloneRange();if(gt.setStart(dt.container,dt.offset),gt.setEnd(T.endContainer,T.endOffset),gt.collapsed)return lt.none();const ut=ol(gt);return ut.lastIndexOf(P)!==0||tc(ut,P).length<F?lt.none():lt.some({text:tc(ut,P),range:gt,trigger:P})})})(s,c,p,m),w=>{const T=s.createRng();T.selectNode(w.dom);const P=ol(T);return lt.some({range:T,text:tc(P,p),trigger:p})});var x},EC=s=>{if((c=>c.nodeType===3)(s))return Ac(s,s.data.length);{const c=s.childNodes;return c.length>0?EC(c[c.length-1]):Ac(s,c.length)}},OC=(s,c)=>{const p=s.childNodes;return p.length>0&&c<p.length?OC(p[c],0):p.length>0&&(m=>m.nodeType===1)(s)&&p.length===c?EC(p[p.length-1]):Ac(s,c)},D2=(s,c,p,m={})=>{var x;const w=c(),T=(x=s.selection.getRng().startContainer.nodeValue)!==null&&x!==void 0?x:"",P=Ln(w.lookupByTrigger(p.trigger),j=>p.text.length>=j.minChars&&j.matches.getOrThunk(()=>(U=>Z=>{const dt=OC(Z.startContainer,Z.startOffset);return!((gt,ut)=>{var yt;const st=(yt=gt.getParent(ut.container,gt.isBlock))!==null&&yt!==void 0?yt:gt.getRoot();return kh(gt,ut.container,ut.offset,(Ct,Rt)=>Rt===0?-1:Rt,st).filter(Ct=>{const Rt=Ct.container.data.charAt(Ct.offset-1);return!TC(Rt)}).isSome()})(U,dt)})(s.dom))(p.range,T,p.text));if(P.length===0)return lt.none();const F=Promise.all(Be(P,j=>j.fetch(p.text,j.maxResults,m).then(U=>({matchText:p.text,items:U,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return lt.some({lookupData:F,context:p})};var Zc;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Zc||(Zc={}));const DC=(s,c,p)=>s.stype===Zc.Error?c(s.serror):p(s.svalue),Cp=s=>({stype:Zc.Value,svalue:s}),Hf=s=>({stype:Zc.Error,serror:s}),Ey=DC,h1=s=>Pt(s)&&He(s).length>100?" removed due to size":JSON.stringify(s,null,2),Ah=(s,c)=>Hf([{path:s,getErrorInfo:c}]),LC=(s,c)=>({extract:(p,m)=>ti(m,s).fold(()=>((x,w)=>Ah(x,()=>'Choice schema did not contain choice key: "'+w+'"'))(p,s),x=>((w,T,P,F)=>ti(P,F).fold(()=>((j,U,Z)=>Ah(j,()=>'The chosen schema: "'+Z+'" did not exist in branches: '+h1(U)))(w,P,F),j=>j.extract(w.concat(["branch: "+F]),T)))(p,m,c,x)),toString:()=>"chooseOn("+s+"). Possible values: "+He(c)}),PC=s=>(...c)=>{if(c.length===0)throw new Error("Can't merge zero objects");const p={};for(let m=0;m<c.length;m++){const x=c[m];for(const w in x)Hn(x,w)&&(p[w]=s(p[w],x[w]))}return p},d1=PC((s,c)=>kt(s)&&kt(c)?d1(s,c):c),L2=(PC((s,c)=>c),s=>({tag:"defaultedThunk",process:ne(s)})),RO=s=>{const c=(m=>{const x=[],w=[];return Ge(m,T=>{DC(T,P=>w.push(P),P=>x.push(P))}),{values:x,errors:w}})(s);return c.errors.length>0?(p=c.errors,Xt(Hf,si)(p)):Cp(c.values);var p},NC=(s,c,p)=>{switch(s.tag){case"field":return c(s.key,s.newKey,s.presence,s.prop);case"custom":return p(s.newKey,s.instantiator)}},RC=s=>({extract:(c,p)=>{return m=s(p),x=w=>((T,P)=>Ah(T,ne(P)))(c,w),m.stype===Zc.Error?x(m.serror):m;var m,x},toString:ne("val")}),P2=RC(Cp),N2=(s,c,p,m)=>m(ti(s,c).getOrThunk(()=>p(s))),BO=(s,c,p,m,x)=>{const w=P=>x.extract(c.concat([m]),P),T=P=>P.fold(()=>Cp(lt.none()),F=>{return U=x.extract(c.concat([m]),F),Z=lt.some,U.stype===Zc.Value?{stype:Zc.Value,svalue:Z(U.svalue)}:U;var U,Z});switch(s.tag){case"required":return((P,F,j,U)=>ti(F,j).fold(()=>((Z,dt,gt)=>Ah(Z,()=>'Could not find valid *required* value for "'+dt+'" in '+h1(gt)))(P,j,F),U))(c,p,m,w);case"defaultedThunk":return N2(p,m,s.process,w);case"option":return((P,F,j)=>j(ti(P,F)))(p,m,T);case"defaultedOptionThunk":return((P,F,j,U)=>U(ti(P,F).map(Z=>Z===!0?j(P):Z)))(p,m,s.process,T);case"mergeWithThunk":return N2(p,m,ne({}),P=>{const F=d1(s.process(p),P);return w(F)})}},p1=s=>({extract:(c,p)=>((m,x,w)=>{const T={},P=[];for(const F of w)NC(F,(j,U,Z,dt)=>{const gt=BO(Z,m,x,j,dt);Ey(gt,ut=>{P.push(...ut)},ut=>{T[U]=ut})},(j,U)=>{T[j]=U(x)});return P.length>0?Hf(P):Cp(T)})(c,p,s),toString:()=>`obj{
`+Be(s,p=>NC(p,(m,x,w,T)=>m+" -> "+T.toString(),(m,x)=>"state("+m+")")).join(`
`)+"}"}),BC=s=>({extract:(c,p)=>{const m=Be(p,(x,w)=>s.extract(c.concat(["["+w+"]"]),x));return RO(m)},toString:()=>"array("+s.toString()+")"}),zO=(s,c,p)=>{return m=((x,w,T)=>((P,F)=>P.stype===Zc.Error?{stype:Zc.Error,serror:F(P.serror)}:P)(w.extract([x],T),P=>({input:T,errors:P})))(s,c,p),DC(m,Ts.error,Ts.value);var m},zC=(s,c)=>LC(s,Ve(c,p1)),R2=ne(P2),f1=(s,c)=>RC(p=>{const m=typeof p;return s(p)?Cp(p):Hf(`Expected type: ${c} but got: ${m}`)}),FO=f1(Me,"number"),g1=f1(vt,"string"),Oy=f1(ie,"boolean"),ym=f1(fe,"function"),Dy=(s,c,p,m)=>({tag:"field",key:s,newKey:c,presence:p,prop:m}),B2=(s,c)=>({tag:"custom",newKey:s,instantiator:c}),z2=(s,c)=>Dy(s,s,{tag:"required",process:{}},c),F2=s=>z2(s,g1),V2=s=>z2(s,ym),FC=(s,c)=>Dy(s,s,{tag:"option",process:{}},c),Ly=s=>FC(s,g1),Wf=(s,c,p)=>Dy(s,s,L2(c),p),m1=(s,c)=>Wf(s,c,FO),bm=(s,c,p)=>Wf(s,c,(m=>{return x=w=>Te(m,w)?Ts.value(w):Ts.error(`Unsupported value: "${w}", choose one of "${m.join(", ")}".`),RC(w=>x(w).fold(Hf,Cp));var x})(p)),Py=(s,c)=>Wf(s,c,Oy),v1=(s,c)=>Wf(s,c,ym),y1=F2("type"),VC=V2("fetch"),Ny=V2("onAction"),HC=v1("onSetup",()=>le),VO=Ly("text"),b1=Ly("icon"),H2=Ly("tooltip"),x1=Ly("label"),W2=Py("active",!1),_1=Py("enabled",!0),WC=Py("primary",!1),Ry=s=>((c,p)=>Wf("type",p,g1))(0,s),j2=p1([y1,F2("trigger"),m1("minChars",1),((s,c)=>Dy(s,s,L2(1),R2()))("columns"),m1("maxResults",10),FC("matches",ym),VC,Ny,(jC=g1,Wf("highlightOn",[],BC(jC)))]);var jC;const w1=[_1,H2,b1,VO,HC],Mc=[W2].concat(w1),Y2=[v1("predicate",Fe),bm("scope","node",["node","editor"]),bm("position","selection",["node","selection","line"])],Tc=w1.concat([Ry("contextformbutton"),WC,Ny,B2("original",De)]),HO=Mc.concat([Ry("contextformbutton"),WC,Ny,B2("original",De)]),G2=w1.concat([Ry("contextformbutton")]),WO=Mc.concat([Ry("contextformtogglebutton")]),S1=zC("type",{contextformbutton:Tc,contextformtogglebutton:HO});p1([Ry("contextform"),v1("initValue",ne("")),x1,((s,c)=>Dy(s,s,{tag:"required",process:{}},BC(c)))("commands",S1),FC("launch",zC("type",{contextformbutton:G2,contextformtogglebutton:WO}))].concat(Y2));const jO=s=>{const c=s.ui.registry.getAll().popups,p=Ve(c,w=>{return(T=w,zO("Autocompleter",j2,{trigger:T.ch,...T})).fold(P=>{throw new Error(`Errors: 
`+(j=>{const U=j.length>10?j.slice(0,10).concat([{path:[],getErrorInfo:ne("... (only showing first ten failures)")}]):j;return Be(U,Z=>"Failed path: ("+Z.path.join(" > ")+`)
`+Z.getErrorInfo())})((F=P).errors).join(`
`)+`

Input object: `+h1(F.input));var F},De);var T}),m=Dn(ln(p,w=>w.trigger)),x=Vn(p);return{dataset:p,triggers:m,lookupByTrigger:w=>Ln(x,T=>T.trigger===w)}},YC=s=>{const c=pa(),p=ca(!1),m=c.isSet,x=()=>{m()&&((P=>{ra(P).autocompleter.removeDecoration()})(s),(P=>{P.dispatch("AutocompleterEnd")})(s),p.set(!1),c.clear())},w=Yi(()=>jO(s)),T=P=>{(F=>c.get().map(j=>IC(s.dom,s.selection.getRng(),j.trigger).bind(U=>D2(s,w,U,F))).getOrThunk(()=>((j,U)=>{const Z=U(),dt=j.selection.getRng();return((gt,ut,yt)=>Pe(yt.triggers,st=>IC(gt,ut,st)))(j.dom,dt,Z).bind(gt=>D2(j,U,gt))})(s,w)))(P).fold(x,F=>{(j=>{m()||(((U,Z)=>{ra(U).autocompleter.addDecoration(Z)})(s,j.range),c.set({trigger:j.trigger,matchLength:j.text.length}))})(F.context),F.lookupData.then(j=>{c.get().map(U=>{const Z=F.context;U.trigger===Z.trigger&&(Z.text.length-U.matchLength>=10?x():(c.set({...U,matchLength:Z.text.length}),p.get()?((dt,gt)=>{dt.dispatch("AutocompleterUpdate",gt)})(s,{lookupData:j}):(p.set(!0),((dt,gt)=>{dt.dispatch("AutocompleterStart",gt)})(s,{lookupData:j}))))})})})};s.addCommand("mceAutocompleterReload",(P,F)=>{const j=Pt(F)?F.fetchOptions:{};T(j)}),s.addCommand("mceAutocompleterClose",x),((P,F)=>{const j=Xm(F.load,50);P.on("keypress compositionend",U=>{U.which!==27&&j.throttle()}),P.on("keydown",U=>{const Z=U.which;Z===8?j.throttle():Z===27&&F.cancelIfNecessary()}),P.on("remove",j.cancel)})(s,{cancelIfNecessary:x,load:T})},GC=s=>(c,p,m={})=>{const x=c.getBody(),w={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:x,currentTarget:x,eventPhase:Event.AT_TARGET,originalTarget:x,explicitOriginalTarget:x,isTrusted:!1,srcElement:x,cancelable:!1,preventDefault:le,inputType:p},T=Ym(new InputEvent(s));return c.dispatch(s,{...T,...w,...m})},C1=GC("input"),k1=GC("beforeinput"),By=(s,c)=>{const p=s.dom,m=s.schema.getMoveCaretBeforeOnEnterElements();if(!c)return;if(/^(LI|DT|DD)$/.test(c.nodeName)){const w=(T=>{for(;T;){if(We(T)||Sn(T)&&T.data&&/[\r\n\s]/.test(T.data))return T;T=T.nextSibling}return null})(c.firstChild);w&&/^(UL|OL|DL)$/.test(w.nodeName)&&c.insertBefore(p.doc.createTextNode(no),c.firstChild)}const x=p.createRng();if(c.normalize(),c.hasChildNodes()){const w=new zt(c,c);let T,P=c;for(;T=w.current();){if(Sn(T)){x.setStart(T,0),x.setEnd(T,0);break}if(m[T.nodeName.toLowerCase()]){x.setStartBefore(T),x.setEndBefore(T);break}P=T,T=w.next()}T||(x.setStart(P,0),x.setEnd(P,0))}else nr(c)?c.nextSibling&&p.isBlock(c.nextSibling)?(x.setStartBefore(c),x.setEndBefore(c)):(x.setStartAfter(c),x.setEndAfter(c)):(x.setStart(c,0),x.setEnd(c,0));s.selection.setRng(x),jg(s,x)},A1=(s,c)=>{const p=s.getRoot();let m,x=c;for(;x!==p&&x&&s.getContentEditable(x)!=="false";)s.getContentEditable(x)==="true"&&(m=x),x=x.parentNode;return x!==p?m:p},zy=s=>lt.from(s.dom.getParent(s.selection.getStart(!0),s.dom.isBlock)),XC=(s,c)=>{const p=s?.parentNode;return te(p)&&p.nodeName===c},kp=s=>te(s)&&/^(OL|UL|LI)$/.test(s.nodeName),Mh=s=>{const c=s.parentNode;return te(p=c)&&/^(LI|DT|DD)$/.test(p.nodeName)?c:s;var p},od=(s,c,p)=>{let m=s[p?"firstChild":"lastChild"];for(;m&&!We(m);)m=m[p?"nextSibling":"previousSibling"];return m===c},YO=(s,c)=>c&&c.nodeName==="A"&&s.isEmpty(c),qC=s=>{s.innerHTML='<br data-mce-bogus="1">'},UC=(s,c)=>s.nodeName===c||s.previousSibling&&s.previousSibling.nodeName===c,$C=(s,c)=>te(c)&&s.isBlock(c)&&!/^(TD|TH|CAPTION|FORM)$/.test(c.nodeName)&&!/^(fixed|absolute)/i.test(c.style.position)&&s.isEditable(c.parentNode)&&s.getContentEditable(c)!=="false",jf=(s,c,p)=>Sn(c)?s?p===1&&c.data.charAt(p-1)===jo?0:p:p===c.data.length-1&&c.data.charAt(p)===jo?c.data.length:p:p,Fy=(s,c)=>{bl(s).toLowerCase()===c.tagName.toLowerCase()&&((p,m,x)=>{const w=p.dom;lt.from(x.style).map(w.parseStyle).each(U=>{const Z={...Wp(Ke(m)),...U};w.setStyles(m,Z)});const T=lt.from(x.class).map(U=>U.split(/\s+/)),P=lt.from(m.className).map(U=>Ln(U.split(/\s+/),Z=>Z!==""));Ro(T,P,(U,Z)=>{const dt=Ln(Z,ut=>!Te(U,ut)),gt=[...U,...dt];w.setAttrib(m,"class",gt.join(" "))});const F=["style","class"],j=bi(x,(U,Z)=>!Te(F,Z));w.setAttribs(m,j)})(s,c,mc(s))},Vy={insert:(s,c)=>{let p,m,x,w,T=!1;const P=s.dom,F=s.schema,j=F.getNonEmptyElements(),U=s.selection.getRng(),Z=bl(s),dt=_e=>{let qe=p;const Xe=F.getTextInlineElements();let $e;$e=_e||x==="TABLE"||x==="HR"?P.create(_e||Z):Rt.cloneNode(!1);let fn=$e;if(AA(s)===!1)P.setAttrib($e,"style",null),P.setAttrib($e,"class",null);else do if(Xe[qe.nodeName]){if(Ul(qe)||ds(qe))continue;const hn=qe.cloneNode(!1);P.setAttrib(hn,"id",""),$e.hasChildNodes()?(hn.appendChild($e.firstChild),$e.appendChild(hn)):(fn=hn,$e.appendChild(hn))}while((qe=qe.parentNode)&&qe!==Ct);return Fy(s,$e),qC(fn),$e},gt=_e=>{const qe=jf(_e,p,m);if(Sn(p)&&(_e?qe>0:qe<p.data.length))return!1;if(p.parentNode===Rt&&T&&!_e||_e&&We(p)&&p===Rt.firstChild)return!0;if(UC(p,"TABLE")||UC(p,"HR"))return T&&!_e||!T&&_e;const Xe=new zt(p,Rt);let $e;for(Sn(p)&&(_e&&qe===0?Xe.prev():_e||qe!==p.data.length||Xe.next());$e=Xe.current();){if(We($e)){if(!$e.getAttribute("data-mce-bogus")){const fn=$e.nodeName.toLowerCase();if(j[fn]&&fn!=="br")return!1}}else if(Sn($e)&&!Nc($e.data))return!1;_e?Xe.prev():Xe.next()}return!0},ut=()=>{let _e;return _e=/^(H[1-6]|PRE|FIGURE)$/.test(x)&&Ut!=="HGROUP"?dt(Z):dt(),((qe,Xe)=>{const $e=MA(qe);return!Wt(Xe)&&(vt($e)?Te(zn.explode($e),Xe.nodeName.toLowerCase()):$e)})(s,w)&&$C(P,w)&&P.isEmpty(Rt)?_e=P.split(w,Rt):P.insertAfter(_e,Rt),By(s,_e),_e};Zh(P,U).each(_e=>{U.setStart(_e.startContainer,_e.startOffset),U.setEnd(_e.endContainer,_e.endOffset)}),p=U.startContainer,m=U.startOffset;const yt=!(!c||!c.shiftKey),st=!(!c||!c.ctrlKey);We(p)&&p.hasChildNodes()&&(T=m>p.childNodes.length-1,p=p.childNodes[Math.min(m,p.childNodes.length-1)]||p,m=T&&Sn(p)?p.data.length:0);const Ct=A1(P,p);if(!Ct||((_e,qe)=>{const Xe=_e.dom.getParent(qe,"ol,ul,dl");return Xe!==null&&_e.dom.getContentEditableParent(Xe)==="false"})(s,p))return;yt||(p=((_e,qe,Xe,$e,fn)=>{var hn,vn;const sn=_e.dom,Tn=(hn=A1(sn,$e))!==null&&hn!==void 0?hn:sn.getRoot();let Qn=sn.getParent($e,sn.isBlock);if(!Qn||!$C(sn,Qn)){if(Qn=Qn||Tn,!Qn.hasChildNodes()){const Mr=sn.create(qe);return Fy(_e,Mr),Qn.appendChild(Mr),Xe.setStart(Mr,0),Xe.setEnd(Mr,0),Mr}let ni,Pi=$e;for(;Pi&&Pi.parentNode!==Qn;)Pi=Pi.parentNode;for(;Pi&&!sn.isBlock(Pi);)ni=Pi,Pi=Pi.previousSibling;const qi=(vn=ni?.parentElement)===null||vn===void 0?void 0:vn.nodeName;if(ni&&qi&&_e.schema.isValidChild(qi,qe.toLowerCase())){const Mr=ni.parentNode,po=sn.create(qe);for(Fy(_e,po),Mr.insertBefore(po,ni),Pi=ni;Pi&&!sn.isBlock(Pi);){const Ti=Pi.nextSibling;po.appendChild(Pi),Pi=Ti}Xe.setStart($e,fn),Xe.setEnd($e,fn)}}return $e})(s,Z,U,p,m));let Rt=P.getParent(p,P.isBlock)||P.getRoot();w=te(Rt?.parentNode)?P.getParent(Rt.parentNode,P.isBlock):null,x=Rt?Rt.nodeName.toUpperCase():"";const Ut=w?w.nodeName.toUpperCase():"";if(Ut!=="LI"||st||(Rt=w,w=w.parentNode,x=Ut),/^(LI|DT|DD)$/.test(x)&&We(w)&&P.isEmpty(Rt))return void((_e,qe,Xe,$e,fn)=>{const hn=_e.dom,vn=_e.selection.getRng(),sn=Xe.parentNode;if(Xe===_e.getBody()||!sn)return;var Tn;kp(Tn=Xe)&&kp(Tn.parentNode)&&(fn="LI");let Qn=qe(fn);if(od(Xe,$e,!0)&&od(Xe,$e,!1))if(XC(Xe,"LI")){const ni=Mh(Xe);hn.insertAfter(Qn,ni),(Pi=>{var qi;return((qi=Pi.parentNode)===null||qi===void 0?void 0:qi.firstChild)===Pi})(Xe)?hn.remove(ni):hn.remove(Xe)}else hn.replace(Qn,Xe);else if(od(Xe,$e,!0))XC(Xe,"LI")?(hn.insertAfter(Qn,Mh(Xe)),Qn.appendChild(hn.doc.createTextNode(" ")),Qn.appendChild(Xe)):sn.insertBefore(Qn,Xe),hn.remove($e);else if(od(Xe,$e,!1))hn.insertAfter(Qn,Mh(Xe)),hn.remove($e);else{Xe=Mh(Xe);const ni=vn.cloneRange();ni.setStartAfter($e),ni.setEndAfter(Xe);const Pi=ni.extractContents();fn==="LI"&&((qi,Mr)=>qi.firstChild&&qi.firstChild.nodeName==="LI")(Pi)?(Qn=Pi.firstChild,hn.insertAfter(Pi,Xe)):(hn.insertAfter(Pi,Xe),hn.insertAfter(Qn,Xe)),hn.remove($e)}By(_e,Qn)})(s,dt,w,Rt,Z);if(Rt===s.getBody()||!$C(P,Rt))return;const de=Rt.parentNode;let ke;if(_s(Rt))ke=Vh(Rt),P.isEmpty(Rt)&&qC(Rt),Fy(s,ke),By(s,ke);else if(gt(!1))ke=ut();else if(gt(!0)&&de)ke=de.insertBefore(dt(),Rt),By(s,UC(Rt,"HR")?ke:Rt);else{const _e=(Xe=>{const $e=Xe.cloneRange();return $e.setStart(Xe.startContainer,jf(!0,Xe.startContainer,Xe.startOffset)),$e.setEnd(Xe.endContainer,jf(!1,Xe.endContainer,Xe.endOffset)),$e})(U).cloneRange();_e.setEndAfter(Rt);const qe=_e.extractContents();(Xe=>{Ge(Bl(Ke(Xe),Ba),$e=>{const fn=$e.dom;fn.nodeValue=Za(fn.data)})})(qe),(Xe=>{let $e=Xe;do Sn($e)&&($e.data=$e.data.replace(/^[\r\n]+/,"")),$e=$e.firstChild;while($e)})(qe),ke=qe.firstChild,P.insertAfter(qe,Rt),((Xe,$e,fn)=>{var hn;const vn=[];if(!fn)return;let sn=fn;for(;sn=sn.firstChild;){if(Xe.isBlock(sn))return;We(sn)&&!$e[sn.nodeName.toLowerCase()]&&vn.push(sn)}let Tn=vn.length;for(;Tn--;)sn=vn[Tn],(!sn.hasChildNodes()||sn.firstChild===sn.lastChild&&((hn=sn.firstChild)===null||hn===void 0?void 0:hn.nodeValue)===""||YO(Xe,sn))&&Xe.remove(sn)})(P,j,ke),((Xe,$e)=>{$e.normalize();const fn=$e.lastChild;(!fn||We(fn)&&/^(left|right)$/gi.test(Xe.getStyle(fn,"float",!0)))&&Xe.add($e,"br")})(P,Rt),P.isEmpty(Rt)&&qC(Rt),ke.normalize(),P.isEmpty(ke)?(P.remove(ke),ut()):(Fy(s,ke),By(s,ke))}P.setAttrib(ke,"id",""),s.dispatch("NewBlock",{newBlock:ke})},fakeEventName:"insertParagraph"},X2=(s,c,p)=>{const m=s.dom.createRng();p?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),s.selection.setRng(m),jg(s,m)},ZC=(s,c)=>{const p=co("br");xa(Ke(c),p),s.undoManager.add()},KC=(s,c)=>{GO(s.getBody(),c)||zs(Ke(c),co("br"));const p=co("br");zs(Ke(c),p),X2(s,p.dom,!1),s.undoManager.add()},GO=(s,c)=>{return p=Cn.after(c),!!nr(p.getNode())||Qs(s,Cn.after(c)).map(m=>nr(m.getNode())).getOr(!1);var p},q2=s=>s&&s.nodeName==="A"&&"href"in s,XO=s=>s.fold(Fe,q2,q2,Fe),U2=(s,c)=>{c.fold(le,Ne(ZC,s),Ne(KC,s),le)},Hy={insert:(s,c)=>{const p=(m=>{const x=Ne(kf,m),w=Cn.fromRangeStart(m.selection.getRng());return Ml(x,m.getBody(),w).filter(XO)})(s);p.isSome()?p.each(Ne(U2,s)):((m,x)=>{const w=m.selection,T=m.dom,P=w.getRng();let F,j=!1;Zh(T,P).each(st=>{P.setStart(st.startContainer,st.startOffset),P.setEnd(st.endContainer,st.endOffset)});let U=P.startOffset,Z=P.startContainer;if(We(Z)&&Z.hasChildNodes()){const st=U>Z.childNodes.length-1;Z=Z.childNodes[Math.min(U,Z.childNodes.length-1)]||Z,U=st&&Sn(Z)?Z.data.length:0}let dt=T.getParent(Z,T.isBlock);const gt=dt&&dt.parentNode?T.getParent(dt.parentNode,T.isBlock):null,ut=gt?gt.nodeName.toUpperCase():"",yt=!(!x||!x.ctrlKey);ut!=="LI"||yt||(dt=gt),Sn(Z)&&U>=Z.data.length&&(((st,Ct,Rt)=>{const Ut=new zt(Ct,Rt);let de;const ke=st.getNonEmptyElements();for(;de=Ut.next();)if(ke[de.nodeName.toLowerCase()]||Sn(de)&&de.length>0)return!0;return!1})(m.schema,Z,dt||T.getRoot())||(F=T.create("br"),P.insertNode(F),P.setStartAfter(F),P.setEndAfter(F),j=!0)),F=T.create("br"),S0(T,P,F),X2(m,F,j),m.undoManager.add()})(s,c)},fakeEventName:"insertLineBreak"},QC=(s,c)=>zy(s).filter(p=>c.length>0&&za(Ke(p),c)).isSome(),ec=mu([{br:[]},{block:[]},{none:[]}]),$2=(s,c)=>(p=>QC(p,Jp(p)))(s),JC=s=>(c,p)=>(m=>zy(m).filter(x=>xs(Ke(x))).isSome())(c)===s,tk=(s,c)=>(p,m)=>(w=>zy(w).fold(ne(""),T=>T.nodeName.toUpperCase()))(p)===s.toUpperCase()===c,Z2=s=>{const c=A1(s.dom,s.selection.getStart());return Wt(c)},xm=s=>tk("pre",s),Wy=s=>(c,p)=>IE(c)===s,qO=(s,c)=>(p=>QC(p,A_(p)))(s),M1=(s,c)=>c,UO=s=>{const c=bl(s),p=A1(s.dom,s.selection.getStart());return te(p)&&s.schema.isValidChild(p.nodeName,c)},Kc=(s,c)=>(p,m)=>ar(s,(x,w)=>x&&w(p,m),!0)?lt.some(c):lt.none(),jy=(s,c,p)=>{c.selection.isCollapsed()||(m=>{m.execCommand("delete")})(c),te(p)&&k1(c,s.fakeEventName).isDefaultPrevented()||(s.insert(c,p),te(p)&&C1(c,s.fakeEventName))},_m=(s,c)=>{const p=()=>jy(Hy,s,c),m=()=>jy(Vy,s,c),x=((w,T)=>QS([Kc([$2],ec.none()),Kc([xm(!0),Z2],ec.none()),Kc([tk("summary",!0)],ec.br()),Kc([xm(!0),Wy(!1),M1],ec.br()),Kc([xm(!0),Wy(!1)],ec.block()),Kc([xm(!0),Wy(!0),M1],ec.block()),Kc([xm(!0),Wy(!0)],ec.br()),Kc([JC(!0),M1],ec.br()),Kc([JC(!0)],ec.block()),Kc([qO],ec.br()),Kc([M1],ec.br()),Kc([UO],ec.block())],[w,!(!T||!T.shiftKey)]).getOr(ec.none()))(s,c);switch(E0(s)){case"linebreak":x.fold(p,p,le);break;case"block":x.fold(m,m,le);break;case"invert":x.fold(m,p,le);break;default:x.fold(p,m,le)}},K2=er(),Q2=s=>s.stopImmediatePropagation(),ek=s=>s.keyCode===ki.PAGE_UP||s.keyCode===ki.PAGE_DOWN,T1=(s,c,p)=>{p&&!s.get()?c.on("NodeChange",Q2,!0):!p&&s.get()&&c.off("NodeChange",Q2),s.set(p)},nk=(s,c)=>{const p=c.container(),m=c.offset();return Sn(p)?(p.insertData(m,s),lt.some(Cn(p,m+s.length))):jd(c).map(x=>{const w=qa(s);return c.isAtEnd()?zs(x,w):xa(x,w),Cn(w.dom,s.length)})},J2=Ne(nk,no),$O=Ne(nk," "),tI=(s,c)=>p=>((m,x)=>!Mw(x)&&(((w,T)=>((P,F)=>hs(P.dom,F).isNone())(w,T)||((P,F)=>Qs(P.dom,F).isNone())(w,T)||Tb(w,T)||Cw(w,T)||qg(w,T)||Xg(w,T))(m,x)||zM(m,x)||Aw(m,x)))(s,p)?J2(c):$O(c),ZO=s=>{const c=Cn.fromRangeStart(s.selection.getRng()),p=Ke(s.getBody());if(s.selection.isCollapsed()){const m=Ne(kf,s),x=Cn.fromRangeStart(s.selection.getRng());return Ml(m,s.getBody(),x).bind((w=>T=>T.fold(P=>hs(w.dom,Cn.before(P)),P=>Es(P),P=>bu(P),P=>Qs(w.dom,Cn.after(P))))(p)).map(w=>()=>tI(p,c)(w).each((T=>P=>(T.selection.setRng(P.toRange()),T.nodeChanged(),!0))(s)))}return lt.none()},eI=s=>nv(s)?[{keyCode:ki.TAB,action:xr(AC,s,!0)},{keyCode:ki.TAB,shiftKey:!0,action:xr(AC,s,!1)}]:[],ik=s=>{if(s.addShortcut("Meta+P","","mcePrint"),YC(s),_h(s))return ca(null);{const c=o2(s);return(p=>{p.on("keyup compositionstart",Ne(v2,p))})(s),((p,m)=>{p.on("keydown",x=>{x.isDefaultPrevented()||((w,T,P)=>{const F=Dr.os.isMacOS()||Dr.os.isiOS();Ay([{keyCode:ki.RIGHT,action:xr(xC,w,!0)},{keyCode:ki.LEFT,action:xr(xC,w,!1)},{keyCode:ki.UP,action:xr(_C,w,!1)},{keyCode:ki.DOWN,action:xr(_C,w,!0)},...F?[{keyCode:ki.UP,action:xr(Sp,w,!1),metaKey:!0,shiftKey:!0},{keyCode:ki.DOWN,action:xr(Sp,w,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:ki.RIGHT,action:xr(kC,w,!0)},{keyCode:ki.LEFT,action:xr(kC,w,!1)},{keyCode:ki.UP,action:xr(I2,w,!1)},{keyCode:ki.DOWN,action:xr(I2,w,!0)},{keyCode:ki.RIGHT,action:xr(mm,w,!0)},{keyCode:ki.LEFT,action:xr(mm,w,!1)},{keyCode:ki.UP,action:xr(_2,w,!1)},{keyCode:ki.DOWN,action:xr(_2,w,!0)},{keyCode:ki.RIGHT,action:xr(xy,w,T,!0)},{keyCode:ki.LEFT,action:xr(xy,w,T,!1)},{keyCode:ki.RIGHT,ctrlKey:!F,altKey:F,action:xr(a2,w,T)},{keyCode:ki.LEFT,ctrlKey:!F,altKey:F,action:xr(s2,w,T)},{keyCode:ki.UP,action:xr(wC,w,!1)},{keyCode:ki.DOWN,action:xr(wC,w,!0)}],P).each(j=>{P.preventDefault()})})(p,m,x)})})(s,c),((p,m)=>{let x=!1;p.on("keydown",w=>{x=w.keyCode===ki.BACKSPACE,w.isDefaultPrevented()||((T,P,F)=>{const j=F.keyCode===ki.BACKSPACE?"deleteContentBackward":"deleteContentForward";Vf([{keyCode:ki.BACKSPACE,action:xr(pC,T)},{keyCode:ki.BACKSPACE,action:xr(qS,T,!1)},{keyCode:ki.DELETE,action:xr(qS,T,!0)},{keyCode:ki.BACKSPACE,action:xr(Bx,T,!1)},{keyCode:ki.DELETE,action:xr(Bx,T,!0)},{keyCode:ki.BACKSPACE,action:xr(lC,T,P,!1)},{keyCode:ki.DELETE,action:xr(lC,T,P,!0)},{keyCode:ki.BACKSPACE,action:xr(np,T,!1)},{keyCode:ki.DELETE,action:xr(np,T,!0)},{keyCode:ki.BACKSPACE,action:xr(US,T,!1)},{keyCode:ki.DELETE,action:xr(US,T,!0)},{keyCode:ki.BACKSPACE,action:xr(fm,T,!1)},{keyCode:ki.DELETE,action:xr(fm,T,!0)},{keyCode:ki.BACKSPACE,action:xr(Nf,T,!1)},{keyCode:ki.DELETE,action:xr(Nf,T,!0)},{keyCode:ki.BACKSPACE,action:xr(nd,T,!1)},{keyCode:ki.DELETE,action:xr(nd,T,!0)},{keyCode:ki.BACKSPACE,action:xr(t1,T,!1)},{keyCode:ki.DELETE,action:xr(t1,T,!0)}],F).filter(U=>T.selection.isEditable()).each(U=>{F.preventDefault(),k1(T,j).isDefaultPrevented()||(U(),C1(T,j))})})(p,m,w)}),p.on("keyup",w=>{w.isDefaultPrevented()||((T,P,F)=>{const j=er(),U=j.os,Z=j.browser,dt=U.isMacOS()?[{keyCode:ki.BACKSPACE,altKey:!0,action:xr(Sy,T)},{keyCode:ki.DELETE,altKey:!0,action:xr(Sy,T)}]:[{keyCode:ki.BACKSPACE,ctrlKey:!0,action:xr(Sy,T)},{keyCode:ki.DELETE,ctrlKey:!0,action:xr(Sy,T)}];U.isMacOS()&&F&&dt.push({keyCode:Z.isFirefox()?224:91,action:xr(Sy,T)}),Ay([{keyCode:ki.BACKSPACE,action:xr(GT,T)},{keyCode:ki.DELETE,action:xr(GT,T)},...dt],P)})(p,w,x),x=!1})})(s,c),(p=>{p.on("keydown",m=>{m.keyCode===ki.ENTER&&((x,w)=>{var T;w.isDefaultPrevented()||(w.preventDefault(),(T=x.undoManager).typing&&(T.typing=!1,T.add()),x.undoManager.transact(()=>{_m(x,w)}))})(p,m)})})(s),(p=>{p.on("keydown",m=>{m.isDefaultPrevented()||((x,w)=>{Vf([{keyCode:ki.SPACEBAR,action:xr(ZO,x)}],w).each(T=>{w.preventDefault(),k1(x,"insertText",{data:" "}).isDefaultPrevented()||(T(),C1(x,"insertText",{data:" "}))})})(p,m)})})(s),(p=>{p.on("input",m=>{m.isComposing||(x=>{const w=Ke(x.getBody());x.selection.isCollapsed()&&JE(w,Cn.fromRangeStart(x.selection.getRng())).each(T=>{x.selection.setRng(T.toRange())})})(p)})})(s),(p=>{p.on("keydown",m=>{m.isDefaultPrevented()||((x,w)=>{Ay([...eI(x)],w).each(T=>{w.preventDefault()})})(p,m)})})(s),((p,m)=>{p.on("keydown",x=>{x.isDefaultPrevented()||((w,T,P)=>{const F=Dr.os.isMacOS()||Dr.os.isiOS();Ay([{keyCode:ki.END,action:xr(y2,w,!0)},{keyCode:ki.HOME,action:xr(y2,w,!1)},...F?[]:[{keyCode:ki.HOME,action:xr(Sp,w,!1),ctrlKey:!0,shiftKey:!0},{keyCode:ki.END,action:xr(Sp,w,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:ki.END,action:xr(w2,w,!0)},{keyCode:ki.HOME,action:xr(w2,w,!1)},{keyCode:ki.END,action:xr(_y,w,!0,T)},{keyCode:ki.HOME,action:xr(_y,w,!1,T)}],P).each(j=>{P.preventDefault()})})(p,m,x)})})(s,c),((p,m)=>{if(K2.os.isMacOS())return;const x=ca(!1);p.on("keydown",w=>{ek(w)&&T1(x,p,!0)}),p.on("keyup",w=>{w.isDefaultPrevented()||((T,P,F)=>{Ay([{keyCode:ki.PAGE_UP,action:xr(_y,T,!1,P)},{keyCode:ki.PAGE_DOWN,action:xr(_y,T,!0,P)}],F)})(p,m,w),ek(w)&&x.get()&&(T1(x,p,!1),p.nodeChanged())})})(s,c),c}};class KO{constructor(c){let p;this.lastPath=[],this.editor=c;const m=this;"onselectionchange"in c.getDoc()||c.on("NodeChange click mouseup keyup focus",x=>{const w=c.selection.getRng(),T={startContainer:w.startContainer,startOffset:w.startOffset,endContainer:w.endContainer,endOffset:w.endOffset};x.type!=="nodechange"&&Cv(T,p)||c.dispatch("SelectionChange"),p=T}),c.on("contextmenu",()=>{c.dispatch("SelectionChange")}),c.on("SelectionChange",()=>{const x=c.selection.getStart(!0);x&&mv(c)&&!m.isSameElementPath(x)&&c.dom.isChildOf(x,c.getBody())&&c.nodeChanged({selectionChange:!0})}),c.on("mouseup",x=>{!x.isDefaultPrevented()&&mv(c)&&(c.selection.getNode().nodeName==="IMG"?Zl.setEditorTimeout(c,()=>{c.nodeChanged()}):c.nodeChanged())})}nodeChanged(c={}){const p=this.editor.selection;let m;if(this.editor.initialized&&p&&!HA(this.editor)&&!this.editor.mode.isReadOnly()){const x=this.editor.getBody();m=p.getStart(!0)||x,m.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(m,x)||(m=x);const w=[];this.editor.dom.getParent(m,T=>T===x||(w.push(T),!1)),this.editor.dispatch("NodeChange",{...c,element:m,parents:w})}}isSameElementPath(c){let p;const m=this.editor,x=zi(m.dom.getParents(c,ht,m.getBody()));if(x.length===this.lastPath.length){for(p=x.length;p>=0&&x[p]===this.lastPath[p];p--);if(p===-1)return this.lastPath=x,!0}return this.lastPath=x,!1}}const I1=ne("x-tinymce/html"),E1="<!-- x-tinymce/html -->",QO=s=>E1+s,nI=s=>s.indexOf(E1)!==-1,rk="%MCEPASTEBIN%",Yf=s=>s.dom.get("mcepastebin"),ok=s=>te(s)&&s.id==="mcepastebin",O1=s=>s===rk,iI=(s,c)=>(zn.each(c,p=>{s=_t(p,RegExp)?s.replace(p,""):s.replace(p[0],p[1])}),s),rI=s=>iI(s,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(c,p,m)=>p||m?no:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),oI=(s,c)=>({content:s,cancelled:c}),ak=(s,c)=>(s.insertContent(c,{merge:Tg(s),paste:!0}),!0),sk=s=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(s),JO=(s,c,p)=>!(s.selection.isCollapsed()||!sk(c))&&((m,x,w)=>(m.undoManager.extra(()=>{w(m,x)},()=>{m.execCommand("mceInsertLink",!1,x)}),!0))(s,c,p),aI=(s,c,p)=>!!((m,x)=>sk(x)&&_n(UA(m),w=>qt(x.toLowerCase(),`.${w.toLowerCase()}`)))(s,c)&&((m,x,w)=>(m.undoManager.extra(()=>{w(m,x)},()=>{m.insertContent('<img src="'+x+'">')}),!0))(s,c,p),sI=(s=>{let c=0;return()=>"mceclip"+c++})(),lk=(s,c,p,m)=>{const x=((w,T,P)=>((F,j,U)=>{const Z=((gt,ut,yt)=>gt.dispatch("PastePreProcess",{content:ut,internal:yt}))(F,j,U),dt=((gt,ut)=>{const yt=Of({sanitize:Bd(gt)},gt.schema);yt.addNodeFilter("meta",Ct=>{zn.each(Ct,Rt=>{Rt.remove()})});const st=yt.parse(ut,{forced_root_block:!1,isRootContent:!0});return uh({validate:!0},gt.schema).serialize(st)})(F,Z.content);return F.hasEventListeners("PastePostProcess")&&!Z.isDefaultPrevented()?((gt,ut,yt)=>{const st=gt.dom.create("div",{style:"display:none"},ut),Ct=((Rt,Ut,de)=>Rt.dispatch("PastePostProcess",{node:Ut,internal:de}))(gt,st,yt);return oI(Ct.node.innerHTML,Ct.isDefaultPrevented())})(F,dt,U):oI(dt,Z.isDefaultPrevented())})(w,T,P))(s,c,p);x.cancelled||((w,T,P)=>{P||!GA(w)?ak(w,T):((F,j)=>{zn.each([JO,aI,ak],U=>!U(F,j,ak))})(w,T)})(s,x.content,m)},Yy=(s,c,p)=>{const m=p||nI(c);lk(s,(x=>x.replace(E1,""))(c),m,!1)},D1=(s,c)=>{const p=s.dom.encode(c).replace(/\r\n/g,`
`),m=((x,w,T)=>{const P=x.split(/\n\n/),F=((Z,dt)=>{let gt="<"+Z;const ut=ln(dt,(yt,st)=>st+'="'+fu.encodeAllRaw(yt)+'"');return ut.length&&(gt+=" "+ut.join(" ")),gt+">"})(w,T),j="</"+w+">",U=Be(P,Z=>Z.split(/\n/).join("<br />"));return U.length===1?U[0]:Be(U,Z=>F+Z+j).join("")})(cg(p,Zs(s)),bl(s),mc(s));lk(s,m,!1,!0)},L1=s=>{const c={};if(s&&s.types)for(let p=0;p<s.types.length;p++){const m=s.types[p];try{c[m]=s.getData(m)}catch{c[m]=""}}return c},Ja=(s,c)=>c in s&&s[c].length>0,ck=s=>Ja(s,"text/html")||Ja(s,"text/plain"),lI=(s,c,p)=>{const m=c.type==="paste"?c.clipboardData:c.dataTransfer;var x;if(rf(s)&&m){const w=((T,P)=>{const F=P.items?xi(re(P.items),U=>U.kind==="file"?[U.getAsFile()]:[]):[],j=P.files?re(P.files):[];return Ln(F.length>0?F:j,(U=>{const Z=UA(U);return dt=>Ui(dt.type,"image/")&&_n(Z,gt=>(ut=>{const yt=ut.toLowerCase(),st={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return zn.hasOwn(st,yt)?"image/"+st[yt]:"image/"+yt})(gt)===dt.type)})(T))})(s,m);if(w.length>0)return c.preventDefault(),(x=w,Promise.all(Be(x,T=>sx(T).then(P=>({file:T,uri:P}))))).then(T=>{p&&s.selection.setRng(p),Ge(T,P=>{((F,j)=>{ax(j.uri).each(({data:U,type:Z,base64Encoded:dt})=>{const gt=dt?U:btoa(U),ut=j.file,yt=F.editorUpload.blobCache,st=yt.getByData(gt,Z),Ct=st??((Rt,Ut,de,ke)=>{const _e=sI(),qe=ih(Rt)&&te(de.name),Xe=qe?((hn,vn)=>{const sn=vn.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return te(sn)?hn.dom.encode(sn[1]):void 0})(Rt,de.name):_e,$e=qe?de.name:void 0,fn=Ut.create(_e,de,ke,Xe,$e);return Ut.add(fn),fn})(F,yt,ut,gt);Yy(F,`<img src="${Ct.blobUri()}">`,!1)})})(s,P)})}),!0}return!1},uk=(s,c,p,m)=>{let x=rI(p);const w=Ja(c,I1())||nI(p),T=!w&&(F=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(F))(x),P=sk(x);(O1(x)||!x.length||T&&!P)&&(m=!0),(m||P)&&(x=Ja(c,"text/plain")&&T?c["text/plain"]:(F=>{const j=zc(),U=Of({},j);let Z="";const dt=j.getVoidElements(),gt=zn.makeMap("script noscript style textarea video audio iframe object"," "),ut=j.getBlockElements(),yt=st=>{const Ct=st.name,Rt=st;if(Ct!=="br"){if(Ct!=="wbr")if(dt[Ct]&&(Z+=" "),gt[Ct])Z+=" ";else{if(st.type===3&&(Z+=st.value),!(st.name in j.getVoidElements())){let Ut=st.firstChild;if(Ut)do yt(Ut);while(Ut=Ut.next)}ut[Ct]&&Rt.next&&(Z+=`
`,Ct==="p"&&(Z+=`
`))}}else Z+=`
`};return F=iI(F,[/<!\[[^\]]+\]>/g]),yt(U.parse(F)),Z})(x)),O1(x)||(m?D1(s,x):Yy(s,x,w))},tD=(s,c,p)=>{((m,x,w)=>{let T;m.on("keydown",P=>{(F=>ki.metaKeyPressed(F)&&F.keyCode===86||F.shiftKey&&F.keyCode===45)(P)&&!P.isDefaultPrevented()&&(T=P.shiftKey&&P.keyCode===86)}),m.on("paste",P=>{if(P.isDefaultPrevented()||(U=>{var Z,dt;return Dr.os.isAndroid()&&((dt=(Z=U.clipboardData)===null||Z===void 0?void 0:Z.items)===null||dt===void 0?void 0:dt.length)===0})(P))return;const F=w.get()==="text"||T;T=!1;const j=L1(P.clipboardData);!ck(j)&&lI(m,P,x.getLastRng()||m.selection.getRng())||(Ja(j,"text/html")?(P.preventDefault(),uk(m,j,j["text/html"],F)):Ja(j,"text/plain")&&Ja(j,"text/uri-list")?(P.preventDefault(),uk(m,j,j["text/plain"],F)):(x.create(),Zl.setEditorTimeout(m,()=>{const U=x.getHtml();x.remove(),uk(m,j,U,F)},0)))})})(s,c,p),(m=>{const x=T=>Ui(T,"webkit-fake-url"),w=T=>Ui(T,"data:");m.parser.addNodeFilter("img",(T,P,F)=>{if(!rf(m)&&(j=>{var U;return((U=j.data)===null||U===void 0?void 0:U.paste)===!0})(F))for(const j of T){const U=j.attr("src");vt(U)&&!j.attr("data-mce-object")&&U!==Dr.transparentSrc&&(x(U)||!HE(m)&&w(U))&&j.remove()}})})(s)},cI=(s,c,p,m)=>{((x,w,T)=>{if(!x)return!1;try{return x.clearData(),x.setData("text/html",w),x.setData("text/plain",T),x.setData(I1(),w),!0}catch{return!1}})(s.clipboardData,c.html,c.text)?(s.preventDefault(),m()):p(c.html,m)},uI=s=>(c,p)=>{const{dom:m,selection:x}=s,w=m.create("div",{contenteditable:"false","data-mce-bogus":"all"}),T=m.create("div",{contenteditable:"true"},c);m.setStyles(w,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),w.appendChild(T),m.add(s.getBody(),w);const P=x.getRng();T.focus();const F=m.createRng();F.selectNodeContents(T),x.setRng(F),Zl.setEditorTimeout(s,()=>{x.setRng(P),m.remove(w),p()},0)},hk=s=>({html:QO(s.selection.getContent({contextual:!0})),text:s.selection.getContent({format:"text"})}),P1=s=>!s.selection.isCollapsed()||(c=>!!c.dom.getParent(c.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",c.getBody()))(s),hI=(s,c)=>{var p,m;return vf.getCaretRangeFromPoint((p=c.clientX)!==null&&p!==void 0?p:0,(m=c.clientY)!==null&&m!==void 0?m:0,s.getDoc())},N1=(s,c)=>{s.focus(),c&&s.selection.setRng(c)},Gy=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,dk=s=>zn.trim(s).replace(Gy,fv).toLowerCase(),pk=(s,c,p)=>{const m=$s(s);if(p||m==="all"||!FE(s))return c;const x=m?m.split(/[, ]/):[];if(x&&m!=="none"){const w=s.dom,T=s.selection.getNode();c=c.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(P,F,j,U)=>{const Z=w.parseStyle(w.decode(j)),dt={};for(let ut=0;ut<x.length;ut++){const yt=Z[x[ut]];let st=yt,Ct=w.getStyle(T,x[ut],!0);/color/.test(x[ut])&&(st=dk(st),Ct=dk(Ct)),Ct!==st&&(dt[x[ut]]=yt)}const gt=w.serializeStyle(dt,"span");return gt?F+' style="'+gt+'"'+U:F+U})}else c=c.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return c=c.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(w,T,P,F)=>T+' style="'+P+'"'+F),c},R1=s=>{const c=ca(!1),p=ca(VE(s)?"text":"html"),m=(x=>{const w=ca(null);return{create:()=>((T,P)=>{const{dom:F,selection:j}=T,U=T.getBody();P.set(j.getRng());const Z=F.add(T.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},rk);Dr.browser.isFirefox()&&F.setStyle(Z,"left",F.getStyle(U,"direction",!0)==="rtl"?65535:-65535),F.bind(Z,"beforedeactivate focusin focusout",dt=>{dt.stopPropagation()}),Z.focus(),j.select(Z,!0)})(x,w),remove:()=>((T,P)=>{const F=T.dom;if(Yf(T)){let j;const U=P.get();for(;j=Yf(T);)F.remove(j),F.unbind(j);U&&T.selection.setRng(U)}P.set(null)})(x,w),getEl:()=>Yf(x),getHtml:()=>(T=>{const P=T.dom,F=(dt,gt)=>{dt.appendChild(gt),P.remove(gt,!0)},[j,...U]=Ln(T.getBody().childNodes,ok);Ge(U,dt=>{F(j,dt)});const Z=P.select("div[id=mcepastebin]",j);for(let dt=Z.length-1;dt>=0;dt--){const gt=P.create("div");j.insertBefore(gt,Z[dt]),F(gt,Z[dt])}return j?j.innerHTML:""})(x),getLastRng:w.get}})(s);(x=>{(Dr.browser.isChromium()||Dr.browser.isSafari())&&((w,T)=>{w.on("PastePreProcess",P=>{P.content=T(w,P.content,P.internal)})})(x,pk)})(s),((x,w)=>{x.addCommand("mceTogglePlainTextPaste",()=>{((T,P)=>{P.get()==="text"?(P.set("html"),$h(T,!1)):(P.set("text"),$h(T,!0)),T.focus()})(x,w)}),x.addCommand("mceInsertClipboardContent",(T,P)=>{P.html&&Yy(x,P.html,P.internal),P.text&&D1(x,P.text)})})(s,p),(x=>{const w=F=>j=>{F(x,j)},T=BE(x);fe(T)&&x.on("PastePreProcess",w(T));const P=zE(x);fe(P)&&x.on("PastePostProcess",w(P))})(s),s.on("PreInit",()=>{(x=>{x.on("cut",(w=>T=>{!T.isDefaultPrevented()&&P1(w)&&cI(T,hk(w),uI(w),()=>{if(Dr.browser.isChromium()||Dr.browser.isFirefox()){const P=w.selection.getRng();Zl.setEditorTimeout(w,()=>{w.selection.setRng(P),w.execCommand("Delete")},0)}else w.execCommand("Delete")})})(x)),x.on("copy",(w=>T=>{!T.isDefaultPrevented()&&P1(w)&&cI(T,hk(w),uI(w),le)})(x))})(s),((x,w)=>{vu(x)&&x.on("dragend dragover draggesture dragdrop drop drag",T=>{T.preventDefault(),T.stopPropagation()}),rf(x)||x.on("drop",T=>{const P=T.dataTransfer;P&&(F=>_n(F.files,j=>/^image\//.test(j.type)))(P)&&T.preventDefault()}),x.on("drop",T=>{if(T.isDefaultPrevented())return;const P=hI(x,T);if(Wt(P))return;const F=L1(T.dataTransfer),j=Ja(F,I1());if((!ck(F)||(gt=>{const ut=gt["text/plain"];return!!ut&&ut.indexOf("file://")===0})(F))&&lI(x,T,P))return;const U=F[I1()],Z=U||F["text/html"]||F["text/plain"],dt=((gt,ut,yt,st)=>{const Ct=gt.getParent(yt,Rt=>Uu(ut,Rt));if(Ct&&Hn(st,"text/html")){const Rt=new DOMParser().parseFromString(st["text/html"],"text/html").body;return!ct(Rt.querySelector(Ct.nodeName.toLowerCase()))}return!1})(x.dom,x.schema,P.startContainer,F);w.get()&&!dt||Z&&(T.preventDefault(),Zl.setEditorTimeout(x,()=>{x.undoManager.transact(()=>{U&&x.execCommand("Delete"),N1(x,P);const gt=rI(Z);F["text/html"]?Yy(x,gt,j):D1(x,gt)})}))}),x.on("dragstart",T=>{w.set(!0)}),x.on("dragover dragend",T=>{rf(x)&&!w.get()&&(T.preventDefault(),N1(x,hI(x,T))),T.type==="dragend"&&w.set(!1)})})(s,c),tD(s,m,p)})},eD=nr,wm=Sn,nD=s=>or(s.dom),dI=s=>c=>Ir(Ke(s),c),fk=(s,c)=>vs(Ke(s),nD,dI(c)),gk=(s,c,p)=>{const m=new zt(s,c),x=p?m.next.bind(m):m.prev.bind(m);let w=s;for(let T=p?s:x();T&&!eD(T);T=x())Vl(T)&&(w=T);return w},iD=s=>{const c=((p,m)=>{const x=Cn.fromRangeStart(p).getNode(),w=((j,U)=>vs(Ke(j),Z=>(dt=>dr(dt.dom))(Z)||Gr(Z),dI(U)).getOr(Ke(U)).dom)(x,m),T=gk(x,w,!1),P=gk(x,w,!0),F=document.createRange();return fk(T,w).fold(()=>{wm(T)?F.setStart(T,0):F.setStartBefore(T)},j=>F.setStartBefore(j.dom)),fk(P,w).fold(()=>{wm(P)?F.setEnd(P,P.data.length):F.setEndAfter(P)},j=>F.setEndAfter(j.dom)),F})(s.selection.getRng(),s.getBody());s.selection.setRng(rp(c))};var Gf;(function(s){s.Before="before",s.After="after"})(Gf||(Gf={}));const rD=(s,c)=>Math.abs(s.left-c),oD=(s,c)=>Math.abs(s.right-c),aD=(s,c)=>(p=>ar(p,(m,x)=>m.fold(()=>lt.some(x),w=>{const T=Math.min(x.left,w.left),P=Math.min(x.top,w.top),F=Math.max(x.right,w.right),j=Math.max(x.bottom,w.bottom);return lt.some({top:P,right:F,bottom:j,left:T,width:F-T,height:j-P})}),lt.none()))(Ln(s,p=>{return(m=c)>=(x=p).top&&m<=x.bottom;var m,x})).fold(()=>[[],s],p=>{const{pass:m,fail:x}=wr(s,w=>((T,P)=>{const F=((j,U)=>Math.max(0,Math.min(j.bottom,U.bottom)-Math.max(j.top,U.top)))(T,P)/Math.min(T.height,P.height);return((j,U)=>j.top<U.bottom&&j.bottom>U.top)(T,P)&&F>.5})(w,p));return[m,x]}),sD=(s,c,p)=>c>s.left&&c<s.right?0:Math.min(Math.abs(s.left-c),Math.abs(s.right-c)),Xy=(s,c,p)=>{const m=j=>Vl(j.node)?lt.some(j):We(j.node)?Xy(re(j.node.childNodes),c,p):lt.none(),x=(j,U)=>{const Z=Kr(j,(dt,gt)=>U(dt,c,p)-U(gt,c,p));return((dt,gt)=>{if(dt.length>=2){const ut=m(dt[0]).getOr(dt[0]),yt=m(dt[1]).getOr(dt[1]);if(Math.abs(gt(ut,c,p)-gt(yt,c,p))<2){if(Sn(ut.node))return lt.some(ut);if(Sn(yt.node))return lt.some(yt)}}return lt.none()})(Z,U).orThunk(()=>Pe(Z,m))},[w,T]=aD(hm(s),p),{pass:P,fail:F}=wr(T,j=>j.top<p);return x(w,sD).orThunk(()=>x(F,Ei)).orThunk(()=>x(P,Ei))},mk=(s,c,p)=>((m,x,w)=>{const T=Ke(m),P=Vr(T),F=ba(P,x,w).filter(j=>Ua(T,j)).getOr(T);return((j,U,Z,dt)=>{const gt=(ut,yt)=>{const st=Ln(ut.dom.childNodes,Fn(Ct=>We(Ct)&&Ct.classList.contains("mce-drag-container")));return yt.fold(()=>Xy(st,Z,dt),Ct=>{const Rt=Ln(st,Ut=>Ut!==Ct.dom);return Xy(Rt,Z,dt)}).orThunk(()=>(Ir(ut,j)?lt.none():ac(ut)).bind(Ct=>gt(Ct,lt.some(ut))))};return gt(U,lt.none())})(T,F,x,w)})(s,c,p).filter(m=>To(m.node)).map(m=>((x,w)=>({node:x.node,position:rD(x,w)<oD(x,w)?Gf.Before:Gf.After}))(m,c)),vk=s=>{var c,p;const m=s.getBoundingClientRect(),x=s.ownerDocument,w=x.documentElement,T=x.defaultView;return{top:m.top+((c=T?.scrollY)!==null&&c!==void 0?c:0)-w.clientTop,left:m.left+((p=T?.scrollX)!==null&&p!==void 0?p:0)-w.clientLeft}},yk=s=>({target:s,srcElement:s}),ad=s=>(c,p)=>((m,x,w)=>({...x,dataTransfer:null,type:m,...w}))(s,c,yk(p)),pI=ad("dragstart"),B1=ad("drop"),lD=s=>((c,p)=>{const m=dn("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"dragend",composedPath:m,initEvent:m,preventDefault:le,stopImmediatePropagation:le,stopPropagation:le,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:m,initMouseEvent:m,getModifierState:m,dataTransfer:null,...p}})(0,yk(s)),Sm=ad("dragend"),fI=or,bk=((...s)=>c=>{for(let p=0;p<s.length;p++)if(s[p](c))return!0;return!1})(fI,dr),ts=(s,c,p,m)=>{const x=s.dom,w=c.cloneNode(!0);x.setStyles(w,{width:p,height:m}),x.setAttrib(w,"data-mce-selected",null);const T=x.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return x.setStyles(T,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:p,height:m}),x.setStyles(w,{margin:0,boxSizing:"border-box"}),T.appendChild(w),T},Cm=(s,c)=>p=>()=>{const m=s==="left"?p.scrollX:p.scrollY;p.scroll({[s]:m+c,behavior:"smooth"})},qy=Cm("left",-32),xk=Cm("left",32),km=Cm("top",-32),Am=Cm("top",32),Ap=s=>{s&&s.parentNode&&s.parentNode.removeChild(s)},_k=(s,c)=>{const p=Dd((x,w)=>((T,P,F)=>{T._selectionOverrides.hideFakeCaret(),mk(T.getBody(),P,F).fold(()=>T.selection.placeCaretAt(P,F),j=>{const U=T._selectionOverrides.showCaret(1,j.node,j.position===Gf.Before,!1);U?T.selection.setRng(U):T.selection.placeCaretAt(P,F)})})(c,x,w),0);c.on("remove",p.cancel);const m=s;return x=>s.on(w=>{const T=Math.max(Math.abs(x.screenX-w.screenX),Math.abs(x.screenY-w.screenY));if(!w.dragging&&T>10){if(c.dispatch("dragstart",pI(x,w.element)).isDefaultPrevented())return;w.dragging=!0,c.focus()}if(w.dragging){const j=x.currentTarget===c.getDoc().documentElement,U=((Z,dt)=>({pageX:dt.pageX-Z.relX,pageY:dt.pageY+5}))(w,((Z,dt)=>{return gt=(st=>st.inline?vk(st.getBody()):{left:0,top:0})(Z),ut=(st=>{const Ct=st.getBody();return st.inline?{left:Ct.scrollLeft,top:Ct.scrollTop}:{left:0,top:0}})(Z),yt=((st,Ct)=>{if(Ct.target.ownerDocument!==st.getDoc()){const Rt=vk(st.getContentAreaContainer()),Ut=(de=>{const ke=de.getBody(),_e=de.getDoc().documentElement,qe={left:ke.scrollLeft,top:ke.scrollTop},Xe={left:ke.scrollLeft||_e.scrollLeft,top:ke.scrollTop||_e.scrollTop};return de.inline?qe:Xe})(st);return{left:Ct.pageX-Rt.left+Ut.left,top:Ct.pageY-Rt.top+Ut.top}}return{left:Ct.pageX,top:Ct.pageY}})(Z,dt),{pageX:yt.left-gt.left+ut.left,pageY:yt.top-gt.top+ut.top};var gt,ut,yt})(c,x));P=w.ghost,F=c.getBody(),P.parentNode!==F&&F.appendChild(P),((Z,dt,gt,ut,yt,st,Ct,Rt,Ut,de,ke,_e)=>{let qe=0,Xe=0;Z.style.left=dt.pageX+"px",Z.style.top=dt.pageY+"px",dt.pageX+gt>yt&&(qe=dt.pageX+gt-yt),dt.pageY+ut>st&&(Xe=dt.pageY+ut-st),Z.style.width=gt-qe+"px",Z.style.height=ut-Xe+"px";const $e=Ut.clientHeight,fn=Ut.clientWidth,hn=Ct+Ut.getBoundingClientRect().top,vn=Rt+Ut.getBoundingClientRect().left;ke.on(sn=>{sn.intervalId.clear(),sn.dragging&&_e&&(Ct+8>=$e?sn.intervalId.set(Am(de)):Ct-8<=0?sn.intervalId.set(km(de)):Rt+8>=fn?sn.intervalId.set(xk(de)):Rt-8<=0?sn.intervalId.set(qy(de)):hn+16>=window.innerHeight?sn.intervalId.set(Am(window)):hn-16<=0?sn.intervalId.set(km(window)):vn+16>=window.innerWidth?sn.intervalId.set(xk(window)):vn-16<=0&&sn.intervalId.set(qy(window)))})})(w.ghost,U,w.width,w.height,w.maxX,w.maxY,x.clientY,x.clientX,c.getContentAreaContainer(),c.getWin(),m,j),p.throttle(x.clientX,x.clientY)}var P,F})},z1=(s,c,p)=>{s.on(m=>{if(m.intervalId.clear(),m.dragging){const x=p.fold(()=>lD(m.element),w=>Sm(w,m.element));c.dispatch("dragend",x)}}),wk(s)},wk=s=>{s.on(c=>{c.intervalId.clear(),Ap(c.ghost)}),s.clear()},cD=s=>{const c=pa(),p=Sr.DOM,m=document,x=((F,j)=>U=>{if((Z=>Z.button===0)(U)){const Z=wn(j.dom.getParents(U.target),bk).getOr(null);if(te(Z)&&((dt,gt,ut)=>fI(ut)&&ut!==gt&&dt.isEditable(ut.parentElement))(j.dom,j.getBody(),Z)){const dt=j.dom.getPos(Z),gt=j.getBody(),ut=j.getDoc().documentElement;F.set({element:Z,dragging:!1,screenX:U.screenX,screenY:U.screenY,maxX:(j.inline?gt.scrollWidth:ut.offsetWidth)-2,maxY:(j.inline?gt.scrollHeight:ut.offsetHeight)-2,relX:U.pageX-dt.x,relY:U.pageY-dt.y,width:Z.offsetWidth,height:Z.offsetHeight,ghost:ts(j,Z,Z.offsetWidth,Z.offsetHeight),intervalId:Gm(100)})}}})(c,s),w=_k(c,s),T=((F,j)=>U=>{F.on(Z=>{var dt;if(Z.intervalId.clear(),Z.dragging){if(((gt,ut,yt)=>!Wt(ut)&&ut!==yt&&!gt.dom.isChildOf(ut,yt)&&gt.dom.isEditable(ut))(j,(gt=>{const ut=gt.getSel();if(te(ut)){const yt=ut.getRangeAt(0).startContainer;return Sn(yt)?yt.parentNode:yt}return null})(j.selection),Z.element)){const gt=(yt=>{const st=yt.cloneNode(!0);return st.removeAttribute("data-mce-selected"),st})(Z.element),ut=(dt=j.getDoc().elementFromPoint(U.clientX,U.clientY))!==null&&dt!==void 0?dt:j.getBody();j.dispatch("drop",B1(U,ut)).isDefaultPrevented()||j.undoManager.transact(()=>{((yt,st)=>{const Ct=yt.getParent(st.parentNode,yt.isBlock);Ap(st),Ct&&Ct!==yt.getRoot()&&yt.isEmpty(Ct)&&fc(Ke(Ct))})(j.dom,Z.element),j.insertContent(j.dom.getOuterHTML(gt)),j._selectionOverrides.hideFakeCaret()})}j.dispatch("dragend",Sm(U,j.getBody()))}}),wk(F)})(c,s),P=((F,j)=>U=>z1(F,j,lt.some(U)))(c,s);s.on("mousedown",x),s.on("mousemove",w),s.on("mouseup",T),p.bind(m,"mousemove",w),p.bind(m,"mouseup",P),s.on("remove",()=>{p.unbind(m,"mousemove",w),p.unbind(m,"mouseup",P)}),s.on("keydown",F=>{F.keyCode===ki.ESC&&z1(c,s,lt.none())})},Mp=or,Sk=(s,c)=>wc(s.getBody(),c),uD=s=>{const c=s.selection,p=s.dom,m=s.getBody(),x=Ig(s,m,p.isBlock,()=>_f(s)),w="sel-"+p.uniqueId(),T="data-mce-selected";let P;const F=st=>st!==m&&(Mp(st)||io(st))&&p.isChildOf(st,m)&&p.isEditable(st.parentNode),j=(st,Ct,Rt,Ut=!0)=>s.dispatch("ShowCaret",{target:Ct,direction:st,before:Rt}).isDefaultPrevented()?null:(Ut&&c.scrollIntoView(Ct,st===-1),x.show(Rt,Ct)),U=st=>Di(st)||hu(st)||Pc(st),Z=st=>U(st.startContainer)||U(st.endContainer),dt=st=>{const Ct=s.schema.getVoidElements(),Rt=p.createRng(),Ut=st.startContainer,de=st.startOffset,ke=st.endContainer,_e=st.endOffset;return Hn(Ct,Ut.nodeName.toLowerCase())?de===0?Rt.setStartBefore(Ut):Rt.setStartAfter(Ut):Rt.setStart(Ut,de),Hn(Ct,ke.nodeName.toLowerCase())?_e===0?Rt.setEndBefore(ke):Rt.setEndAfter(ke):Rt.setEnd(ke,_e),Rt},gt=(st,Ct)=>{if(!st)return null;if(st.collapsed){if(!Z(st)){const ke=Ct?1:-1,_e=Lg(ke,m,st),qe=_e.getNode(!Ct);if(te(qe)){if(To(qe))return j(ke,qe,!!Ct&&!_e.isAtEnd(),!1);if(ws(qe)&&or(qe.nextSibling)){const $e=p.createRng();return $e.setStart(qe,0),$e.setEnd(qe,0),$e}}const Xe=_e.getNode(Ct);if(te(Xe)){if(To(Xe))return j(ke,Xe,!Ct&&!_e.isAtEnd(),!1);if(ws(Xe)&&or(Xe.previousSibling)){const $e=p.createRng();return $e.setStart(Xe,1),$e.setEnd(Xe,1),$e}}}return null}let Rt=st.startContainer,Ut=st.startOffset;const de=st.endOffset;if(Sn(Rt)&&Ut===0&&Mp(Rt.parentNode)&&(Rt=Rt.parentNode,Ut=p.nodeIndex(Rt),Rt=Rt.parentNode),!We(Rt))return null;if(de===Ut+1&&Rt===st.endContainer){const ke=Rt.childNodes[Ut];if(F(ke))return(_e=>{const qe=_e.cloneNode(!0),Xe=s.dispatch("ObjectSelected",{target:_e,targetClone:qe});if(Xe.isDefaultPrevented())return null;const $e=((hn,vn)=>{const sn=Ke(s.getBody()),Tn=s.getDoc(),Qn=ys(sn,"#"+w).getOrThunk(()=>{const qi=ha('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Tn);return Xo(qi,"id",w),Ho(sn,qi),qi}),ni=p.createRng();dl(Qn),Dc(Qn,[qa(no,Tn),Ke(vn),qa(no,Tn)]),ni.setStart(Qn.dom.firstChild,1),ni.setEnd(Qn.dom.lastChild,0),ul(Qn,{top:p.getPos(hn,s.getBody()).y+"px"}),pM(Qn);const Pi=c.getSel();return Pi&&(Pi.removeAllRanges(),Pi.addRange(ni)),ni})(_e,Xe.targetClone),fn=Ke(_e);return Ge(oe(Ke(s.getBody()),"*[data-mce-selected]"),hn=>{Ir(fn,hn)||Ko(hn,T)}),p.getAttrib(_e,T)||_e.setAttribute(T,"1"),P=_e,yt(),$e})(ke)}return null},ut=()=>{P&&P.removeAttribute(T),ys(Ke(s.getBody()),"#"+w).each(uo),P=null},yt=()=>{x.hide()};return _h(s)||(s.on("click",st=>{p.isEditable(st.target)||(st.preventDefault(),s.focus())}),s.on("blur NewBlock",ut),s.on("ResizeWindow FullscreenStateChanged",x.reposition),s.on("tap",st=>{const Ct=st.target,Rt=Sk(s,Ct);Mp(Rt)?(st.preventDefault(),Rf(s,Rt).each(gt)):F(Ct)&&Rf(s,Ct).each(gt)},!0),s.on("mousedown",st=>{const Ct=st.target;if(Ct!==m&&Ct.nodeName!=="HTML"&&!p.isChildOf(Ct,m)||!((Ut,de,ke)=>{const _e=Ke(Ut.getBody()),qe=Ut.inline?_e:Ke(Vr(_e).dom.documentElement),Xe=(($e,fn,hn,vn)=>{const sn=(Tn=>Tn.dom.getBoundingClientRect())(fn);return{x:hn-($e?sn.left+fn.dom.clientLeft+NT(fn):0),y:vn-($e?sn.top+fn.dom.clientTop+PT(fn):0)}})(Ut.inline,qe,de,ke);return(($e,fn,hn)=>{const vn=DT($e),sn=LT($e);return fn>=0&&hn>=0&&fn<=vn&&hn<=sn})(qe,Xe.x,Xe.y)})(s,st.clientX,st.clientY))return;ut(),yt();const Rt=Sk(s,Ct);Mp(Rt)?(st.preventDefault(),Rf(s,Rt).each(gt)):mk(m,st.clientX,st.clientY).each(Ut=>{var de;st.preventDefault(),(de=j(1,Ut.node,Ut.position===Gf.Before,!1))&&c.setRng(de),We(Rt)?Rt.focus():s.getBody().focus()})}),s.on("keypress",st=>{ki.modifierPressed(st)||Mp(c.getNode())&&st.preventDefault()}),s.on("GetSelectionRange",st=>{let Ct=st.range;if(P){if(!P.parentNode)return void(P=null);Ct=Ct.cloneRange(),Ct.selectNode(P),st.range=Ct}}),s.on("SetSelectionRange",st=>{st.range=dt(st.range);const Ct=gt(st.range,st.forward);Ct&&(st.range=Ct)}),s.on("AfterSetSelectionRange",st=>{const Ct=st.range,Rt=Ct.startContainer.parentElement;var Ut;Z(Ct)||We(Ut=Rt)&&Ut.id==="mcepastebin"||yt(),(de=>te(de)&&p.hasClass(de,"mce-offscreen-selection"))(Rt)||ut()}),(st=>{cD(st),Jm(st)&&(Ct=>{const Rt=ke=>{if(!ke.isDefaultPrevented()){const _e=ke.dataTransfer;_e&&(Te(_e.types,"Files")||_e.files.length>0)&&(ke.preventDefault(),ke.type==="drop"&&Dx(Ct,"Dropped file type is not supported"))}},Ut=ke=>{yb(Ct,ke.target)&&Rt(ke)},de=()=>{const ke=Sr.DOM,_e=Ct.dom,qe=document,Xe=Ct.inline?Ct.getBody():Ct.getDoc(),$e=["drop","dragover"];Ge($e,fn=>{ke.bind(qe,fn,Ut),_e.bind(Xe,fn,Rt)}),Ct.on("remove",()=>{Ge($e,fn=>{ke.unbind(qe,fn,Ut),_e.unbind(Xe,fn,Rt)})})};Ct.on("init",()=>{Zl.setEditorTimeout(Ct,de,0)})})(st)})(s),(st=>{const Ct=Dd(()=>{if(!st.removed&&st.getBody().contains(document.activeElement)){const Rt=st.selection.getRng();if(Rt.collapsed){const Ut=jS(st,Rt,!1);st.selection.setRng(Ut)}}},0);st.on("focus",()=>{Ct.throttle()}),st.on("blur",()=>{Ct.cancel()})})(s),(st=>{st.on("init",()=>{st.on("focusin",Ct=>{const Rt=Ct.target;if(io(Rt)){const Ut=wc(st.getBody(),Rt),de=or(Ut)?Ut:Rt;st.selection.getNode()!==de&&Rf(st,de).each(ke=>st.selection.setRng(ke))}})})})(s)),{showCaret:j,showBlockCaretContainer:st=>{st.hasAttribute("data-mce-caret")&&(Vh(st),c.scrollIntoView(st))},hideFakeCaret:yt,destroy:()=>{x.destroy(),P=null}}},gI=(s,c)=>{let p=c;for(let m=s.previousSibling;Sn(m);m=m.previousSibling)p+=m.data.length;return p},Ck=(s,c,p,m,x)=>{if(Sn(p)&&(m<0||m>p.data.length))return[];const w=x&&Sn(p)?[gI(p,m)]:[m];let T=p;for(;T!==c&&T.parentNode;)w.push(s.nodeIndex(T,x)),T=T.parentNode;return T===c?w.reverse():[]},Uy=(s,c,p,m,x,w,T=!1)=>({start:Ck(s,c,p,m,T),end:Ck(s,c,x,w,T)}),F1=(s,c)=>{const p=c.slice(),m=p.pop();return Me(m)?ar(p,(x,w)=>x.bind(T=>lt.from(T.childNodes[w])),lt.some(s)).bind(x=>Sn(x)&&(m<0||m>x.data.length)?lt.none():lt.some({node:x,offset:m})):lt.none()},Mm=(s,c)=>F1(s,c.start).bind(({node:p,offset:m})=>F1(s,c.end).map(({node:x,offset:w})=>{const T=document.createRange();return T.setStart(p,m),T.setEnd(x,w),T})),sd=(s,c,p)=>{if(c&&s.isEmpty(c)&&!p(c)){const m=c.parentNode;s.remove(c),sd(s,m,p)}},$y=(s,c,p,m=!0)=>{const x=c.startContainer.parentNode,w=c.endContainer.parentNode;c.deleteContents(),m&&!p(c.startContainer)&&(Sn(c.startContainer)&&c.startContainer.data.length===0&&s.remove(c.startContainer),Sn(c.endContainer)&&c.endContainer.data.length===0&&s.remove(c.endContainer),sd(s,x,p),x!==w&&sd(s,w,p))},Zy=(s,c)=>lt.from(s.dom.getParent(c.startContainer,s.dom.isBlock)),kk=(s,c,p)=>{const m=s.dynamicPatternsLookup({text:p,block:c});return{...s,blockPatterns:Sg(m).concat(s.blockPatterns),inlinePatterns:wA(m).concat(s.inlinePatterns)}},mI=(s,c,p,m)=>{const x=s.createRng();return x.setStart(c,0),x.setEnd(p,m),x.toString()},vI=(s,c,p)=>{((m,x,w)=>{if(Sn(m)&&0>=m.length)return lt.some(Ac(m,0));{const T=Ue(Ty);return lt.from(T.forwards(m,0,c1(m),w)).map(P=>Ac(P.container,0))}})(c,0,c).each(m=>{const x=m.container;MC(x,p.start.length,c).each(P=>{const F=s.createRng();F.setStart(x,0),F.setEnd(P.container,P.offset),$y(s,F,j=>j===c)});const w=Ke(x),T=xo(w);/^\s[^\s]/.test(T)&&((P,F)=>{la.set(P,F)})(w,T.slice(1))})},yI=(s,c)=>s.create("span",{"data-mce-type":"bookmark",id:c}),V1=(s,c)=>{const p=s.createRng();return p.setStartAfter(c.start),p.setEndBefore(c.end),p},Ak=(s,c,p)=>{const m=Mm(s.getRoot(),p).getOrDie("Unable to resolve path range"),x=m.startContainer,w=m.endContainer,T=m.endOffset===0?w:w.splitText(m.endOffset),P=m.startOffset===0?x:x.splitText(m.startOffset),F=P.parentNode;return{prefix:c,end:T.parentNode.insertBefore(yI(s,c+"-end"),T),start:F.insertBefore(yI(s,c+"-start"),P)}},bI=(s,c,p)=>{sd(s,s.get(c.prefix+"-end"),p),sd(s,s.get(c.prefix+"-start"),p)},H1=s=>s.start.length===0,Mk=(s,c,p,m)=>{const x=c.start;var w;return kh(s,m.container,m.offset,(w=x,(T,P)=>{const F=T.data.substring(0,P),j=F.lastIndexOf(w.charAt(w.length-1)),U=F.lastIndexOf(w);return U!==-1?U+w.length:j!==-1?j+1:-1}),p).bind(T=>{var P,F;const j=(F=(P=p.textContent)===null||P===void 0?void 0:P.indexOf(x))!==null&&F!==void 0?F:-1;if(j!==-1&&T.offset>=j+x.length){const U=s.createRng();return U.setStart(T.container,T.offset-x.length),U.setEnd(T.container,T.offset),lt.some(U)}{const U=T.offset-x.length;return u1(T.container,U,p).map(Z=>{const dt=s.createRng();return dt.setStart(Z.container,Z.offset),dt.setEnd(T.container,T.offset),dt}).filter(Z=>Z.toString()===x).orThunk(()=>Mk(s,c,p,Ac(T.container,0)))}})},xI=(s,c,p,m)=>{const x=s.dom,w=x.getRoot(),T=p.pattern,P=p.position.container,F=p.position.offset;return u1(P,F-p.pattern.end.length,c).bind(j=>{const U=Uy(x,w,j.container,j.offset,P,F,m);if(H1(T))return lt.some({matches:[{pattern:T,startRng:U,endRng:U}],position:j});{const Z=W1(s,p.remainingPatterns,j.container,j.offset,c,m),dt=Z.getOr({matches:[],position:j}),gt=dt.position;return((yt,st,Ct,Rt,Ut,de=!1)=>{if(st.start.length===0&&!de){const ke=yt.createRng();return ke.setStart(Ct,Rt),ke.setEnd(Ct,Rt),lt.some(ke)}return Iy(Ct,Rt,Ut).bind(ke=>Mk(yt,st,Ut,ke).bind(_e=>{var qe;return de&&(_e.endContainer===ke.container&&_e.endOffset===ke.offset||ke.offset===0&&((qe=_e.endContainer.textContent)===null||qe===void 0?void 0:qe.length)===_e.endOffset)?lt.none():lt.some(_e)}))})(x,T,gt.container,gt.offset,c,Z.isNone()).map(yt=>{const st=((Ct,Rt,Ut,de=!1)=>Uy(Ct,Rt,Ut.startContainer,Ut.startOffset,Ut.endContainer,Ut.endOffset,de))(x,w,yt,m);return{matches:dt.matches.concat([{pattern:T,startRng:st,endRng:U}]),position:Ac(yt.startContainer,yt.startOffset)}})}})},W1=(s,c,p,m,x,w)=>{const T=s.dom;return Iy(p,m,T.getRoot()).bind(P=>{const F=mI(T,x,p,m);for(let j=0;j<c.length;j++){const U=c[j];if(!qt(F,U.end))continue;const Z=c.slice();Z.splice(j,1);const dt=xI(s,x,{pattern:U,remainingPatterns:Z,position:P},w);if(dt.isNone()&&m>0)return W1(s,c,p,m-1,x,w);if(dt.isSome())return dt}return lt.none()})},_I=(s,c,p)=>{s.selection.setRng(p),c.type==="inline-format"?Ge(c.format,m=>{s.formatter.apply(m)}):s.execCommand(c.cmd,!1,c.value)},Ky=(s,c,p,m,x,w)=>{var T;return((P,F)=>{const j=oi(P,U=>_n(F,Z=>U.pattern.start===Z.pattern.start&&U.pattern.end===Z.pattern.end));return P.length===F.length?j?P:F:P.length>F.length?P:F})(W1(s,x.inlinePatterns,p,m,c,w).fold(()=>[],P=>P.matches),W1(s,(T=x.inlinePatterns,Kr(T,(P,F)=>F.end.length-P.end.length)),p,m,c,w).fold(()=>[],P=>P.matches))},wI=(s,c)=>{if(c.length===0)return;const p=s.dom,m=s.selection.getBookmark(),x=((w,T)=>{const P=Ht("mce_textpattern"),F=di(T,(j,U)=>{const Z=Ak(w,P+`_end${j.length}`,U.endRng);return j.concat([{...U,endMarker:Z}])},[]);return di(F,(j,U)=>{const Z=F.length-j.length-1,dt=H1(U.pattern)?U.endMarker:Ak(w,P+`_start${Z}`,U.startRng);return j.concat([{...U,startMarker:dt}])},[])})(p,c);Ge(x,w=>{const T=p.getParent(w.startMarker.start,p.isBlock),P=F=>F===T;H1(w.pattern)?((F,j,U,Z)=>{const dt=V1(F.dom,U);$y(F.dom,dt,Z),_I(F,j,dt)})(s,w.pattern,w.endMarker,P):((F,j,U,Z,dt)=>{const gt=F.dom,ut=V1(gt,Z),yt=V1(gt,U);$y(gt,yt,dt),$y(gt,ut,dt);const st={prefix:U.prefix,start:U.end,end:Z.start},Ct=V1(gt,st);_I(F,j,Ct)})(s,w.pattern,w.startMarker,w.endMarker,P),bI(p,w.endMarker,P),bI(p,w.startMarker,P)}),s.selection.moveToBookmark(m)},Tk=(s,c)=>{const p=s.selection.getRng();return Zy(s,p).map(m=>{var x;const w=Math.max(0,p.startOffset),T=kk(c,m,(x=m.textContent)!==null&&x!==void 0?x:""),P=Ky(s,m,p.startContainer,w,T,!0),F=((j,U,Z,dt)=>{var gt;const ut=j.dom,yt=bl(j);if(!ut.is(U,yt))return[];const st=(gt=U.textContent)!==null&&gt!==void 0?gt:"";return((Ct,Rt)=>{const Ut=(ke=>Kr(ke,(_e,qe)=>qe.start.length-_e.start.length))(Ct),de=Rt.replace(no," ");return wn(Ut,ke=>Rt.indexOf(ke.start)===0||de.indexOf(ke.start)===0)})(Z.blockPatterns,st).map(Ct=>zn.trim(st).length===Ct.start.length?[]:[{pattern:Ct,range:Uy(ut,ut.getRoot(),U,0,U,0,!0)}]).getOr([])})(s,m,T);return(F.length>0||P.length>0)&&(s.undoManager.add(),s.undoManager.extra(()=>{s.execCommand("mceInsertNewLine")},()=>{s.insertContent(Ta),wI(s,P),((Z,dt)=>{if(dt.length===0)return;const gt=Z.selection.getBookmark();Ge(dt,ut=>((yt,st)=>{const Ct=yt.dom,Rt=st.pattern,Ut=Mm(Ct.getRoot(),st.range).getOrDie("Unable to resolve path range");return Zy(yt,Ut).each(de=>{Rt.type==="block-format"?((ke,_e)=>{const qe=_e.get(ke);return wt(qe)&&At(qe).exists(Xe=>Hn(Xe,"block"))})(Rt.format,yt.formatter)&&yt.undoManager.transact(()=>{vI(yt.dom,de,Rt),yt.formatter.apply(Rt.format)}):Rt.type==="block-command"&&yt.undoManager.transact(()=>{vI(yt.dom,de,Rt),yt.execCommand(Rt.cmd,!1,Rt.value)})}),!0})(Z,ut)),Z.selection.moveToBookmark(gt)})(s,F);const j=s.selection.getRng(),U=Iy(j.startContainer,j.startOffset,s.dom.getRoot());s.execCommand("mceInsertNewLine"),U.each(Z=>{const dt=Z.container;dt.data.charAt(Z.offset-1)===Ta&&(dt.deleteData(Z.offset-1,1),sd(s.dom,dt.parentNode,gt=>gt===s.dom.getRoot()))})}),!0)}).getOr(!1)},Qy=(s,c,p)=>{for(let m=0;m<s.length;m++)if(p(s[m],c))return!0;return!1},SI=s=>{const c=zn.each,p=ki.BACKSPACE,m=ki.DELETE,x=s.dom,w=s.selection,T=s.parser,P=Dr.browser,F=P.isFirefox(),j=P.isChromium()||P.isSafari(),U=Dr.deviceType.isiPhone()||Dr.deviceType.isiPad(),Z=Dr.os.isMacOS()||Dr.os.isiOS(),dt=(hn,vn)=>{try{s.getDoc().execCommand(hn,!1,String(vn))}catch{}},gt=hn=>hn.isDefaultPrevented(),ut=()=>{s.shortcuts.add("meta+a",null,"SelectAll")},yt=()=>{s.inline||x.bind(s.getDoc(),"mousedown mouseup",hn=>{let vn;if(hn.target===s.getDoc().documentElement)if(vn=w.getRng(),s.getBody().focus(),hn.type==="mousedown"){if(Di(vn.startContainer))return;w.placeCaretAt(hn.clientX,hn.clientY)}else w.setRng(vn)})},st=()=>{Range.prototype.getClientRects||s.on("mousedown",hn=>{if(!gt(hn)&&hn.target.nodeName==="HTML"){const vn=s.getBody();vn.blur(),Zl.setEditorTimeout(s,()=>{vn.focus()})}})},Ct=()=>{const hn=Rd(s);s.on("click",vn=>{const sn=vn.target;/^(IMG|HR)$/.test(sn.nodeName)&&x.isEditable(sn.parentNode)&&(vn.preventDefault(),s.selection.select(sn),s.nodeChanged()),sn.nodeName==="A"&&x.hasClass(sn,hn)&&sn.childNodes.length===0&&x.isEditable(sn.parentNode)&&(vn.preventDefault(),w.select(sn))})},Rt=()=>{s.on("keydown",hn=>{if(!gt(hn)&&hn.keyCode===p&&w.isCollapsed()&&w.getRng().startOffset===0){const vn=w.getNode().previousSibling;if(vn&&vn.nodeName&&vn.nodeName.toLowerCase()==="table")return hn.preventDefault(),!1}return!0})},Ut=()=>{N0(s)||s.on("BeforeExecCommand mousedown",()=>{dt("StyleWithCSS",!1),dt("enableInlineTableEditing",!1),Ag(s)||dt("enableObjectResizing",!1)})},de=()=>{s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ke=()=>{s.inline||s.on("keydown",()=>{document.activeElement===document.body&&s.getWin().focus()})},_e=()=>{s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",hn=>{let vn;hn.target.nodeName==="HTML"&&(vn=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(vn),s.selection.normalize(),s.nodeChanged())}))},qe=()=>{Z&&s.on("keydown",hn=>{!ki.metaKeyPressed(hn)||hn.shiftKey||hn.keyCode!==37&&hn.keyCode!==39||(hn.preventDefault(),s.selection.getSel().modify("move",hn.keyCode===37?"backward":"forward","lineboundary"))})},Xe=()=>{s.on("click",hn=>{let vn=hn.target;do if(vn.tagName==="A")return void hn.preventDefault();while(vn=vn.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},$e=()=>{s.on("init",()=>{s.dom.bind(s.getBody(),"submit",hn=>{hn.preventDefault()})})},fn=le;return _h(s)?(j&&(yt(),Ct(),$e(),ut(),U&&(ke(),_e(),Xe())),F&&(st(),Ut(),de(),qe())):(s.on("keydown",hn=>{if(gt(hn)||hn.keyCode!==ki.BACKSPACE)return;let vn=w.getRng();const sn=vn.startContainer,Tn=vn.startOffset,Qn=x.getRoot();let ni=sn;if(vn.collapsed&&Tn===0){for(;ni.parentNode&&ni.parentNode.firstChild===ni&&ni.parentNode!==Qn;)ni=ni.parentNode;ni.nodeName==="BLOCKQUOTE"&&(s.formatter.toggle("blockquote",void 0,ni),vn=x.createRng(),vn.setStart(sn,0),vn.setEnd(sn,0),w.setRng(vn))}}),(()=>{const hn=vn=>{const sn=x.create("body"),Tn=vn.cloneContents();return sn.appendChild(Tn),w.serializer.serialize(sn,{format:"html"})};s.on("keydown",vn=>{const sn=vn.keyCode;if(!gt(vn)&&(sn===m||sn===p)&&s.selection.isEditable()){const Tn=s.selection.isCollapsed(),Qn=s.getBody();if(Tn&&!x.isEmpty(Qn)||!Tn&&!(ni=>{const Pi=hn(ni),qi=x.createRng();return qi.selectNode(s.getBody()),Pi===hn(qi)})(s.selection.getRng()))return;vn.preventDefault(),s.setContent(""),Qn.firstChild&&x.isBlock(Qn.firstChild)?s.selection.setCursorLocation(Qn.firstChild,0):s.selection.setCursorLocation(Qn,0),s.nodeChanged()}})})(),Dr.windowsPhone||s.on("keyup focusin mouseup",hn=>{ki.modifierPressed(hn)||(vn=>{const sn=vn.getBody(),Tn=vn.selection.getRng();return Tn.startContainer===Tn.endContainer&&Tn.startContainer===sn&&Tn.startOffset===0&&Tn.endOffset===sn.childNodes.length})(s)||w.normalize()},!0),j&&(yt(),Ct(),s.on("init",()=>{dt("DefaultParagraphSeparator",bl(s))}),$e(),Rt(),T.addNodeFilter("br",hn=>{let vn=hn.length;for(;vn--;)hn[vn].attr("class")==="Apple-interchange-newline"&&hn[vn].remove()}),U?(ke(),_e(),Xe()):ut()),F&&(s.on("keydown",hn=>{if(!gt(hn)&&hn.keyCode===p){if(!s.getBody().getElementsByTagName("hr").length)return;if(w.isCollapsed()&&w.getRng().startOffset===0){const vn=w.getNode(),sn=vn.previousSibling;if(vn.nodeName==="HR")return x.remove(vn),void hn.preventDefault();sn&&sn.nodeName&&sn.nodeName.toLowerCase()==="hr"&&(x.remove(sn),hn.preventDefault())}}}),st(),(()=>{const hn=()=>{const sn=x.getAttribs(w.getStart().cloneNode(!1));return()=>{const Tn=w.getStart();Tn!==s.getBody()&&(x.setAttrib(Tn,"style",null),c(sn,Qn=>{Tn.setAttributeNode(Qn.cloneNode(!0))}))}},vn=()=>!w.isCollapsed()&&x.getParent(w.getStart(),x.isBlock)!==x.getParent(w.getEnd(),x.isBlock);s.on("keypress",sn=>{let Tn;return!(!(gt(sn)||sn.keyCode!==8&&sn.keyCode!==46)&&vn()&&(Tn=hn(),s.getDoc().execCommand("delete",!1),Tn(),sn.preventDefault(),1))}),x.bind(s.getDoc(),"cut",sn=>{if(!gt(sn)&&vn()){const Tn=hn();Zl.setEditorTimeout(s,()=>{Tn()})}})})(),Ut(),s.on("SetContent ExecCommand",hn=>{hn.type!=="setcontent"&&hn.command!=="mceInsertLink"||c(x.select("a:not([data-mce-block])"),vn=>{var sn;let Tn=vn.parentNode;const Qn=x.getRoot();if(Tn?.lastChild===vn){for(;Tn&&!x.isBlock(Tn);){if(((sn=Tn.parentNode)===null||sn===void 0?void 0:sn.lastChild)!==Tn||Tn===Qn)return;Tn=Tn.parentNode}x.add(Tn,"br",{"data-mce-bogus":1})}})}),de(),qe(),Rt())),{refreshContentEditable:fn,isHidden:()=>{if(!F||s.removed)return!1;const hn=s.selection.getSel();return!hn||!hn.rangeCount||hn.rangeCount===0}}},Xf=Sr.DOM,CI=s=>s.inline?s.getElement().nodeName.toLowerCase():void 0,Jy=s=>bi(s,c=>It(c)===!1),j1=s=>{const c=s.options.get,p=s.editorUpload.blobCache;return Jy({allow_conditional_comments:c("allow_conditional_comments"),allow_html_data_urls:c("allow_html_data_urls"),allow_svg_data_urls:c("allow_svg_data_urls"),allow_html_in_named_anchor:c("allow_html_in_named_anchor"),allow_script_urls:c("allow_script_urls"),allow_unsafe_link_target:c("allow_unsafe_link_target"),convert_fonts_to_spans:c("convert_fonts_to_spans"),fix_list_elements:c("fix_list_elements"),font_size_legacy_values:c("font_size_legacy_values"),forced_root_block:c("forced_root_block"),forced_root_block_attrs:c("forced_root_block_attrs"),preserve_cdata:c("preserve_cdata"),remove_trailing_brs:c("remove_trailing_brs"),inline_styles:c("inline_styles"),root_name:CI(s),sanitize:c("xss_sanitization"),validate:!0,blob_cache:p,document:s.getDoc()})},Ik=s=>{const c=s.options.get;return Jy({custom_elements:c("custom_elements"),extended_valid_elements:c("extended_valid_elements"),invalid_elements:c("invalid_elements"),invalid_styles:c("invalid_styles"),schema:c("schema"),valid_children:c("valid_children"),valid_classes:c("valid_classes"),valid_elements:c("valid_elements"),valid_styles:c("valid_styles"),verify_html:c("verify_html"),padd_empty_block_inline_children:c("format_empty_lines")})},Y1=s=>s.inline?s.ui.styleSheetLoader:s.dom.styleSheetLoader,kI=s=>{const c=Y1(s),p=PA(s),m=s.contentCSS,x=()=>{c.unloadAll(m),s.inline||s.ui.styleSheetLoader.unloadAll(p)},w=()=>{s.removed?x():s.on("remove",x)};if(s.contentStyles.length>0){let F="";zn.each(s.contentStyles,j=>{F+=j+`\r
`}),s.dom.addStyle(F)}const T=Promise.all(((F,j,U)=>{const Z=[Y1(F).loadAll(j)];return F.inline?Z:Z.concat([F.ui.styleSheetLoader.loadAll(U)])})(s,m,p)).then(w).catch(w),P=LA(s);return P&&((F,j)=>{const U=Ke(F.getBody()),Z=Qo(Pl(U)),dt=co("style");Xo(dt,"type","text/css"),Ho(dt,qa(j)),Ho(Z,dt),F.on("remove",()=>{uo(dt)})})(s,P),T},qf=s=>{s.removed!==!0&&((c=>{_h(c)||c.load({initial:!0,format:"html"}),c.startContent=c.getContent({format:"raw"})})(s),(c=>{c.bindPendingEventDelegates(),c.initialized=!0,(m=>{m.dispatch("Init")})(c),c.focus(!0),(m=>{const x=m.dom.getRoot();m.inline||mv(m)&&m.selection.getStart(!0)!==x||Es(x).each(w=>{const T=w.getNode(),P=Ci(T)?Es(T).getOr(w):w;m.selection.setRng(P.toRange())})})(c),c.nodeChanged({initial:!0});const p=Us(c);fe(p)&&p.call(c,c),(m=>{const x=tv(m);x&&Zl.setEditorTimeout(m,()=>{let w;w=x===!0?m:m.editorManager.get(x),w&&!w.destroyed&&(w.focus(),w.selection.scrollIntoView())},100)})(c)})(s))},Tm=s=>{const c=s.getElement();let p=s.getDoc();s.inline&&(Xf.addClass(c,"mce-content-body"),s.contentDocument=p=document,s.contentWindow=window,s.bodyElement=c,s.contentAreaContainer=c);const m=s.getBody();m.disabled=!0,s.readonly=N0(s),s.readonly||(s.inline&&Xf.getStyle(m,"position",!0)==="static"&&(m.style.position="relative"),m.contentEditable="true"),m.disabled=!1,s.editorUpload=wh(s),s.schema=zc(Ik(s)),s.dom=Sr(p,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,update_styles:!0,root_element:s.inline?s.getBody():null,collect:s.inline,schema:s.schema,contentCssCors:T_(s),referrerPolicy:Km(s),onSetAttrib:T=>{s.dispatch("SetAttrib",T)}}),s.parser=(T=>{const P=Of(j1(T),T.schema);return P.addAttributeFilter("src,href,style,tabindex",(F,j)=>{const U=T.dom,Z="data-mce-"+j;let dt=F.length;for(;dt--;){const gt=F[dt];let ut=gt.attr(j);if(ut&&!gt.attr(Z)){if(ut.indexOf("data:")===0||ut.indexOf("blob:")===0)continue;j==="style"?(ut=U.serializeStyle(U.parseStyle(ut),gt.name),ut.length||(ut=null),gt.attr(Z,ut),gt.attr(j,ut)):j==="tabindex"?(gt.attr(Z,ut),gt.attr(j,null)):gt.attr(Z,T.convertURL(ut,j,gt.name))}}}),P.addNodeFilter("script",F=>{let j=F.length;for(;j--;){const U=F[j],Z=U.attr("type")||"no/type";Z.indexOf("mce-")!==0&&U.attr("type","mce-"+Z)}}),jE(T)&&P.addNodeFilter("#cdata",F=>{var j;let U=F.length;for(;U--;){const Z=F[U];Z.type=8,Z.name="#comment",Z.value="[CDATA["+T.dom.encode((j=Z.value)!==null&&j!==void 0?j:"")+"]]"}}),P.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",F=>{let j=F.length;const U=T.schema.getNonEmptyElements();for(;j--;){const Z=F[j];Z.isEmpty(U)&&Z.getAll("br").length===0&&Z.append(new tl("br",1))}}),P})(s),s.serializer=TS((T=>{const P=T.options.get;return{...j1(T),...Ik(T),...Jy({url_converter:P("url_converter"),url_converter_scope:P("url_converter_scope"),element_format:P("element_format"),entities:P("entities"),entity_encoding:P("entity_encoding"),indent:P("indent"),indent_after:P("indent_after"),indent_before:P("indent_before")})}})(s),s),s.selection=fp(s.dom,s.getWin(),s.serializer,s),s.annotator=ew(s),s.formatter=BS(s),s.undoManager=FS(s),s._nodeChangeDispatcher=new KO(s),s._selectionOverrides=uD(s),(T=>{const P=pa(),F=ca(!1),j=Xm(U=>{T.dispatch("longpress",{...U,type:"longpress"}),F.set(!0)},400);T.on("touchstart",U=>{d2(U).each(Z=>{j.cancel();const dt={x:Z.clientX,y:Z.clientY,target:U.target};j.throttle(U),F.set(!1),P.set(dt)})},!0),T.on("touchmove",U=>{j.cancel(),d2(U).each(Z=>{P.on(dt=>{((gt,ut)=>{const yt=Math.abs(gt.clientX-ut.x),st=Math.abs(gt.clientY-ut.y);return yt>5||st>5})(Z,dt)&&(P.clear(),F.set(!1),T.dispatch("longpresscancel"))})})},!0),T.on("touchend touchcancel",U=>{j.cancel(),U.type!=="touchcancel"&&P.get().filter(Z=>Z.target.isEqualNode(U.target)).each(()=>{F.get()?U.preventDefault():T.dispatch("tap",{...U,type:"tap"})})},!0)})(s),(T=>{(P=>{P.on("click",F=>{P.dom.getParent(F.target,"details")&&F.preventDefault()})})(T),(P=>{P.parser.addNodeFilter("details",F=>{Ge(F,j=>{j.attr("data-mce-open",j.attr("open")),j.attr("open","open")})}),P.serializer.addNodeFilter("details",F=>{Ge(F,j=>{const U=j.attr("data-mce-open");j.attr("open",vt(U)?U:null),j.attr("data-mce-open",null)})})})(T)})(s),(T=>{const P="contenteditable",F=" "+zn.trim(Ha(T))+" ",j=" "+zn.trim(XA(T))+" ",U=vC(F),Z=vC(j),dt=Gl(T);dt.length>0&&T.on("BeforeSetContent",gt=>{((ut,yt,st)=>{let Ct=yt.length,Rt=st.content;if(st.format!=="raw"){for(;Ct--;)Rt=Rt.replace(yt[Ct],m2(ut,Rt,XA(ut)));st.content=Rt}})(T,dt,gt)}),T.parser.addAttributeFilter("class",gt=>{let ut=gt.length;for(;ut--;){const yt=gt[ut];U(yt)?yt.attr(P,"true"):Z(yt)&&yt.attr(P,"false")}}),T.serializer.addAttributeFilter(P,gt=>{let ut=gt.length;for(;ut--;){const yt=gt[ut];(U(yt)||Z(yt))&&(dt.length>0&&yt.attr("data-mce-content")?(yt.name="#text",yt.type=3,yt.raw=!0,yt.value=yt.attr("data-mce-content")):yt.attr(P,null))}})})(s),_h(s)||((T=>{T.on("mousedown",P=>{P.detail>=3&&(P.preventDefault(),iD(T))})})(s),(T=>{(P=>{const F=[",",".",";",":","!","?"],j=[32],U=()=>{return gt=Ks(P),ut=WE(P),{inlinePatterns:wA(gt),blockPatterns:Sg(gt),dynamicPatternsLookup:ut};var gt,ut},Z=()=>(gt=>gt.options.isSet("text_patterns_lookup"))(P);P.on("keydown",gt=>{if(gt.keyCode===13&&!ki.modifierPressed(gt)&&P.selection.isCollapsed()){const ut=U();(ut.inlinePatterns.length>0||ut.blockPatterns.length>0||Z())&&Tk(P,ut)&&gt.preventDefault()}},!0);const dt=()=>{if(P.selection.isCollapsed()){const gt=U();(gt.inlinePatterns.length>0||Z())&&((ut,yt)=>{const st=ut.selection.getRng();Zy(ut,st).map(Ct=>{const Rt=Math.max(0,st.startOffset-1),Ut=mI(ut.dom,Ct,st.startContainer,Rt),de=kk(yt,Ct,Ut),ke=Ky(ut,Ct,st.startContainer,Rt,de,!1);ke.length>0&&ut.undoManager.transact(()=>{wI(ut,ke)})})})(P,gt)}};P.on("keyup",gt=>{Qy(j,gt,(ut,yt)=>ut===yt.keyCode&&!ki.modifierPressed(yt))&&dt()}),P.on("keypress",gt=>{Qy(F,gt,(ut,yt)=>ut.charCodeAt(0)===yt.charCode)&&Zl.setEditorTimeout(P,dt)})})(T)})(s));const x=ik(s);h2(s,x),(T=>{T.on("NodeChange",Ne(f2,T))})(s),(T=>{var P;const F=T.dom,j=bl(T),U=(P=NA(T))!==null&&P!==void 0?P:"",Z=(dt,gt)=>{if((st=>{if(VT(st)){const Ct=st.keyCode;return!VS(st)&&(ki.metaKeyPressed(st)||st.altKey||Ct>=112&&Ct<=123||Te(zT,Ct))}return!1})(dt))return;const ut=T.getBody(),yt=!(st=>VT(st)&&!(VS(st)||st.type==="keyup"&&st.keyCode===229))(dt)&&((st,Ct,Rt)=>{if(ho(Ke(Ct),!1)){const Ut=Ct.firstElementChild;return!Ut||!st.getStyle(Ct.firstElementChild,"padding-left")&&!st.getStyle(Ct.firstElementChild,"padding-right")&&Rt===Ut.nodeName.toLowerCase()}return!1})(F,ut,j);(F.getAttrib(ut,FT)!==""!==yt||gt)&&(F.setAttrib(ut,FT,yt?U:null),F.setAttrib(ut,"aria-placeholder",yt?U:null),((st,Ct)=>{st.dispatch("PlaceholderToggle",{state:Ct})})(T,yt),T.on(yt?"keydown":"keyup",Z),T.off(yt?"keyup":"keydown",Z))};M(U)&&T.on("init",dt=>{Z(dt,!0),T.on("change SetContent ExecCommand",Z),T.on("paste",gt=>Zl.setEditorTimeout(T,()=>Z(gt)))})})(s),R1(s);const w=(T=>{const P=T;return(F=>ti(F.plugins,"rtc").bind(j=>lt.from(j.setup)))(T).fold(()=>(P.rtcInstance=Tx(T),lt.none()),F=>(P.rtcInstance=(()=>{const j=ne(null),U=ne("");return{init:{bindEvents:le},undoManager:{beforeChange:le,add:j,undo:j,redo:j,clear:le,reset:le,hasUndo:Fe,hasRedo:Fe,transact:j,ignore:le,extra:le},formatter:{match:Fe,matchAll:ne([]),matchNode:ne(void 0),canApply:Fe,closest:U,apply:le,remove:le,toggle:le,formatChanged:ne({unbind:le})},editor:{getContent:U,setContent:ne({content:"",html:""}),insertContent:ne(""),addVisual:le},selection:{getContent:U},autocompleter:{addDecoration:le,removeDecoration:le},raw:{getModel:ne(lt.none())}}})(),lt.some(()=>F().then(j=>(P.rtcInstance=(U=>{const Z=Ut=>Pt(Ut)?Ut:{},{init:dt,undoManager:gt,formatter:ut,editor:yt,selection:st,autocompleter:Ct,raw:Rt}=U;return{init:{bindEvents:dt.bindEvents},undoManager:{beforeChange:gt.beforeChange,add:gt.add,undo:gt.undo,redo:gt.redo,clear:gt.clear,reset:gt.reset,hasUndo:gt.hasUndo,hasRedo:gt.hasRedo,transact:(Ut,de,ke)=>gt.transact(ke),ignore:(Ut,de)=>gt.ignore(de),extra:(Ut,de,ke,_e)=>gt.extra(ke,_e)},formatter:{match:(Ut,de,ke,_e)=>ut.match(Ut,Z(de),_e),matchAll:ut.matchAll,matchNode:ut.matchNode,canApply:Ut=>ut.canApply(Ut),closest:Ut=>ut.closest(Ut),apply:(Ut,de,ke)=>ut.apply(Ut,Z(de)),remove:(Ut,de,ke,_e)=>ut.remove(Ut,Z(de)),toggle:(Ut,de,ke)=>ut.toggle(Ut,Z(de)),formatChanged:(Ut,de,ke,_e,qe)=>ut.formatChanged(de,ke,_e,qe)},editor:{getContent:Ut=>yt.getContent(Ut),setContent:(Ut,de)=>({content:yt.setContent(Ut,de),html:""}),insertContent:(Ut,de)=>(yt.insertContent(Ut),""),addVisual:yt.addVisual},selection:{getContent:(Ut,de)=>st.getContent(de)},autocompleter:{addDecoration:Ct.addDecoration,removeDecoration:Ct.removeDecoration},raw:{getModel:()=>lt.some(Rt.getRawModel())}}})(j),j.rtc.isRemote)))))})(s);(T=>{const P=T.getDoc(),F=T.getBody();(Z=>{Z.dispatch("PreInit")})(T),ev(T)||(P.body.spellcheck=!1,Xf.setAttrib(F,"spellcheck","false")),T.quirks=SI(T),(Z=>{Z.dispatch("PostRender")})(T);const j=Is(T);j!==void 0&&(F.dir=j);const U=rh(T);U&&T.on("BeforeSetContent",Z=>{zn.each(U,dt=>{Z.content=Z.content.replace(dt,gt=>"<!--mce:protected "+escape(gt)+"-->")})}),T.on("SetContent",()=>{T.addVisual(T.getBody())}),T.on("compositionstart compositionend",Z=>{T.composing=Z.type==="compositionstart"})})(s),w.fold(()=>{kI(s).then(()=>qf(s))},T=>{s.setProgressState(!0),kI(s).then(()=>{T().then(P=>{s.setProgressState(!1),qf(s),oy(s)},P=>{s.notificationManager.open({type:"error",text:String(P)}),qf(s),oy(s)})})})},AI=ht,t0=Sr.DOM,G1=Sr.DOM,MI=(s,c)=>({editorContainer:s,iframeContainer:c,api:{}}),Ek=s=>{const c=s.getElement();return s.inline?MI(null):(p=>{const m=G1.create("div");return G1.insertAfter(m,p),MI(m,m)})(c)},hD=async s=>{s.dispatch("ScriptsLoaded"),(p=>{const m=zn.trim(O0(p)),x=p.ui.registry.getAll().icons,w={...Ox.get("default").icons,...Ox.get(m).icons};Le(w,(T,P)=>{Hn(x,P)||p.ui.registry.addIcon(P,T)})})(s),(p=>{const m=nf(p);if(vt(m)){const x=mp.get(m);p.theme=x(p,mp.urls[m])||{},fe(p.theme.init)&&p.theme.init(p,mp.urls[m]||p.documentBaseUrl.replace(/\/$/,""))}else p.theme={}})(s),(p=>{const m=D0(p),x=sm.get(m);p.model=x(p,sm.urls[m])})(s),(p=>{const m=[];Ge(xl(p),x=>{((w,T,P)=>{const F=Ls.get(P),j=Ls.urls[P]||w.documentBaseUrl.replace(/\/$/,"");if(P=zn.trim(P),F&&zn.inArray(T,P)===-1){if(w.plugins[P])return;try{const U=F(w,j)||{};w.plugins[P]=U,fe(U.init)&&(U.init(w,j),T.push(P))}catch(U){((Z,dt,gt)=>{const ut=Cs.translate(["Failed to initialize plugin: {0}",dt]);nw(Z,"PluginLoadError",{message:ut}),Lf(ut,gt),Dx(Z,ut)})(w,P,U)}}})(p,m,(w=>w.replace(/^\-/,""))(x))})})(s);const c=await(p=>{const m=p.getElement();return p.orgDisplay=m.style.display,vt(nf(p))?(x=>{const w=x.theme.renderUI;return w?w():Ek(x)})(p):fe(nf(p))?(x=>{const w=x.getElement(),T=nf(x)(x,w);return T.editorContainer.nodeType&&(T.editorContainer.id=T.editorContainer.id||x.id+"_parent"),T.iframeContainer&&T.iframeContainer.nodeType&&(T.iframeContainer.id=T.iframeContainer.id||x.id+"_iframecontainer"),T.height=T.iframeHeight?T.iframeHeight:w.offsetHeight,T})(p):Ek(p)})(s);((p,m)=>{const x={show:lt.from(m.show).getOr(le),hide:lt.from(m.hide).getOr(le),isEnabled:lt.from(m.isEnabled).getOr(ht),setEnabled:w=>{p.mode.isReadOnly()||lt.from(m.setEnabled).each(T=>T(w))}};p.ui={...p.ui,...x}})(s,lt.from(c.api).getOr({})),s.editorContainer=c.editorContainer,(p=>{p.contentCSS=p.contentCSS.concat((m=>PS(m,E_(m)))(p),(m=>PS(m,PA(m)))(p))})(s),s.inline?Tm(s):((p,m)=>{((x,w)=>{const T=x.translate("Rich Text Area"),P=ms(Ke(x.getElement()),"tabindex").bind(N),F=((j,U,Z,dt)=>{const gt=co("iframe");return dt.each(ut=>Xo(gt,"tabindex",ut)),is(gt,Z),is(gt,{id:j+"_ifr",frameBorder:"0",allowTransparency:"true",title:U}),El(gt,"tox-edit-area__iframe"),gt})(x.id,T,I0(x),P).dom;F.onload=()=>{F.onload=null,x.dispatch("load")},x.contentAreaContainer=w.iframeContainer,x.iframeElement=F,x.iframeHTML=(j=>{let U=SA(j)+"<html><head>";C_(j)!==j.documentBaseUrl&&(U+='<base href="'+j.documentBaseURI.getURI()+'" />'),U+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const Z=k_(j),dt=CA(j),gt=j.translate(Mg(j));return kA(j)&&(U+='<meta http-equiv="Content-Security-Policy" content="'+kA(j)+'" />'),U+=`</head><body id="${Z}" class="mce-content-body ${dt}" data-id="${j.id}" aria-label="${gt}"><br></body></html>`,U})(x),t0.add(w.iframeContainer,F)})(p,m),m.editorContainer&&(m.editorContainer.style.display=p.orgDisplay,p.hidden=t0.isHidden(m.editorContainer)),p.getElement().style.display="none",t0.setAttrib(p.id,"aria-hidden","true"),p.getElement().style.visibility=p.orgVisibility,(x=>{const w=x.iframeElement,T=(P=Ke(w),xd(P,"load",AI,()=>{T.unbind(),x.contentDocument=w.contentDocument,Tm(x)}));var P;if(Dr.browser.isFirefox()){const F=x.getDoc();F.open(),F.write(x.iframeHTML),F.close()}else w.srcdoc=x.iframeHTML})(p)})(s,{editorContainer:c.editorContainer,iframeContainer:c.iframeContainer})},Qc=Sr.DOM,TI=s=>s.charAt(0)==="-",II=(s,c,p)=>lt.from(c).filter(m=>M(m)&&!Ox.has(m)).map(m=>({url:`${s.editorManager.baseURL}/icons/${m}/icons${p}.js`,name:lt.some(m)})),EI=(s,c)=>{const p=Wl.ScriptLoader,m=()=>{!s.removed&&(x=>{const w=nf(x);return!vt(w)||te(mp.get(w))})(s)&&(x=>{const w=D0(x);return te(sm.get(w))})(s)&&hD(s)};((x,w)=>{const T=nf(x);if(vt(T)&&!TI(T)&&!Hn(mp.urls,T)){const P=DE(x),F=P?x.documentBaseURI.toAbsolute(P):`themes/${T}/theme${w}.js`;mp.load(T,F).catch(()=>{((j,U,Z)=>{ay(j,"ThemeLoadError",sy("theme",U,Z))})(x,F,T)})}})(s,c),((x,w)=>{const T=D0(x);if(T!=="plugin"&&!Hn(sm.urls,T)){const P=D_(x),F=vt(P)?x.documentBaseURI.toAbsolute(P):`models/${T}/model${w}.js`;sm.load(T,F).catch(()=>{((j,U,Z)=>{ay(j,"ModelLoadError",sy("model",U,Z))})(x,F,T)})}})(s,c),((x,w)=>{const T=I_(w),P=EE(w);if(!Cs.hasCode(T)&&T!=="en"){const F=M(P)?P:`${w.editorManager.baseURL}/langs/${T}.js`;x.add(F).catch(()=>{((j,U,Z)=>{ay(j,"LanguageLoadError",sy("language",U,Z))})(w,F,T)})}})(p,s),((x,w,T)=>{const P=II(w,"default",T),F=(j=>lt.from(IA(j)).filter(M).map(U=>({url:U,name:lt.none()})))(w).orThunk(()=>II(w,O0(w),""));Ge((j=>{const U=[],Z=dt=>{U.push(dt)};for(let dt=0;dt<j.length;dt++)j[dt].each(Z);return U})([P,F]),j=>{x.add(j.url).catch(()=>{((U,Z,dt)=>{ay(U,"IconsLoadError",sy("icons",Z,dt))})(w,j.url,j.name.getOrUndefined())})})})(p,s,c),((x,w)=>{const T=(P,F)=>{Ls.load(P,F).catch(()=>{((j,U,Z)=>{ay(j,"PluginLoadError",sy("plugin",U,Z))})(x,F,P)})};Le(NE(x),(P,F)=>{T(F,P),x.options.set("plugins",xl(x).concat(F))}),Ge(xl(x),P=>{!(P=zn.trim(P))||Ls.urls[P]||TI(P)||T(P,`plugins/${P}/plugin${w}.js`)})})(s,c),p.loadQueue().then(m,m)},X1=er().deviceType,Ok=X1.isPhone(),Dk=X1.isTablet(),e0=s=>{if(Wt(s))return[];{const c=wt(s)?s:s.split(/[ ,]/),p=Be(c,d);return Ln(p,M)}},Lk=(s,c)=>{const p=((w,T)=>{const P={},F={};return Ii(w,(j,U)=>Te(s,U),Zn(P),Zn(F)),{t:P,f:F}})(c);return m=p.t,x=p.f,{sections:ne(m),options:ne(x)};var m,x},q1=(s,c)=>Hn(s.sections(),c),OI=(s,c)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ti(s,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...c?{menubar:!1}:{}}),Pk=(s,c)=>{var p;const m=(p=c.external_plugins)!==null&&p!==void 0?p:{};return s&&s.external_plugins?zn.extend({},s.external_plugins,m):m},Nk=(s,c,p,m,x)=>{var w;const T=s?{mobile:OI((w=x.mobile)!==null&&w!==void 0?w:{},c)}:{},P=Lk(["mobile"],d1(T,x)),F=zn.extend(p,m,P.options(),((j,U)=>j&&q1(U,"mobile"))(s,P)?((j,U,Z={})=>{const dt=j.sections(),gt=ti(dt,U).getOr({});return zn.extend({},Z,gt)})(P,"mobile"):{},{external_plugins:Pk(m,P.options())});return((j,U,Z,dt)=>{const gt=e0(Z.forced_plugins),ut=e0(dt.plugins),yt=((Rt,Ut)=>q1(Rt,Ut)?Rt.sections()[Ut]:{})(U,"mobile"),st=((Rt,Ut,de,ke)=>Rt&&q1(Ut,"mobile")?ke:de)(j,U,ut,yt.plugins?e0(yt.plugins):ut),Ct=((Rt,Ut)=>[...e0(Rt),...e0(Ut)])(gt,st);return zn.extend(dt,{forced_plugins:gt,plugins:Ct})})(s,P,m,F)},Rk=s=>{(c=>{const p=m=>()=>{Ge("left,center,right,justify".split(","),x=>{m!==x&&c.formatter.remove("align"+x)}),m!=="none"&&((x,w)=>{c.formatter.toggle(x,void 0),c.nodeChanged()})("align"+m)};c.editorCommands.addCommands({JustifyLeft:p("left"),JustifyCenter:p("center"),JustifyRight:p("right"),JustifyFull:p("justify"),JustifyNone:p("none")})})(s),(c=>{const p=m=>()=>{const x=c.selection,w=x.isCollapsed()?[c.dom.getParent(x.getNode(),c.dom.isBlock)]:x.getSelectedBlocks();return _n(w,T=>te(c.formatter.matchNode(T,m)))};c.editorCommands.addCommands({JustifyLeft:p("alignleft"),JustifyCenter:p("aligncenter"),JustifyRight:p("alignright"),JustifyFull:p("alignjustify")},"state")})(s)},DI=(s,c)=>{const p=s.selection,m=s.dom;return/^ | $/.test(c)?((x,w,T)=>{const P=Ke(x.getRoot());return T=Ao(P,Cn.fromRangeStart(w))?T.replace(/^ /,"&nbsp;"):T.replace(/^&nbsp;/," "),fh(P,Cn.fromRangeEnd(w))?T.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):T.replace(/&nbsp;(<br( \/)?>)?$/," ")})(m,p.getRng(),c):c},n0=(s,c)=>{if(s.selection.isEditable()){const{content:p,details:m}=(x=>{if(typeof x!="string"){const w=zn.extend({paste:x.paste,data:{paste:x.paste}},x);return{content:x.content,details:w}}return{content:x,details:{}}})(c);xx(s,{...m,content:DI(s,p),format:"html",set:!1,selection:!0}).each(x=>{const w=((T,P,F)=>ry(T).editor.insertContent(P,F))(s,x.content,m);ey(s,w,x),s.addVisual()})}},Bk={"font-size":"size","font-family":"face"},zk=Fu("font"),U1=s=>(c,p)=>lt.from(p).map(Ke).filter(Fo).bind(m=>((x,w,T)=>Hb(Ke(T),P=>(F=>Fa(F,x).orThunk(()=>zk(F)?ti(Bk,x).bind(j=>ms(F,j)):lt.none()))(P),P=>Ir(Ke(w),P)))(s,c,m.dom).or(((x,w)=>lt.from(Sr.DOM.getStyle(w,x,!0)))(s,m.dom))).getOr(""),Fk=U1("font-size"),Im=Xt(s=>s.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),U1("font-family")),Vk=s=>Es(s.getBody()).bind(c=>{const p=c.container();return lt.from(Sn(p)?p.parentNode:p)}),$1=(s,c)=>((p,m)=>(x=>lt.from(x.selection.getRng()).bind(w=>{const T=x.getBody();return w.startContainer===T&&w.startOffset===0?lt.none():lt.from(x.selection.getStart(!0))}))(p).orThunk(Ne(Vk,p)).map(Ke).filter(Fo).bind(m))(s,Kt(lt.some,c)),Hk=(s,c)=>{if(/^[0-9.]+$/.test(c)){const p=parseInt(c,10);if(p>=1&&p<=7){const m=(w=>zn.explode(w.options.get("font_size_style_values")))(s),x=(w=>zn.explode(w.options.get("font_size_classes")))(s);return x.length>0?x[p-1]||c:m[p-1]||c}return c}return c},Wk=s=>{const c=s.split(/\s*,\s*/);return Be(c,p=>p.indexOf(" ")===-1||Ui(p,'"')||Ui(p,"'")?p:`'${p}'`).join(",")},LI=s=>{Rk(s),(c=>{c.editorCommands.addCommands({"Cut,Copy,Paste":p=>{const m=c.getDoc();let x;try{m.execCommand(p)}catch{x=!0}if(p!=="paste"||m.queryCommandEnabled(p)||(x=!0),x||!m.queryCommandSupported(p)){let w=c.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Dr.os.isMacOS()||Dr.os.isiOS())&&(w=w.replace(/Ctrl\+/g,"\u2318+")),c.notificationManager.open({text:w,type:"error"})}}})})(s),(c=>{c.editorCommands.addCommands({mceAddUndoLevel:()=>{c.undoManager.add()},mceEndUndoLevel:()=>{c.undoManager.add()},Undo:()=>{c.undoManager.undo()},Redo:()=>{c.undoManager.redo()}})})(s),(c=>{c.editorCommands.addCommands({mceSelectNodeDepth:(p,m,x)=>{let w=0;c.dom.getParent(c.selection.getNode(),T=>!We(T)||w++!==x||(c.selection.select(T),!1),c.getBody())},mceSelectNode:(p,m,x)=>{c.selection.select(x)},selectAll:()=>{const p=c.dom.getParent(c.selection.getStart(),dr);if(p){const m=c.dom.createRng();m.selectNodeContents(p),c.selection.setRng(m)}}})})(s),(c=>{c.editorCommands.addCommands({mceCleanup:()=>{const p=c.selection.getBookmark();c.setContent(c.getContent()),c.selection.moveToBookmark(p)},insertImage:(p,m,x)=>{n0(c,c.dom.createHTML("img",{src:x}))},insertHorizontalRule:()=>{c.execCommand("mceInsertContent",!1,"<hr>")},insertText:(p,m,x)=>{n0(c,c.dom.encode(x))},insertHTML:(p,m,x)=>{n0(c,x)},mceInsertContent:(p,m,x)=>{n0(c,x)},mceSetContent:(p,m,x)=>{c.setContent(x)},mceReplaceContent:(p,m,x)=>{c.execCommand("mceInsertContent",!1,x.replace(/\{\$selection\}/g,c.selection.getContent({format:"text"})))},mceNewDocument:()=>{c.setContent("")}})})(s),(c=>{const p=(m,x,w)=>{const T=vt(w)?{href:w}:w,P=c.dom.getParent(c.selection.getNode(),"a");Pt(T)&&vt(T.href)&&(T.href=T.href.replace(/ /g,"%20"),P&&T.href||c.formatter.remove("link"),T.href&&c.formatter.apply("link",T,P))};c.editorCommands.addCommands({unlink:()=>{if(c.selection.isCollapsed()){const m=c.dom.getParent(c.selection.getStart(),"a");m&&c.dom.remove(m,!0)}else c.formatter.remove("link")},mceInsertLink:p,createLink:p})})(s),(c=>{c.editorCommands.addCommands({Indent:()=>{(p=>{u2(p,"indent")})(c)},Outdent:()=>{dC(c)}}),c.editorCommands.addCommands({Outdent:()=>wp(c)},"state")})(s),(c=>{c.editorCommands.addCommands({insertParagraph:()=>{jy(Vy,c)},mceInsertNewLine:(p,m,x)=>{_m(c,x)},InsertLineBreak:(p,m,x)=>{jy(Hy,c)}})})(s),(c=>{(p=>{p.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":m=>{p.getDoc().execCommand(m);const x=p.dom.getParent(p.selection.getNode(),"ol,ul");if(x){const w=x.parentNode;if(w&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(w.nodeName)){const T=p.selection.getBookmark();p.dom.split(w,x),p.selection.moveToBookmark(T)}}}})})(c),(p=>{p.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":m=>{const x=p.dom.getParent(p.selection.getNode(),"ul,ol");return x&&(m==="insertunorderedlist"&&x.tagName==="UL"||m==="insertorderedlist"&&x.tagName==="OL")}},"state")})(c)})(s),(c=>{(p=>{const m=(x,w)=>{p.formatter.toggle(x,w),p.nodeChanged()};p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":x=>{m(x)},"ForeColor,HiliteColor":(x,w,T)=>{m(x,{value:T})},BackColor:(x,w,T)=>{m("hilitecolor",{value:T})},FontName:(x,w,T)=>{((P,F)=>{const j=Hk(P,F);P.formatter.toggle("fontname",{value:Wk(j)}),P.nodeChanged()})(p,T)},FontSize:(x,w,T)=>{((P,F)=>{P.formatter.toggle("fontsize",{value:Hk(P,F)}),P.nodeChanged()})(p,T)},LineHeight:(x,w,T)=>{((P,F)=>{P.formatter.toggle("lineheight",{value:String(F)}),P.nodeChanged()})(p,T)},Lang:(x,w,T)=>{var P;m(x,{value:T.code,customValue:(P=T.customCode)!==null&&P!==void 0?P:null})},RemoveFormat:x=>{p.formatter.remove(x)},mceBlockQuote:()=>{m("blockquote")},FormatBlock:(x,w,T)=>{m(vt(T)?T:"p")},mceToggleFormat:(x,w,T)=>{m(T)}})})(c),(p=>{const m=x=>p.formatter.match(x);p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":x=>m(x),mceBlockQuote:()=>m("blockquote")},"state"),p.editorCommands.addQueryValueHandler("FontName",()=>(x=>$1(x,w=>Im(x.getBody(),w.dom)).getOr(""))(p)),p.editorCommands.addQueryValueHandler("FontSize",()=>(x=>$1(x,w=>Fk(x.getBody(),w.dom)).getOr(""))(p)),p.editorCommands.addQueryValueHandler("LineHeight",()=>(x=>$1(x,w=>{const T=Ke(x.getBody());return Hb(w,F=>Fa(F,"line-height"),Ne(Ir,T)).getOrThunk(()=>{const F=parseFloat(hl(w,"line-height")),j=parseFloat(hl(w,"font-size"));return String(F/j)})}).getOr(""))(p))})(c)})(s),(c=>{c.editorCommands.addCommands({mceRemoveNode:(p,m,x)=>{const w=x??c.selection.getNode();if(w!==c.getBody()){const T=c.selection.getBookmark();c.dom.remove(w,!0),c.selection.moveToBookmark(T)}},mcePrint:()=>{c.getWin().print()},mceFocus:(p,m,x)=>{((w,T)=>{w.removed||(T?xb(w):(P=>{const F=P.selection,j=P.getBody();let U=F.getRng();P.quirks.refreshContentEditable(),te(P.bookmark)&&!_f(P)&&gb(P).each(dt=>{P.selection.setRng(dt),U=dt});const Z=((dt,gt)=>dt.dom.getParent(gt,ut=>dt.dom.getContentEditable(ut)==="true"))(P,F.getNode());if(Z&&P.dom.isChildOf(Z,j))return Tv(Z),fw(P,U),void xb(P);P.inline||(Dr.browser.isOpera()||Tv(j),P.getWin().focus()),(Dr.browser.isFirefox()||P.inline)&&(Tv(j),fw(P,U)),xb(P)})(w))})(c,x===!0)},mceToggleVisualAid:()=>{c.hasVisual=!c.hasVisual,c.addVisual()}})})(s)},dD=["toggleview"],Uf=s=>Te(dD,s.toLowerCase());class PI{constructor(c){this.commands={state:{},exec:{},value:{}},this.editor=c}execCommand(c,p=!1,m,x){const w=this.editor,T=c.toLowerCase(),P=x?.skip_focus;if(w.removed||(T!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(T)||P?(j=>{gb(j).each(U=>j.selection.setRng(U))})(w):w.focus()),w.dispatch("BeforeExecCommand",{command:c,ui:p,value:m}).isDefaultPrevented()))return!1;const F=this.commands.exec[T];return!!fe(F)&&(F(T,p,m),w.dispatch("ExecCommand",{command:c,ui:p,value:m}),!0)}queryCommandState(c){if(!Uf(c)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const p=c.toLowerCase(),m=this.commands.state[p];return!!fe(m)&&m(p)}queryCommandValue(c){if(!Uf(c)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const p=c.toLowerCase(),m=this.commands.value[p];return fe(m)?m(p):""}addCommands(c,p="exec"){const m=this.commands;Le(c,(x,w)=>{Ge(w.toLowerCase().split(","),T=>{m[p][T]=x})})}addCommand(c,p,m){const x=c.toLowerCase();this.commands.exec[x]=(w,T,P)=>p.call(m??this.editor,T,P)}queryCommandSupported(c){const p=c.toLowerCase();return!!this.commands.exec[p]}addQueryStateHandler(c,p,m){this.commands.state[c.toLowerCase()]=()=>p.call(m??this.editor)}addQueryValueHandler(c,p,m){this.commands.value[c.toLowerCase()]=()=>p.call(m??this.editor)}}const Jc="data-mce-contenteditable",Z1=(s,c,p)=>{try{s.getDoc().execCommand(c,!1,String(p))}catch{}},i0=(s,c)=>{s.dom.contentEditable=c?"true":"false"},NI=(s,c)=>{const p=Ke(s.getBody());((m,x,w)=>{Ec(m,x)&&!w?Ol(m,x):w&&El(m,x)})(p,"mce-content-readonly",c),c?(s.selection.controlSelection.hideResizeRect(),s._selectionOverrides.hideFakeCaret(),(m=>{lt.from(m.selection.getNode()).each(x=>{x.removeAttribute("data-mce-selected")})})(s),s.readonly=!0,i0(p,!1),Ge(oe(p,'*[contenteditable="true"]'),m=>{Xo(m,Jc,"true"),i0(m,!1)})):(s.readonly=!1,i0(p,!0),Ge(oe(p,'*[data-mce-contenteditable="true"]'),m=>{Ko(m,Jc),i0(m,!0)}),Z1(s,"StyleWithCSS",!1),Z1(s,"enableInlineTableEditing",!1),Z1(s,"enableObjectResizing",!1),(m=>_f(m)||(x=>{const w=Pl(Ke(x.getElement()));return Qd(w).filter(T=>!vb(T.dom)&&yb(x,T.dom)).isSome()})(m))(s)&&s.focus(),(m=>{m.selection.setRng(m.selection.getRng())})(s),s.nodeChanged())},$f=s=>s.readonly,RI=s=>{s.parser.addAttributeFilter("contenteditable",c=>{$f(s)&&Ge(c,p=>{p.attr(Jc,p.attr("contenteditable")),p.attr("contenteditable","false")})}),s.serializer.addAttributeFilter(Jc,c=>{$f(s)&&Ge(c,p=>{p.attr("contenteditable",p.attr(Jc))})}),s.serializer.addTempAttr(Jc)},pD=["copy"],fD=zn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Em{constructor(c){this.bindings={},this.settings=c||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Fe}static isNative(c){return!!fD[c.toLowerCase()]}fire(c,p){return this.dispatch(c,p)}dispatch(c,p){const m=c.toLowerCase(),x=$p(m,p??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(x);const w=this.bindings[m];if(w)for(let T=0,P=w.length;T<P;T++){const F=w[T];if(!F.removed){if(F.once&&this.off(m,F.func),x.isImmediatePropagationStopped())return x;if(F.func.call(this.scope,x)===!1)return x.preventDefault(),x}}return x}on(c,p,m,x){if(p===!1&&(p=Fe),p){const w={func:p,removed:!1};x&&zn.extend(w,x);const T=c.toLowerCase().split(" ");let P=T.length;for(;P--;){const F=T[P];let j=this.bindings[F];j||(j=[],this.toggleEvent(F,!0)),j=m?[w,...j]:[...j,w],this.bindings[F]=j}}return this}off(c,p){if(c){const m=c.toLowerCase().split(" ");let x=m.length;for(;x--;){const w=m[x];let T=this.bindings[w];if(!w)return Le(this.bindings,(P,F)=>{this.toggleEvent(F,!1),delete this.bindings[F]}),this;if(T){if(p){const P=wr(T,F=>F.func===p);T=P.fail,this.bindings[w]=T,Ge(P.pass,F=>{F.removed=!0})}else T.length=0;T.length||(this.toggleEvent(c,!1),delete this.bindings[w])}}}else Le(this.bindings,(m,x)=>{this.toggleEvent(x,!1)}),this.bindings={};return this}once(c,p,m){return this.on(c,p,m,{once:!0})}has(c){c=c.toLowerCase();const p=this.bindings[c];return!(!p||p.length===0)}}const r0=s=>(s._eventDispatcher||(s._eventDispatcher=new Em({scope:s,toggleEvent:(c,p)=>{Em.isNative(c)&&s.toggleNativeEvent&&s.toggleNativeEvent(c,p)}})),s._eventDispatcher),jk={fire(s,c,p){return this.dispatch(s,c,p)},dispatch(s,c,p){const m=this;if(m.removed&&s!=="remove"&&s!=="detach")return $p(s.toLowerCase(),c??{},m);const x=r0(m).dispatch(s,c);if(p!==!1&&m.parent){let w=m.parent();for(;w&&!x.isPropagationStopped();)w.dispatch(s,x,!1),w=w.parent?w.parent():void 0}return x},on(s,c,p){return r0(this).on(s,c,p)},off(s,c){return r0(this).off(s,c)},once(s,c){return r0(this).once(s,c)},hasEventListeners(s){return r0(this).has(s)}},K1=Sr.DOM;let Zf;const Q1=(s,c)=>{if(c==="selectionchange")return s.getDoc();if(!s.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(c))return s.getDoc().documentElement;const p=ef(s);return p?(s.eventRoot||(s.eventRoot=K1.select(p)[0]),s.eventRoot):s.getBody()},BI=(s,c,p)=>{(m=>!m.hidden&&!$f(m))(s)?s.dispatch(c,p):$f(s)&&((m,x)=>{if((w=>w.type==="click")(x)&&!ki.metaKeyPressed(x)){const w=Ke(x.target);((T,P)=>uc(P,"a",F=>Ir(F,Ke(T.getBody()))).bind(F=>ms(F,"href")))(m,w).each(T=>{if(x.preventDefault(),/^#/.test(T)){const P=m.dom.select(`${T},[name="${ji(T,"#")}"]`);P.length&&m.selection.scrollIntoView(P[0],!0)}else window.open(T,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(w=>Te(pD,w.type))(x)&&m.dispatch(x.type,x)})(s,p)},zI=(s,c)=>{if(s.delegates||(s.delegates={}),s.delegates[c]||s.removed)return;const p=Q1(s,c);if(ef(s)){if(Zf||(Zf={},s.editorManager.on("removeEditor",()=>{s.editorManager.activeEditor||Zf&&(Le(Zf,(x,w)=>{s.dom.unbind(Q1(s,w))}),Zf=null)})),Zf[c])return;const m=x=>{const w=x.target,T=s.editorManager.get();let P=T.length;for(;P--;){const F=T[P].getBody();(F===w||K1.isChildOf(w,F))&&BI(T[P],c,x)}};Zf[c]=m,K1.bind(p,c,m)}else{const m=x=>{BI(s,c,x)};K1.bind(p,c,m),s.delegates[c]=m}},FI={...jk,bindPendingEventDelegates(){const s=this;zn.each(s._pendingNativeEvents,c=>{zI(s,c)})},toggleNativeEvent(s,c){const p=this;s!=="focus"&&s!=="blur"&&(p.removed||(c?p.initialized?zI(p,s):p._pendingNativeEvents?p._pendingNativeEvents.push(s):p._pendingNativeEvents=[s]:p.initialized&&p.delegates&&(p.dom.unbind(Q1(p,s),s,p.delegates[s]),delete p.delegates[s])))},unbindAllNativeEvents(){const s=this,c=s.getBody(),p=s.dom;s.delegates&&(Le(s.delegates,(m,x)=>{s.dom.unbind(Q1(s,x),x,m)}),delete s.delegates),!s.inline&&c&&p&&(c.onload=null,p.unbind(s.getWin()),p.unbind(s.getDoc())),p&&(p.unbind(c),p.unbind(s.getContainer()))}},VI=s=>vt(s)?{value:s.split(/[ ,]/),valid:!0}:ve(s,vt)?{value:s,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Yk=(s,c)=>s+(O(c.message)?"":`. ${c.message}`),Gk=s=>s.valid,o0=(s,c,p="")=>{const m=c(s);return ie(m)?m?{value:s,valid:!0}:{valid:!1,message:p}:m},gD=["design","readonly"],HI=(s,c,p,m)=>{const x=p[c.get()],w=p[m];try{w.activate()}catch(T){return void console.error(`problem while activating editor mode ${m}:`,T)}x.deactivate(),x.editorReadOnly!==w.editorReadOnly&&NI(s,w.editorReadOnly),c.set(m),((T,P)=>{T.dispatch("SwitchMode",{mode:P})})(s,m)},Xk=zn.each,qk=zn.explode,mD={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},WI=zn.makeMap("alt,ctrl,shift,meta,access"),vD=s=>{const c={},p=Dr.os.isMacOS()||Dr.os.isiOS();Xk(qk(s.toLowerCase(),"+"),w=>{(T=>T in WI)(w)?c[w]=!0:/^[0-9]{2,}$/.test(w)?c.keyCode=parseInt(w,10):(c.charCode=w.charCodeAt(0),c.keyCode=mD[w]||w.toUpperCase().charCodeAt(0))});const m=[c.keyCode];let x;for(x in WI)c[x]?m.push(x):c[x]=!1;return c.id=m.join(","),c.access&&(c.alt=!0,p?c.ctrl=!0:c.shift=!0),c.meta&&(p?c.meta=!0:(c.ctrl=!0,c.meta=!1)),c};class J1{constructor(c){this.shortcuts={},this.pendingPatterns=[],this.editor=c;const p=this;c.on("keyup keypress keydown",m=>{!p.hasModifier(m)&&!p.isFunctionKey(m)||m.isDefaultPrevented()||(Xk(p.shortcuts,x=>{p.matchShortcut(m,x)&&(p.pendingPatterns=x.subpatterns.slice(0),m.type==="keydown"&&p.executeShortcutAction(x))}),p.matchShortcut(m,p.pendingPatterns[0])&&(p.pendingPatterns.length===1&&m.type==="keydown"&&p.executeShortcutAction(p.pendingPatterns[0]),p.pendingPatterns.shift()))})}add(c,p,m,x){const w=this,T=w.normalizeCommandFunc(m);return Xk(qk(zn.trim(c)),P=>{const F=w.createShortcut(P,p,T,x);w.shortcuts[F.id]=F}),!0}remove(c){const p=this.createShortcut(c);return!!this.shortcuts[p.id]&&(delete this.shortcuts[p.id],!0)}normalizeCommandFunc(c){const p=this,m=c;return typeof m=="string"?()=>{p.editor.execCommand(m,!1,null)}:zn.isArray(m)?()=>{p.editor.execCommand(m[0],m[1],m[2])}:m}createShortcut(c,p,m,x){const w=zn.map(qk(c,">"),vD);return w[w.length-1]=zn.extend(w[w.length-1],{func:m,scope:x||this.editor}),zn.extend(w[0],{desc:this.editor.translate(p),subpatterns:w.slice(1)})}hasModifier(c){return c.altKey||c.ctrlKey||c.metaKey}isFunctionKey(c){return c.type==="keydown"&&c.keyCode>=112&&c.keyCode<=123}matchShortcut(c,p){return!!p&&p.ctrl===c.ctrlKey&&p.meta===c.metaKey&&p.alt===c.altKey&&p.shift===c.shiftKey&&!!(c.keyCode===p.keyCode||c.charCode&&c.charCode===p.charCode)&&(c.preventDefault(),!0)}executeShortcutAction(c){return c.func?c.func.call(c.scope):null}}const yD=()=>{const s=(()=>{const c={},p={},m={},x={},w={},T={},P={},F={},j=(U,Z)=>(dt,gt)=>{U[dt.toLowerCase()]={...gt,type:Z}};return{addButton:j(c,"button"),addGroupToolbarButton:j(c,"grouptoolbarbutton"),addToggleButton:j(c,"togglebutton"),addMenuButton:j(c,"menubutton"),addSplitButton:j(c,"splitbutton"),addMenuItem:j(p,"menuitem"),addNestedMenuItem:j(p,"nestedmenuitem"),addToggleMenuItem:j(p,"togglemenuitem"),addAutocompleter:j(m,"autocompleter"),addContextMenu:j(w,"contextmenu"),addContextToolbar:j(T,"contexttoolbar"),addContextForm:j(T,"contextform"),addSidebar:j(P,"sidebar"),addView:j(F,"views"),addIcon:(U,Z)=>x[U.toLowerCase()]=Z,getAll:()=>({buttons:c,menuItems:p,icons:x,popups:m,contextMenus:w,contextToolbars:T,sidebars:P,views:F})}})();return{addAutocompleter:s.addAutocompleter,addButton:s.addButton,addContextForm:s.addContextForm,addContextMenu:s.addContextMenu,addContextToolbar:s.addContextToolbar,addIcon:s.addIcon,addMenuButton:s.addMenuButton,addMenuItem:s.addMenuItem,addNestedMenuItem:s.addNestedMenuItem,addSidebar:s.addSidebar,addSplitButton:s.addSplitButton,addToggleButton:s.addToggleButton,addGroupToolbarButton:s.addGroupToolbarButton,addToggleMenuItem:s.addToggleMenuItem,addView:s.addView,getAll:s.getAll}},Kf=Sr.DOM,Tp=zn.extend,Uk=zn.each;class ld{constructor(c,p,m){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,Tp(this,FI);const x=this;this.id=c,this.hidden=!1;const w=((gt,ut)=>Nk(Ok||Dk,Ok,ut,gt,ut))(m.defaultOptions,p);this.options=((gt,ut)=>{const yt={},st={},Ct=(Ut,de,ke)=>{const _e=o0(de,ke);return Gk(_e)?(st[Ut]=_e.value,!0):(console.warn(Yk(`Invalid value passed for the ${Ut} option`,_e)),!1)},Rt=Ut=>Hn(yt,Ut);return{register:(Ut,de)=>{const ke=(qe=>vt(qe.processor))(de)?(qe=>{const Xe=(()=>{switch(qe){case"array":return wt;case"boolean":return ie;case"function":return fe;case"number":return Me;case"object":return Pt;case"string":return vt;case"string[]":return VI;case"object[]":return $e=>ve($e,Pt);case"regexp":return $e=>_t($e,RegExp);default:return ht}})();return $e=>o0($e,Xe,`The value must be a ${qe}.`)})(de.processor):de.processor,_e=((qe,Xe,$e)=>{if(!It(Xe)){const fn=o0(Xe,$e);if(Gk(fn))return fn.value;console.error(Yk(`Invalid default value passed for the "${qe}" option`,fn))}})(Ut,de.default,ke);yt[Ut]={...de,default:_e,processor:ke},ti(st,Ut).orThunk(()=>ti(ut,Ut)).each(qe=>Ct(Ut,qe,ke))},isRegistered:Rt,get:Ut=>ti(st,Ut).orThunk(()=>ti(yt,Ut).map(de=>de.default)).getOrUndefined(),set:(Ut,de)=>{if(Rt(Ut)){const ke=yt[Ut];return ke.immutable?(console.error(`"${Ut}" is an immutable option and cannot be updated`),!1):Ct(Ut,de,ke.processor)}return console.warn(`"${Ut}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Ut=>{const de=Rt(Ut);return de&&delete st[Ut],de},isSet:Ut=>Hn(st,Ut)}})(0,w),(gt=>{const ut=gt.options.register;ut("id",{processor:"string",default:gt.id}),ut("selector",{processor:"string"}),ut("target",{processor:"object"}),ut("suffix",{processor:"string"}),ut("cache_suffix",{processor:"string"}),ut("base_url",{processor:"string"}),ut("referrer_policy",{processor:"string",default:""}),ut("language_load",{processor:"boolean",default:!0}),ut("inline",{processor:"boolean",default:!1}),ut("iframe_attrs",{processor:"object",default:{}}),ut("doctype",{processor:"string",default:"<!DOCTYPE html>"}),ut("document_base_url",{processor:"string",default:gt.documentBaseUrl}),ut("body_id",{processor:S_(gt,"tinymce"),default:"tinymce"}),ut("body_class",{processor:S_(gt),default:""}),ut("content_security_policy",{processor:"string",default:""}),ut("br_in_pre",{processor:"boolean",default:!0}),ut("forced_root_block",{processor:yt=>{const st=vt(yt)&&M(yt);return st?{value:yt,valid:st}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),ut("forced_root_block_attrs",{processor:"object",default:{}}),ut("newline_behavior",{processor:yt=>{const st=Te(["block","linebreak","invert","default"],yt);return st?{value:yt,valid:st}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),ut("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),ut("no_newline_selector",{processor:"string",default:""}),ut("keep_styles",{processor:"boolean",default:!0}),ut("end_container_on_empty_block",{processor:yt=>ie(yt)||vt(yt)?{valid:!0,value:yt}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),ut("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),ut("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),ut("font_size_classes",{processor:"string",default:""}),ut("automatic_uploads",{processor:"boolean",default:!0}),ut("images_reuse_filename",{processor:"boolean",default:!1}),ut("images_replace_blob_uris",{processor:"boolean",default:!0}),ut("icons",{processor:"string",default:""}),ut("icons_url",{processor:"string",default:""}),ut("images_upload_url",{processor:"string",default:""}),ut("images_upload_base_path",{processor:"string",default:""}),ut("images_upload_credentials",{processor:"boolean",default:!1}),ut("images_upload_handler",{processor:"function"}),ut("language",{processor:"string",default:"en"}),ut("language_url",{processor:"string",default:""}),ut("entity_encoding",{processor:"string",default:"named"}),ut("indent",{processor:"boolean",default:!0}),ut("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),ut("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),ut("indent_use_margin",{processor:"boolean",default:!1}),ut("indentation",{processor:"string",default:"40px"}),ut("content_css",{processor:yt=>{const st=yt===!1||vt(yt)||ve(yt,vt);return st?vt(yt)?{value:Be(yt.split(","),d),valid:st}:wt(yt)?{value:yt,valid:st}:yt===!1?{value:[],valid:st}:{value:yt,valid:st}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:P0(gt)?[]:["default"]}),ut("content_style",{processor:"string"}),ut("content_css_cors",{processor:"boolean",default:!1}),ut("font_css",{processor:yt=>{const st=vt(yt)||ve(yt,vt);return st?{value:wt(yt)?yt:Be(yt.split(","),d),valid:st}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),ut("inline_boundaries",{processor:"boolean",default:!0}),ut("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),ut("object_resizing",{processor:yt=>{const st=ie(yt)||vt(yt);return st?yt===!1||Cg.isiPhone()||Cg.isiPad()?{value:"",valid:st}:{value:yt===!0?"table,img,figure.image,div,video,iframe":yt,valid:st}:{valid:!1,message:"Must be boolean or a string"}},default:!Zm}),ut("resize_img_proportional",{processor:"boolean",default:!0}),ut("event_root",{processor:"object"}),ut("service_message",{processor:"string"}),ut("theme",{processor:yt=>yt===!1||vt(yt)||fe(yt),default:"silver"}),ut("theme_url",{processor:"string"}),ut("formats",{processor:"object"}),ut("format_empty_lines",{processor:"boolean",default:!1}),ut("format_noneditable_selector",{processor:"string",default:""}),ut("preview_styles",{processor:yt=>{const st=yt===!1||vt(yt);return st?{value:yt===!1?"":yt,valid:st}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),ut("custom_ui_selector",{processor:"string",default:""}),ut("hidden_input",{processor:"boolean",default:!0}),ut("submit_patch",{processor:"boolean",default:!0}),ut("encoding",{processor:"string"}),ut("add_form_submit_trigger",{processor:"boolean",default:!0}),ut("add_unload_trigger",{processor:"boolean",default:!0}),ut("custom_undo_redo_levels",{processor:"number",default:0}),ut("disable_nodechange",{processor:"boolean",default:!1}),ut("readonly",{processor:"boolean",default:!1}),ut("plugins",{processor:"string[]",default:[]}),ut("external_plugins",{processor:"object"}),ut("forced_plugins",{processor:"string[]"}),ut("model",{processor:"string",default:gt.hasPlugin("rtc")?"plugin":"dom"}),ut("model_url",{processor:"string"}),ut("block_unsupported_drop",{processor:"boolean",default:!0}),ut("visual",{processor:"boolean",default:!0}),ut("visual_table_class",{processor:"string",default:"mce-item-table"}),ut("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),ut("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),ut("setup",{processor:"function"}),ut("init_instance_callback",{processor:"function"}),ut("url_converter",{processor:"function",default:gt.convertURL}),ut("url_converter_scope",{processor:"object",default:gt}),ut("urlconverter_callback",{processor:"function"}),ut("allow_conditional_comments",{processor:"boolean",default:!1}),ut("allow_html_data_urls",{processor:"boolean",default:!1}),ut("allow_svg_data_urls",{processor:"boolean"}),ut("allow_html_in_named_anchor",{processor:"boolean",default:!1}),ut("allow_script_urls",{processor:"boolean",default:!1}),ut("allow_unsafe_link_target",{processor:"boolean",default:!1}),ut("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),ut("fix_list_elements",{processor:"boolean",default:!1}),ut("preserve_cdata",{processor:"boolean",default:!1}),ut("remove_trailing_brs",{processor:"boolean"}),ut("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),ut("element_format",{processor:"string",default:"html"}),ut("entities",{processor:"string"}),ut("schema",{processor:"string",default:"html5"}),ut("convert_urls",{processor:"boolean",default:!0}),ut("relative_urls",{processor:"boolean",default:!0}),ut("remove_script_host",{processor:"boolean",default:!0}),ut("custom_elements",{processor:"string"}),ut("extended_valid_elements",{processor:"string"}),ut("invalid_elements",{processor:"string"}),ut("invalid_styles",{processor:T0}),ut("valid_children",{processor:"string"}),ut("valid_classes",{processor:T0}),ut("valid_elements",{processor:"string"}),ut("valid_styles",{processor:T0}),ut("verify_html",{processor:"boolean",default:!0}),ut("auto_focus",{processor:yt=>vt(yt)||yt===!0}),ut("browser_spellcheck",{processor:"boolean",default:!1}),ut("protect",{processor:"array"}),ut("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),ut("deprecation_warnings",{processor:"boolean",default:!0}),ut("a11y_advanced_options",{processor:"boolean",default:!1}),ut("api_key",{processor:"string"}),ut("paste_block_drop",{processor:"boolean",default:!1}),ut("paste_data_images",{processor:"boolean",default:!0}),ut("paste_preprocess",{processor:"function"}),ut("paste_postprocess",{processor:"function"}),ut("paste_webkit_styles",{processor:"string",default:"none"}),ut("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),ut("paste_merge_formats",{processor:"boolean",default:!0}),ut("smart_paste",{processor:"boolean",default:!0}),ut("paste_as_text",{processor:"boolean",default:!1}),ut("paste_tab_spaces",{processor:"number",default:4}),ut("text_patterns",{processor:yt=>ve(yt,Pt)||yt===!1?{value:Pd(yt===!1?[]:yt),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),ut("text_patterns_lookup",{processor:yt=>{return fe(yt)?{value:(st=yt,Ct=>{const Rt=st(Ct);return Pd(Rt)}),valid:!0}:{valid:!1,message:"Must be a single function"};var st},default:yt=>[]}),ut("noneditable_class",{processor:"string",default:"mceNonEditable"}),ut("editable_class",{processor:"string",default:"mceEditable"}),ut("noneditable_regexp",{processor:yt=>ve(yt,kg)?{value:yt,valid:!0}:kg(yt)?{value:[yt],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),ut("table_tab_navigation",{processor:"boolean",default:!0}),ut("highlight_on_focus",{processor:"boolean",default:!1}),ut("xss_sanitization",{processor:"boolean",default:!0}),gt.on("ScriptsLoaded",()=>{ut("directionality",{processor:"string",default:Cs.isRtl()?"rtl":void 0}),ut("placeholder",{processor:"string",default:M0.getAttrib(gt.getElement(),"placeholder")})})})(x);const T=this.options.get;T("deprecation_warnings")&&((gt,ut)=>{((yt,st)=>{const Ct=ET(yt),Rt=_O(st),Ut=Rt.length>0,de=Ct.length>0,ke=st.theme==="mobile";if(Ut||de||ke){const _e=`
- `,qe=ke?`

Themes:${_e}mobile`:"",Xe=Ut?`

Plugins:${_e}${Rt.join(_e)}`:"",$e=de?`

Options:${_e}${Ct.join(_e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+qe+Xe+$e)}})(gt,ut),((yt,st)=>{const Ct=ES(yt),Rt=wO(st),Ut=Rt.length>0,de=Ct.length>0;if(Ut||de){const ke=`
- `,_e=Ut?`

Plugins:${ke}${Rt.map(SO).join(ke)}`:"",qe=de?`

Options:${ke}${Ct.join(ke)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_e+qe)}})(gt,ut)})(p,w);const P=T("suffix");P&&(m.suffix=P),this.suffix=m.suffix;const F=T("base_url");F&&m._setBaseUrl(F),this.baseUri=m.baseURI;const j=Km(x);j&&(Wl.ScriptLoader._setReferrerPolicy(j),Sr.DOM.styleSheetLoader._setReferrerPolicy(j));const U=WA(x);te(U)&&Sr.DOM.styleSheetLoader._setContentCssCors(U),Sa.languageLoad=T("language_load"),Sa.baseURL=m.baseURL,this.setDirty(!1),this.documentBaseURI=new Ql(C_(x),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=P0(x),this.hasVisual=jA(x),this.shortcuts=new J1(this),this.editorCommands=new PI(this),LI(this);const Z=T("cache_suffix");Z&&(Dr.cacheSuffix=Z.replace(/^[\?\&]+/,"")),this.ui={registry:yD(),styleSheetLoader:void 0,show:le,hide:le,setEnabled:le,isEnabled:ht},this.mode=(gt=>{const ut=ca("design"),yt=ca({design:{activate:le,deactivate:le,editorReadOnly:!1},readonly:{activate:le,deactivate:le,editorReadOnly:!0}});return(st=>{st.serializer?RI(st):st.on("PreInit",()=>{RI(st)})})(gt),(st=>{st.on("ShowCaret",Ct=>{$f(st)&&Ct.preventDefault()}),st.on("ObjectSelected",Ct=>{$f(st)&&Ct.preventDefault()})})(gt),{isReadOnly:()=>$f(gt),set:st=>((Ct,Rt,Ut,de)=>{if(de!==Ut.get()){if(!Hn(Rt,de))throw new Error(`Editor mode '${de}' is invalid`);Ct.initialized?HI(Ct,Ut,Rt,de):Ct.on("init",()=>HI(Ct,Ut,Rt,de))}})(gt,yt.get(),ut,st),get:()=>ut.get(),register:(st,Ct)=>{yt.set(((Rt,Ut,de)=>{if(Te(gD,Ut))throw new Error(`Cannot override default mode ${Ut}`);return{...Rt,[Ut]:{...de,deactivate:()=>{try{de.deactivate()}catch(ke){console.error(`problem while deactivating editor mode ${Ut}:`,ke)}}}}})(yt.get(),st,Ct))}}})(x),m.dispatch("SetupEditor",{editor:this});const dt=RE(x);fe(dt)&&dt.call(x,x)}render(){(c=>{const p=c.id;Cs.setCode(I_(c));const m=()=>{Qc.unbind(window,"ready",m),c.render()};if(!Ju.Event.domLoaded)return void Qc.bind(window,"ready",m);if(!c.getElement())return;const x=Ke(c.getElement()),w=Bh(x);c.on("remove",()=>{Mn(x.dom.attributes,P=>Ko(x,P.name)),is(x,w)}),c.ui.styleSheetLoader=((P,F)=>fg.forElement(P,{contentCssCors:WA(F),referrerPolicy:Km(F)}))(x,c),P0(c)?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");const T=c.getElement().form||Qc.getParent(p,"form");T&&(c.formElement=T,LE(c)&&!_r(c.getElement())&&(Qc.insertAfter(Qc.create("input",{type:"hidden",name:p}),p),c.hasHiddenInput=!0),c.formEventDelegate=P=>{c.dispatch(P.type,P)},Qc.bind(T,"submit reset",c.formEventDelegate),c.on("reset",()=>{c.resetContent()}),!PE(c)||T.submit.nodeType||T.submit.length||T._mceOldSubmit||(T._mceOldSubmit=T.submit,T.submit=()=>(c.editorManager.triggerSave(),c.setDirty(!1),T._mceOldSubmit(T)))),c.windowManager=lm(c),c.notificationManager=LS(c),(P=>P.options.get("encoding")==="xml")(c)&&c.on("GetContent",P=>{P.save&&(P.content=Qc.encode(P.content))}),zA(c)&&c.on("submit",()=>{c.initialized&&c.save()}),FA(c)&&(c._beforeUnload=()=>{!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload)),c.editorManager.add(c),EI(c,c.suffix)})(this)}focus(c){this.execCommand("mceFocus",!1,c)}hasFocus(){return _f(this)}translate(c){return Cs.translate(c)}getParam(c,p,m){const x=this.options;return x.isRegistered(c)||(te(m)?x.register(c,{processor:m,default:p}):x.register(c,{processor:ht,default:p})),x.isSet(c)||It(p)?x.get(c):p}hasPlugin(c,p){return!(!Te(xl(this),c)||p&&Ls.get(c)===void 0)}nodeChanged(c){this._nodeChangeDispatcher.nodeChanged(c)}addCommand(c,p,m){this.editorCommands.addCommand(c,p,m)}addQueryStateHandler(c,p,m){this.editorCommands.addQueryStateHandler(c,p,m)}addQueryValueHandler(c,p,m){this.editorCommands.addQueryValueHandler(c,p,m)}addShortcut(c,p,m,x){this.shortcuts.add(c,p,m,x)}execCommand(c,p,m,x){return this.editorCommands.execCommand(c,p,m,x)}queryCommandState(c){return this.editorCommands.queryCommandState(c)}queryCommandValue(c){return this.editorCommands.queryCommandValue(c)}queryCommandSupported(c){return this.editorCommands.queryCommandSupported(c)}show(){const c=this;c.hidden&&(c.hidden=!1,c.inline?c.getBody().contentEditable="true":(Kf.show(c.getContainer()),Kf.hide(c.id)),c.load(),c.dispatch("show"))}hide(){const c=this;c.hidden||(c.save(),c.inline?(c.getBody().contentEditable="false",c===c.editorManager.focusedEditor&&(c.editorManager.focusedEditor=null)):(Kf.hide(c.getContainer()),Kf.setStyle(c.id,"display",c.orgDisplay)),c.hidden=!0,c.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(c,p){this.dispatch("ProgressState",{state:c,time:p})}load(c={}){const p=this,m=p.getElement();if(p.removed)return"";if(m){const x={...c,load:!0},w=_r(m)?m.value:m.innerHTML,T=p.setContent(w,x);return x.no_events||p.dispatch("LoadContent",{...x,element:m}),T}return""}save(c={}){const p=this;let m=p.getElement();if(!m||!p.initialized||p.removed)return"";const x={...c,save:!0,element:m};let w=p.getContent(x);const T={...x,content:w};if(T.no_events||p.dispatch("SaveContent",T),T.format==="raw"&&p.dispatch("RawSaveContent",T),w=T.content,_r(m))m.value=w;else{!c.is_removing&&p.inline||(m.innerHTML=w);const P=Kf.getParent(p.id,"form");P&&Uk(P.elements,F=>F.name!==p.id||(F.value=w,!1))}return T.element=x.element=m=null,T.set_dirty!==!1&&p.setDirty(!1),w}setContent(c,p){return Ix(this,c,p)}getContent(c){return((p,m={})=>{const x=((w,T)=>({...w,format:T,get:!0,getInner:!0}))(m,m.format?m.format:"html");return _S(p,x).fold(De,w=>{const T=((P,F)=>ry(P).editor.getContent(F))(p,w);return wS(p,T,w)})})(this,c)}insertContent(c,p){p&&(c=Tp({content:c},p)),this.execCommand("mceInsertContent",!1,c)}resetContent(c){c===void 0?Ix(this,this.startContent,{format:"raw"}):Ix(this,c),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(c){const p=!this.isNotDirty;this.isNotDirty=!c,c&&c!==p&&this.dispatch("dirty")}getContainer(){const c=this;return c.container||(c.container=c.editorContainer||Kf.get(c.id+"_parent")),c.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Kf.get(this.id)),this.targetElm}getWin(){const c=this;if(!c.contentWindow){const p=c.iframeElement;p&&(c.contentWindow=p.contentWindow)}return c.contentWindow}getDoc(){const c=this;if(!c.contentDocument){const p=c.getWin();p&&(c.contentDocument=p.document)}return c.contentDocument}getBody(){var c,p;const m=this.getDoc();return(p=(c=this.bodyElement)!==null&&c!==void 0?c:m?.body)!==null&&p!==void 0?p:null}convertURL(c,p,m){const x=this,w=x.options.get,T=YA(x);return fe(T)?T.call(x,c,m,!0,p):!w("convert_urls")||m==="link"||Pt(m)&&m.nodeName==="LINK"||c.indexOf("file:")===0||c.length===0?c:w("relative_urls")?x.documentBaseURI.toRelative(c):c=x.documentBaseURI.toAbsolute(c,w("remove_script_host"))}addVisual(c){((p,m)=>{((x,w)=>{ra(x).editor.addVisual(w)})(p,m)})(this,c)}remove(){(c=>{if(!c.removed){const{_selectionOverrides:p,editorUpload:m}=c,x=c.getBody(),w=c.getElement();x&&c.save({is_removing:!0}),c.removed=!0,c.unbindAllNativeEvents(),c.hasHiddenInput&&te(w?.nextSibling)&&Ex.remove(w.nextSibling),(T=>{T.dispatch("remove")})(c),c.editorManager.remove(c),!c.inline&&x&&(T=>{Ex.setStyle(T.id,"display",T.orgDisplay)})(c),(T=>{T.dispatch("detach")})(c),Ex.remove(c.getContainer()),gp(p),gp(m),c.destroy()}})(this)}destroy(c){((p,m)=>{const{selection:x,dom:w}=p;p.destroyed||(m||p.removed?(m||(p.editorManager.off("beforeunload",p._beforeUnload),p.theme&&p.theme.destroy&&p.theme.destroy(),gp(x),gp(w)),(T=>{const P=T.formElement;P&&(P._mceOldSubmit&&(P.submit=P._mceOldSubmit,delete P._mceOldSubmit),Ex.unbind(P,"submit reset",T.formEventDelegate))})(p),(T=>{const P=T;P.contentAreaContainer=P.formElement=P.container=P.editorContainer=null,P.bodyElement=P.contentDocument=P.contentWindow=null,P.iframeElement=P.targetElm=null;const F=T.selection;if(F){const j=F.dom;P.selection=F.win=F.dom=j.doc=null}})(p),p.destroyed=!0):p.remove())})(this,c)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ip=Sr.DOM,a0=zn.each;let s0,$k=!1,al=[];const l0=s=>{const c=s.type;a0(Ep.get(),p=>{switch(c){case"scroll":p.dispatch("ScrollWindow",s);break;case"resize":p.dispatch("ResizeWindow",s)}})},jI=s=>{if(s!==$k){const c=Sr.DOM;s?(c.bind(window,"resize",l0),c.bind(window,"scroll",l0)):(c.unbind(window,"resize",l0),c.unbind(window,"scroll",l0)),$k=s}},YI=s=>{const c=al;return al=Ln(al,p=>s!==p),Ep.activeEditor===s&&(Ep.activeEditor=al.length>0?al[0]:null),Ep.focusedEditor===s&&(Ep.focusedEditor=null),c.length!==al.length},t_=document.compatMode!=="CSS1Compat",Ep={...jk,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:Cs,activeEditor:null,focusedEditor:null,setup(){const s=this;let c="",p="",m=Ql.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"));const x=window.tinymce||window.tinyMCEPreInit;if(x)c=x.base||x.baseURL,p=x.suffix;else{const T=document.getElementsByTagName("script");for(let P=0;P<T.length;P++){const F=T[P].src||"";if(F==="")continue;const j=F.substring(F.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(F)){j.indexOf(".min")!==-1&&(p=".min"),c=F.substring(0,F.lastIndexOf("/"));break}}if(!c&&document.currentScript){const P=document.currentScript.src;P.indexOf(".min")!==-1&&(p=".min"),c=P.substring(0,P.lastIndexOf("/"))}}var w;s.baseURL=new Ql(m).toAbsolute(c),s.documentBaseURL=m,s.baseURI=new Ql(s.baseURL),s.suffix=p,(w=s).on("AddEditor",Ne(gM,w)),w.on("RemoveEditor",Ne($E,w))},overrideDefaults(s){const c=s.base_url;c&&this._setBaseUrl(c);const p=s.suffix;p&&(this.suffix=p),this.defaultOptions=s;const m=s.plugin_base_urls;m!==void 0&&Le(m,(x,w)=>{Sa.PluginManager.urls[w]=x})},init(s){const c=this;let p;const m=zn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let x=T=>{p=T};const w=()=>{let T=0;const P=[];let F;Ip.unbind(window,"ready",w),(j=>{const U=s.onpageload;U&&U.apply(c,[])})(),F=((j,U)=>{const Z=[],dt=fe(U)?gt=>_n(Z,ut=>U(ut,gt)):gt=>Te(Z,gt);for(let gt=0,ut=j.length;gt<ut;gt++){const yt=j[gt];dt(yt)||Z.push(yt)}return Z})((j=>Dr.browser.isIE()||Dr.browser.isEdge()?(Lf("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):t_?(Lf("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):vt(j.selector)?Ip.select(j.selector):te(j.target)?[j.target]:[])(s)),zn.each(F,j=>{var U;(U=c.get(j.id))&&U.initialized&&!(U.getContainer()||U.getBody()).parentNode&&(YI(U),U.unbindAllNativeEvents(),U.destroy(!0),U.removed=!0)}),F=zn.grep(F,j=>!c.get(j.id)),F.length===0?x([]):a0(F,j=>{((U,Z)=>U.inline&&Z.tagName.toLowerCase()in m)(s,j)?Lf("Could not initialize inline editor on invalid inline target element",j):((U,Z,dt)=>{const gt=new ld(U,Z,c);P.push(gt),gt.on("init",()=>{++T===F.length&&x(P)}),gt.targetElm=gt.targetElm||dt,gt.render()})((U=>{let Z=U.id;return Z||(Z=ti(U,"name").filter(dt=>!Ip.get(dt)).getOrThunk(Ip.uniqueId),U.setAttribute("id",Z)),Z})(j),s,j)})};return Ip.bind(window,"ready",w),new Promise(T=>{p?T(p):x=P=>{T(P)}})},get(s){return arguments.length===0?al.slice(0):vt(s)?wn(al,c=>c.id===s).getOr(null):Me(s)&&al[s]?al[s]:null},add(s){const c=this,p=c.get(s.id);return p===s||(p===null&&al.push(s),jI(!0),c.activeEditor=s,c.dispatch("AddEditor",{editor:s}),s0||(s0=m=>{const x=c.dispatch("BeforeUnload");if(x.returnValue)return m.preventDefault(),m.returnValue=x.returnValue,x.returnValue},window.addEventListener("beforeunload",s0))),s},createEditor(s,c){return this.add(new ld(s,c,this))},remove(s){const c=this;let p;if(s){if(!vt(s))return p=s,ct(c.get(p.id))?null:(YI(p)&&c.dispatch("RemoveEditor",{editor:p}),al.length===0&&window.removeEventListener("beforeunload",s0),p.remove(),jI(al.length>0),p);a0(Ip.select(s),m=>{p=c.get(m.id),p&&c.remove(p)})}else for(let m=al.length-1;m>=0;m--)c.remove(al[m])},execCommand(s,c,p){var m;const x=this,w=Pt(p)?(m=p.id)!==null&&m!==void 0?m:p.index:p;switch(s){case"mceAddEditor":if(!x.get(w)){const T=p.options;new ld(w,T,x).render()}return!0;case"mceRemoveEditor":{const T=x.get(w);return T&&T.remove(),!0}case"mceToggleEditor":{const T=x.get(w);return T?(T.isHidden()?T.show():T.hide(),!0):(x.execCommand("mceAddEditor",!1,p),!0)}}return!!x.activeEditor&&x.activeEditor.execCommand(s,c,p)},triggerSave:()=>{a0(al,s=>{s.save()})},addI18n:(s,c)=>{Cs.add(s,c)},translate:s=>Cs.translate(s),setActive(s){const c=this.activeEditor;this.activeEditor!==s&&(c&&c.dispatch("deactivate",{relatedTarget:s}),s.dispatch("activate",{relatedTarget:c})),this.activeEditor=s},_setBaseUrl(s){this.baseURL=new Ql(this.documentBaseURL).toAbsolute(s.replace(/\/+$/,"")),this.baseURI=new Ql(this.baseURL)}};Ep.setup();const bD=(()=>{const s=pa();return{FakeClipboardItem:c=>({items:c,types:He(c),getType:p=>ti(c,p).getOrUndefined()}),write:c=>{s.set(c)},read:()=>s.get().getOrUndefined(),clear:s.clear}})(),GI=Math.min,Op=Math.max,Th=Math.round,Om=(s,c,p)=>{let m=c.x,x=c.y;const w=s.w,T=s.h,P=c.w,F=c.h,j=(p||"").split("");return j[0]==="b"&&(x+=F),j[1]==="r"&&(m+=P),j[0]==="c"&&(x+=Th(F/2)),j[1]==="c"&&(m+=Th(P/2)),j[3]==="b"&&(x-=T),j[4]==="r"&&(m-=w),j[3]==="c"&&(x-=Th(T/2)),j[4]==="c"&&(m-=Th(w/2)),Bu(m,x,w,T)},Bu=(s,c,p,m)=>({x:s,y:c,w:p,h:m}),xD={inflate:(s,c,p)=>Bu(s.x-c,s.y-p,s.w+2*c,s.h+2*p),relativePosition:Om,findBestRelativePosition:(s,c,p,m)=>{for(let x=0;x<m.length;x++){const w=Om(s,c,m[x]);if(w.x>=p.x&&w.x+w.w<=p.w+p.x&&w.y>=p.y&&w.y+w.h<=p.h+p.y)return m[x]}return null},intersect:(s,c)=>{const p=Op(s.x,c.x),m=Op(s.y,c.y),x=GI(s.x+s.w,c.x+c.w),w=GI(s.y+s.h,c.y+c.h);return x-p<0||w-m<0?null:Bu(p,m,x-p,w-m)},clamp:(s,c,p)=>{let m=s.x,x=s.y,w=s.x+s.w,T=s.y+s.h;const P=c.x+c.w,F=c.y+c.h,j=Op(0,c.x-m),U=Op(0,c.y-x),Z=Op(0,w-P),dt=Op(0,T-F);return m+=j,x+=U,p&&(w+=j,T+=U,m-=Z,x-=dt),w-=Z,T-=dt,Bu(m,x,w-m,T-x)},create:Bu,fromClientRect:s=>Bu(s.left,s.top,s.width,s.height)},XI=(()=>{const s={},c={};return{load:(p,m)=>{const x=`Script at URL "${m}" failed to load`,w=`Script at URL "${m}" did not call \`tinymce.Resource.add('${p}', data)\` within 1 second`;if(s[p]!==void 0)return s[p];{const T=new Promise((P,F)=>{const j=((U,Z,dt=1e3)=>{let gt=!1,ut=null;const yt=Rt=>(...Ut)=>{gt||(gt=!0,ut!==null&&(clearTimeout(ut),ut=null),Rt.apply(null,Ut))},st=yt(U),Ct=yt(Z);return{start:(...Rt)=>{gt||ut!==null||(ut=setTimeout(()=>Ct.apply(null,Rt),dt))},resolve:st,reject:Ct}})(P,F);c[p]=j.resolve,Wl.ScriptLoader.loadScript(m).then(()=>j.start(w),()=>j.reject(x))});return s[p]=T,T}},add:(p,m)=>{c[p]!==void 0&&(c[p](m),delete c[p]),s[p]=Promise.resolve(m)},unload:p=>{delete s[p]}}})();let c0;try{const s="__storage_test__";c0=window.localStorage,c0.setItem(s,s),c0.removeItem(s)}catch{c0=(()=>{let c={},p=[];const m={getItem:x=>c[x]||null,setItem:(x,w)=>{p.push(x),c[x]=String(w)},key:x=>p[x],removeItem:x=>{p=p.filter(w=>w===x),delete c[x]},clear:()=>{p=[],c={}},length:0};return Object.defineProperty(m,"length",{get:()=>p.length,configurable:!1,enumerable:!1}),m})()}const _D={geom:{Rect:xD},util:{Delay:Zl,Tools:zn,VK:ki,URI:Ql,EventDispatcher:Em,Observable:jk,I18n:Cs,LocalStorage:c0,ImageUploader:s=>{const c=RT(),p=ka(s,c);return{upload:(m,x=!0)=>p.upload(m,x?Bo(s):void 0)}}},dom:{EventUtils:Ju,TreeWalker:zt,TextSeeker:Ue,DOMUtils:Sr,ScriptLoader:Wl,RangeUtils:vf,Serializer:TS,StyleSheetLoader:wa,ControlSelection:Yc,BookmarkManager:ch,Selection:fp,Event:Ju.Event},html:{Styles:xg,Entities:fu,Node:tl,Schema:zc,DomParser:Of,Writer:Cb,Serializer:uh},Env:Dr,AddOnManager:Sa,Annotator:ew,Formatter:BS,UndoManager:FS,EditorCommands:PI,WindowManager:lm,NotificationManager:LS,EditorObservable:FI,Shortcuts:J1,Editor:ld,FocusManager:pw,EditorManager:Ep,DOM:Sr.DOM,ScriptLoader:Wl.ScriptLoader,PluginManager:Ls,ThemeManager:mp,ModelManager:sm,IconManager:Ox,Resource:XI,FakeClipboard:bD,trim:zn.trim,isArray:zn.isArray,is:zn.is,toArray:zn.toArray,makeMap:zn.makeMap,each:zn.each,map:zn.map,grep:zn.grep,inArray:zn.inArray,extend:zn.extend,walk:zn.walk,resolve:zn.resolve,explode:zn.explode,_addCacheSuffix:zn._addCacheSuffix},Zk=zn.extend(Ep,_D);(s=>{window.tinymce=s,window.tinyMCE=s})(Zk),(s=>{if(typeof module=="object")try{module.exports=s}catch{}})(Zk)}(),function(){"use strict";document.querySelectorAll(".php-email-form").forEach(function(Qt){Qt.addEventListener("submit",function(Oe){Oe.preventDefault();let $t=this,ue=$t.getAttribute("action"),Jt=$t.getAttribute("data-recaptcha-site-key");if(!ue){Tt($t,"The form action property is not set!");return}$t.querySelector(".loading").classList.add("d-block"),$t.querySelector(".error-message").classList.remove("d-block"),$t.querySelector(".sent-message").classList.remove("d-block");let Vt=new FormData($t);Jt?typeof grecaptcha<"u"?grecaptcha.ready(function(){try{grecaptcha.execute(Jt,{action:"php_email_form_submit"}).then(bt=>{Vt.set("recaptcha-response",bt),Gt($t,ue,Vt)})}catch(bt){Tt($t,bt)}}):Tt($t,"The reCaptcha javascript API url is not loaded!"):Gt($t,ue,Vt)})});function Gt(Qt,Oe,$t){fetch(Oe,{method:"POST",body:$t,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(ue=>{if(ue.ok)return ue.text();throw new Error(`${ue.status} ${ue.statusText} ${ue.url}`)}).then(ue=>{if(Qt.querySelector(".loading").classList.remove("d-block"),ue.trim()=="OK")Qt.querySelector(".sent-message").classList.add("d-block"),Qt.reset();else throw new Error(ue||"Form submission failed and no error message returned from: "+Oe)}).catch(ue=>{Tt(Qt,ue)})}function Tt(Qt,Oe){Qt.querySelector(".loading").classList.remove("d-block"),Qt.querySelector(".error-message").innerHTML=Oe,Qt.querySelector(".error-message").classList.add("d-block")}}(),function(){"use strict";const Ye=(kt,wt=!1)=>(kt=kt.trim(),wt?[...document.querySelectorAll(kt)]:document.querySelector(kt)),Gt=(kt,wt,ct,ie=!1)=>{ie?Ye(wt,ie).forEach(It=>It.addEventListener(kt,ct)):Ye(wt,ie).addEventListener(kt,ct)},Tt=(kt,wt)=>{kt.addEventListener("scroll",wt)};Ye(".toggle-sidebar-btn")&&Gt("click",".toggle-sidebar-btn",function(kt){Ye("body").classList.toggle("toggle-sidebar")}),Ye(".search-bar-toggle")&&Gt("click",".search-bar-toggle",function(kt){Ye(".search-bar").classList.toggle("search-bar-show")});let Qt=Ye("#navbar .scrollto",!0);const Oe=()=>{let kt=window.scrollY+200;Qt.forEach(wt=>{if(!wt.hash)return;let ct=Ye(wt.hash);ct&&(kt>=ct.offsetTop&&kt<=ct.offsetTop+ct.offsetHeight?wt.classList.add("active"):wt.classList.remove("active"))})};window.addEventListener("load",Oe),Tt(document,Oe);let $t=Ye("#header");if($t){const kt=()=>{window.scrollY>100?$t.classList.add("header-scrolled"):$t.classList.remove("header-scrolled")};window.addEventListener("load",kt),Tt(document,kt)}let ue=Ye(".back-to-top");if(ue){const kt=()=>{window.scrollY>100?ue.classList.add("active"):ue.classList.remove("active")};window.addEventListener("load",kt),Tt(document,kt)}var Jt=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),Vt=Jt.map(function(kt){return new bootstrap.Tooltip(kt)});Ye(".quill-editor-default")&&new Quill(".quill-editor-default",{theme:"snow"}),Ye(".quill-editor-bubble")&&new Quill(".quill-editor-bubble",{theme:"bubble"}),Ye(".quill-editor-full")&&new Quill(".quill-editor-full",{modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]},theme:"snow"});const bt=window.matchMedia("(prefers-color-scheme: dark)").matches,ft=window.matchMedia("(max-width: 1023.5px)").matches;var _t=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(_t).forEach(function(kt){kt.addEventListener("submit",function(wt){kt.checkValidity()||(wt.preventDefault(),wt.stopPropagation()),kt.classList.add("was-validated")},!1)}),Ye(".datatable",!0).forEach(kt=>{new simpleDatatables.DataTable(kt)});const Pt=Ye("#main");Pt&&setTimeout(()=>{new ResizeObserver(function(){Ye(".echart",!0).forEach(kt=>{echarts.getInstanceByDom(kt).resize()})}).observe(Pt)},200)}();
